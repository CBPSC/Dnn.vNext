<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:redgate="http://red-gate.com/"><head><META http-equiv="Content-Type" content="text/html; charset=utf-8"><title>SQL Compare Report:</title><style type="text/css">
          
body
{
    margin: 0px;
    padding: 0px;
    overflow: hidden;
}

.DatabaseNameText {
    font-family: Tahoma, Arial, sans-serif;
    font-size: 12pt;
}

.ArrowImage {
    position:absolute;
    background-color:#f0f0f0;
    top:0px; 
    left:0;
    width:64px;
    height:64px;
    z-index:2
}

.DBBack
{
    position:absolute;
    background-color:#f0f0f0;
    top:0px; 
    left:0px;
    width:10px; 
    height:50px;
}

.DatabaseImage {
    position:absolute; 
    top:12px; 
    left:0px;
    width:32px;
    height:32px;
    z-index:2;
}

.TitleBar {
    position:absolute;
    top:50px;
    left:0px;
    width:100%;
    height:20px;
    background-color:#ebeadb;
    z-index:3;
    font-family: Tahoma, Arial, sans-serif;
    font-size: 6pt;
}

.TitleBarTable
{
    background-color: #DEDEDE;
    border: thin solid #AFAD98;
    font-family: Tahoma, Arial, sans-serif;
    font-size: 11pt;
}

.DifferenceBar
{
position:relative;
width:100%;
height:50px;
left:0;
top:70px;
}

.OnlyHereBar
{
position:absolute;
width:100%;
height:50px;
left:0;
top:120px;
}

.icon
{
width:32;
height:32;
top:79;
left:20;
position:absolute;
}

.OnlyHereIcon
{
width:32;
height:32;
top:129;
left:20;
position:absolute;
}

.dataRow
{
    height:18px;
}

.DifferenceTable
{
    position:absolute;
    left:0;
    top:100px;
}

.DifferentNum {
    font-family: Tahoma, Arial, sans-serif;
    font-size: 11pt;
    position:absolute;
    z-index:8;
}

.DifferentText {
    font-family: Tahoma, Arial, sans-serif;
    font-size: 11pt;
    position:absolute;
    z-index:1;
}

.SQL {
    font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
    font-size: 11pt;
}

.SQLDiv{
    position:absolute;
    border: none;   
}

.dataTable {
    font-family: Tahoma, Arial, sans-serif;
    font-size: 11pt;
    border-collapse: collapse;
}

.TypeDataRow {
    text-align:right;
    vertical-align:top;
    border: 1px solid #ebeadb;
    border-right: none;
}


.MidDiffCell{
    text-align:center;
    vertical-align:top;
}

.TypeImageDataRow{
    text-align:left;
    vertical-align:top;
    border-top: 1px solid #ebeadb;
    border-right: 1px solid #ebeadb;
    border-bottom: 1px solid #ebeadb;
    border-left: 1px none #ebeadb;
}

.LLastModifiedDataRow {
    border: 1px solid #ebeadb;
    text-align:right;
}

.OwnerDataRow{  
    border: 1px solid #ebeadb;
    text-align:right;
}
.LObjNameDataRow{   
    border: 1px solid #ebeadb;
    text-align:right;
}
.IncDataRow{    
    border: 1px solid #ebeadb;
    text-align:center;
}

.RObjNameDataRow{   
    border: 1px solid #ebeadb;
}

.ROwnerDataRow{ 
    border: 1px solid #ebeadb;
}

.RLastModifiedDataRow {
    border: 1px solid #ebeadb;
}

.SQLViewTitleBar{
    position:relative;
    width:100%;
    height:38px;
    background:#7a96df;
    font-family: Tahoma, Arial, sans-serif;
    font-size: 11pt;
    color: #FFFFFF;
    text-align: center;
}

#middle_aligner {
    display: inline-block;
    height: 100%;    
    vertical-align: middle;
}

#sql_header_icons {
    width: 88px;
}

.sql_header_icon {
    display: inline-block;
    vertical-align: middle;
}

.sql_header_element {
    display: inline-block;
    width: 40%;
    vertical-align: middle;
    overflow: hidden;
}

.right_align {
    text-align: right;
}

.left_align {
    text-align: left;
}


        </style><script type="text/javascript"><!--
            var reportFileName = "SQLCompareReport";
          
            var includeidenticals = "false";
          
            var imagesdir = "http://www.red-gate.com/scimages/";
          
            var direction = "1to2";
          
            var timestamp = "2 Mar 2018 1:12 PM";
          var datasource1type = "backup";var datasource1server = "DNN-LT14";var datasource1database = "DNN-9-1-1";var datasource2type = "backup";var datasource2server = "DNN-LT14";var datasource2database = "DNN.vNext";
      var differenceRows  = new Array(
    new Array(1, "0001-01-01 00:00", "dbo", "AnonymousUsers", "AnonymousUsers", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "aspnet_Applications", "aspnet_Applications", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "aspnet_SchemaVersions", "aspnet_SchemaVersions", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "aspnet_Users", "aspnet_Users", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Assemblies", "Assemblies", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Authentication", "Authentication", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "CKE_Settings", "CKE_Settings", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ContentItems", "ContentItems", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ContentItems_MetaData", "ContentItems_MetaData", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ContentItems_Tags", "ContentItems_Tags", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ContentWorkflowLogs", "ContentWorkflowLogs", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ContentWorkflows", "ContentWorkflows", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ContentWorkflowSources", "ContentWorkflowSources", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ContentWorkflowStatePermission", "ContentWorkflowStatePermission", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ContentWorkflowStates", "ContentWorkflowStates", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "CoreMessaging_MessageAttachments", "CoreMessaging_MessageAttachments", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "CoreMessaging_Messages", "CoreMessaging_Messages", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "CoreMessaging_NotificationTypeActions", "CoreMessaging_NotificationTypeActions", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "CoreMessaging_NotificationTypes", "CoreMessaging_NotificationTypes", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "CoreMessaging_Subscriptions", "CoreMessaging_Subscriptions", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "CoreMessaging_SubscriptionTypes", "CoreMessaging_SubscriptionTypes", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "DesktopModulePermission", "DesktopModulePermission", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "DesktopModules", "DesktopModules", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "EventLog", "EventLog", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "EventLogConfig", "EventLogConfig", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "EventLogTypes", "EventLogTypes", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "EventQueue", "EventQueue", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ExceptionEvents", "ExceptionEvents", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Exceptions", "Exceptions", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ExportImportCheckpoints", "ExportImportCheckpoints", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ExportImportJobLogs", "ExportImportJobLogs", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ExportImportJobs", "ExportImportJobs", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ExportImportSettings", "ExportImportSettings", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ExtensionUrlProviders", "ExtensionUrlProviders", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ExtensionUrlProviderSetting", "ExtensionUrlProviderSetting", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Files", "Files", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "FileVersions", "FileVersions", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "FolderMappings", "FolderMappings", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "FolderMappingsSettings", "FolderMappingsSettings", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "FolderPermission", "FolderPermission", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Folders", "Folders", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "HostSettings", "HostSettings", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "HtmlText", "HtmlText", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "HtmlTextLog", "HtmlTextLog", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "HtmlTextUsers", "HtmlTextUsers", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "IPFilter", "IPFilter", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "JavaScriptLibraries", "JavascriptLibraries", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Journal", "Journal", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Journal_Access", "Journal_Access", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Journal_Comments", "Journal_Comments", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Journal_Data", "Journal_Data", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Journal_Security", "Journal_Security", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Journal_TypeFilters", "Journal_TypeFilters", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Journal_Types", "Journal_Types", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "LanguagePacks", "LanguagePacks", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Languages", "Languages", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Lists", "Lists", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Messaging_Messages", "Messaging_Messages", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "MetaData", "MetaData", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Mobile_PreviewProfiles", "Mobile_PreviewProfiles", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Mobile_RedirectionRules", "Mobile_RedirectionRules", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Mobile_Redirections", "Mobile_Redirections", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ModuleControls", "ModuleControls", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ModuleDefinitions", "ModuleDefinitions", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Modules", "Modules", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ModuleSettings", "ModuleSettings", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "OutputCache", "OutputCache", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PackageDependencies", "PackageDependencies", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Packages", "Packages", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PasswordHistory", "PasswordHistory", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Permission", "Permission", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PersonaBarExtensions", "PersonaBarExtensions", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PersonaBarMenu", "PersonaBarMenu", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PersonaBarMenuDefaultPermissions", "PersonaBarMenuDefaultPermissions", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PersonaBarMenuPermission", "PersonaBarMenuPermission", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PersonaBarPermission", "PersonaBarPermission", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PortalAlias", "PortalAlias", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PortalDesktopModules", "PortalDesktopModules", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PortalGroups", "PortalGroups", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PortalLanguages", "PortalLanguages", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PortalLocalization", "PortalLocalization", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Portals", "Portals", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PortalSettings", "PortalSettings", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Profile", "Profile", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ProfilePropertyDefinition", "ProfilePropertyDefinition", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "RedirectMessages", "RedirectMessages", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Relationships", "Relationships", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "RelationshipTypes", "RelationshipTypes", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "RoleGroups", "RoleGroups", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "RoleSettings", "RoleSettings", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Schedule", "Schedule", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ScheduleHistory", "ScheduleHistory", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ScheduleItemSettings", "ScheduleItemSettings", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "SearchCommonWords", "SearchCommonWords", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "SearchDeletedItems", "SearchDeletedItems", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "SearchIndexer", "SearchIndexer", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "SearchStopWords", "SearchStopWords", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "SearchTypes", "SearchTypes", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "SiteLog", "SiteLog", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "SkinControls", "SkinControls", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Skins", "Skins", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "SQLQueries", "SQLQueries", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "SynonymsGroups", "SynonymsGroups", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "SystemMessages", "SystemMessages", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "TabAliasSkins", "TabAliasSkins", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "TabModules", "TabModules", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "TabModuleSettings", "TabModuleSettings", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "TabPermission", "TabPermission", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Tabs", "Tabs", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "TabSettings", "TabSettings", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "TabUrls", "TabUrls", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "TabVersionDetails", "TabVersionDetails", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "TabVersions", "TabVersions", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Taxonomy_ScopeTypes", "Taxonomy_ScopeTypes", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Taxonomy_Terms", "Taxonomy_Terms", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Taxonomy_Vocabularies", "Taxonomy_Vocabularies", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Taxonomy_VocabularyTypes", "Taxonomy_VocabularyTypes", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "UrlLog", "UrlLog", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Urls", "Urls", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "UrlTracking", "UrlTracking", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "UserAuthentication", "UserAuthentication", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "UserPortals", "UserPortals", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "UserProfile", "UserProfile", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "UserRelationshipPreferences", "UserRelationshipPreferences", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "UserRelationships", "UserRelationships", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "UserRoles", "UserRoles", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Users", "Users", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "UsersOnline", "UsersOnline", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Version", "Version", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "WebServers", "WebServers", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Workflow", "Workflow", "dbo", "0001-01-01 00:00          "),
        new Array(1, "0001-01-01 00:00", "dbo", "WorkflowStates", "WorkflowStates", "dbo", "0001-01-01 00:00          "),
        new Array(7, "", "dbo", "db_owner", "db_owner", "dbo", "")
      );
    
      var onlyInOneRows  = new Array(
    new Array(1, "0001-01-01 00:00", "dbo", "aspnet_Membership", "", "", "          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ContentTypes", "", "", "          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ContentWorkflowActions", "", "", "          "),
        new Array(1, "0001-01-01 00:00", "dbo", "CoreMessaging_MessageRecipients", "", "", "          "),
        new Array(1, "0001-01-01 00:00", "dbo", "ModulePermission", "", "", "          "),
        new Array(1, "0001-01-01 00:00", "dbo", "PackageTypes", "", "", "          "),
        new Array(1, "0001-01-01 00:00", "dbo", "Roles", "", "", "          "),
        new Array(1, "0001-01-01 00:00", "dbo", "SkinPackages", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddAuthentication", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddContentItem", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddContentType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddContentWorkflow", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddContentWorkflowLog", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddContentWorkflowSource", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddContentWorkflowState", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddContentWorkflowStatePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddDefaultFolderTypes", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddDesktopModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddDesktopModulePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddEventLog", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddEventLogConfig", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddEventLogType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddEventMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddException", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddExceptionEvent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddExtensionUrlProvider", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddFile", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddFileVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddFolder", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddFolderMapping", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddFolderMappingsSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddFolderPermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddHeirarchicalTerm", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddHtmlText", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddHtmlTextLog", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddHtmlTextUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddIPFilter", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddLanguage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddLanguagePack", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddListEntry", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddMetaData", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddModuleControl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddModuleDefinition", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddModulePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddPackage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddPasswordHistory", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddPermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddPortalAlias", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddPortalDesktopModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddPortalGroup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddPortalInfo", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddPortalLanguage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddProfile", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddPropertyDefinition", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddRedirectMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddRole", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddRoleGroup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddSchedule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddScheduleHistory", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddScheduleItemSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddScopeType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddSearchCommonWord", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddSimpleTerm", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddSkin", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddSkinControl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddSkinPackage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddSynonymsGroup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddSystemMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddTab", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddTabAfter", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddTabBefore", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddTabModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddTabPermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddTabToEnd", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddTermToContent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddUrl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddUrlLog", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddUrlTracking", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddUserAuthentication", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddUserPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddUserRole", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "AddVocabulary", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_AnyDataInTables", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Applications_CreateApplication", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_CheckSchemaVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_ChangePasswordQuestionAndAnswer", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_CreateUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_FindUsersByEmail", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_FindUsersByName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_GetAllUsers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_GetNumberOfUsersOnline", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_GetPassword", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_GetPasswordWithFormat", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_GetUserByEmail", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_GetUserByName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_GetUserByUserId", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_ResetPassword", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_SetPassword", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_UnlockUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_UpdateUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Membership_UpdateUserInfo", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_RegisterSchemaVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Setup_RemoveAllRoleMembers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_UnRegisterSchemaVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Users_CreateUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "aspnet_Users_DeleteUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "BuildTabLevelAndPath", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CalculatePagingInformation", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CanDeleteSkin", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ChangeUsername", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CKE_AddOrUpdateEditorHostSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CKE_DeleteAllChildPageSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CKE_DeleteAllModuleSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CKE_DeleteAllModuleSettingsByTab", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CKE_DeleteAllPageSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CKE_DeleteAllPortalSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CKE_DeleteCurrentPageSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CKE_GetEditorHostSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ClearFileContent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ConvertTabToNeutralLanguage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_AddNotificationTypeAction", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_AddSubscription", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_AddSubscriptionType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CheckReplyHasRecipients", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_ConvertLegacyMessages", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CountArchivedConversations", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CountArchivedMessages", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CountArchivedMessagesByConversation", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CountLegacyMessages", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CountMessagesByConversation", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CountNewThreads", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CountNotifications", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CountSentConversations", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CountSentMessages", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CountTotalConversations", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CreateMessageRecipientsForRole", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CreateMessageReply", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_CreateNotificationType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteLegacyMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteMessageAttachment", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteMessageRecipient", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteMessageRecipientByMessageAndUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteNotification", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteNotificationType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteNotificationTypeAction", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteSubscription", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteSubscriptionsByObjectKey", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteSubscriptionType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteUserFromConversation", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_DeleteUserNotifications", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetArchiveBox", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetLastSentMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetMessageAttachment", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetMessageAttachmentsByMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetMessageConversations", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetMessageRecipient", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetMessageRecipientsByMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetMessageRecipientsByMessageAndUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetMessageRecipientsByUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetMessagesBySender", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetMessageThread", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetNextMessagesForDigestDispatch", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetNextMessagesForInstantDispatch", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetNotification", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetNotificationByContext", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetNotifications", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetNotificationType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetNotificationTypeAction", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetNotificationTypeActionByName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetNotificationTypeActions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetNotificationTypeByName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetSentBox", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetSubscriptionsByContent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetSubscriptionsByUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetSubscriptionTypes", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetToasts", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_GetUserPreference", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_IsSubscribed", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_IsToastPending", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_MarkMessageAsDispatched", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_MarkMessageAsSent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_MarkReadyForToast", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_MarkToastSent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_SaveMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_SaveMessageAttachment", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_SaveMessageRecipient", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_SendNotification", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_SetUserPreference", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_UpdateMessageArchivedStatus", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_UpdateMessageReadStatus", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CoreMessaging_UpdateSubscriptionDescription", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "CountLegacyFiles", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteAuthentication", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteContentItem", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteContentType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteContentWorkflowLogs", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteContentWorkflowState", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteContentWorkflowStatePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteDesktopModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteDesktopModulePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteDesktopModulePermissionsByPortalDesktopModuleID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteDesktopModulePermissionsByUserID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteEventLog", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteEventLogConfig", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteEventLogType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteExtensionUrlProvider", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteFile", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteFiles", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteFileVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteFolder", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteFolderMapping", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteFolderPermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteFolderPermissionsByFolderPath", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteFolderPermissionsByUserID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteHeirarchicalTerm", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteHtmlText", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteHtmlTextUsers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteIPFilter", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteJavaScriptLibrary", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteLanguage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteLanguagePack", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteList", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteListEntryByID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteMetaData", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteModuleControl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteModuleDefinition", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteModulePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteModulePermissionsByModuleID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteModulePermissionsByUserID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteModuleSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteModuleSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteOldRedirectMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeletePackage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeletePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeletePortalAlias", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeletePortalDesktopModules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeletePortalGroup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeletePortalInfo", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeletePortalLanguages", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeletePortalSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeletePortalSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeletePropertyDefinition", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteRelationship", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteRelationshipType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteRole", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteRoleGroup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteSchedule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteScopeType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteSearchCommonWord", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteSearchStopWords", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteSearchWord", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteServer", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteSimpleTerm", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteSkin", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteSkinControl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteSkinPackage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteSynonymsGroup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteSystemMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTab", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTabModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTabModuleSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTabModuleSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTabPermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTabPermissionsByTabID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTabPermissionsByUserID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTabSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTabSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTabUrl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTabVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTabVersionDetail", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTabVersionDetailByModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteTranslatedTabs", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteUrl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteUrlTracking", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteUserPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteUserRelationship", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteUserRelationshipPreference", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteUserRole", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteUsersOnline", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "DeleteVocabulary", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "EnsureLocalizationExists", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "EnsureNeutralLanguage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_ContentWorkflows", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_ContentWorkflowStatePermissions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_ContentWorkflowStates", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_GenedicUpdateSettingsRecordChangers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_GenericUpdateRecordChangers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_GetAllUsers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_GetFiles", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_GetFolderMappings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_GetFolderPermissionsByPath", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_GetFolders", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_GetPermissionInfo", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_GetPortalLanguages", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_GetPortalLocalizations", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_GetPortalSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_GetPropertyDefinitionsByPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_ModulePermissions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_Modules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_ModuleSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_RoleGroups", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_RoleIdByName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_Roles", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_RoleSetAutoAssign", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_RoleSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_SetTabModuleDeleted", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_SetTabSpecificData", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_SetUserDeleted", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_TabModules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_TabModuleSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_TabPermissions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_Tabs", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_TabSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_TabUrls", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_UpdateRoleSettingChangers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_UpdateTabUrlChangers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Export_UpdateUsersChangers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImport_AddSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImport_AddUpdateUserRolesBulk", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImport_AddUpdateUsersBulk", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImport_AddUpdateUsersProfilesBulk", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImport_CheckTabModuleUniqueIdExists", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImport_GetJobsCount", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImport_Settings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportCheckpoints_GetByJob", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportCheckpoints_Upsert", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportJobLogs_AddBulk", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportJobLogs_Full", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportJobLogs_LastJobTime", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportJobLogs_Summary", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportJobs_Add", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportJobs_FirstActive", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportJobs_GetAll", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportJobs_GetById", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportJobs_Remove", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportJobs_SetCancelled", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportJobs_UpdateInfo", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportImportJobs_UpdateStatus", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportTaxonomy_ScopeTypes", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportTaxonomy_Terms", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportTaxonomy_Vocabularies", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ExportTaxonomy_VocabularyTypes", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "FindDatabaseVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAllFiles", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAllHtmlText", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAllModules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAllProfiles", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAllRelationshipTypes", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAllSynonymsGroups", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAllTabs", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAllTabsModules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAllTabsModulesByModuleID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAllUsers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAuthenticationService", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAuthenticationServiceByPackageID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAuthenticationServiceByType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAuthenticationServices", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetAvailableUsersForIndex", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentItem", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentItems", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentItemsByContentType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentItemsByModuleId", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentItemsByTabId", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentItemsByTerm", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentItemsByVocabularyId", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentTypes", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentWorkflow", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentWorkflowLogs", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentWorkflows", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentWorkflowSource", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentWorkflowState", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentWorkflowStatePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentWorkflowStatePermissions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentWorkflowStatePermissionsByStateID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentWorkflowStates", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentWorkflowStateUsageCount", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentWorkflowUsage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetContentWorkflowUsageCount", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetCustomAliasesForTabs", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDatabaseInstallVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDatabaseServer", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDatabaseTime", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDatabaseTimeUtc", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDatabaseVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDefaultLanguageByModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDeletedUsers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDesktopModulePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDesktopModulePermissions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDesktopModulePermissionsByPortalDesktopModuleID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDesktopModules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDesktopModulesByPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetDuplicateEmailCount", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetEnabledAuthenticationServices", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetEventLog", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetEventLogByLogGUID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetEventLogConfig", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetEventLogPendingNotif", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetEventLogPendingNotifConfig", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetEventLogType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetEventMessages", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetEventMessagesBySubscriber", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetExpiredPortals", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetExtensionUrlProviders", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFile", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFileById", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFileByUniqueID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFileContent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFiles", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFileVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFileVersionContent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFileVersions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFileVersionsInFolder", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolderByFolderID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolderByFolderPath", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolderByUniqueID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolderMapping", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolderMappingByMappingName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolderMappings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolderMappingsSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolderMappingsSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolderPermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolderPermissionsByFolderPath", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolderPermissionsByPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolderPermissionsByPortalAndPath", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFolders", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetFoldersByPermissions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetHostSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetHostSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetHtmlText", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetHtmlTextLog", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetHtmlTextUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetInstalledModules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetIPFilter", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetIPFilters", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetJavaScriptLibraries", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetLanguagePackByPackage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetLanguages", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetLanguagesByPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetLastAppliedIteration", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetLegacyFolderCount", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetList", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetListEntries", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetListEntry", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetLists", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetMetaData", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModuleByDefinition", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModuleByUniqueID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModuleControls", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModuleDefinitions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModulePackagesInUse", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModulePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModulePermissionsByModuleID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModulePermissionsByPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModulePermissionsByTabID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModuleSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModuleSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetModuleSettingsByTab", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetNonExpiredUsersByRoleName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetOnlineUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetOnlineUsers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPackageDependencies", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPackages", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPackageTypes", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPasswordHistory", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPermissions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortalAliases", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortalByPortalAliasID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortalDefaultLanguage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortalDesktopModules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortalGroups", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortalLocalizations", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortalRoles", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortals", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortalsByName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortalsByUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortalSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortalSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPortalSpaceUsed", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetProfile", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPropertyDefinition", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPropertyDefinitionByName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPropertyDefinitionsByCategory", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetPropertyDefinitionsByPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetRedirectMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetRelationship", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetRelationshipsByPortalID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetRelationshipsByUserID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetRelationshipType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetRoleGroup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetRoleGroupByName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetRoleGroups", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetRoles", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetRolesBasicSearch", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetRoleSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSchedule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetScheduleByEvent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetScheduleByScheduleID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetScheduleByTypeFullName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetScheduleHistory", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetScheduleItemSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetScheduleNextTask", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetScopeTypes", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSearchCommonWordByID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSearchCommonWordsByLocale", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSearchIndexers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSearchModules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSearchResultModules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSearchSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSearchStopWords", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetServers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetServices", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSharedModulesByPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSharedModulesWithPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSingleUserByEmail", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSkinControl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSkinControlByKey", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSkinControlByPackageID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSkinControls", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSkinPackage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSkinPackageByPackageID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSystemMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetSystemMessages", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTab", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabAliasSkins", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabByUniqueID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabCustomAliases", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabModuleIdsBySettingNameAndValue", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabModuleOrder", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabModules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabModuleSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabModuleSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabModuleSettingsByName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabModuleSettingsByTab", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabPanes", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabPaths", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabPermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabPermissionsByPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabPermissionsByTabID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabs", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabsByModuleID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabsByPackageID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabsByTabModuleID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabUrls", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabVersionDetails", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabVersionDetailsHistory", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTabVersions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTerm", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTermsByContent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTermsByVocabulary", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTermUsage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetTopHtmlText", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUnAuthorizedUsers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUnIndexedContentItems", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUrl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUrlLog", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUrls", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUrlTracking", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserAuthentication", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserByAuthToken", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserByDisplayName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserByPasswordResetToken", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserByUsername", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserByVanityUrl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserCountByPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserProfile", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserRelationship", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserRelationshipPreference", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserRelationshipPreferenceByID", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserRelationships", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserRelationshipsByMultipleIDs", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserRole", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserRoles", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUserRolesByUsername", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUsersAdvancedSearch", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUsersBasicSearch", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUsersByDisplayName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUsersByEmail", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUsersByProfileProperty", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUsersByRolename", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetUsersByUserName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetVocabularies", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetWorkflows", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "GetWorkflowStates", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ImportDocumentLibraryCategories", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ImportDocumentLibraryCategoryAssoc", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "InsertPortalLocalization", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "InsertSearchStopWords", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "IsUserInRole", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Comment_Delete", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Comment_Get", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Comment_Like", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Comment_List", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Comment_ListByJournalIds", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Comment_Save", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Comments_ToggleDisable", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Comments_ToggleHidden", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Delete", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_DeleteByGroupId", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_DeleteByKey", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Get", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_GetByKey", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_GetSearchItems", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_GetStatsForGroup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Like", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_LikeList", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_ListForGroup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_ListForProfile", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_ListForSummary", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Save", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_TypeFilters_Delete", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_TypeFilters_List", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_TypeFilters_Save", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Types_Delete", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Types_Get", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Types_GetById", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Types_List", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Types_Save", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_Update", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Journal_UpdateContentItemId", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "LocalizeTab", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Messaging_GetInbox", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Messaging_GetInboxCount", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Messaging_GetMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Messaging_GetNewMessageCount", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Messaging_GetNextMessageForDispatch", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Messaging_MarkMessageAsDispatched", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Messaging_Save_Message", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Messaging_UpdateMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Mobile_DeletePreviewProfile", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Mobile_DeleteRedirection", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Mobile_DeleteRedirectionRule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Mobile_GetAllRedirections", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Mobile_GetPreviewProfiles", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Mobile_GetRedirectionRules", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Mobile_GetRedirections", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Mobile_SavePreviewProfile", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Mobile_SaveRedirection", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Mobile_SaveRedirectionRule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "MoveTabAfter", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "MoveTabBefore", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "MoveTabModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "MoveTabToParent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "OutputCacheAddItem", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "OutputCacheGetItem", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "OutputCacheGetItemCount", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "OutputCacheGetKeys", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "OutputCachePurgeCache", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "OutputCachePurgeExpiredItems", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "OutputCacheRemoveItem", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_DeletePersonaBarExtension", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_DeletePersonaBarMenuByIdentifier", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_DeletePersonaBarMenuPermissionById", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_DeletePersonaBarMenuPermissionsByMenuId", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_DeletePersonaBarPermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_GetDbBackups", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_GetDbFileInfo", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_GetDbInfo", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_GetPersonaBarExtensions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_GetPersonaBarMenu", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_GetPersonaBarMenuDefaultPermissions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_GetPersonaBarMenuPermissionsByPortal", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_GetPersonaBarPermissions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Personabar_GetUsers", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "Personabar_GetUsersByUserIds", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_SavePersonaBarExtension", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_SavePersonaBarMenu", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_SavePersonaBarMenuDefaultPermissions", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_SavePersonaBarMenuPermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_SavePersonaBarPermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PersonaBar_UpdateMenuController", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PublishTab", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PurgeEventLog", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "PurgeScheduleHistory", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "RegisterAssembly", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "RemovePortalLocalization", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "RemoveTermsFromContent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "RemoveUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "ResetFilePublishedVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "RestoreTabModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "RestoreUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SaveCoreAuditTypes", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SaveExtensionUrlProviderSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SaveJavaScriptLibrary", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SavePackageDependency", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SaveRelationship", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SaveRelationshipType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SaveTabUrl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SaveTabVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SaveTabVersionDetail", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SaveUserRelationship", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SaveUserRelationshipPreference", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SearchDeletedItems_Add", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SearchDeletedItems_DeleteProcessed", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SearchDeletedItems_Select", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SearchProfilePropertyValues", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SearchTypes_GetAll", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SecurityAnalyzer_GetModifiedSettings", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SecurityAnalyzer_GetModulesHasHeaderFooter", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SecurityAnalyzer_SearchAllTables", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SetEventMessageComplete", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SetFileHasBeenPublished", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "SetPublishedVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UnRegisterAssembly", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateAnonymousUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateAuthentication", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateContentItem", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateContentType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateContentWorkflow", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateContentWorkflowState", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateContentWorkflowStatePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateDatabaseVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateDatabaseVersionAndName", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateDatabaseVersionIncrement", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateDesktopModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateDesktopModulePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateEventLogConfig", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateEventLogPendingNotif", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateEventLogType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateExtensionUrlProvider", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateFile", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateFileContent", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateFileHashCode", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateFileLastModificationTime", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateFileVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateFolder", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateFolderMapping", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateFolderMappingsSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateFolderModifiedOnToCurrentDate", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateFolderPermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateFolderVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateHeirarchicalTerm", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateHostSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateHtmlText", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateIPFilter", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateLanguage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateLanguagePack", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateLegacyFolders", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateListEntry", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateListSortOrder", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateModuleControl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateModuleDefinition", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateModuleLastContentModifiedOnDate", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateModuleOrder", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateModulePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateModuleSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateOnlineUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdatePackage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdatePermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdatePortalAlias", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdatePortalAliasOnInstall", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdatePortalDefaultLanguage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdatePortalGroup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdatePortalInfo", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdatePortalLanguage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdatePortalSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdatePortalSetup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateProfile", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdatePropertyDefinition", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateRole", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateRoleGroup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateRoleSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateSchedule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateScheduleHistory", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateScopeType", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateSearchCommonWord", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateSearchStopWords", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateServer", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateServerActivity", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateSimpleTerm", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateSkin", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateSkinControl", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateSkinPackage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateSynonymsGroup", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateSystemMessage", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateTab", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateTabModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateTabModuleSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateTabModuleTranslationStatus", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateTabModuleVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateTabModuleVersionByModule", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateTabOrder", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateTabPermission", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateTabSetting", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateTabTranslationStatus", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateTabVersion", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateUrlTracking", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateUrlTrackingStats", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateUser", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateUserLastIpAddress", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateUserProfileProperty", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateUserRole", "", "", "          "),
        new Array(2, "0001-01-01 00:00", "dbo", "UpdateVocabulary", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_aspnet_Applications", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_aspnet_MembershipUsers", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_aspnet_Users", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_ContentWorkflowStatePermissions", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_ContentWorkflowUsage", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_CoreMessaging_Messages", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_DesktopModulePermissions", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_DesktopModules", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_EventLog", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_ExtensionUrlProviders", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_Files", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_FolderPermissions", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_Lists", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_MasterPortals", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_MessagesForDispatch", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_ModulePermissions", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_Modules", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_PersonaBarMenuPermissions", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_Portals", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_PortalsDefaultLanguage", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_Profile", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_PublishedFiles", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_TabModules", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_TabPermissions", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_Tabs", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_UserRoles", "", "", "          "),
        new Array(3, "0001-01-01 00:00", "dbo", "vw_Users", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "AdjustedReferrer", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "AdministratorRoleId", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "BrowserFromUserAgent", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "ConvertListToTable", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "Export_GetActiveTabModules", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "Export_UserIdByUsername", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "Export_UserName", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "FilePath", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "FitsExtendedPropertyPermission", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "fn_CompareVersion", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "fn_GetVersion", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "FormattedString", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "GetElement", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "GetFileFolderFunc", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "GetListParentKey", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "GetProfileElement", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "GetProfileFieldSQL", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "GetProfilePropertyDefinitionID", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "GetSortSQL", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "GetUsersByPropertyName", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "HasChildTab", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "Journal_Split", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "Journal_SplitText", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "Journal_User_Permissions", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "MasterPortalId", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "PageLowerBound", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "PageUpperBound", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "RemoveStringCharacters", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "SortFieldSQL", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "SplitDelimitedIDs", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "SplitStrings_CTE", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "SuperUserTabID", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "TemplatedString", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "UserDisplayName", "", "", "          "),
        new Array(6, "0001-01-01 00:00", "dbo", "UserIsInRole", "", "", "          "),
        new Array(7, "", "DNN-9-1-1.loc_nvQuickSite", "aspnet_Membership_BasicAccess", "", "", "          "),
        new Array(7, "", "DNN-9-1-1.loc_nvQuickSite", "aspnet_Membership_FullAccess", "", "", "          "),
        new Array(7, "", "DNN-9-1-1.loc_nvQuickSite", "aspnet_Membership_ReportingAccess", "", "", "          "),
        new Array(9, "", "", "DNN-9-1-1.loc_nvQuickSite", "", "", "          "),
        new Array(10, "", "dbo", "ExportImportJobLogsType", "", "", "          "),
        new Array(10, "", "dbo", "ExportImportUserProfileType", "", "", "          "),
        new Array(10, "", "dbo", "ExportImportUserRoleType", "", "", "          "),
        new Array(10, "", "dbo", "ExportImportUserType", "", "", "          "),
        new Array(26, "", "DNN-9-1-1.loc_nvQuickSite", "DNN-9-1-1.loc_nvQuickSite", "", "", "")
      );
    
      var onlyInTwoRows  = new Array(
    new Array(1, "", "", "", "__EFMigrationsHistory", "dbo", "0001-01-01 00:00          "),
        new Array(1, "", "", "", "aspnet_Memership", "dbo", "0001-01-01 00:00          "),
        new Array(1, "", "", "", "ContentType", "dbo", "0001-01-01 00:00          "),
        new Array(1, "", "", "", "ContentWorkflowActios", "dbo", "0001-01-01 00:00          "),
        new Array(1, "", "", "", "CoreMessaging_MessagingRecipients", "dbo", "0001-01-01 00:00          "),
        new Array(1, "", "", "", "ModulePermissions", "dbo", "0001-01-01 00:00          "),
        new Array(1, "", "", "", "PackageType", "dbo", "0001-01-01 00:00          "),
        new Array(1, "", "", "", "Role", "dbo", "0001-01-01 00:00          "),
        new Array(1, "", "", "", "vSkinPackages", "dbo", "0001-01-01 00:00")
      );
    
      var identRows  = new Array(
    
      );
    var differencesql  = new Array(new Array(new Array(0, "Error, No SQL Available")),new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[AnonymousUsers]", "CREATE TABLE [dbo].[AnonymousUsers]"),  new Array(0,"(", "("),  new Array(1,"[UserID] [char] (36) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[UserID] [int] NOT NULL,"),  new Array(0,"[PortalID] [int] NOT NULL,", "[PortalID] [int] NOT NULL,"),  new Array(1,"[TabID] [int] NOT NULL,", "[CreationDate] [datetime2] NOT NULL,"),  new Array(1,"[CreationDate] [datetime] NOT NULL CONSTRAINT [DF_AnonymousUsers_CreationDate] DEFAULT (getdate()),", "[LastActiveDate] [datetime2] NOT NULL,"),  new Array(1,"[LastActiveDate] [datetime] NOT NULL CONSTRAINT [DF_AnonymousUsers_LastActiveDate] DEFAULT (getdate())", "[TabId] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[AnonymousUsers] ADD CONSTRAINT [PK_AnonymousUsers] PRIMARY KEY CLUSTERED  ([UserID], [PortalID])", "ALTER TABLE [dbo].[AnonymousUsers] ADD CONSTRAINT [PK_AnonymousUsers] PRIMARY KEY CLUSTERED  ([UserID], [PortalID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[AnonymousUsers] ADD CONSTRAINT [AK_AnonymousUsers_PortalID_UserID] UNIQUE NONCLUSTERED  ([PortalID], [UserID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[AnonymousUsers] ADD CONSTRAINT [FK_AnonymousUsers_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[AnonymousUsers] ADD CONSTRAINT [FK_AnonymousUsers_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[aspnet_Applications]", "CREATE TABLE [dbo].[aspnet_Applications]"),  new Array(0,"(", "("),  new Array(1,"[ApplicationName] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[ApplicationId] [uniqueidentifier] NOT NULL,"),  new Array(1,"[LoweredApplicationName] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[ApplicationName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[ApplicationId] [uniqueidentifier] NOT NULL CONSTRAINT [DF__aspnet_Ap__Appli__09B45E9A] DEFAULT (newid()),", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Description] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[LoweredApplicationName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[aspnet_Applications] ADD CONSTRAINT [PK__aspnet_A__C93A4C980E957727] PRIMARY KEY NONCLUSTERED  ([ApplicationId])", "ALTER TABLE [dbo].[aspnet_Applications] ADD CONSTRAINT [PK_aspnet_Applications] PRIMARY KEY CLUSTERED  ([ApplicationId])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[aspnet_Applications] ADD CONSTRAINT [UQ__aspnet_A__3091033152344BFF] UNIQUE NONCLUSTERED  ([ApplicationName])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE CLUSTERED INDEX [aspnet_Applications_Index] ON [dbo].[aspnet_Applications] ([LoweredApplicationName])", " "),  new Array(1,"GO", " "),  new Array(1,"ALTER TABLE [dbo].[aspnet_Applications] ADD CONSTRAINT [UQ__aspnet_A__17477DE424B61229] UNIQUE NONCLUSTERED  ([LoweredApplicationName])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[aspnet_SchemaVersions]", "CREATE TABLE [dbo].[aspnet_SchemaVersions]"),  new Array(0,"(", "("),  new Array(1,"[Feature] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Feature] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1,"[CompatibleSchemaVersion] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[CompatibleSchemaVersion] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(0,"[IsCurrentVersion] [bit] NOT NULL", "[IsCurrentVersion] [bit] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[aspnet_SchemaVersions] ADD CONSTRAINT [PK__aspnet_S__5A1E6BC190FD4A86] PRIMARY KEY CLUSTERED  ([Feature], [CompatibleSchemaVersion])", "ALTER TABLE [dbo].[aspnet_SchemaVersions] ADD CONSTRAINT [PK_aspnet_SchemaVersions] PRIMARY KEY CLUSTERED  ([Feature], [CompatibleSchemaVersion])"),  new Array(0,"GO", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[aspnet_SchemaVersions] ADD CONSTRAINT [AK_aspnet_SchemaVersions_CompatibleSchemaVersion_Feature] UNIQUE NONCLUSTERED  ([CompatibleSchemaVersion], [Feature])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[aspnet_Users]", "CREATE TABLE [dbo].[aspnet_Users]"),  new Array(0,"(", "("),  new Array(1," ", "[UserId] [uniqueidentifier] NOT NULL,"),  new Array(0,"[ApplicationId] [uniqueidentifier] NOT NULL,", "[ApplicationId] [uniqueidentifier] NOT NULL,"),  new Array(1,"[UserId] [uniqueidentifier] NOT NULL CONSTRAINT [DF__aspnet_Us__UserI__0D84EF7E] DEFAULT (newid()),", "[IsAnonymous] [bit] NOT NULL,"),  new Array(1,"[UserName] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[LastActivityDate] [datetime2] NOT NULL,"),  new Array(1,"[LoweredUserName] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[LoweredUserName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[MobileAlias] [nvarchar] (16) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF__aspnet_Us__Mobil__0E7913B7] DEFAULT (NULL),", "[MobileAlias] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[IsAnonymous] [bit] NOT NULL CONSTRAINT [DF__aspnet_Us__IsAno__0F6D37F0] DEFAULT ((0)),", "[UserName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[LastActivityDate] [datetime] NOT NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[aspnet_Users] ADD CONSTRAINT [PK__aspnet_U__1788CC4D6389C6B7] PRIMARY KEY NONCLUSTERED  ([UserId])", "ALTER TABLE [dbo].[aspnet_Users] ADD CONSTRAINT [PK_aspnet_Users] PRIMARY KEY CLUSTERED  ([UserId])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [aspnet_Users_Index2] ON [dbo].[aspnet_Users] ([ApplicationId], [LastActivityDate])", "CREATE NONCLUSTERED INDEX [IX_aspnet_Users_ApplicationId] ON [dbo].[aspnet_Users] ([ApplicationId])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE CLUSTERED INDEX [aspnet_Users_Index] ON [dbo].[aspnet_Users] ([ApplicationId], [LoweredUserName])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[aspnet_Users] ADD CONSTRAINT [FK__aspnet_Us__Appli__0C90CB45] FOREIGN KEY ([ApplicationId]) REFERENCES [dbo].[aspnet_Applications] ([ApplicationId])", "ALTER TABLE [dbo].[aspnet_Users] ADD CONSTRAINT [FK_aspnet_Users_aspnet_Applications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [dbo].[aspnet_Applications] ([ApplicationId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Assemblies]", "CREATE TABLE [dbo].[Assemblies]"),  new Array(0,"(", "("),  new Array(0,"[AssemblyID] [int] NOT NULL IDENTITY(1, 1),", "[AssemblyID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[AssemblyName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[PackageID] [int] NULL,", "[PackageID] [int] NULL,"),  new Array(1,"[AssemblyName] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Version] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[Version] [nvarchar] (20) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Assemblies] ADD CONSTRAINT [PK_PackageAssemblies] PRIMARY KEY CLUSTERED  ([AssemblyID])", "ALTER TABLE [dbo].[Assemblies] ADD CONSTRAINT [PK_Assemblies] PRIMARY KEY CLUSTERED  ([AssemblyID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Assemblies_PackageID] ON [dbo].[Assemblies] ([PackageID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Assemblies] ADD CONSTRAINT [FK_PackageAssemblies_PackageAssemblies] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Assemblies] ADD CONSTRAINT [FK_Assemblies_Packages_PackageID] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Authentication]", "CREATE TABLE [dbo].[Authentication]"),  new Array(0,"(", "("),  new Array(0,"[AuthenticationID] [int] NOT NULL IDENTITY(1, 1),", "[AuthenticationID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PackageID] [int] NOT NULL CONSTRAINT [DF__Authentic__Packa__3A81B327] DEFAULT ((-1)),", "[AuthenticationType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[AuthenticationType] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[IsEnabled] [bit] NOT NULL CONSTRAINT [DF__Authentic__IsEna__3B75D760] DEFAULT ((0)),", " "),  new Array(1,"[SettingsControlSrc] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[LoginControlSrc] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[LogoffControlSrc] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[IsEnabled] [bit] NOT NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[LoginControlSrc] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[LogoffControlSrc] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PackageID] [int] NOT NULL,"),  new Array(1," ", "[SettignsControlSrc] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Authentication] ADD CONSTRAINT [PK_Authentication] PRIMARY KEY CLUSTERED  ([AuthenticationID])", "ALTER TABLE [dbo].[Authentication] ADD CONSTRAINT [PK_Authentication] PRIMARY KEY CLUSTERED  ([AuthenticationID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Authentication_PackageID] ON [dbo].[Authentication] ([PackageID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Authentication] WITH NOCHECK ADD CONSTRAINT [FK_Authentication_Packages] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE ON UPDATE CASCADE", "ALTER TABLE [dbo].[Authentication] ADD CONSTRAINT [FK_Authentication_Packages_PackageID] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[CKE_Settings]", "CREATE TABLE [dbo].[CKE_Settings]"),  new Array(0,"(", "("),  new Array(1,"[SettingName] [nvarchar] (300) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SettingName] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1,"[SettingValue] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[CKE_Settings] ADD CONSTRAINT [PK_CKE_Settings] PRIMARY KEY CLUSTERED  ([SettingName])", "ALTER TABLE [dbo].[CKE_Settings] ADD CONSTRAINT [PK_CKE_Settings] PRIMARY KEY CLUSTERED  ([SettingName])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ContentItems]", "CREATE TABLE [dbo].[ContentItems]"),  new Array(0,"(", "("),  new Array(0,"[ContentItemID] [int] NOT NULL IDENTITY(1, 1),", "[ContentItemID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(0,"[Content] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[Content] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ContentKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[ContentTypeID] [int] NOT NULL,", "[ContentTypeID] [int] NOT NULL,"),  new Array(1,"[TabID] [int] NOT NULL,", " "),  new Array(1,"[ModuleID] [int] NOT NULL,", " "),  new Array(1,"[ContentKey] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Indexed] [bit] NOT NULL CONSTRAINT [DF_ContentItems_Indexed] DEFAULT ((0)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Indexed] [bit] NOT NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[StateID] [int] NULL", "[ModuleID] [int] NOT NULL,"),  new Array(1," ", "[StateID] [int] NULL,"),  new Array(1," ", "[TabID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ContentItems] ADD CONSTRAINT [PK_ContentItems] PRIMARY KEY CLUSTERED  ([ContentItemID])", "ALTER TABLE [dbo].[ContentItems] ADD CONSTRAINT [PK_ContentItems] PRIMARY KEY CLUSTERED  ([ContentItemID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_ContentItems_TabID] ON [dbo].[ContentItems] ([TabID])", "CREATE NONCLUSTERED INDEX [IX_ContentItems_ContentTypeID] ON [dbo].[ContentItems] ([ContentTypeID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_ContentItems_StateID] ON [dbo].[ContentItems] ([StateID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ContentItems] ADD CONSTRAINT [FK_ContentItems_ContentTypes] FOREIGN KEY ([ContentTypeID]) REFERENCES [dbo].[ContentTypes] ([ContentTypeID])", "ALTER TABLE [dbo].[ContentItems] ADD CONSTRAINT [FK_ContentItems_ContentType_ContentTypeID] FOREIGN KEY ([ContentTypeID]) REFERENCES [dbo].[ContentType] ([ContentTypeID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[ContentItems] ADD CONSTRAINT [FK_ContentItems_ContentWorkflowStates] FOREIGN KEY ([StateID]) REFERENCES [dbo].[ContentWorkflowStates] ([StateID]) ON DELETE SET NULL", "ALTER TABLE [dbo].[ContentItems] ADD CONSTRAINT [FK_ContentItems_ContentWorkflowStates_StateID] FOREIGN KEY ([StateID]) REFERENCES [dbo].[ContentWorkflowStates] ([StateID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ContentItems_MetaData]", "CREATE TABLE [dbo].[ContentItems_MetaData]"),  new Array(0,"(", "("),  new Array(1,"[ContentItemMetaDataID] [int] NOT NULL IDENTITY(1, 1),", "[ContetnItemMetaDataID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(0,"[ContentItemID] [int] NOT NULL,", "[ContentItemID] [int] NOT NULL,"),  new Array(0,"[MetaDataID] [int] NOT NULL,", "[MetaDataID] [int] NOT NULL,"),  new Array(0,"[MetaDataValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[MetaDataValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ContentItems_MetaData] ADD CONSTRAINT [PK_Content_MetaData] PRIMARY KEY CLUSTERED  ([ContentItemMetaDataID])", "ALTER TABLE [dbo].[ContentItems_MetaData] ADD CONSTRAINT [PK_ContentItems_MetaData] PRIMARY KEY CLUSTERED  ([ContetnItemMetaDataID])"),  new Array(0,"GO", "GO"),  new Array(0,"CREATE NONCLUSTERED INDEX [IX_ContentItems_MetaData_ContentItemId] ON [dbo].[ContentItems_MetaData] ([ContentItemID])", "CREATE NONCLUSTERED INDEX [IX_ContentItems_MetaData_ContentItemID] ON [dbo].[ContentItems_MetaData] ([ContentItemID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_ContentItems_MetaData_MetaDataID] ON [dbo].[ContentItems_MetaData] ([MetaDataID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ContentItems_MetaData] WITH NOCHECK ADD CONSTRAINT [FK_ContentItems_MetaData_ContentItems] FOREIGN KEY ([ContentItemID]) REFERENCES [dbo].[ContentItems] ([ContentItemID]) ON DELETE CASCADE ON UPDATE CASCADE", "ALTER TABLE [dbo].[ContentItems_MetaData] ADD CONSTRAINT [FK_ContentItems_MetaData_ContentItems_ContentItemID] FOREIGN KEY ([ContentItemID]) REFERENCES [dbo].[ContentItems] ([ContentItemID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[ContentItems_MetaData] WITH NOCHECK ADD CONSTRAINT [FK_ContentItems_MetaDataMetaData] FOREIGN KEY ([MetaDataID]) REFERENCES [dbo].[MetaData] ([MetaDataID]) ON DELETE CASCADE ON UPDATE CASCADE", "ALTER TABLE [dbo].[ContentItems_MetaData] ADD CONSTRAINT [FK_ContentItems_MetaData_MetaData_MetaDataID] FOREIGN KEY ([MetaDataID]) REFERENCES [dbo].[MetaData] ([MetaDataID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ContentItems_Tags]", "CREATE TABLE [dbo].[ContentItems_Tags]"),  new Array(0,"(", "("),  new Array(0,"[ContentItemTagID] [int] NOT NULL IDENTITY(1, 1),", "[ContentItemTagID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(0,"[ContentItemID] [int] NOT NULL,", "[ContentItemID] [int] NOT NULL,"),  new Array(1," ", "[ContentItemTagID1] [int] NULL,"),  new Array(0,"[TermID] [int] NOT NULL", "[TermID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ContentItems_Tags] ADD CONSTRAINT [PK_ContentItems_Tags] PRIMARY KEY CLUSTERED  ([ContentItemTagID])", "ALTER TABLE [dbo].[ContentItems_Tags] ADD CONSTRAINT [PK_ContentItems_Tags] PRIMARY KEY CLUSTERED  ([ContentItemTagID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_ContentItems_Tags] ON [dbo].[ContentItems_Tags] ([ContentItemID], [TermID])", "CREATE NONCLUSTERED INDEX [IX_ContentItems_Tags_ContentItemID] ON [dbo].[ContentItems_Tags] ([ContentItemID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_ContentItems_Tags_TermID] ON [dbo].[ContentItems_Tags] ([TermID])", "CREATE NONCLUSTERED INDEX [IX_ContentItems_Tags_ContentItemTagID1] ON [dbo].[ContentItems_Tags] ([ContentItemTagID1])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_ContentItems_Tags_TermID] ON [dbo].[ContentItems_Tags] ([TermID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ContentItems_Tags] ADD CONSTRAINT [FK_ContentItems_Tags_ContentItems] FOREIGN KEY ([ContentItemID]) REFERENCES [dbo].[ContentItems] ([ContentItemID]) ON DELETE CASCADE ON UPDATE CASCADE", "ALTER TABLE [dbo].[ContentItems_Tags] ADD CONSTRAINT [FK_ContentItems_Tags_ContentItems_ContentItemID] FOREIGN KEY ([ContentItemID]) REFERENCES [dbo].[ContentItems] ([ContentItemID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[ContentItems_Tags] ADD CONSTRAINT [FK_ContentItems_Tags_Taxonomy_Terms] FOREIGN KEY ([TermID]) REFERENCES [dbo].[Taxonomy_Terms] ([TermID]) ON DELETE CASCADE ON UPDATE CASCADE", "ALTER TABLE [dbo].[ContentItems_Tags] ADD CONSTRAINT [FK_ContentItems_Tags_ContentItems_Tags_ContentItemTagID1] FOREIGN KEY ([ContentItemTagID1]) REFERENCES [dbo].[ContentItems_Tags] ([ContentItemTagID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[ContentItems_Tags] ADD CONSTRAINT [FK_ContentItems_Tags_Taxonomy_Terms_TermID] FOREIGN KEY ([TermID]) REFERENCES [dbo].[Taxonomy_Terms] ([TermID]) ON DELETE CASCADE"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ContentWorkflowLogs]", "CREATE TABLE [dbo].[ContentWorkflowLogs]"),  new Array(0,"(", "("),  new Array(0,"[WorkflowLogID] [int] NOT NULL IDENTITY(1, 1),", "[WorkflowLogID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[Action] [nvarchar] (40) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Action] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Comment] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Comment] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Date] [datetime] NOT NULL,", " "),  new Array(1,"[User] [int] NOT NULL,", " "),  new Array(1,"[WorkflowID] [int] NOT NULL,", " "),  new Array(0,"[ContentItemID] [int] NOT NULL,", "[ContentItemID] [int] NOT NULL,"),  new Array(1,"[Type] [int] NOT NULL CONSTRAINT [DF__ContentWor__Type__38845C1C] DEFAULT ((-1))", "[Date] [datetime2] NOT NULL,"),  new Array(1," ", "[Type] [int] NOT NULL,"),  new Array(1," ", "[User] [int] NULL,"),  new Array(1," ", "[WorkflowID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ContentWorkflowLogs] ADD CONSTRAINT [PK_ContentWorkflowLogs] PRIMARY KEY CLUSTERED  ([WorkflowLogID])", "ALTER TABLE [dbo].[ContentWorkflowLogs] ADD CONSTRAINT [PK_ContentWorkflowLogs] PRIMARY KEY CLUSTERED  ([WorkflowLogID])"),  new Array(0,"GO", "GO"),  new Array(0,"CREATE NONCLUSTERED INDEX [IX_ContentWorkflowLogs_ContentItemId] ON [dbo].[ContentWorkflowLogs] ([ContentItemID])", "CREATE NONCLUSTERED INDEX [IX_ContentWorkflowLogs_ContentItemID] ON [dbo].[ContentWorkflowLogs] ([ContentItemID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_ContentWorkflowLogs_WorkflowID] ON [dbo].[ContentWorkflowLogs] ([WorkflowID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflowLogs] ADD CONSTRAINT [FK_ContentWorkflowLogs_ContentItems] FOREIGN KEY ([ContentItemID]) REFERENCES [dbo].[ContentItems] ([ContentItemID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ContentWorkflowLogs] ADD CONSTRAINT [FK_ContentWorkflowLogs_ContentItems_ContentItemID] FOREIGN KEY ([ContentItemID]) REFERENCES [dbo].[ContentItems] ([ContentItemID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflowLogs] ADD CONSTRAINT [FK_ContentWorkflowLogs_ContentWorkflows] FOREIGN KEY ([WorkflowID]) REFERENCES [dbo].[ContentWorkflows] ([WorkflowID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ContentWorkflowLogs] ADD CONSTRAINT [FK_ContentWorkflowLogs_ContentWorkflows_WorkflowID] FOREIGN KEY ([WorkflowID]) REFERENCES [dbo].[ContentWorkflows] ([WorkflowID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ContentWorkflows]", "CREATE TABLE [dbo].[ContentWorkflows]"),  new Array(0,"(", "("),  new Array(0,"[WorkflowID] [int] NOT NULL IDENTITY(1, 1),", "[WorkflowID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[Content_TypeContentTypeID] [int] NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[DispositionEnabled] [bit] NOT NULL,"),  new Array(1," ", "[IsDeleted] [bit] NOT NULL,"),  new Array(1," ", "[IsSystem] [bit] NOT NULL,"),  new Array(0,"[PortalID] [int] NULL,", "[PortalID] [int] NULL,"),  new Array(1,"[WorkflowName] [nvarchar] (40) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[StartAfterCreating] [bit] NOT NULL,"),  new Array(1,"[Description] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[StartAfterEditing] [bit] NOT NULL,"),  new Array(1,"[IsDeleted] [bit] NOT NULL CONSTRAINT [DF_ContentWorkflows_IsDeleted] DEFAULT ((0)),", "[WorkflowKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[StartAfterCreating] [bit] NOT NULL CONSTRAINT [DF_ContentWorkflows_StartAfterCreating] DEFAULT ((1)),", "[WorkflowName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[StartAfterEditing] [bit] NOT NULL CONSTRAINT [DF_ContentWorkflows_StartAfterEditing] DEFAULT ((1)),", " "),  new Array(1,"[DispositionEnabled] [bit] NOT NULL CONSTRAINT [DF_ContentWorkflows_DispositionEnabled] DEFAULT ((0)),", " "),  new Array(1,"[IsSystem] [bit] NOT NULL CONSTRAINT [DF__ContentWo__IsSys__7ABC33CD] DEFAULT ((0)),", " "),  new Array(1,"[WorkflowKey] [nvarchar] (40) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL CONSTRAINT [DF__ContentWo__Workf__7BB05806] DEFAULT (N\'\')", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ContentWorkflows] ADD CONSTRAINT [PK_ContentWorkflows] PRIMARY KEY CLUSTERED  ([WorkflowID])", "ALTER TABLE [dbo].[ContentWorkflows] ADD CONSTRAINT [PK_ContentWorkflows] PRIMARY KEY CLUSTERED  ([WorkflowID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflows] ADD CONSTRAINT [IX_ContentWorkflows] UNIQUE NONCLUSTERED  ([PortalID], [WorkflowName])", "CREATE NONCLUSTERED INDEX [IX_ContentWorkflows_Content_TypeContentTypeID] ON [dbo].[ContentWorkflows] ([Content_TypeContentTypeID])"),  new Array(0,"GO", "GO"),  new Array(0," ", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[ContentWorkflows] ADD CONSTRAINT [FK_ContentWorkflows_ContentType_Content_TypeContentTypeID] FOREIGN KEY ([Content_TypeContentTypeID]) REFERENCES [dbo].[ContentType] ([ContentTypeID])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ContentWorkflowSources]", "CREATE TABLE [dbo].[ContentWorkflowSources]"),  new Array(0,"(", "("),  new Array(0,"[SourceID] [int] NOT NULL IDENTITY(1, 1),", "[SourceID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[WorkflowID] [int] NOT NULL,", "[SourceName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[SourceName] [nvarchar] (20) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SourceType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[SourceType] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[WorkflowID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ContentWorkflowSources] ADD CONSTRAINT [PK_ContentWorkflowSources] PRIMARY KEY CLUSTERED  ([SourceID])", "ALTER TABLE [dbo].[ContentWorkflowSources] ADD CONSTRAINT [PK_ContentWorkflowSources] PRIMARY KEY CLUSTERED  ([SourceID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflowSources] ADD CONSTRAINT [IX_ContentWorkflowSources] UNIQUE NONCLUSTERED  ([WorkflowID], [SourceName])", "CREATE NONCLUSTERED INDEX [IX_ContentWorkflowSources_WorkflowID] ON [dbo].[ContentWorkflowSources] ([WorkflowID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflowSources] ADD CONSTRAINT [FK_ContentWorkflowSources_ContentWorkflows] FOREIGN KEY ([WorkflowID]) REFERENCES [dbo].[ContentWorkflows] ([WorkflowID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ContentWorkflowSources] ADD CONSTRAINT [FK_ContentWorkflowSources_ContentWorkflows_WorkflowID] FOREIGN KEY ([WorkflowID]) REFERENCES [dbo].[ContentWorkflows] ([WorkflowID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ContentWorkflowStatePermission]", "CREATE TABLE [dbo].[ContentWorkflowStatePermission]"),  new Array(0,"(", "("),  new Array(0,"[WorkflowStatePermissionID] [int] NOT NULL IDENTITY(1, 1),", "[WorkflowStatePermissionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[StateID] [int] NOT NULL,", " "),  new Array(1,"[PermissionID] [int] NOT NULL,", " "),  new Array(0,"[AllowAccess] [bit] NOT NULL,", "[AllowAccess] [bit] NOT NULL,"),  new Array(1,"[RoleID] [int] NULL,", " "),  new Array(1,"[UserID] [int] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[PermissionID] [int] NOT NULL,"),  new Array(1," ", "[RoleID] [int] NULL,"),  new Array(1," ", "[StateId] [int] NOT NULL,"),  new Array(1," ", "[UserID] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ContentWorkflowStatePermission] ADD CONSTRAINT [PK_ContentWorkflowStatePermission] PRIMARY KEY CLUSTERED  ([WorkflowStatePermissionID])", "ALTER TABLE [dbo].[ContentWorkflowStatePermission] ADD CONSTRAINT [PK_ContentWorkflowStatePermission] PRIMARY KEY CLUSTERED  ([WorkflowStatePermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflowStatePermission] ADD CONSTRAINT [IX_ContentWorkflowStatePermission] UNIQUE NONCLUSTERED  ([StateID], [PermissionID], [RoleID], [UserID])", "CREATE NONCLUSTERED INDEX [IX_ContentWorkflowStatePermission_PermissionID] ON [dbo].[ContentWorkflowStatePermission] ([PermissionID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_ContentWorkflowStatePermission_StateId] ON [dbo].[ContentWorkflowStatePermission] ([StateId])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_ContentWorkflowStatePermission_UserID] ON [dbo].[ContentWorkflowStatePermission] ([UserID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflowStatePermission] ADD CONSTRAINT [FK_ContentWorkflowStatePermission_ContentWorkflowStates] FOREIGN KEY ([StateID]) REFERENCES [dbo].[ContentWorkflowStates] ([StateID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ContentWorkflowStatePermission] ADD CONSTRAINT [FK_ContentWorkflowStatePermission_ContentWorkflowStates_StateId] FOREIGN KEY ([StateId]) REFERENCES [dbo].[ContentWorkflowStates] ([StateID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflowStatePermission] ADD CONSTRAINT [FK_ContentWorkflowStatePermission_Permission] FOREIGN KEY ([PermissionID]) REFERENCES [dbo].[Permission] ([PermissionID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ContentWorkflowStatePermission] ADD CONSTRAINT [FK_ContentWorkflowStatePermission_Permission_PermissionID] FOREIGN KEY ([PermissionID]) REFERENCES [dbo].[Permission] ([PermissionID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflowStatePermission] ADD CONSTRAINT [FK_ContentWorkflowStatePermission_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ContentWorkflowStatePermission] ADD CONSTRAINT [FK_ContentWorkflowStatePermission_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ContentWorkflowStates]", "CREATE TABLE [dbo].[ContentWorkflowStates]"),  new Array(0,"(", "("),  new Array(0,"[StateID] [int] NOT NULL IDENTITY(1, 1),", "[StateID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[WorkflowID] [int] NOT NULL,", "[IsActive] [bit] NOT NULL,"),  new Array(1,"[StateName] [nvarchar] (40) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[IsDisposalState] [bit] NOT NULL,"),  new Array(1," ", "[IsSystem] [bit] NOT NULL,"),  new Array(1," ", "[OnCompleteMessageBody] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[OnCompleteMessageSubject] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[OnDiscardMessageSubject] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[Order] [int] NOT NULL,", "[Order] [int] NOT NULL,"),  new Array(1,"[IsActive] [bit] NOT NULL CONSTRAINT [DF_ContentWorkflowStates_IsActive] DEFAULT ((1)),", "[SendEmail] [bit] NOT NULL,"),  new Array(1,"[SendEmail] [bit] NOT NULL CONSTRAINT [DF_ContentWorkflowStates_SendEmail] DEFAULT ((0)),", "[SendMessage] [bit] NOT NULL,"),  new Array(1,"[SendMessage] [bit] NOT NULL CONSTRAINT [DF_ContentWorkflowStates_SendMessage] DEFAULT ((0)),", "[SendNotification] [bit] NOT NULL,"),  new Array(1,"[IsDisposalState] [bit] NOT NULL CONSTRAINT [DF_ContentWorkflowStates_IsDisposalState] DEFAULT ((0)),", "[SendNotificationToAdministrators] [bit] NOT NULL,"),  new Array(1,"[OnCompleteMessageSubject] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL CONSTRAINT [DF_ContentWorkflowStates_OnCompleteMessageSubject] DEFAULT (N\'\'),", "[StateName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[OnCompleteMessageBody] [nvarchar] (1024) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL CONSTRAINT [DF_ContentWorkflowStates_OnCompleteMessageBody] DEFAULT (N\'\'),", "[WorkflowID] [int] NOT NULL"),  new Array(1,"[OnDiscardMessageSubject] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL CONSTRAINT [DF_ContentWorkflowStates_OnDiscardMessageSubject] DEFAULT (N\'\'),", " "),  new Array(1,"[OnDiscardMessageBody] [nvarchar] (1024) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL CONSTRAINT [DF_ContentWorkflowStates_OnDiscardMessageBody] DEFAULT (N\'\'),", " "),  new Array(1,"[IsSystem] [bit] NOT NULL CONSTRAINT [DF__ContentWo__IsSys__7132C993] DEFAULT ((0)),", " "),  new Array(1,"[SendNotification] [bit] NOT NULL CONSTRAINT [DF__ContentWo__SendN__7226EDCC] DEFAULT ((1)),", " "),  new Array(1,"[SendNotificationToAdministrators] [bit] NOT NULL CONSTRAINT [DF__ContentWo__SendN__731B1205] DEFAULT ((1))", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ContentWorkflowStates] ADD CONSTRAINT [PK_ContentWorkflowStates] PRIMARY KEY CLUSTERED  ([StateID])", "ALTER TABLE [dbo].[ContentWorkflowStates] ADD CONSTRAINT [PK_ContentWorkflowStates] PRIMARY KEY CLUSTERED  ([StateID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflowStates] ADD CONSTRAINT [IX_ContentWorkflowStates] UNIQUE NONCLUSTERED  ([WorkflowID], [StateName])", "CREATE NONCLUSTERED INDEX [IX_ContentWorkflowStates_WorkflowID] ON [dbo].[ContentWorkflowStates] ([WorkflowID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflowStates] ADD CONSTRAINT [FK_ContentWorkflowStates_ContentWorkflows] FOREIGN KEY ([WorkflowID]) REFERENCES [dbo].[ContentWorkflows] ([WorkflowID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ContentWorkflowStates] ADD CONSTRAINT [FK_ContentWorkflowStates_ContentWorkflows_WorkflowID] FOREIGN KEY ([WorkflowID]) REFERENCES [dbo].[ContentWorkflows] ([WorkflowID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[CoreMessaging_MessageAttachments]", "CREATE TABLE [dbo].[CoreMessaging_MessageAttachments]"),  new Array(0,"(", "("),  new Array(0,"[MessageAttachmentID] [int] NOT NULL IDENTITY(1, 1),", "[MessageAttachmentID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[MessageID] [int] NOT NULL,", " "),  new Array(1,"[FileID] [int] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[FileID] [int] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[MessageID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[CoreMessaging_MessageAttachments] ADD CONSTRAINT [PK_CoreMessaging_MessageAttachments] PRIMARY KEY CLUSTERED  ([MessageAttachmentID])", "ALTER TABLE [dbo].[CoreMessaging_MessageAttachments] ADD CONSTRAINT [PK_CoreMessaging_MessageAttachments] PRIMARY KEY CLUSTERED  ([MessageAttachmentID])"),  new Array(0,"GO", "GO"),  new Array(0,"CREATE NONCLUSTERED INDEX [IX_CoreMessaging_MessageAttachments_MessageID] ON [dbo].[CoreMessaging_MessageAttachments] ([MessageID])", "CREATE NONCLUSTERED INDEX [IX_CoreMessaging_MessageAttachments_MessageID] ON [dbo].[CoreMessaging_MessageAttachments] ([MessageID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[CoreMessaging_MessageAttachments] ADD CONSTRAINT [FK_CoreMessaging_MessageAttachments_CoreMessaging_Messages] FOREIGN KEY ([MessageID]) REFERENCES [dbo].[CoreMessaging_Messages] ([MessageID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[CoreMessaging_MessageAttachments] ADD CONSTRAINT [FK_CoreMessaging_MessageAttachments_CoreMessaging_Messages_MessageID] FOREIGN KEY ([MessageID]) REFERENCES [dbo].[CoreMessaging_Messages] ([MessageID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[CoreMessaging_Messages]", "CREATE TABLE [dbo].[CoreMessaging_Messages]"),  new Array(0,"(", "("),  new Array(0,"[MessageID] [int] NOT NULL IDENTITY(1, 1),", "[MessageID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NULL,", " "),  new Array(1,"[NotificationTypeID] [int] NULL,", " "),  new Array(1,"[To] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[From] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Subject] [nvarchar] (400) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[Body] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[Body] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Context] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[ConversationID] [int] NULL,", "[ConversationID] [int] NULL,"),  new Array(1,"[ReplyAllAllowed] [bit] NULL,", " "),  new Array(1,"[SenderUserID] [int] NULL,", " "),  new Array(1,"[ExpirationDate] [datetime] NULL,", " "),  new Array(1,"[Context] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IncludeDismissAction] [bit] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[ExpirationDate] [datetime2] NULL,"),  new Array(1," ", "[From] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IncludeDismissAction] [bit] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[NotificationTypeID] [int] NULL,"),  new Array(1," ", "[PortalID] [int] NULL,"),  new Array(1," ", "[ReplyAllAllowed] [bit] NULL,"),  new Array(1," ", "[SenderUserID] [int] NULL,"),  new Array(1," ", "[Subject] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[To] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[CoreMessaging_Messages] ADD CONSTRAINT [PK_CoreMessaging_Messages] PRIMARY KEY CLUSTERED  ([MessageID])", "ALTER TABLE [dbo].[CoreMessaging_Messages] ADD CONSTRAINT [PK_CoreMessaging_Messages] PRIMARY KEY CLUSTERED  ([MessageID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_CoreMessaging_Messages_Send_MessageID_PortalID_NotificationTypeID_ExpirationDate] ON [dbo].[CoreMessaging_Messages] ([MessageID], [PortalID], [NotificationTypeID], [ExpirationDate] DESC) INCLUDE ([Body], [Context], [ConversationID], [CreatedByUserID], [CreatedOnDate], [From], [IncludeDismissAction], [LastModifiedByUserID], [LastModifiedOnDate], [ReplyAllAllowed], [SenderUserID], [Subject], [To])", "CREATE NONCLUSTERED INDEX [IX_CoreMessaging_Messages_NotificationTypeID] ON [dbo].[CoreMessaging_Messages] ([NotificationTypeID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_CoreMessaging_Messages_SenderUserID] ON [dbo].[CoreMessaging_Messages] ([SenderUserID], [CreatedOnDate] DESC)", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[CoreMessaging_Messages] WITH NOCHECK ADD CONSTRAINT [FK_CoreMessaging_Messages_CoreMessaging_NotificationTypes] FOREIGN KEY ([NotificationTypeID]) REFERENCES [dbo].[CoreMessaging_NotificationTypes] ([NotificationTypeID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[CoreMessaging_Messages] ADD CONSTRAINT [FK_CoreMessaging_Messages_CoreMessaging_NotificationTypes_NotificationTypeID] FOREIGN KEY ([NotificationTypeID]) REFERENCES [dbo].[CoreMessaging_NotificationTypes] ([NotificationTypeID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[CoreMessaging_NotificationTypeActions]", "CREATE TABLE [dbo].[CoreMessaging_NotificationTypeActions]"),  new Array(0,"(", "("),  new Array(1,"[NotificationTypeActionID] [int] NOT NULL IDENTITY(1, 1),", "[NotificaationTypeActionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[NotificationTypeID] [int] NOT NULL,", "[APICall] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[NameResourceKey] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[ConfirmRescourceKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[DescriptionResourceKey] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[ConfirmResourceKey] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Order] [int] NOT NULL,", " "),  new Array(1,"[APICall] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[DescriptionResourceKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[NameResourceKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[NotificationTypeID] [int] NOT NULL,"),  new Array(1," ", "[Order] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[CoreMessaging_NotificationTypeActions] ADD CONSTRAINT [PK_CoreMessaging_NotificationTypeActions] PRIMARY KEY CLUSTERED  ([NotificationTypeActionID])", "ALTER TABLE [dbo].[CoreMessaging_NotificationTypeActions] ADD CONSTRAINT [PK_CoreMessaging_NotificationTypeActions] PRIMARY KEY CLUSTERED  ([NotificaationTypeActionID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_CoreMessaging_NotificationTypeActions] ON [dbo].[CoreMessaging_NotificationTypeActions] ([NotificationTypeID])", "CREATE NONCLUSTERED INDEX [IX_CoreMessaging_NotificationTypeActions_NotificationTypeID] ON [dbo].[CoreMessaging_NotificationTypeActions] ([NotificationTypeID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[CoreMessaging_NotificationTypeActions] ADD CONSTRAINT [FK_CoreMessaging_NotificationTypeActions_CoreMessaging_NotificationTypes] FOREIGN KEY ([NotificationTypeID]) REFERENCES [dbo].[CoreMessaging_NotificationTypes] ([NotificationTypeID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[CoreMessaging_NotificationTypeActions] ADD CONSTRAINT [FK_CoreMessaging_NotificationTypeActions_CoreMessaging_NotificationTypes_NotificationTypeID] FOREIGN KEY ([NotificationTypeID]) REFERENCES [dbo].[CoreMessaging_NotificationTypes] ([NotificationTypeID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[CoreMessaging_NotificationTypes]", "CREATE TABLE [dbo].[CoreMessaging_NotificationTypes]"),  new Array(0,"(", "("),  new Array(0,"[NotificationTypeID] [int] NOT NULL IDENTITY(1, 1),", "[NotificationTypeID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[Name] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Description] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[TTL] [int] NULL,", " "),  new Array(1,"[DesktopModuleID] [int] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[DesktopModuleID] [int] NULL,"),  new Array(1," ", "[IsTask] [bit] NOT NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[IsTask] [bit] NOT NULL CONSTRAINT [DF__CoreMessa__IsTas__090A5324] DEFAULT ((0))", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[TTL] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[CoreMessaging_NotificationTypes] ADD CONSTRAINT [PK_CoreMessaging_NotificationTypes] PRIMARY KEY CLUSTERED  ([NotificationTypeID])", "ALTER TABLE [dbo].[CoreMessaging_NotificationTypes] ADD CONSTRAINT [PK_CoreMessaging_NotificationTypes] PRIMARY KEY CLUSTERED  ([NotificationTypeID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_CoreMessaging_NotificationTypes] ON [dbo].[CoreMessaging_NotificationTypes] ([Name])", "CREATE NONCLUSTERED INDEX [IX_CoreMessaging_NotificationTypes_DesktopModuleID] ON [dbo].[CoreMessaging_NotificationTypes] ([DesktopModuleID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[CoreMessaging_NotificationTypes] ADD CONSTRAINT [FK_CoreMessaging_NotificationTypes_DesktopModules] FOREIGN KEY ([DesktopModuleID]) REFERENCES [dbo].[DesktopModules] ([DesktopModuleID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[CoreMessaging_NotificationTypes] ADD CONSTRAINT [FK_CoreMessaging_NotificationTypes_DesktopModules_DesktopModuleID] FOREIGN KEY ([DesktopModuleID]) REFERENCES [dbo].[DesktopModules] ([DesktopModuleID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[CoreMessaging_Subscriptions]", "CREATE TABLE [dbo].[CoreMessaging_Subscriptions]"),  new Array(0,"(", "("),  new Array(0,"[SubscriptionId] [int] NOT NULL IDENTITY(1, 1),", "[SubscriptionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[UserId] [int] NOT NULL,", "[CreatedOnDate] [datetime2] NOT NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ModuleID] [int] NULL,"),  new Array(1," ", "[ObjectData] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ObjectKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[PortalId] [int] NULL,", "[PortalID] [int] NULL,"),  new Array(0,"[SubscriptionTypeId] [int] NOT NULL,", "[SubscriptionTypeID] [int] NOT NULL,"),  new Array(1,"[ObjectKey] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[TabID] [int] NULL,"),  new Array(1,"[ObjectData] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[UserID] [int] NOT NULL"),  new Array(1,"[Description] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL,", " "),  new Array(1,"[ModuleId] [int] NULL,", " "),  new Array(1,"[TabId] [int] NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[CoreMessaging_Subscriptions] ADD CONSTRAINT [PK_CoreMessaging_Subscriptions] PRIMARY KEY CLUSTERED  ([SubscriptionId])", "ALTER TABLE [dbo].[CoreMessaging_Subscriptions] ADD CONSTRAINT [PK_CoreMessaging_Subscriptions] PRIMARY KEY CLUSTERED  ([SubscriptionID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_CoreMessaging_Subscriptions_ModuleID] ON [dbo].[CoreMessaging_Subscriptions] ([ModuleID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_CoreMessaging_Subscriptions_PortalID] ON [dbo].[CoreMessaging_Subscriptions] ([PortalID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_CoreMessaging_Subscriptions_SubscriptionTypeID] ON [dbo].[CoreMessaging_Subscriptions] ([SubscriptionTypeID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_CoreMessaging_Subscriptions_UserID] ON [dbo].[CoreMessaging_Subscriptions] ([UserID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[CoreMessaging_Subscriptions] ADD CONSTRAINT [FK_CoreMessaging_Subscriptions_Modules] FOREIGN KEY ([ModuleId]) REFERENCES [dbo].[Modules] ([ModuleID]) ON DELETE CASCADE ON UPDATE CASCADE", "ALTER TABLE [dbo].[CoreMessaging_Subscriptions] ADD CONSTRAINT [FK_CoreMessaging_Subscriptions_CoreMessaging_SubscriptionTypes_SubscriptionTypeID] FOREIGN KEY ([SubscriptionTypeID]) REFERENCES [dbo].[CoreMessaging_SubscriptionTypes] ([SubscriptionTypeID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[CoreMessaging_Subscriptions] ADD CONSTRAINT [FK_CoreMessaging_Subscriptions_Portals] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE ON UPDATE CASCADE", "ALTER TABLE [dbo].[CoreMessaging_Subscriptions] ADD CONSTRAINT [FK_CoreMessaging_Subscriptions_Modules_ModuleID] FOREIGN KEY ([ModuleID]) REFERENCES [dbo].[Modules] ([ModuleID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[CoreMessaging_Subscriptions] ADD CONSTRAINT [FK_CoreMessaging_Subscriptions_Subscriptions_Type] FOREIGN KEY ([SubscriptionTypeId]) REFERENCES [dbo].[CoreMessaging_SubscriptionTypes] ([SubscriptionTypeId]) ON DELETE CASCADE ON UPDATE CASCADE", "ALTER TABLE [dbo].[CoreMessaging_Subscriptions] ADD CONSTRAINT [FK_CoreMessaging_Subscriptions_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[CoreMessaging_Subscriptions] ADD CONSTRAINT [FK_CoreMessaging_Subscriptions_Users] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE ON UPDATE CASCADE", "ALTER TABLE [dbo].[CoreMessaging_Subscriptions] ADD CONSTRAINT [FK_CoreMessaging_Subscriptions_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[CoreMessaging_SubscriptionTypes]", "CREATE TABLE [dbo].[CoreMessaging_SubscriptionTypes]"),  new Array(0,"(", "("),  new Array(0,"[SubscriptionTypeId] [int] NOT NULL IDENTITY(1, 1),", "[SubscriptionTypeID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[SubscriptionName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[DesktopModuleID] [int] NULL,"),  new Array(1,"[FriendlyName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[FriendlyName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[DesktopModuleId] [int] NULL", "[SubscriptionName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[CoreMessaging_SubscriptionTypes] ADD CONSTRAINT [PK_CoreMessaging_SubscriptionTypes] PRIMARY KEY CLUSTERED  ([SubscriptionTypeId])", "ALTER TABLE [dbo].[CoreMessaging_SubscriptionTypes] ADD CONSTRAINT [PK_CoreMessaging_SubscriptionTypes] PRIMARY KEY CLUSTERED  ([SubscriptionTypeID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_CoreMessaging_SubscriptionTypes_SubscriptionName] ON [dbo].[CoreMessaging_SubscriptionTypes] ([SubscriptionName])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[DesktopModulePermission]", "CREATE TABLE [dbo].[DesktopModulePermission]"),  new Array(0,"(", "("),  new Array(0,"[DesktopModulePermissionID] [int] NOT NULL IDENTITY(1, 1),", "[DesktopModulePermissionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalDesktopModuleID] [int] NOT NULL,", " "),  new Array(1,"[PermissionID] [int] NOT NULL,", " "),  new Array(0,"[AllowAccess] [bit] NOT NULL,", "[AllowAccess] [bit] NOT NULL,"),  new Array(1,"[RoleID] [int] NULL,", " "),  new Array(1,"[UserID] [int] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[PermissionID] [int] NOT NULL,"),  new Array(1," ", "[PortalDesktopModuleID] [int] NOT NULL,"),  new Array(1," ", "[RoleID] [int] NULL,"),  new Array(1," ", "[UserID] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[DesktopModulePermission] ADD CONSTRAINT [PK_DesktopModulePermission] PRIMARY KEY CLUSTERED  ([DesktopModulePermissionID])", "ALTER TABLE [dbo].[DesktopModulePermission] ADD CONSTRAINT [PK_DesktopModulePermission] PRIMARY KEY CLUSTERED  ([DesktopModulePermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_DesktopModulePermission_DesktopModules] ON [dbo].[DesktopModulePermission] ([PortalDesktopModuleID], [PermissionID], [RoleID], [UserID]) INCLUDE ([AllowAccess])", "CREATE NONCLUSTERED INDEX [IX_DesktopModulePermission_PermissionID] ON [dbo].[DesktopModulePermission] ([PermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_DesktopModulePermission_Roles] ON [dbo].[DesktopModulePermission] ([RoleID], [PortalDesktopModuleID], [PermissionID]) INCLUDE ([AllowAccess]) WHERE ([RoleID] IS NOT NULL)", "CREATE NONCLUSTERED INDEX [IX_DesktopModulePermission_PortalDesktopModuleID] ON [dbo].[DesktopModulePermission] ([PortalDesktopModuleID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_DesktopModulePermission_Users] ON [dbo].[DesktopModulePermission] ([UserID], [PortalDesktopModuleID], [PermissionID]) INCLUDE ([AllowAccess]) WHERE ([UserID] IS NOT NULL)", "CREATE NONCLUSTERED INDEX [IX_DesktopModulePermission_RoleID] ON [dbo].[DesktopModulePermission] ([RoleID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_DesktopModulePermission_UserID] ON [dbo].[DesktopModulePermission] ([UserID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[DesktopModulePermission] WITH NOCHECK ADD CONSTRAINT [FK_DesktopModulePermission_Permission] FOREIGN KEY ([PermissionID]) REFERENCES [dbo].[Permission] ([PermissionID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[DesktopModulePermission] ADD CONSTRAINT [FK_DesktopModulePermission_Permission_PermissionID] FOREIGN KEY ([PermissionID]) REFERENCES [dbo].[Permission] ([PermissionID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[DesktopModulePermission] ADD CONSTRAINT [FK_DesktopModulePermission_PortalDesktopModules] FOREIGN KEY ([PortalDesktopModuleID]) REFERENCES [dbo].[PortalDesktopModules] ([PortalDesktopModuleID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[DesktopModulePermission] ADD CONSTRAINT [FK_DesktopModulePermission_PortalDesktopModules_PortalDesktopModuleID] FOREIGN KEY ([PortalDesktopModuleID]) REFERENCES [dbo].[PortalDesktopModules] ([PortalDesktopModuleID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[DesktopModulePermission] ADD CONSTRAINT [FK_DesktopModulePermission_Roles] FOREIGN KEY ([RoleID]) REFERENCES [dbo].[Roles] ([RoleID])", "ALTER TABLE [dbo].[DesktopModulePermission] ADD CONSTRAINT [FK_DesktopModulePermission_Role_RoleID] FOREIGN KEY ([RoleID]) REFERENCES [dbo].[Role] ([RoleID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[DesktopModulePermission] ADD CONSTRAINT [FK_DesktopModulePermission_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[DesktopModulePermission] ADD CONSTRAINT [FK_DesktopModulePermission_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[DesktopModules]", "CREATE TABLE [dbo].[DesktopModules]"),  new Array(0,"(", "("),  new Array(0,"[DesktopModuleID] [int] NOT NULL IDENTITY(1, 1),", "[DesktopModuleID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[FriendlyName] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[AdminPage] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Description] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[BusinessControllerClass] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Version] [nvarchar] (8) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[CompatibleVersions] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[IsPremium] [bit] NOT NULL,", "[ContentItemID] [int] NOT NULL,"),  new Array(1,"[IsAdmin] [bit] NOT NULL,", " "),  new Array(1,"[BusinessControllerClass] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[FolderName] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[ModuleName] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[SupportedFeatures] [int] NOT NULL CONSTRAINT [DF_DesktopModules_SupportedFeatures] DEFAULT ((0)),", " "),  new Array(1,"[CompatibleVersions] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Dependencies] [nvarchar] (400) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Permissions] [nvarchar] (400) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[PackageID] [int] NOT NULL CONSTRAINT [DF_DesktopModules_PackageID] DEFAULT ((-1)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Dependencies] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[FolderName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[FriendlyName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[HostPage] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IsAdmin] [bit] NOT NULL,"),  new Array(1," ", "[IsPremium] [bit] NOT NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[ContentItemId] [int] NOT NULL CONSTRAINT [DF_DesktopModules_ContentItemId] DEFAULT ((-1)),", "[ModuleName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Shareable] [int] NOT NULL CONSTRAINT [DF_DesktopModules_Shareable] DEFAULT ((0)),", "[PackageID] [int] NOT NULL,"),  new Array(1,"[AdminPage] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[Permissions] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[HostPage] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[Shareable] [int] NOT NULL,"),  new Array(1," ", "[SupportedFeatures] [bit] NOT NULL,"),  new Array(1," ", "[Version] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[DesktopModules] ADD CONSTRAINT [PK_DesktopModules] PRIMARY KEY CLUSTERED  ([DesktopModuleID])", "ALTER TABLE [dbo].[DesktopModules] ADD CONSTRAINT [PK_DesktopModules] PRIMARY KEY CLUSTERED  ([DesktopModuleID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_DesktopModules_FriendlyName] ON [dbo].[DesktopModules] ([FriendlyName])", "CREATE NONCLUSTERED INDEX [IX_DesktopModules_PackageID] ON [dbo].[DesktopModules] ([PackageID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[DesktopModules] ADD CONSTRAINT [IX_DesktopModules_ModuleName] UNIQUE NONCLUSTERED  ([ModuleName])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[DesktopModules] WITH NOCHECK ADD CONSTRAINT [FK_DesktopModules_Packages] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE ON UPDATE CASCADE", "ALTER TABLE [dbo].[DesktopModules] ADD CONSTRAINT [FK_DesktopModules_Packages_PackageID] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[EventLog]", "CREATE TABLE [dbo].[EventLog]"),  new Array(0,"(", "("),  new Array(1,"[LogGUID] [varchar] (36) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[LogEventID] [bigint] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[LogTypeKey] [nvarchar] (35) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[EventLogConfigID] [int] NULL,"),  new Array(1,"[LogConfigID] [int] NULL,", "[ExceptionHash] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[LogUserID] [int] NULL,", "[LogConfigID] [int] NOT NULL,"),  new Array(1,"[LogUserName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[LogConfigLogEventID] [bigint] NULL,"),  new Array(1," ", "[LogCreateDate] [datetime2] NOT NULL,"),  new Array(1," ", "[LogGuid] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[LogNotificationPending] [bit] NULL,"),  new Array(0,"[LogPortalID] [int] NULL,", "[LogPortalID] [int] NULL,"),  new Array(1,"[LogPortalName] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[LogPortalName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[LogCreateDate] [datetime] NOT NULL,", " "),  new Array(1,"[LogServerName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[LogProperties] [xml] NULL,", "[LogProperties] [xml] NULL,"),  new Array(1,"[LogNotificationPending] [bit] NULL,", "[LogServerName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[LogEventID] [bigint] NOT NULL IDENTITY(1, 1),", "[LogTypeKey1] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[ExceptionHash] [varchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[LogTypeKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[LogUserID] [int] NULL,"),  new Array(1," ", "[LogUserName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[EventLog] ADD CONSTRAINT [PK_EventLogMaster] PRIMARY KEY CLUSTERED  ([LogEventID])", "ALTER TABLE [dbo].[EventLog] ADD CONSTRAINT [PK_EventLog] PRIMARY KEY CLUSTERED  ([LogEventID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_EventLog_LogConfigID] ON [dbo].[EventLog] ([LogConfigID], [LogNotificationPending], [LogCreateDate]) INCLUDE ([LogEventID])", "CREATE NONCLUSTERED INDEX [IX_EventLog_EventLogConfigID] ON [dbo].[EventLog] ([EventLogConfigID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_EventLog_LogCreateDate] ON [dbo].[EventLog] ([LogCreateDate]) INCLUDE ([LogConfigID])", "CREATE NONCLUSTERED INDEX [IX_EventLog_LogConfigLogEventID] ON [dbo].[EventLog] ([LogConfigLogEventID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_EventLog_LogGUID] ON [dbo].[EventLog] ([LogGUID])", "CREATE NONCLUSTERED INDEX [IX_EventLog_LogTypeKey1] ON [dbo].[EventLog] ([LogTypeKey1])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_EventLog_LogType] ON [dbo].[EventLog] ([LogTypeKey], [LogPortalID])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[EventLog] WITH NOCHECK ADD CONSTRAINT [FK_EventLog_EventLogConfig] FOREIGN KEY ([LogConfigID]) REFERENCES [dbo].[EventLogConfig] ([ID])", "ALTER TABLE [dbo].[EventLog] ADD CONSTRAINT [FK_EventLog_EventLog_LogConfigLogEventID] FOREIGN KEY ([LogConfigLogEventID]) REFERENCES [dbo].[EventLog] ([LogEventID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[EventLog] WITH NOCHECK ADD CONSTRAINT [FK_EventLog_EventLogTypes] FOREIGN KEY ([LogTypeKey]) REFERENCES [dbo].[EventLogTypes] ([LogTypeKey])", "ALTER TABLE [dbo].[EventLog] ADD CONSTRAINT [FK_EventLog_EventLogConfig_EventLogConfigID] FOREIGN KEY ([EventLogConfigID]) REFERENCES [dbo].[EventLogConfig] ([ID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[EventLog] ADD CONSTRAINT [FK_EventLog_EventLogTypes_LogTypeKey1] FOREIGN KEY ([LogTypeKey1]) REFERENCES [dbo].[EventLogTypes] ([LogTypeKey])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[EventLogConfig]", "CREATE TABLE [dbo].[EventLogConfig]"),  new Array(0,"(", "("),  new Array(0,"[ID] [int] NOT NULL IDENTITY(1, 1),", "[ID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[LogTypeKey] [nvarchar] (35) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[EmailNotificaitonIsAcdtive] [bit] NOT NULL,"),  new Array(1,"[LogTypePortalID] [int] NULL,", " "),  new Array(1,"[LoggingIsActive] [bit] NOT NULL,", " "),  new Array(0,"[KeepMostRecent] [int] NOT NULL,", "[KeepMostRecent] [int] NOT NULL,"),  new Array(1,"[EmailNotificationIsActive] [bit] NOT NULL,", "[LogTypeKey1] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[LogTypePortalID] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[LogTypeKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[LoggingIsActive] [bit] NOT NULL,"),  new Array(1," ", "[MailFromAddress] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[MailToAddress] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[NotificationThreshold] [int] NULL,", "[NotificationThreshold] [int] NULL,"),  new Array(0,"[NotificationThresholdTime] [int] NULL,", "[NotificationThresholdTime] [int] NULL,"),  new Array(1,"[NotificationThresholdTimeType] [int] NULL,", "[NotificationThresholdTimeType] [int] NULL"),  new Array(1,"[MailFromAddress] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[MailToAddress] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[EventLogConfig] ADD CONSTRAINT [PK_EventLogConfig] PRIMARY KEY CLUSTERED  ([ID])", "ALTER TABLE [dbo].[EventLogConfig] ADD CONSTRAINT [PK_EventLogConfig] PRIMARY KEY CLUSTERED  ([ID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_LogTypeKey_LogTypePortalID] ON [dbo].[EventLogConfig] ([LogTypeKey], [LogTypePortalID])", "CREATE NONCLUSTERED INDEX [IX_EventLogConfig_LogTypeKey1] ON [dbo].[EventLogConfig] ([LogTypeKey1])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[EventLogConfig] WITH NOCHECK ADD CONSTRAINT [FK_EventLogConfig_EventLogTypes] FOREIGN KEY ([LogTypeKey]) REFERENCES [dbo].[EventLogTypes] ([LogTypeKey])", "ALTER TABLE [dbo].[EventLogConfig] ADD CONSTRAINT [FK_EventLogConfig_EventLogTypes_LogTypeKey1] FOREIGN KEY ([LogTypeKey1]) REFERENCES [dbo].[EventLogTypes] ([LogTypeKey])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[EventLogTypes]", "CREATE TABLE [dbo].[EventLogTypes]"),  new Array(0,"(", "("),  new Array(1,"[LogTypeKey] [nvarchar] (35) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[LogTypeKey] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1,"[LogTypeFriendlyName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[LogTypeCSSClass] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[LogTypeDescription] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[LogTypeDescription] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[LogTypeOwner] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[LogTypeFriendlyName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[LogTypeCSSClass] [nvarchar] (40) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[LogTypeOwner] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[EventLogTypes] ADD CONSTRAINT [PK_EventLogTypes] PRIMARY KEY CLUSTERED  ([LogTypeKey])", "ALTER TABLE [dbo].[EventLogTypes] ADD CONSTRAINT [PK_EventLogTypes] PRIMARY KEY CLUSTERED  ([LogTypeKey])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[EventQueue]", "CREATE TABLE [dbo].[EventQueue]"),  new Array(0,"(", "("),  new Array(0,"[EventMessageID] [int] NOT NULL IDENTITY(1, 1),", "[EventMessageID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[EventName] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Attributes] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[AuthorizedRoles] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Body] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[EventName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ExceptionMessage] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ExpirationDate] [datetime2] NOT NULL,"),  new Array(1," ", "[IsComplete] [bit] NOT NULL,"),  new Array(0,"[Priority] [int] NOT NULL,", "[Priority] [int] NOT NULL,"),  new Array(1,"[ProcessorType] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[ProcessorCommand] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[ProcessorCommand] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[ProcessorType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Body] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Sender] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Sender] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SentDate] [datetime2] NOT NULL,"),  new Array(1,"[Subscriber] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Subscriber] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[AuthorizedRoles] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[ExceptionMessage] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[SentDate] [datetime] NOT NULL,", " "),  new Array(1,"[ExpirationDate] [datetime] NOT NULL,", " "),  new Array(1,"[Attributes] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[IsComplete] [bit] NOT NULL CONSTRAINT [DF_EventQueue_IsComplete] DEFAULT ((0))", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[EventQueue] ADD CONSTRAINT [PK_EventQueue] PRIMARY KEY CLUSTERED  ([EventMessageID])", "ALTER TABLE [dbo].[EventQueue] ADD CONSTRAINT [PK_EventQueue] PRIMARY KEY CLUSTERED  ([EventMessageID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ExceptionEvents]", "CREATE TABLE [dbo].[ExceptionEvents]"),  new Array(0,"(", "("),  new Array(0,"[LogEventID] [bigint] NOT NULL,", "[LogEventID] [bigint] NOT NULL,"),  new Array(1,"[AssemblyVersion] [varchar] (20) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[AssemblyVersion] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[PortalId] [int] NULL,", "[PortalID] [int] NULL,"),  new Array(1,"[UserId] [int] NULL,", "[RawURL] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Referrer] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[TabId] [int] NULL,", "[TabID] [int] NULL,"),  new Array(1,"[RawUrl] [nvarchar] (260) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[UserAgent] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Referrer] [nvarchar] (260) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[UserID] [int] NULL"),  new Array(1,"[UserAgent] [nvarchar] (260) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ExceptionEvents] ADD CONSTRAINT [PK_ExceptionEvents] PRIMARY KEY CLUSTERED  ([LogEventID])", "ALTER TABLE [dbo].[ExceptionEvents] ADD CONSTRAINT [PK_ExceptionEvents] PRIMARY KEY CLUSTERED  ([LogEventID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ExceptionEvents] ADD CONSTRAINT [FK_ExceptionEvents_LogEventId] FOREIGN KEY ([LogEventID]) REFERENCES [dbo].[EventLog] ([LogEventID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ExceptionEvents] ADD CONSTRAINT [FK_ExceptionEvents_EventLog_LogEventID] FOREIGN KEY ([LogEventID]) REFERENCES [dbo].[EventLog] ([LogEventID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Exceptions]", "CREATE TABLE [dbo].[Exceptions]"),  new Array(0,"(", "("),  new Array(1,"[ExceptionHash] [varchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[ExceptionHash] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1,"[Message] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[InnerMessage] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[StackTrace] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[InnerMessage] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[InnerStackTrace] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[InnerStackTrace] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Source] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[Message] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Source] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[StackTrace] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Exceptions] ADD CONSTRAINT [PK_Exceptions] PRIMARY KEY CLUSTERED  ([ExceptionHash])", "ALTER TABLE [dbo].[Exceptions] ADD CONSTRAINT [PK_Exceptions] PRIMARY KEY CLUSTERED  ([ExceptionHash])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ExportImportCheckpoints]", "CREATE TABLE [dbo].[ExportImportCheckpoints]"),  new Array(0,"(", "("),  new Array(0,"[CheckpointId] [int] NOT NULL IDENTITY(1, 1),", "[CheckpointID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[AssemblyName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Category] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Completed] [bit] NULL,"),  new Array(0,"[JobId] [int] NOT NULL,", "[JobID] [int] NOT NULL,"),  new Array(1,"[AssemblyName] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[LastUpdatedDate] [datetime2] NULL,"),  new Array(1,"[Category] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[ProcessedItems] [int] NOT NULL,"),  new Array(1," ", "[Progress] [int] NOT NULL,"),  new Array(0,"[Stage] [int] NOT NULL,", "[Stage] [int] NOT NULL,"),  new Array(0,"[StageData] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[StageData] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Progress] [int] NOT NULL,", "[StartDate] [datetime2] NULL,"),  new Array(1,"[TotalItems] [int] NOT NULL CONSTRAINT [DF__ExportImp__Total__4F1DA8B1] DEFAULT ((0)),", "[TotalItems] [int] NOT NULL"),  new Array(1,"[ProcessedItems] [int] NOT NULL CONSTRAINT [DF__ExportImp__Proce__5011CCEA] DEFAULT ((0)),", " "),  new Array(1,"[StartDate] [datetime] NULL,", " "),  new Array(1,"[LastUpdateDate] [datetime] NULL,", " "),  new Array(1,"[Completed] [bit] NULL CONSTRAINT [DF__ExportImp__Compl__5105F123] DEFAULT ((0))", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ExportImportCheckpoints] ADD CONSTRAINT [PK_ExportImportCheckpoints] PRIMARY KEY CLUSTERED  ([CheckpointId])", "ALTER TABLE [dbo].[ExportImportCheckpoints] ADD CONSTRAINT [PK_ExportImportCheckpoints] PRIMARY KEY CLUSTERED  ([CheckpointID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_ExportImportCheckpoints_Category] ON [dbo].[ExportImportCheckpoints] ([Category])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_ExportImportCheckpoints_Composite] ON [dbo].[ExportImportCheckpoints] ([Category], [AssemblyName], [JobId])", " "),  new Array(1,"GO", " "),  new Array(0,"CREATE NONCLUSTERED INDEX [IX_ExportImportCheckpoints_JobId] ON [dbo].[ExportImportCheckpoints] ([JobId])", "CREATE NONCLUSTERED INDEX [IX_ExportImportCheckpoints_JobID] ON [dbo].[ExportImportCheckpoints] ([JobID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ExportImportCheckpoints] ADD CONSTRAINT [FK_ExportImportCheckpoints_JobId] FOREIGN KEY ([JobId]) REFERENCES [dbo].[ExportImportJobs] ([JobId]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ExportImportCheckpoints] ADD CONSTRAINT [FK_ExportImportCheckpoints_ExportImportJobs_JobID] FOREIGN KEY ([JobID]) REFERENCES [dbo].[ExportImportJobs] ([JobId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ExportImportJobLogs]", "CREATE TABLE [dbo].[ExportImportJobLogs]"),  new Array(0,"(", "("),  new Array(0,"[JobLogId] [int] NOT NULL IDENTITY(1, 1),", "[JobLogId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[CreatedOnDate] [datetime2] NOT NULL,"),  new Array(0,"[JobId] [int] NOT NULL,", "[JobId] [int] NOT NULL,"),  new Array(1,"[Name] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[Level] [int] NOT NULL,"),  new Array(1,"[Value] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Level] [int] NOT NULL CONSTRAINT [DF__ExportImp__Level__54D68207] DEFAULT ((0)),", "[Value] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL CONSTRAINT [DF__ExportImp__Creat__55CAA640] DEFAULT (getutcdate())", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ExportImportJobLogs] ADD CONSTRAINT [PK_ExportImportJobLogs] PRIMARY KEY CLUSTERED  ([JobLogId])", "ALTER TABLE [dbo].[ExportImportJobLogs] ADD CONSTRAINT [PK_ExportImportJobLogs] PRIMARY KEY CLUSTERED  ([JobLogId])"),  new Array(0,"GO", "GO"),  new Array(0,"CREATE NONCLUSTERED INDEX [IX_ExportImportJobLogs_JobId] ON [dbo].[ExportImportJobLogs] ([JobId])", "CREATE NONCLUSTERED INDEX [IX_ExportImportJobLogs_JobId] ON [dbo].[ExportImportJobLogs] ([JobId])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ExportImportJobLogs] ADD CONSTRAINT [FK_ExportImportJobLogs_JobId] FOREIGN KEY ([JobId]) REFERENCES [dbo].[ExportImportJobs] ([JobId]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ExportImportJobLogs] ADD CONSTRAINT [FK_ExportImportJobLogs_ExportImportJobs_JobId] FOREIGN KEY ([JobId]) REFERENCES [dbo].[ExportImportJobs] ([JobId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ExportImportJobs]", "CREATE TABLE [dbo].[ExportImportJobs]"),  new Array(0,"(", "("),  new Array(0,"[JobId] [int] NOT NULL IDENTITY(1, 1),", "[JobId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalId] [int] NOT NULL,", "[CompletedOnDate] [datetime2] NOT NULL,"),  new Array(1,"[JobType] [int] NOT NULL,", " "),  new Array(1,"[JobStatus] [int] NOT NULL CONSTRAINT [DF__ExportImp__JobSt__4964CF5B] DEFAULT ((0)),", " "),  new Array(1,"[IsCancelled] [bit] NOT NULL CONSTRAINT [DF__ExportImp__IsCan__4A58F394] DEFAULT ((0)),", " "),  new Array(1,"[Name] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Description] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NOT NULL,", "[CreatedByUserID] [int] NOT NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL CONSTRAINT [DF__ExportImp__Creat__4B4D17CD] DEFAULT (getutcdate()),", "[CreatedOnDate] [datetime2] NOT NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL CONSTRAINT [DF__ExportImp__LastM__4C413C06] DEFAULT (getutcdate()),", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[CompletedOnDate] [datetime] NULL,", "[Directory] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Directory] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[IsCancelled] [bit] NOT NULL,"),  new Array(1,"[JobObject] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[JobObject] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[JobStatus] [int] NOT NULL,"),  new Array(1," ", "[JobType] [int] NOT NULL,"),  new Array(1," ", "[LastModifiedDate] [datetime2] NOT NULL,"),  new Array(1," ", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PortalId] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ExportImportJobs] ADD CONSTRAINT [PK_ExportImportJobs] PRIMARY KEY CLUSTERED  ([JobId] DESC)", "ALTER TABLE [dbo].[ExportImportJobs] ADD CONSTRAINT [PK_ExportImportJobs] PRIMARY KEY CLUSTERED  ([JobId])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_ExportImportJobs_CreatedOn] ON [dbo].[ExportImportJobs] ([CreatedOnDate])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_ExportImportJobs_JobStatus] ON [dbo].[ExportImportJobs] ([JobStatus])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_ExportImportJobs_JobType] ON [dbo].[ExportImportJobs] ([JobType])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ExportImportSettings]", "CREATE TABLE [dbo].[ExportImportSettings]"),  new Array(0,"(", "("),  new Array(1,"[SettingName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SettingName] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1,"[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[SettingIsSecure] [bit] NOT NULL CONSTRAINT [DF__ExportImp__Setti__42B7D1CC] DEFAULT ((0)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[SettingIsSecure] [bit] NOT NULL,"),  new Array(1," ", "[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ExportImportSettings] ADD CONSTRAINT [PK_ExportImportSettings] PRIMARY KEY CLUSTERED  ([SettingName])", "ALTER TABLE [dbo].[ExportImportSettings] ADD CONSTRAINT [PK_ExportImportSettings] PRIMARY KEY CLUSTERED  ([SettingName])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ExtensionUrlProviders]", "CREATE TABLE [dbo].[ExtensionUrlProviders]"),  new Array(0,"(", "("),  new Array(0,"[ExtensionUrlProviderID] [int] NOT NULL IDENTITY(1, 1),", "[ExtensionUrlProviderID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[ProviderName] [nvarchar] (150) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[DekstopModuleId] [int] NULL,"),  new Array(1,"[ProviderType] [nvarchar] (1000) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[SettingsControlSrc] [nvarchar] (1000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[IsActive] [bit] NOT NULL,", "[IsActive] [bit] NOT NULL,"),  new Array(1,"[RewriteAllUrls] [bit] NOT NULL,", "[ProviderName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ProviderType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[RedirectAllUrls] [bit] NOT NULL,", "[RedirectAllUrls] [bit] NOT NULL,"),  new Array(0,"[ReplaceAllUrls] [bit] NOT NULL,", "[ReplaceAllUrls] [bit] NOT NULL,"),  new Array(1,"[DesktopModuleId] [int] NULL", "[RewriteAllUrls] [bit] NOT NULL,"),  new Array(1," ", "[SettingsControlSrc] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ExtensionUrlProviders] ADD CONSTRAINT [PK_ExtensionUrlProviders] PRIMARY KEY CLUSTERED  ([ExtensionUrlProviderID])", "ALTER TABLE [dbo].[ExtensionUrlProviders] ADD CONSTRAINT [PK_ExtensionUrlProviders] PRIMARY KEY CLUSTERED  ([ExtensionUrlProviderID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ExtensionUrlProviderSetting]", "CREATE TABLE [dbo].[ExtensionUrlProviderSetting]"),  new Array(0,"(", "("),  new Array(0,"[ExtensionUrlProviderID] [int] NOT NULL,", "[ExtensionUrlProviderID] [int] NOT NULL,"),  new Array(0,"[PortalID] [int] NOT NULL,", "[PortalID] [int] NOT NULL,"),  new Array(1,"[SettingName] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SettingName] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1,"[SettingValue] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ExtensionUrlProviderSetting] ADD CONSTRAINT [PK_ExtensionUrlProviderSetting] PRIMARY KEY CLUSTERED  ([ExtensionUrlProviderID], [PortalID], [SettingName])", "ALTER TABLE [dbo].[ExtensionUrlProviderSetting] ADD CONSTRAINT [PK_ExtensionUrlProviderSetting] PRIMARY KEY CLUSTERED  ([ExtensionUrlProviderID], [PortalID], [SettingName])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Files]", "CREATE TABLE [dbo].[Files]"),  new Array(0,"(", "("),  new Array(0,"[FileId] [int] NOT NULL IDENTITY(1, 1),", "[FileId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[Content] [tinyint] NULL,"),  new Array(1," ", "[ContentItemID] [int] NULL,"),  new Array(1," ", "[ContentType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[EnablePublishPeriod] [bit] NOT NULL,"),  new Array(1," ", "[EndDate] [datetime2] NOT NULL,"),  new Array(1," ", "[Extension] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[FileName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[FolderID] [int] NOT NULL,"),  new Array(1," ", "[HasBeenPublished] [bit] NOT NULL,"),  new Array(1," ", "[Hieght] [int] NULL,"),  new Array(1," ", "[LastModificationTime] [datetime2] NOT NULL,"),  new Array(1," ", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(0,"[PortalId] [int] NULL,", "[PortalId] [int] NULL,"),  new Array(1,"[FileName] [nvarchar] (246) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[PublishedVersion] [int] NOT NULL,"),  new Array(1,"[Extension] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SHA1Hash] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[Size] [int] NOT NULL,", "[Size] [int] NOT NULL,"),  new Array(1," ", "[StartDate] [datetime2] NOT NULL,"),  new Array(1," ", "[Title] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[UniqueID] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[VersionGuid] [uniqueidentifier] NOT NULL,"),  new Array(0,"[Width] [int] NULL,", "[Width] [int] NULL,"),  new Array(1,"[Height] [int] NULL,", "[Folder] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[ContentType] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[FolderID] [int] NOT NULL,", " "),  new Array(1,"[Content] [image] NULL,", " "),  new Array(1,"[CreatedByUserID] [int] NULL,", " "),  new Array(1,"[CreatedOnDate] [datetime] NULL,", " "),  new Array(1,"[LastModifiedByUserID] [int] NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", " "),  new Array(1,"[UniqueId] [uniqueidentifier] NOT NULL CONSTRAINT [DF_Files_UniqueId] DEFAULT (newid()),", " "),  new Array(1,"[VersionGuid] [uniqueidentifier] NOT NULL CONSTRAINT [DF_Files_VersionGuid] DEFAULT (newid()),", " "),  new Array(1,"[SHA1Hash] [varchar] (40) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[LastModificationTime] [datetime] NOT NULL CONSTRAINT [DF__Files__LastModif__236943A5] DEFAULT (getdate()),", " "),  new Array(1,"[Folder] AS ([dbo].[GetFileFolderFunc]([FolderID])),", " "),  new Array(1,"[Title] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[StartDate] [date] NOT NULL CONSTRAINT [DF__Files__StartDate__245D67DE] DEFAULT (getdate()),", " "),  new Array(1,"[EnablePublishPeriod] [bit] NOT NULL CONSTRAINT [DF__Files__EnablePub__25518C17] DEFAULT ((0)),", " "),  new Array(1,"[EndDate] [date] NULL,", " "),  new Array(1,"[PublishedVersion] [int] NOT NULL CONSTRAINT [DF__Files__Published__2645B050] DEFAULT ((1)),", " "),  new Array(1,"[ContentItemID] [int] NULL,", " "),  new Array(1,"[HasBeenPublished] [bit] NOT NULL CONSTRAINT [DF__Files__HasBeenPu__2739D489] DEFAULT ((1)),", " "),  new Array(1,"[Description] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Files] ADD CONSTRAINT [PK_File] PRIMARY KEY CLUSTERED  ([FileId])", "ALTER TABLE [dbo].[Files] ADD CONSTRAINT [PK_Files] PRIMARY KEY CLUSTERED  ([FileId])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Files_ContentID] ON [dbo].[Files] ([ContentItemID]) INCLUDE ([FileId], [FileName], [FolderID], [PublishedVersion]) WHERE ([ContentItemId] IS NOT NULL)", "CREATE NONCLUSTERED INDEX [IX_Files_ContentItemID] ON [dbo].[Files] ([ContentItemID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Files_FileID] ON [dbo].[Files] ([FileId]) INCLUDE ([FileName], [FolderID], [PortalId], [PublishedVersion]) WHERE ([ContentItemId] IS NOT NULL)", "CREATE NONCLUSTERED INDEX [IX_Files_FolderID] ON [dbo].[Files] ([FolderID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_Files_PortalID] ON [dbo].[Files] ([PortalId], [FolderID], [FileName]) INCLUDE ([FileId], [PublishedVersion])", "CREATE NONCLUSTERED INDEX [IX_Files_PortalId] ON [dbo].[Files] ([PortalId])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Files] ADD CONSTRAINT [IX_Files_UniqueId] UNIQUE NONCLUSTERED  ([UniqueId])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Files] ADD CONSTRAINT [FK_Files_ContentItems] FOREIGN KEY ([ContentItemID]) REFERENCES [dbo].[ContentItems] ([ContentItemID])", "ALTER TABLE [dbo].[Files] ADD CONSTRAINT [FK_Files_ContentItems_ContentItemID] FOREIGN KEY ([ContentItemID]) REFERENCES [dbo].[ContentItems] ([ContentItemID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Files] ADD CONSTRAINT [FK_Files_Folders] FOREIGN KEY ([FolderID]) REFERENCES [dbo].[Folders] ([FolderID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Files] ADD CONSTRAINT [FK_Files_Folders_FolderID] FOREIGN KEY ([FolderID]) REFERENCES [dbo].[Folders] ([FolderID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Files] ADD CONSTRAINT [FK_Files_Portals] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID])", "ALTER TABLE [dbo].[Files] ADD CONSTRAINT [FK_Files_Portals_PortalId] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[FileVersions]", "CREATE TABLE [dbo].[FileVersions]"),  new Array(0,"(", "("),  new Array(0,"[FileId] [int] NOT NULL,", "[FileId] [int] NOT NULL,"),  new Array(0,"[Version] [int] NOT NULL,", "[Version] [int] NOT NULL,"),  new Array(1,"[FileName] [nvarchar] (246) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Content] [tinyint] NULL,"),  new Array(1,"[Extension] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[ContentType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Size] [int] NOT NULL,", " "),  new Array(1,"[Width] [int] NULL,", " "),  new Array(1,"[Height] [int] NULL,", " "),  new Array(1,"[ContentType] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Content] [image] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Extension] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[FileName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Height] [int] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[SHA1Hash] [varchar] (40) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[SHA1Hash] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Size] [int] NOT NULL,"),  new Array(1," ", "[Width] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[FileVersions] ADD CONSTRAINT [PK_FileVersions] PRIMARY KEY CLUSTERED  ([FileId], [Version])", "ALTER TABLE [dbo].[FileVersions] ADD CONSTRAINT [PK_FileVersions] PRIMARY KEY CLUSTERED  ([FileId], [Version])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[FileVersions] ADD CONSTRAINT [FK_FileVersions_Files] FOREIGN KEY ([FileId]) REFERENCES [dbo].[Files] ([FileId]) ON DELETE CASCADE", "ALTER TABLE [dbo].[FileVersions] ADD CONSTRAINT [FK_FileVersions_Files_FileId] FOREIGN KEY ([FileId]) REFERENCES [dbo].[Files] ([FileId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[FolderMappings]", "CREATE TABLE [dbo].[FolderMappings]"),  new Array(0,"(", "("),  new Array(0,"[FolderMappingID] [int] NOT NULL IDENTITY(1, 1),", "[FolderMappingID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NULL,", " "),  new Array(1,"[MappingName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[FolderProviderType] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Priority] [int] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[FolderProviderType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[MappingName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PortalID] [int] NULL,"),  new Array(1," ", "[Priority] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[FolderMappings] ADD CONSTRAINT [PK_FolderMappings] PRIMARY KEY CLUSTERED  ([FolderMappingID])", "ALTER TABLE [dbo].[FolderMappings] ADD CONSTRAINT [PK_FolderMappings] PRIMARY KEY CLUSTERED  ([FolderMappingID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[FolderMappings] ADD CONSTRAINT [IX_FolderMappings] UNIQUE NONCLUSTERED  ([PortalID], [MappingName])", "CREATE NONCLUSTERED INDEX [IX_FolderMappings_PortalID] ON [dbo].[FolderMappings] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[FolderMappings] ADD CONSTRAINT [FK_FolderMappings_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[FolderMappings] ADD CONSTRAINT [FK_FolderMappings_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[FolderMappingsSettings]", "CREATE TABLE [dbo].[FolderMappingsSettings]"),  new Array(0,"(", "("),  new Array(0,"[FolderMappingID] [int] NOT NULL,", "[FolderMappingID] [int] NOT NULL,"),  new Array(1,"[SettingName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SettingName] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1,"[SettingValue] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[FolderMappingsSettings] ADD CONSTRAINT [PK_FolderMappingsSettings] PRIMARY KEY CLUSTERED  ([FolderMappingID], [SettingName])", "ALTER TABLE [dbo].[FolderMappingsSettings] ADD CONSTRAINT [PK_FolderMappingsSettings] PRIMARY KEY CLUSTERED  ([FolderMappingID], [SettingName])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[FolderMappingsSettings] WITH NOCHECK ADD CONSTRAINT [FK_FolderMappingsSettings_FolderMappings] FOREIGN KEY ([FolderMappingID]) REFERENCES [dbo].[FolderMappings] ([FolderMappingID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[FolderMappingsSettings] ADD CONSTRAINT [FK_FolderMappingsSettings_FolderMappings_FolderMappingID] FOREIGN KEY ([FolderMappingID]) REFERENCES [dbo].[FolderMappings] ([FolderMappingID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[FolderPermission]", "CREATE TABLE [dbo].[FolderPermission]"),  new Array(0,"(", "("),  new Array(0,"[FolderPermissionID] [int] NOT NULL IDENTITY(1, 1),", "[FolderPermissionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[FolderID] [int] NOT NULL,", " "),  new Array(1,"[PermissionID] [int] NOT NULL,", " "),  new Array(0,"[AllowAccess] [bit] NOT NULL,", "[AllowAccess] [bit] NOT NULL,"),  new Array(1,"[RoleID] [int] NULL,", "[ContentWorkflowStatePermissionWorkflowStatePermissionID] [int] NULL,"),  new Array(1,"[UserID] [int] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[FolderID] [int] NOT NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[PermissionID] [int] NOT NULL,"),  new Array(1," ", "[RoleID] [int] NULL,"),  new Array(1," ", "[UserID] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[FolderPermission] ADD CONSTRAINT [PK_FolderPermission] PRIMARY KEY CLUSTERED  ([FolderPermissionID])", "ALTER TABLE [dbo].[FolderPermission] ADD CONSTRAINT [PK_FolderPermission] PRIMARY KEY CLUSTERED  ([FolderPermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_FolderPermission_Modules] ON [dbo].[FolderPermission] ([FolderID])", "CREATE NONCLUSTERED INDEX [IX_FolderPermission_ContentWorkflowStatePermissionWorkflowStatePermissionID] ON [dbo].[FolderPermission] ([ContentWorkflowStatePermissionWorkflowStatePermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_FolderPermission_Folders] ON [dbo].[FolderPermission] ([FolderID], [PermissionID], [RoleID], [UserID]) INCLUDE ([AllowAccess])", "CREATE NONCLUSTERED INDEX [IX_FolderPermission_FolderID] ON [dbo].[FolderPermission] ([FolderID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_FolderPermission_Permission] ON [dbo].[FolderPermission] ([PermissionID])", "CREATE NONCLUSTERED INDEX [IX_FolderPermission_PermissionID] ON [dbo].[FolderPermission] ([PermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_FolderPermission_Roles] ON [dbo].[FolderPermission] ([RoleID], [FolderID], [PermissionID]) INCLUDE ([AllowAccess]) WHERE ([RoleID] IS NOT NULL)", "CREATE NONCLUSTERED INDEX [IX_FolderPermission_RoleID] ON [dbo].[FolderPermission] ([RoleID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_FolderPermission_Users] ON [dbo].[FolderPermission] ([UserID], [FolderID], [PermissionID]) INCLUDE ([AllowAccess]) WHERE ([UserID] IS NOT NULL)", "CREATE NONCLUSTERED INDEX [IX_FolderPermission_UserID] ON [dbo].[FolderPermission] ([UserID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[FolderPermission] ADD CONSTRAINT [FK_FolderPermission_Folders] FOREIGN KEY ([FolderID]) REFERENCES [dbo].[Folders] ([FolderID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[FolderPermission] ADD CONSTRAINT [FK_FolderPermission_ContentWorkflowStatePermission_ContentWorkflowStatePermissionWorkflowStatePermissionID] FOREIGN KEY ([ContentWorkflowStatePermissionWorkflowStatePermissionID]) REFERENCES [dbo].[ContentWorkflowStatePermission] ([WorkflowStatePermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[FolderPermission] WITH NOCHECK ADD CONSTRAINT [FK_FolderPermission_Permission] FOREIGN KEY ([PermissionID]) REFERENCES [dbo].[Permission] ([PermissionID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[FolderPermission] ADD CONSTRAINT [FK_FolderPermission_Folders_FolderID] FOREIGN KEY ([FolderID]) REFERENCES [dbo].[Folders] ([FolderID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[FolderPermission] ADD CONSTRAINT [FK_FolderPermission_Roles] FOREIGN KEY ([RoleID]) REFERENCES [dbo].[Roles] ([RoleID])", "ALTER TABLE [dbo].[FolderPermission] ADD CONSTRAINT [FK_FolderPermission_Permission_PermissionID] FOREIGN KEY ([PermissionID]) REFERENCES [dbo].[Permission] ([PermissionID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[FolderPermission] ADD CONSTRAINT [FK_FolderPermission_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[FolderPermission] ADD CONSTRAINT [FK_FolderPermission_Role_RoleID] FOREIGN KEY ([RoleID]) REFERENCES [dbo].[Role] ([RoleID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[FolderPermission] ADD CONSTRAINT [FK_FolderPermission_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Folders]", "CREATE TABLE [dbo].[Folders]"),  new Array(0,"(", "("),  new Array(0,"[FolderID] [int] NOT NULL IDENTITY(1, 1),", "[FolderID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NULL,", "[ContentWorkflowStatePermissionWorkflowStatePermissionID] [int] NULL,"),  new Array(1,"[FolderPath] [nvarchar] (300) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[StorageLocation] [int] NOT NULL CONSTRAINT [DF_Folders_StorageLocation] DEFAULT ((0)),", " "),  new Array(1,"[IsProtected] [bit] NOT NULL CONSTRAINT [DF_Folders_IsProtected] DEFAULT ((0)),", " "),  new Array(1,"[IsCached] [bit] NOT NULL CONSTRAINT [DF_Folders_IsCached] DEFAULT ((0)),", " "),  new Array(1,"[LastUpdated] [datetime] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1,"[LastModifiedByUserID] [int] NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", " "),  new Array(1,"[UniqueId] [uniqueidentifier] NOT NULL CONSTRAINT [DF_Folders_UniqueId] DEFAULT (newid()),", " "),  new Array(1,"[VersionGuid] [uniqueidentifier] NOT NULL CONSTRAINT [DF_Folders_VersionGuid] DEFAULT (newid()),", " "),  new Array(0,"[FolderMappingID] [int] NOT NULL,", "[FolderMappingID] [int] NOT NULL,"),  new Array(1," ", "[FolderPath] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IsCached] [bit] NOT NULL,"),  new Array(1," ", "[IsProtected] [bit] NOT NULL,"),  new Array(1," ", "[IsVersioned] [bit] NOT NULL,"),  new Array(1," ", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[LastUpdated] [datetime2] NOT NULL,"),  new Array(1," ", "[MappedPath] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[ParentID] [int] NULL,", "[ParentID] [int] NULL,"),  new Array(1,"[IsVersioned] [bit] NOT NULL CONSTRAINT [DF__Folders__IsVersi__1BC821DD] DEFAULT ((0)),", "[PortalID] [int] NULL,"),  new Array(1,"[WorkflowID] [int] NULL,", "[StorageLocation] [int] NOT NULL,"),  new Array(1,"[MappedPath] [nvarchar] (300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[UniqueID] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[VersionGuid] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[WorkflowID] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Folders] ADD CONSTRAINT [PK_Folders] PRIMARY KEY CLUSTERED  ([FolderID])", "ALTER TABLE [dbo].[Folders] ADD CONSTRAINT [PK_Folders] PRIMARY KEY CLUSTERED  ([FolderID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_Folders_FolderID] ON [dbo].[Folders] ([FolderID]) INCLUDE ([FolderMappingID], [FolderPath], [IsCached], [PortalID], [StorageLocation])", "CREATE NONCLUSTERED INDEX [IX_Folders_ContentWorkflowStatePermissionWorkflowStatePermissionID] ON [dbo].[Folders] ([ContentWorkflowStatePermissionWorkflowStatePermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Folders] ADD CONSTRAINT [IX_FolderPath] UNIQUE NONCLUSTERED  ([PortalID], [FolderPath])", "CREATE NONCLUSTERED INDEX [IX_Folders_FolderMappingID] ON [dbo].[Folders] ([FolderMappingID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Folders_ParentID] ON [dbo].[Folders] ([PortalID], [ParentID], [FolderPath]) INCLUDE ([FolderID])", "CREATE NONCLUSTERED INDEX [IX_Folders_PortalID] ON [dbo].[Folders] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Folders] ADD CONSTRAINT [IX_Folders_UniqueId] UNIQUE NONCLUSTERED  ([UniqueId])", "CREATE NONCLUSTERED INDEX [IX_Folders_WorkflowID] ON [dbo].[Folders] ([WorkflowID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Folders] ADD CONSTRAINT [FK_Folders_ContentWorkflows] FOREIGN KEY ([WorkflowID]) REFERENCES [dbo].[ContentWorkflows] ([WorkflowID]) ON DELETE SET NULL", "ALTER TABLE [dbo].[Folders] ADD CONSTRAINT [FK_Folders_ContentWorkflows_WorkflowID] FOREIGN KEY ([WorkflowID]) REFERENCES [dbo].[ContentWorkflows] ([WorkflowID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Folders] ADD CONSTRAINT [FK_Folders_FolderMappings] FOREIGN KEY ([FolderMappingID]) REFERENCES [dbo].[FolderMappings] ([FolderMappingID])", "ALTER TABLE [dbo].[Folders] ADD CONSTRAINT [FK_Folders_ContentWorkflowStatePermission_ContentWorkflowStatePermissionWorkflowStatePermissionID] FOREIGN KEY ([ContentWorkflowStatePermissionWorkflowStatePermissionID]) REFERENCES [dbo].[ContentWorkflowStatePermission] ([WorkflowStatePermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Folders] ADD CONSTRAINT [FK_Folders_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Folders] ADD CONSTRAINT [FK_Folders_FolderMappings_FolderMappingID] FOREIGN KEY ([FolderMappingID]) REFERENCES [dbo].[FolderMappings] ([FolderMappingID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[Folders] ADD CONSTRAINT [FK_Folders_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[HostSettings]", "CREATE TABLE [dbo].[HostSettings]"),  new Array(0,"(", "("),  new Array(1,"[SettingName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SettingName] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1,"[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[SettingIsSecure] [bit] NOT NULL CONSTRAINT [DF_HostSettings_Secure] DEFAULT ((0)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[SettingIsSecure] [bit] NOT NULL,"),  new Array(1," ", "[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[HostSettings] ADD CONSTRAINT [PK_HostSettings] PRIMARY KEY CLUSTERED  ([SettingName])", "ALTER TABLE [dbo].[HostSettings] ADD CONSTRAINT [PK_HostSettings] PRIMARY KEY CLUSTERED  ([SettingName])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[HtmlText]", "CREATE TABLE [dbo].[HtmlText]"),  new Array(0,"(", "("),  new Array(1,"[ModuleID] [int] NOT NULL,", "[ModuleID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[ItemID] [int] NOT NULL IDENTITY(1, 1),", "[Content] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Content] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Version] [int] NULL,", " "),  new Array(1,"[StateID] [int] NULL,", " "),  new Array(1,"[IsPublished] [bit] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[IsPublished] [bit] NULL,"),  new Array(1," ", "[ItemID] [int] NOT NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[Summary] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[ModuleID1] [int] NULL,"),  new Array(1," ", "[StateID] [int] NULL,"),  new Array(1," ", "[Summary] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Version] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[HtmlText] ADD CONSTRAINT [PK_HtmlText] PRIMARY KEY CLUSTERED  ([ItemID])", "ALTER TABLE [dbo].[HtmlText] ADD CONSTRAINT [PK_HtmlText] PRIMARY KEY CLUSTERED  ([ModuleID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_HtmlText_ModuleID_Version] ON [dbo].[HtmlText] ([ModuleID], [Version])", "CREATE NONCLUSTERED INDEX [IX_HtmlText_ModuleID1] ON [dbo].[HtmlText] ([ModuleID1])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_HtmlText_StateID] ON [dbo].[HtmlText] ([StateID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[HtmlText] WITH NOCHECK ADD CONSTRAINT [FK_HtmlText_Modules] FOREIGN KEY ([ModuleID]) REFERENCES [dbo].[Modules] ([ModuleID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[HtmlText] ADD CONSTRAINT [FK_HtmlText_Modules_ModuleID1] FOREIGN KEY ([ModuleID1]) REFERENCES [dbo].[Modules] ([ModuleID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[HtmlText] WITH NOCHECK ADD CONSTRAINT [FK_HtmlText_WorkflowStates] FOREIGN KEY ([StateID]) REFERENCES [dbo].[WorkflowStates] ([StateID])", "ALTER TABLE [dbo].[HtmlText] ADD CONSTRAINT [FK_HtmlText_WorkflowStates_StateID] FOREIGN KEY ([StateID]) REFERENCES [dbo].[WorkflowStates] ([StateID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[HtmlTextLog]", "CREATE TABLE [dbo].[HtmlTextLog]"),  new Array(0,"(", "("),  new Array(0,"[HtmlTextLogID] [int] NOT NULL IDENTITY(1, 1),", "[HtmlTextLogID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[ItemID] [int] NOT NULL,", " "),  new Array(1,"[StateID] [int] NOT NULL,", " "),  new Array(1,"[Comment] [nvarchar] (4000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[Approved] [bit] NOT NULL,", "[Approved] [bit] NOT NULL,"),  new Array(1," ", "[Comment] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[CreatedByUserID] [int] NOT NULL,", "[CreatedByUserID] [int] NOT NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL", "[CreatedOnDate] [datetime2] NOT NULL,"),  new Array(1," ", "[ItemID] [int] NOT NULL,"),  new Array(1," ", "[StateID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[HtmlTextLog] ADD CONSTRAINT [PK_HtmlTextLog] PRIMARY KEY CLUSTERED  ([HtmlTextLogID])", "ALTER TABLE [dbo].[HtmlTextLog] ADD CONSTRAINT [PK_HtmlTextLog] PRIMARY KEY CLUSTERED  ([HtmlTextLogID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_HtmlTextLog_ItemID] ON [dbo].[HtmlTextLog] ([ItemID]) INCLUDE ([HtmlTextLogID])", "CREATE NONCLUSTERED INDEX [IX_HtmlTextLog_ItemID] ON [dbo].[HtmlTextLog] ([ItemID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_HtmlTextLog_StateID] ON [dbo].[HtmlTextLog] ([StateID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[HtmlTextLog] WITH NOCHECK ADD CONSTRAINT [FK_HtmlTextLog_HtmlText] FOREIGN KEY ([ItemID]) REFERENCES [dbo].[HtmlText] ([ItemID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[HtmlTextLog] ADD CONSTRAINT [FK_HtmlTextLog_HtmlText_ItemID] FOREIGN KEY ([ItemID]) REFERENCES [dbo].[HtmlText] ([ModuleID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[HtmlTextLog] WITH NOCHECK ADD CONSTRAINT [FK_HtmlTextLog_WorkflowStates] FOREIGN KEY ([StateID]) REFERENCES [dbo].[WorkflowStates] ([StateID])", "ALTER TABLE [dbo].[HtmlTextLog] ADD CONSTRAINT [FK_HtmlTextLog_WorkflowStates_StateID] FOREIGN KEY ([StateID]) REFERENCES [dbo].[WorkflowStates] ([StateID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[HtmlTextUsers]", "CREATE TABLE [dbo].[HtmlTextUsers]"),  new Array(0,"(", "("),  new Array(0,"[HtmlTextUserID] [int] NOT NULL IDENTITY(1, 1),", "[HtmlTextUserID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[CreatedOnDate] [datetime2] NOT NULL,"),  new Array(0,"[ItemID] [int] NOT NULL,", "[ItemID] [int] NOT NULL,"),  new Array(1,"[StateID] [int] NOT NULL,", " "),  new Array(0,"[ModuleID] [int] NOT NULL,", "[ModuleID] [int] NOT NULL,"),  new Array(1," ", "[StateID] [int] NOT NULL,"),  new Array(0,"[TabID] [int] NOT NULL,", "[TabID] [int] NOT NULL,"),  new Array(1,"[UserID] [int] NOT NULL,", "[UserID] [int] NOT NULL"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[HtmlTextUsers] ADD CONSTRAINT [PK_HtmlTextUsers] PRIMARY KEY CLUSTERED  ([HtmlTextUserID])", "ALTER TABLE [dbo].[HtmlTextUsers] ADD CONSTRAINT [PK_HtmlTextUsers] PRIMARY KEY CLUSTERED  ([HtmlTextUserID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_HtmlTextUsers_ItemID] ON [dbo].[HtmlTextUsers] ([ItemID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[HtmlTextUsers] WITH NOCHECK ADD CONSTRAINT [FK_HtmlTextUsers_HtmlText] FOREIGN KEY ([ItemID]) REFERENCES [dbo].[HtmlText] ([ItemID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[HtmlTextUsers] ADD CONSTRAINT [FK_HtmlTextUsers_HtmlText_ItemID] FOREIGN KEY ([ItemID]) REFERENCES [dbo].[HtmlText] ([ModuleID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[IPFilter]", "CREATE TABLE [dbo].[IPFilter]"),  new Array(0,"(", "("),  new Array(0,"[IPFilterID] [int] NOT NULL IDENTITY(1, 1),", "[IPFilterID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[IPAddress] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[SubnetMask] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[RuleType] [tinyint] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[IPAddress] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[RuleType] [int] NULL,"),  new Array(1," ", "[SubnetMask] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[IPFilter] ADD CONSTRAINT [PK_IPFilter] PRIMARY KEY CLUSTERED  ([IPFilterID])", "ALTER TABLE [dbo].[IPFilter] ADD CONSTRAINT [PK_IPFilter] PRIMARY KEY CLUSTERED  ([IPFilterID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[JavaScriptLibraries]", "CREATE TABLE [dbo].[JavascriptLibraries]"),  new Array(0,"(", "("),  new Array(0,"[JavaScriptLibraryID] [int] NOT NULL IDENTITY(1, 1),", "[JavaScriptLibraryID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[CDNPath] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[FileName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[LibraryName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ObjectName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[PackageID] [int] NOT NULL,", "[PackageID] [int] NOT NULL,"),  new Array(1,"[LibraryName] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Version] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[FileName] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[ObjectName] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[PreferredScriptLocation] [int] NOT NULL,", "[PreferredScriptLocation] [int] NOT NULL,"),  new Array(1,"[CDNPath] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[Version] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[JavaScriptLibraries] ADD CONSTRAINT [PK_JavaScriptLIbraries] PRIMARY KEY CLUSTERED  ([JavaScriptLibraryID])", "ALTER TABLE [dbo].[JavascriptLibraries] ADD CONSTRAINT [PK_JavascriptLibraries] PRIMARY KEY CLUSTERED  ([JavaScriptLibraryID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_JavascriptLibraries_PackageID] ON [dbo].[JavascriptLibraries] ([PackageID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[JavaScriptLibraries] ADD CONSTRAINT [FK_JavaScriptLibrariesPackages] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[JavascriptLibraries] ADD CONSTRAINT [FK_JavascriptLibraries_Packages_PackageID] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Journal]", "CREATE TABLE [dbo].[Journal]"),  new Array(0,"(", "("),  new Array(0,"[JournalId] [int] NOT NULL IDENTITY(1, 1),", "[JournalId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[AccessKey] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[CommentsDisabled] [bit] NOT NULL,"),  new Array(1," ", "[CommentsHidden] [bit] NOT NULL,"),  new Array(1," ", "[ContentItemId] [int] NULL,"),  new Array(1," ", "[DateCreated] [datetime2] NOT NULL,"),  new Array(1," ", "[DateUpdated] [datetime2] NOT NULL,"),  new Array(1," ", "[GroupId] [int] NOT NULL,"),  new Array(1," ", "[ImageURL] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IsDeleted] [bit] NOT NULL,"),  new Array(1," ", "[ItemData] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[JournalTypeId] [int] NOT NULL,", "[JournalTypeId] [int] NOT NULL,"),  new Array(1,"[UserId] [int] NULL,", "[ObjectKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[DateCreated] [datetime] NULL,", " "),  new Array(1,"[DateUpdated] [datetime] NULL,", " "),  new Array(0,"[PortalId] [int] NULL,", "[PortalId] [int] NULL,"),  new Array(1,"[ProfileId] [int] NOT NULL CONSTRAINT [DF_Journal_ProfileId] DEFAULT ((-1)),", "[ProfielId] [int] NOT NULL,"),  new Array(1,"[GroupId] [int] NOT NULL CONSTRAINT [DF_Journal_GroupId] DEFAULT ((-1)),", "[Summary] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Title] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[Title] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Summary] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[UserId] [int] NULL"),  new Array(1,"[ItemData] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[ImageURL] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[ObjectKey] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[AccessKey] [uniqueidentifier] NULL,", " "),  new Array(1,"[ContentItemId] [int] NULL,", " "),  new Array(1,"[IsDeleted] [bit] NOT NULL CONSTRAINT [DF_Journal_IsDeleted] DEFAULT ((0)),", " "),  new Array(1,"[CommentsDisabled] [bit] NOT NULL CONSTRAINT [DF_Journal_CommentsDisabled] DEFAULT ((0)),", " "),  new Array(1,"[CommentsHidden] [bit] NOT NULL CONSTRAINT [DF_Journal_CommentsHidden] DEFAULT ((0))", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Journal] ADD CONSTRAINT [PK_Journal] PRIMARY KEY CLUSTERED  ([JournalId])", "ALTER TABLE [dbo].[Journal] ADD CONSTRAINT [PK_Journal] PRIMARY KEY CLUSTERED  ([JournalId])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Journal_ContentItemId] ON [dbo].[Journal] ([ContentItemId]) INCLUDE ([GroupId])", "CREATE NONCLUSTERED INDEX [IX_Journal_JournalTypeId] ON [dbo].[Journal] ([JournalTypeId])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Journal] WITH NOCHECK ADD CONSTRAINT [FK_Journal_JournalTypes] FOREIGN KEY ([JournalTypeId]) REFERENCES [dbo].[Journal_Types] ([JournalTypeId])", "ALTER TABLE [dbo].[Journal] ADD CONSTRAINT [FK_Journal_Journal_Types_JournalTypeId] FOREIGN KEY ([JournalTypeId]) REFERENCES [dbo].[Journal_Types] ([JournalTypeId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Journal] NOCHECK CONSTRAINT [FK_Journal_JournalTypes]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Journal_Access]", "CREATE TABLE [dbo].[Journal_Access]"),  new Array(0,"(", "("),  new Array(0,"[JournalAccessId] [int] NOT NULL IDENTITY(1, 1),", "[JournalAccessId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[JournalTypeId] [int] NOT NULL,", " "),  new Array(1,"[PortalId] [int] NOT NULL,", " "),  new Array(1,"[Name] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[AccessKey] [uniqueidentifier] NOT NULL,", "[AccessKey] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[DateCreated] [datetime2] NOT NULL,"),  new Array(0,"[IsEnabled] [bit] NOT NULL,", "[IsEnabled] [bit] NOT NULL,"),  new Array(1,"[DateCreated] [datetime] NOT NULL", "[JournalTypeId] [int] NOT NULL,"),  new Array(1," ", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PortalId] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Journal_Access] ADD CONSTRAINT [PK_Journal_Access] PRIMARY KEY CLUSTERED  ([JournalAccessId])", "ALTER TABLE [dbo].[Journal_Access] ADD CONSTRAINT [PK_Journal_Access] PRIMARY KEY CLUSTERED  ([JournalAccessId])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Journal_Comments]", "CREATE TABLE [dbo].[Journal_Comments]"),  new Array(0,"(", "("),  new Array(0,"[CommentId] [int] NOT NULL IDENTITY(1, 1),", "[CommentId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[Comment] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[CommentXML] [xml] NULL,"),  new Array(1," ", "[DateCreated] [datetime2] NOT NULL,"),  new Array(1," ", "[DateUpdated] [datetime2] NOT NULL,"),  new Array(0,"[JournalId] [int] NOT NULL,", "[JournalId] [int] NOT NULL,"),  new Array(1,"[UserId] [int] NOT NULL,", "[UserId] [int] NOT NULL"),  new Array(1,"[Comment] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[DateCreated] [datetime] NOT NULL,", " "),  new Array(1,"[DateUpdated] [datetime] NOT NULL,", " "),  new Array(1,"[CommentXML] [xml] NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Journal_Comments] ADD CONSTRAINT [PK_Journal_Comments] PRIMARY KEY CLUSTERED  ([CommentId])", "ALTER TABLE [dbo].[Journal_Comments] ADD CONSTRAINT [PK_Journal_Comments] PRIMARY KEY CLUSTERED  ([CommentId])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Journal_Comments_JournalId] ON [dbo].[Journal_Comments] ([JournalId])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Journal_Comments] WITH NOCHECK ADD CONSTRAINT [FK_JournalComments_Journal] FOREIGN KEY ([JournalId]) REFERENCES [dbo].[Journal] ([JournalId]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Journal_Comments] ADD CONSTRAINT [FK_Journal_Comments_Journal_JournalId] FOREIGN KEY ([JournalId]) REFERENCES [dbo].[Journal] ([JournalId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Journal_Comments] NOCHECK CONSTRAINT [FK_JournalComments_Journal]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Journal_Data]", "CREATE TABLE [dbo].[Journal_Data]"),  new Array(0,"(", "("),  new Array(0,"[JournalDataId] [int] NOT NULL IDENTITY(1, 1),", "[JournalDataId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(0,"[JournalId] [int] NOT NULL,", "[JournalId] [int] NOT NULL,"),  new Array(1,"[JournalXML] [xml] NOT NULL", "[JournalXML] [xml] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Journal_Data] ADD CONSTRAINT [PK_Journal_Data] PRIMARY KEY CLUSTERED  ([JournalDataId])", "ALTER TABLE [dbo].[Journal_Data] ADD CONSTRAINT [PK_Journal_Data] PRIMARY KEY CLUSTERED  ([JournalDataId])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Journal_Data_JournalId] ON [dbo].[Journal_Data] ([JournalId])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Journal_Data] WITH NOCHECK ADD CONSTRAINT [FK_Journal_Data_Journal] FOREIGN KEY ([JournalId]) REFERENCES [dbo].[Journal] ([JournalId]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Journal_Data] ADD CONSTRAINT [FK_Journal_Data_Journal_JournalId] FOREIGN KEY ([JournalId]) REFERENCES [dbo].[Journal] ([JournalId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Journal_Data] NOCHECK CONSTRAINT [FK_Journal_Data_Journal]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Journal_Security]", "CREATE TABLE [dbo].[Journal_Security]"),  new Array(0,"(", "("),  new Array(0,"[JournalSecurityId] [int] NOT NULL IDENTITY(1, 1),", "[JournalSecurityId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(0,"[JournalId] [int] NOT NULL,", "[JournalId] [int] NOT NULL,"),  new Array(1,"[SecurityKey] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[SecurityKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Journal_Security] ADD CONSTRAINT [PK_Journal_Security] PRIMARY KEY CLUSTERED  ([JournalSecurityId])", "ALTER TABLE [dbo].[Journal_Security] ADD CONSTRAINT [PK_Journal_Security] PRIMARY KEY CLUSTERED  ([JournalSecurityId])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Journal_Security] ADD CONSTRAINT [IX_Journal_Security] UNIQUE NONCLUSTERED  ([JournalId] DESC, [SecurityKey])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Journal_TypeFilters]", "CREATE TABLE [dbo].[Journal_TypeFilters]"),  new Array(0,"(", "("),  new Array(1,"[JournalTypeFilterId] [int] NOT NULL IDENTITY(1, 1),", "[JournalTypeFilerId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalId] [int] NOT NULL,", "[JournalTypeId] [int] NOT NULL,"),  new Array(0,"[ModuleId] [int] NOT NULL,", "[ModuleId] [int] NOT NULL,"),  new Array(1,"[JournalTypeId] [int] NOT NULL", "[PortalId] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Journal_TypeFilters] ADD CONSTRAINT [PK_Journal_TypeFilters] PRIMARY KEY CLUSTERED  ([JournalTypeFilterId])", "ALTER TABLE [dbo].[Journal_TypeFilters] ADD CONSTRAINT [PK_Journal_TypeFilters] PRIMARY KEY CLUSTERED  ([JournalTypeFilerId])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Journal_Types]", "CREATE TABLE [dbo].[Journal_Types]"),  new Array(0,"(", "("),  new Array(1,"[JournalTypeId] [int] NOT NULL,", "[JournalTypeId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[JournalType] [nvarchar] (25) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[AppliesToGroup] [bit] NOT NULL,"),  new Array(1,"[icon] [nvarchar] (25) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[AppliesToProfile] [bit] NOT NULL,"),  new Array(1,"[PortalId] [int] NOT NULL CONSTRAINT [DF_JournalTypes_PortalId] DEFAULT ((-1)),", "[AppliesToStream] [bit] NOT NULL,"),  new Array(1,"[IsEnabled] [bit] NOT NULL CONSTRAINT [DF_JournalTypes_IsEnabled] DEFAULT ((1)),", "[EnableComments] [bit] NOT NULL,"),  new Array(1,"[AppliesToProfile] [bit] NOT NULL CONSTRAINT [DF_JournalTypes_AppliesToProfile] DEFAULT ((1)),", "[IsEnabled] [bit] NOT NULL,"),  new Array(1,"[AppliesToGroup] [bit] NOT NULL CONSTRAINT [DF_JournalTypes_AppliesToGroup] DEFAULT ((1)),", "[JournalType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[AppliesToStream] [bit] NOT NULL CONSTRAINT [DF_JournalTypes_AppliesToStream] DEFAULT ((1)),", " "),  new Array(0,"[Options] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[Options] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[SupportsNotify] [bit] NOT NULL CONSTRAINT [DF_JournalTypes_SupportsNotify] DEFAULT ((0)),", "[PortalId] [int] NOT NULL,"),  new Array(1,"[EnableComments] [bit] NOT NULL CONSTRAINT [DF_Journal_Types_EnableComments] DEFAULT ((1))", "[SupportsNotify] [bit] NOT NULL,"),  new Array(1," ", "[icon] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Journal_Types] ADD CONSTRAINT [PK_JournalTypes] PRIMARY KEY CLUSTERED  ([JournalTypeId])", "ALTER TABLE [dbo].[Journal_Types] ADD CONSTRAINT [PK_Journal_Types] PRIMARY KEY CLUSTERED  ([JournalTypeId])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[LanguagePacks]", "CREATE TABLE [dbo].[LanguagePacks]"),  new Array(0,"(", "("),  new Array(0,"[LanguagePackID] [int] NOT NULL IDENTITY(1, 1),", "[LanguagePackID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PackageID] [int] NOT NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[DependentPackageID] [int] NOT NULL,", "[DependentPackageID] [int] NOT NULL,"),  new Array(0,"[LanguageID] [int] NOT NULL,", "[LanguageID] [int] NOT NULL,"),  new Array(1,"[CreatedByUserID] [int] NULL,", " "),  new Array(1,"[CreatedOnDate] [datetime] NULL,", " "),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[PackageID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[LanguagePacks] ADD CONSTRAINT [PK_LanguagePacks] PRIMARY KEY CLUSTERED  ([LanguagePackID])", "ALTER TABLE [dbo].[LanguagePacks] ADD CONSTRAINT [PK_LanguagePacks] PRIMARY KEY CLUSTERED  ([LanguagePackID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_LanguagePacks] ON [dbo].[LanguagePacks] ([LanguageID], [PackageID])", "CREATE NONCLUSTERED INDEX [IX_LanguagePacks_PackageID] ON [dbo].[LanguagePacks] ([PackageID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[LanguagePacks] WITH NOCHECK ADD CONSTRAINT [FK_LanguagePacks_Packages] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[LanguagePacks] ADD CONSTRAINT [FK_LanguagePacks_Packages_PackageID] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Languages]", "CREATE TABLE [dbo].[Languages]"),  new Array(0,"(", "("),  new Array(0,"[LanguageID] [int] NOT NULL IDENTITY(1, 1),", "[LanguageID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[CultureCode] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[CultureName] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[FallbackCulture] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[CultureCode] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[CultureName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[FallbackCulture] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Languages] ADD CONSTRAINT [PK_Languages] PRIMARY KEY CLUSTERED  ([LanguageID])", "ALTER TABLE [dbo].[Languages] ADD CONSTRAINT [PK_Languages] PRIMARY KEY CLUSTERED  ([LanguageID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_Languages] ON [dbo].[Languages] ([CultureCode])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Lists]", "CREATE TABLE [dbo].[Lists]"),  new Array(0,"(", "("),  new Array(0,"[EntryID] [int] NOT NULL IDENTITY(1, 1),", "[EntryID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[ListName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Value] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Text] [nvarchar] (150) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[ParentID] [int] NOT NULL CONSTRAINT [DF_Lists_ParentID] DEFAULT ((0)),", " "),  new Array(1,"[Level] [int] NOT NULL CONSTRAINT [DF_Lists_Level] DEFAULT ((0)),", " "),  new Array(1,"[SortOrder] [int] NOT NULL CONSTRAINT [DF_Lists_SortOrder] DEFAULT ((0)),", " "),  new Array(1,"[DefinitionID] [int] NOT NULL CONSTRAINT [DF_Lists_DefinitionID] DEFAULT ((0)),", " "),  new Array(1,"[Description] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[PortalID] [int] NOT NULL CONSTRAINT [DF_Lists_PortalID] DEFAULT ((-1)),", " "),  new Array(1,"[SystemList] [bit] NOT NULL CONSTRAINT [DF_Lists_SystemList] DEFAULT ((0)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[DefinitionID] [int] NOT NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Level] [int] NOT NULL,"),  new Array(1," ", "[ListName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ParentID] [int] NOT NULL,"),  new Array(1," ", "[PortalID] [int] NOT NULL,"),  new Array(1," ", "[SortOrder] [int] NOT NULL,"),  new Array(1," ", "[SystemList] [bit] NOT NULL,"),  new Array(1," ", "[Text] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Value] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Lists] ADD CONSTRAINT [PK_Lists] PRIMARY KEY CLUSTERED  ([EntryID])", "ALTER TABLE [dbo].[Lists] ADD CONSTRAINT [PK_Lists] PRIMARY KEY CLUSTERED  ([EntryID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Lists_ListName_ParentID] ON [dbo].[Lists] ([ListName], [ParentID])", " "),  new Array(1,"GO", " "),  new Array(1,"ALTER TABLE [dbo].[Lists] ADD CONSTRAINT [IX_Lists_ListName_Value_Text_ParentID] UNIQUE NONCLUSTERED  ([ListName], [Value], [Text], [ParentID])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_Lists_ParentID] ON [dbo].[Lists] ([ParentID], [ListName], [Value]) INCLUDE ([DefinitionID], [SortOrder], [Text])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Lists_SortOrder] ON [dbo].[Lists] ([PortalID], [ParentID], [ListName], [SortOrder]) INCLUDE ([DefinitionID], [Text], [Value])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Messaging_Messages]", "CREATE TABLE [dbo].[Messaging_Messages]"),  new Array(0,"(", "("),  new Array(1,"[MessageID] [bigint] NOT NULL IDENTITY(1, 1),", "[MessageID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NOT NULL,", "[AllowReply] [bit] NOT NULL,"),  new Array(1,"[FromUserID] [int] NOT NULL,", " "),  new Array(1,"[ToUserName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[FromUserName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[ToUserID] [int] NULL,", " "),  new Array(1,"[ToRoleID] [int] NULL,", " "),  new Array(1,"[Status] [tinyint] NOT NULL,", " "),  new Array(1,"[Subject] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[Body] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[Body] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Date] [datetime] NOT NULL,", " "),  new Array(0,"[Conversation] [uniqueidentifier] NOT NULL,", "[Conversation] [uniqueidentifier] NOT NULL,"),  new Array(1,"[ReplyTo] [bigint] NULL,", "[Date] [datetime2] NOT NULL,"),  new Array(1,"[AllowReply] [bit] NOT NULL,", "[EmailSchedulerInstance] [uniqueidentifier] NULL,"),  new Array(1,"[SkipPortal] [bit] NOT NULL,", " "),  new Array(0,"[EmailSent] [bit] NOT NULL,", "[EmailSent] [bit] NOT NULL,"),  new Array(1,"[EmailSentDate] [datetime] NULL,", "[EmailSentDate] [datetime2] NULL,"),  new Array(1,"[EmailSchedulerInstance] [uniqueidentifier] NULL", "[FromUserID] [int] NOT NULL,"),  new Array(1," ", "[FromUserName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PortalID] [int] NOT NULL,"),  new Array(1," ", "[ReplyTo] [int] NULL,"),  new Array(1," ", "[SkipPortal] [bit] NOT NULL,"),  new Array(1," ", "[Status] [int] NOT NULL,"),  new Array(1," ", "[Subject] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ToRoleID] [int] NOT NULL,"),  new Array(1," ", "[ToUserID] [int] NOT NULL,"),  new Array(1," ", "[ToUserName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Messaging_Messages] ADD CONSTRAINT [PK_Messaging_Messages] PRIMARY KEY CLUSTERED  ([MessageID])", "ALTER TABLE [dbo].[Messaging_Messages] ADD CONSTRAINT [PK_Messaging_Messages] PRIMARY KEY CLUSTERED  ([MessageID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Messaging_Messages_EmailSent_EmailSchedulerInstance_Status] ON [dbo].[Messaging_Messages] ([EmailSent], [EmailSchedulerInstance], [Status], [Date] DESC)", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Messaging_Messages_FromUserID_Status] ON [dbo].[Messaging_Messages] ([FromUserID], [Status], [Date] DESC)", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Messaging_Messages_ToUserID_Status_SkipPortal] ON [dbo].[Messaging_Messages] ([ToUserID], [Status], [SkipPortal], [Date] DESC)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[MetaData]", "CREATE TABLE [dbo].[MetaData]"),  new Array(0,"(", "("),  new Array(0,"[MetaDataID] [int] NOT NULL IDENTITY(1, 1),", "[MetaDataID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[MetaDataName] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[MetaDataDescription] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[MetaDataDescription] [nvarchar] (2500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[MetaDataName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[MetaData] ADD CONSTRAINT [PK_MetaData] PRIMARY KEY CLUSTERED  ([MetaDataID])", "ALTER TABLE [dbo].[MetaData] ADD CONSTRAINT [PK_MetaData] PRIMARY KEY CLUSTERED  ([MetaDataID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_MetaData_MetaDataName] ON [dbo].[MetaData] ([MetaDataName])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Mobile_PreviewProfiles]", "CREATE TABLE [dbo].[Mobile_PreviewProfiles]"),  new Array(0,"(", "("),  new Array(0,"[Id] [int] NOT NULL IDENTITY(1, 1),", "[Id] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalId] [int] NOT NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[Name] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1,"[Width] [int] NOT NULL,", " "),  new Array(0,"[Height] [int] NOT NULL,", "[Height] [int] NOT NULL,"),  new Array(1,"[UserAgent] [nvarchar] (260) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[SortOrder] [int] NOT NULL CONSTRAINT [DF_Mobile_PreviewProfiles_SortOrder] DEFAULT ((0)),", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[CreatedByUserID] [int] NOT NULL,", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL CONSTRAINT [DF_Mobile_PreviewProfiles_CreatedOnDate] DEFAULT (getdate()),", "[PortalId] [int] NOT NULL,"),  new Array(1,"[LastModifiedByUserID] [int] NOT NULL,", "[SortOrder] [int] NOT NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL CONSTRAINT [DF_Mobile_PreviewProfiles_LastModifiedOnDate] DEFAULT (getdate())", "[UserAgent] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Width] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Mobile_PreviewProfiles] ADD CONSTRAINT [PK_Mobile_PreviewProfiles] PRIMARY KEY CLUSTERED  ([Id])", "ALTER TABLE [dbo].[Mobile_PreviewProfiles] ADD CONSTRAINT [PK_Mobile_PreviewProfiles] PRIMARY KEY CLUSTERED  ([Id])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Mobile_PreviewProfiles_SortOrder] ON [dbo].[Mobile_PreviewProfiles] ([SortOrder])", "CREATE NONCLUSTERED INDEX [IX_Mobile_PreviewProfiles_PortalId] ON [dbo].[Mobile_PreviewProfiles] ([PortalId])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Mobile_PreviewProfiles] ADD CONSTRAINT [FK_Mobile_PreviewProfiles_Portals] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Mobile_PreviewProfiles] ADD CONSTRAINT [FK_Mobile_PreviewProfiles_Portals_PortalId] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Mobile_RedirectionRules]", "CREATE TABLE [dbo].[Mobile_RedirectionRules]"),  new Array(0,"(", "("),  new Array(0,"[Id] [int] NOT NULL IDENTITY(1, 1),", "[Id] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[RedirectionId] [int] NOT NULL,", "[Capability] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Capability] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Expression] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Expression] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[Mobile_RedirectionId] [int] NULL,"),  new Array(1," ", "[RedirectionId] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Mobile_RedirectionRules] ADD CONSTRAINT [PK_Mobile_RedirectionRules] PRIMARY KEY CLUSTERED  ([Id])", "ALTER TABLE [dbo].[Mobile_RedirectionRules] ADD CONSTRAINT [PK_Mobile_RedirectionRules] PRIMARY KEY CLUSTERED  ([Id])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Mobile_RedirectionRules_Mobile_RedirectionId] ON [dbo].[Mobile_RedirectionRules] ([Mobile_RedirectionId])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Mobile_RedirectionRules_RedirectionId] ON [dbo].[Mobile_RedirectionRules] ([RedirectionId])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Mobile_RedirectionRules] ADD CONSTRAINT [FK_Mobile_RedirectionRules_Mobile_Redirections] FOREIGN KEY ([RedirectionId]) REFERENCES [dbo].[Mobile_Redirections] ([Id]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Mobile_RedirectionRules] ADD CONSTRAINT [FK_Mobile_RedirectionRules_Mobile_RedirectionRules_RedirectionId] FOREIGN KEY ([RedirectionId]) REFERENCES [dbo].[Mobile_RedirectionRules] ([Id])"),  new Array(0,"GO", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[Mobile_RedirectionRules] ADD CONSTRAINT [FK_Mobile_RedirectionRules_Mobile_Redirections_Mobile_RedirectionId] FOREIGN KEY ([Mobile_RedirectionId]) REFERENCES [dbo].[Mobile_Redirections] ([Id])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Mobile_Redirections]", "CREATE TABLE [dbo].[Mobile_Redirections]"),  new Array(0,"(", "("),  new Array(0,"[Id] [int] NOT NULL IDENTITY(1, 1),", "[Id] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Enabled] [bit] NOT NULL,"),  new Array(1," ", "[IncludeChildTabs] [bit] NOT NULL,"),  new Array(1," ", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[PortalId] [int] NOT NULL,", "[PortalId] [int] NOT NULL,"),  new Array(1,"[Name] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SortOrder] [int] NOT NULL,"),  new Array(1,"[Type] [int] NOT NULL,", " "),  new Array(1,"[SortOrder] [int] NOT NULL CONSTRAINT [DF_Mobile_Redirections_SortOrder] DEFAULT ((0)),", " "),  new Array(0,"[SourceTabId] [int] NOT NULL,", "[SourceTabId] [int] NOT NULL,"),  new Array(1,"[IncludeChildTabs] [bit] NOT NULL,", " "),  new Array(0,"[TargetType] [int] NOT NULL,", "[TargetType] [int] NOT NULL,"),  new Array(1,"[TargetValue] [nvarchar] (260) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[TargetValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Enabled] [bit] NOT NULL,", "[Type] [int] NOT NULL"),  new Array(1,"[CreatedByUserID] [int] NOT NULL,", " "),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL CONSTRAINT [DF_Mobile_Redirections_CreatedOnDate] DEFAULT (getdate()),", " "),  new Array(1,"[LastModifiedByUserID] [int] NOT NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL CONSTRAINT [DF_Mobile_Redirections_LastModifiedOnDate] DEFAULT (getdate())", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Mobile_Redirections] ADD CONSTRAINT [PK_Mobile_Redirections] PRIMARY KEY CLUSTERED  ([Id])", "ALTER TABLE [dbo].[Mobile_Redirections] ADD CONSTRAINT [PK_Mobile_Redirections] PRIMARY KEY CLUSTERED  ([Id])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Mobile_Redirections_SortOrder] ON [dbo].[Mobile_Redirections] ([SortOrder])", "CREATE NONCLUSTERED INDEX [IX_Mobile_Redirections_PortalId] ON [dbo].[Mobile_Redirections] ([PortalId])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Mobile_Redirections] ADD CONSTRAINT [FK_Mobile_Redirections_Portals] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Mobile_Redirections] ADD CONSTRAINT [FK_Mobile_Redirections_Portals_PortalId] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ModuleControls]", "CREATE TABLE [dbo].[ModuleControls]"),  new Array(0,"(", "("),  new Array(0,"[ModuleControlID] [int] NOT NULL IDENTITY(1, 1),", "[ModuleControlID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[ModuleDefID] [int] NULL,", "[ControlKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[ControlKey] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[ControlSrc] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[ControlTitle] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[ControlTitle] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[ControlSrc] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IconFile] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[ControlType] [int] NOT NULL,", "[ControlType] [int] NOT NULL,"),  new Array(1,"[ViewOrder] [int] NULL,", " "),  new Array(1,"[HelpUrl] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[SupportsPartialRendering] [bit] NOT NULL CONSTRAINT [DF_ModuleControls_SupportsPartialRendering] DEFAULT ((0)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[HelpUrl] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IconFile] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserId] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[SupportsPopUps] [bit] NOT NULL CONSTRAINT [DF_ModuleControls_SupportsPopUps] DEFAULT ((0))", "[ModuleDefID] [int] NOT NULL,"),  new Array(1," ", "[SupportPopUps] [bit] NOT NULL,"),  new Array(1," ", "[SupportsPartialRendering] [bit] NOT NULL,"),  new Array(1," ", "[ViewOrder] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ModuleControls] ADD CONSTRAINT [PK_ModuleControls] PRIMARY KEY CLUSTERED  ([ModuleControlID])", "ALTER TABLE [dbo].[ModuleControls] ADD CONSTRAINT [PK_ModuleControls] PRIMARY KEY CLUSTERED  ([ModuleControlID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_ModuleControls_ControlKey_ViewOrder] ON [dbo].[ModuleControls] ([ControlKey], [ViewOrder])", "CREATE NONCLUSTERED INDEX [IX_ModuleControls_ModuleDefID] ON [dbo].[ModuleControls] ([ModuleDefID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[ModuleControls] ADD CONSTRAINT [IX_ModuleControls] UNIQUE NONCLUSTERED  ([ModuleDefID], [ControlKey], [ControlSrc])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ModuleControls] ADD CONSTRAINT [FK_ModuleControls_ModuleDefinitions] FOREIGN KEY ([ModuleDefID]) REFERENCES [dbo].[ModuleDefinitions] ([ModuleDefID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ModuleControls] ADD CONSTRAINT [FK_ModuleControls_ModuleDefinitions_ModuleDefID] FOREIGN KEY ([ModuleDefID]) REFERENCES [dbo].[ModuleDefinitions] ([ModuleDefID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ModuleDefinitions]", "CREATE TABLE [dbo].[ModuleDefinitions]"),  new Array(0,"(", "("),  new Array(0,"[ModuleDefID] [int] NOT NULL IDENTITY(1, 1),", "[ModuleDefID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[FriendlyName] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[DesktopModuleID] [int] NOT NULL,", " "),  new Array(1,"[DefaultCacheTime] [int] NOT NULL CONSTRAINT [DF_ModuleDefinitions_DefaultCacheTime] DEFAULT ((0)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[DefaultCacheTime] [int] NOT NULL,"),  new Array(1," ", "[DefinitionName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[DesktopModuleID] [int] NOT NULL,"),  new Array(1," ", "[FriendlyName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL"),  new Array(1,"[DefinitionName] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ModuleDefinitions] ADD CONSTRAINT [PK_ModuleDefinitions] PRIMARY KEY CLUSTERED  ([ModuleDefID])", "ALTER TABLE [dbo].[ModuleDefinitions] ADD CONSTRAINT [PK_ModuleDefinitions] PRIMARY KEY CLUSTERED  ([ModuleDefID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_ModuleDefinitions] ON [dbo].[ModuleDefinitions] ([DefinitionName])", "CREATE NONCLUSTERED INDEX [IX_ModuleDefinitions_DesktopModuleID] ON [dbo].[ModuleDefinitions] ([DesktopModuleID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_ModuleDefinitions_1] ON [dbo].[ModuleDefinitions] ([DesktopModuleID])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ModuleDefinitions] WITH NOCHECK ADD CONSTRAINT [FK_ModuleDefinitions_DesktopModules] FOREIGN KEY ([DesktopModuleID]) REFERENCES [dbo].[DesktopModules] ([DesktopModuleID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ModuleDefinitions] ADD CONSTRAINT [FK_ModuleDefinitions_DesktopModules_DesktopModuleID] FOREIGN KEY ([DesktopModuleID]) REFERENCES [dbo].[DesktopModules] ([DesktopModuleID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Modules]", "CREATE TABLE [dbo].[Modules]"),  new Array(0,"(", "("),  new Array(1,"[ModuleID] [int] NOT NULL IDENTITY(0, 1),", "[ModuleID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[ModuleDefID] [int] NOT NULL,", "[AllTabs] [bit] NOT NULL,"),  new Array(1,"[AllTabs] [bit] NOT NULL CONSTRAINT [DF_Modules_AllTabs] DEFAULT ((0)),", "[ContentItemID] [int] NULL,"),  new Array(1,"[IsDeleted] [bit] NOT NULL CONSTRAINT [DF_Modules_IsDeleted] DEFAULT ((0)),", " "),  new Array(1,"[InheritViewPermissions] [bit] NULL,", " "),  new Array(1,"[StartDate] [datetime] NULL,", " "),  new Array(1,"[EndDate] [datetime] NULL,", " "),  new Array(1,"[PortalID] [int] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL CONSTRAINT [DF_Modules_CreatedOnDate] DEFAULT (getdate()),", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[EndDate] [datetime2] NULL,"),  new Array(1," ", "[Icon] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[InheritViewPermissions] [bit] NULL,"),  new Array(1," ", "[IsDeleted] [bit] NOT NULL,"),  new Array(1," ", "[IsShareable] [bit] NULL,"),  new Array(1," ", "[IsShareableViewOnly] [bit] NULL,"),  new Array(1," ", "[LastContentModifiedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL CONSTRAINT [DF_Modules_LastModifiedOnDate] DEFAULT (getdate()),", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[LastContentModifiedOnDate] [datetime] NULL,", "[ModuleDef] [int] NOT NULL,"),  new Array(1,"[ContentItemID] [int] NULL,", "[ModuleDefID] [int] NOT NULL,"),  new Array(1,"[IsShareable] [bit] NOT NULL CONSTRAINT [DF_Modules_IsShareable] DEFAULT ((1)),", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[IsShareableViewOnly] [bit] NOT NULL CONSTRAINT [DF_Modules_IsShareableViewOnly] DEFAULT ((1))", "[Path] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PortalID] [int] NULL,"),  new Array(1," ", "[StartDate] [datetime2] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Modules] ADD CONSTRAINT [PK_Modules] PRIMARY KEY CLUSTERED  ([ModuleID])", "ALTER TABLE [dbo].[Modules] ADD CONSTRAINT [PK_Modules] PRIMARY KEY CLUSTERED  ([ModuleID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Modules_ModuleDefId] ON [dbo].[Modules] ([ModuleDefID], [ModuleID]) INCLUDE ([AllTabs], [CreatedByUserID], [CreatedOnDate], [EndDate], [InheritViewPermissions], [IsShareable], [IsShareableViewOnly], [LastContentModifiedOnDate], [LastModifiedByUserID], [LastModifiedOnDate], [PortalID], [StartDate])", "CREATE NONCLUSTERED INDEX [IX_Modules_ContentItemID] ON [dbo].[Modules] ([ContentItemID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Modules_PortalId] ON [dbo].[Modules] ([PortalID])", "CREATE NONCLUSTERED INDEX [IX_Modules_ModuleDefID] ON [dbo].[Modules] ([ModuleDefID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Modules] ADD CONSTRAINT [FK_Modules_ContentItems] FOREIGN KEY ([ContentItemID]) REFERENCES [dbo].[ContentItems] ([ContentItemID])", "ALTER TABLE [dbo].[Modules] ADD CONSTRAINT [FK_Modules_ContentItems_ContentItemID] FOREIGN KEY ([ContentItemID]) REFERENCES [dbo].[ContentItems] ([ContentItemID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Modules] ADD CONSTRAINT [FK_Modules_ModuleDefinitions] FOREIGN KEY ([ModuleDefID]) REFERENCES [dbo].[ModuleDefinitions] ([ModuleDefID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Modules] ADD CONSTRAINT [FK_Modules_ModuleDefinitions_ModuleDefID] FOREIGN KEY ([ModuleDefID]) REFERENCES [dbo].[ModuleDefinitions] ([ModuleDefID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ModuleSettings]", "CREATE TABLE [dbo].[ModuleSettings]"),  new Array(0,"(", "("),  new Array(0,"[ModuleID] [int] NOT NULL,", "[ModuleID] [int] NOT NULL,"),  new Array(1,"[SettingName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SettingName] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1,"[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ModuleSettings] ADD CONSTRAINT [PK_ModuleSettings] PRIMARY KEY CLUSTERED  ([ModuleID], [SettingName])", "ALTER TABLE [dbo].[ModuleSettings] ADD CONSTRAINT [PK_ModuleSettings] PRIMARY KEY CLUSTERED  ([ModuleID], [SettingName])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ModuleSettings] ADD CONSTRAINT [FK_ModuleSettings_Modules] FOREIGN KEY ([ModuleID]) REFERENCES [dbo].[Modules] ([ModuleID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ModuleSettings] ADD CONSTRAINT [FK_ModuleSettings_Modules_ModuleID] FOREIGN KEY ([ModuleID]) REFERENCES [dbo].[Modules] ([ModuleID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[OutputCache]", "CREATE TABLE [dbo].[OutputCache]"),  new Array(0,"(", "("),  new Array(1,"[CacheKey] [varchar] (36) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[CacheKey] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1,"[ItemId] [int] NOT NULL,", "[Data] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Data] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Expiration] [datetime2] NOT NULL,"),  new Array(1,"[Expiration] [datetime] NOT NULL", "[ItemId] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[OutputCache] ADD CONSTRAINT [PK_OutputCache] PRIMARY KEY CLUSTERED  ([CacheKey])", "ALTER TABLE [dbo].[OutputCache] ADD CONSTRAINT [PK_OutputCache] PRIMARY KEY CLUSTERED  ([CacheKey])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PackageDependencies]", "CREATE TABLE [dbo].[PackageDependencies]"),  new Array(0,"(", "("),  new Array(0,"[PackageDependencyID] [int] NOT NULL IDENTITY(1, 1),", "[PackageDependencyID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(0,"[PackageID] [int] NOT NULL,", "[PackageID] [int] NOT NULL,"),  new Array(1,"[PackageName] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[PackageName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Version] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[Version] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[PackageDependencies] ADD CONSTRAINT [PK_PackageDependencies] PRIMARY KEY CLUSTERED  ([PackageDependencyID])", "ALTER TABLE [dbo].[PackageDependencies] ADD CONSTRAINT [PK_PackageDependencies] PRIMARY KEY CLUSTERED  ([PackageDependencyID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_PackageDependencies_PackageID] ON [dbo].[PackageDependencies] ([PackageID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PackageDependencies] ADD CONSTRAINT [FK_PackageDependencies_Packages] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PackageDependencies] ADD CONSTRAINT [FK_PackageDependencies_Packages_PackageID] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Packages]", "CREATE TABLE [dbo].[Packages]"),  new Array(0,"(", "("),  new Array(0,"[PackageID] [int] NOT NULL IDENTITY(1, 1),", "[PackageID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NULL,", " "),  new Array(1,"[Name] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[FriendlyName] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Description] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[PackageType] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Version] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[License] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Manifest] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Owner] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Organization] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Url] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Email] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[ReleaseNotes] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IsSystemPackage] [bit] NOT NULL CONSTRAINT [DF_Packages_IsSystemPackage] DEFAULT ((0)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Email] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[FolderName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[FriendlyName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IconFile] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IsSystemPackage] [bit] NOT NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[FolderName] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[License] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[IconFile] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[Manifest] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Organization] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Owner] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PackageType] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PackageTypeNavigationPackageID] [int] NULL,"),  new Array(1," ", "[PortalID] [int] NULL,"),  new Array(1," ", "[ReleaseNotes] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Url] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Version] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Packages] ADD CONSTRAINT [PK_Packages] PRIMARY KEY CLUSTERED  ([PackageID])", "ALTER TABLE [dbo].[Packages] ADD CONSTRAINT [PK_Packages] PRIMARY KEY CLUSTERED  ([PackageID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_Packages] ON [dbo].[Packages] ([Owner], [Name], [PackageType], [PortalID], [Version])", "CREATE UNIQUE NONCLUSTERED INDEX [IX_Packages_PackageType] ON [dbo].[Packages] ([PackageType]) WHERE ([PackageType] IS NOT NULL)"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Packages_PackageTypeNavigationPackageID] ON [dbo].[Packages] ([PackageTypeNavigationPackageID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Packages] WITH NOCHECK ADD CONSTRAINT [FK_Packages_PackageTypes] FOREIGN KEY ([PackageType]) REFERENCES [dbo].[PackageTypes] ([PackageType]) ON DELETE CASCADE ON UPDATE CASCADE", "ALTER TABLE [dbo].[Packages] ADD CONSTRAINT [FK_Packages_Packages_PackageTypeNavigationPackageID] FOREIGN KEY ([PackageTypeNavigationPackageID]) REFERENCES [dbo].[Packages] ([PackageID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[Packages] ADD CONSTRAINT [FK_Packages_PackageType_PackageType] FOREIGN KEY ([PackageType]) REFERENCES [dbo].[PackageType] ([PackageType])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PasswordHistory]", "CREATE TABLE [dbo].[PasswordHistory]"),  new Array(0,"(", "("),  new Array(0,"[PasswordHistoryID] [int] NOT NULL IDENTITY(1, 1),", "[PasswordHistoryID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[UserID] [int] NOT NULL,", " "),  new Array(1,"[Password] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[PasswordSalt] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Password] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PasswordSalt] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[UserID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[PasswordHistory] ADD CONSTRAINT [PK_PasswordHistory] PRIMARY KEY CLUSTERED  ([PasswordHistoryID])", "ALTER TABLE [dbo].[PasswordHistory] ADD CONSTRAINT [PK_PasswordHistory] PRIMARY KEY CLUSTERED  ([PasswordHistoryID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_PasswordHistory_UserID] ON [dbo].[PasswordHistory] ([UserID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PasswordHistory] ADD CONSTRAINT [FK_PasswordHistory_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PasswordHistory] ADD CONSTRAINT [FK_PasswordHistory_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Permission]", "CREATE TABLE [dbo].[Permission]"),  new Array(0,"(", "("),  new Array(0,"[PermissionID] [int] NOT NULL IDENTITY(1, 1),", "[PermissionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PermissionCode] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[ModuleDefID] [int] NOT NULL,", " "),  new Array(1,"[PermissionKey] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[PermissionName] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[ViewOrder] [int] NOT NULL CONSTRAINT [DF_Permission_ViewOrder] DEFAULT ((9999)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[ModuleDefID] [int] NOT NULL,"),  new Array(1," ", "[PermissionCode] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PermissionKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PermissionName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ViewOrder] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Permission] ADD CONSTRAINT [PK_Permission] PRIMARY KEY CLUSTERED  ([PermissionID])", "ALTER TABLE [dbo].[Permission] ADD CONSTRAINT [PK_Permission] PRIMARY KEY CLUSTERED  ([PermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Permission] ADD CONSTRAINT [IX_Permission] UNIQUE NONCLUSTERED  ([PermissionCode], [ModuleDefID], [PermissionKey])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PersonaBarExtensions]", "CREATE TABLE [dbo].[PersonaBarExtensions]"),  new Array(0,"(", "("),  new Array(0,"[ExtensionId] [int] NOT NULL IDENTITY(1, 1),", "[ExtensionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[Identifier] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Container] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[MenuId] [int] NOT NULL,", "[Controller] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[FolderName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Controller] [nvarchar] (260) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Container] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Path] [nvarchar] (260) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Order] [int] NOT NULL CONSTRAINT [DF__PersonaBa__Order__7D197D8B] DEFAULT ((0)),", " "),  new Array(1,"[Enabled] [bit] NOT NULL CONSTRAINT [DF__PersonaBa__Enabl__7E0DA1C4] DEFAULT ((1)),", " "),  new Array(0,"[CreatedByUserId] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Enabled] [bit] NOT NULL,"),  new Array(1," ", "[FolderName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Identifier] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserId] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[MenuId] [int] NOT NULL,"),  new Array(1," ", "[Order] [int] NOT NULL,"),  new Array(1," ", "[Path] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[PersonaBarExtensions] ADD CONSTRAINT [PK_PersonaBarExtensions] PRIMARY KEY CLUSTERED  ([ExtensionId])", "ALTER TABLE [dbo].[PersonaBarExtensions] ADD CONSTRAINT [PK_PersonaBarExtensions] PRIMARY KEY CLUSTERED  ([ExtensionID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PersonaBarExtensions] ADD CONSTRAINT [IX_PersonaBarExtensions] UNIQUE NONCLUSTERED  ([Identifier])", "CREATE NONCLUSTERED INDEX [IX_PersonaBarExtensions_MenuId] ON [dbo].[PersonaBarExtensions] ([MenuId])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PersonaBarExtensions] ADD CONSTRAINT [FK_PersonaBarExtensions_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [dbo].[PersonaBarMenu] ([MenuId]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PersonaBarExtensions] ADD CONSTRAINT [FK_PersonaBarExtensions_PersonaBarMenu_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [dbo].[PersonaBarMenu] ([MenuId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PersonaBarMenu]", "CREATE TABLE [dbo].[PersonaBarMenu]"),  new Array(0,"(", "("),  new Array(0,"[MenuId] [int] NOT NULL IDENTITY(1, 1),", "[MenuId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[Identifier] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[AllowHost] [bit] NOT NULL,"),  new Array(1,"[ModuleName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Controller] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[FolderName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Controller] [nvarchar] (260) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[ResourceKey] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Path] [nvarchar] (260) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Link] [nvarchar] (260) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[CssClass] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[ParentId] [int] NULL,", " "),  new Array(1,"[Order] [int] NOT NULL CONSTRAINT [DF__PersonaBa__Order__6DD739FB] DEFAULT ((0)),", " "),  new Array(1,"[AllowHost] [bit] NOT NULL CONSTRAINT [DF__PersonaBa__Allow__6ECB5E34] DEFAULT ((0)),", " "),  new Array(1,"[Enabled] [bit] NOT NULL CONSTRAINT [DF__PersonaBa__Enabl__6FBF826D] DEFAULT ((0)),", " "),  new Array(0,"[CreatedByUserId] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[CssClass] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Enabled] [bit] NOT NULL,"),  new Array(1," ", "[FolderName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Identifier] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserId] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[IconFile] [nvarchar] (260) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[Link] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ModuleName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Order] [int] NOT NULL,"),  new Array(1," ", "[ParentID] [int] NULL,"),  new Array(1," ", "[Path] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ResourceKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[PersonaBarMenu] ADD CONSTRAINT [PK_PersonaBarMenu] PRIMARY KEY CLUSTERED  ([MenuId])", "ALTER TABLE [dbo].[PersonaBarMenu] ADD CONSTRAINT [PK_PersonaBarMenu] PRIMARY KEY CLUSTERED  ([MenuId])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PersonaBarMenu] ADD CONSTRAINT [IX_PersonaBarMenu] UNIQUE NONCLUSTERED  ([Identifier])", "CREATE NONCLUSTERED INDEX [IX_PersonaBarMenu_ParentID] ON [dbo].[PersonaBarMenu] ([ParentID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PersonaBarMenu] ADD CONSTRAINT [FK_PersonaBarMenu_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [dbo].[PersonaBarMenu] ([MenuId])", "ALTER TABLE [dbo].[PersonaBarMenu] ADD CONSTRAINT [FK_PersonaBarMenu_PersonaBarMenu_ParentID] FOREIGN KEY ([ParentID]) REFERENCES [dbo].[PersonaBarMenu] ([MenuId])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PersonaBarMenuDefaultPermissions]", "CREATE TABLE [dbo].[PersonaBarMenuDefaultPermissions]"),  new Array(0,"(", "("),  new Array(0,"[Id] [int] NOT NULL IDENTITY(1, 1),", "[Id] [int] NOT NULL IDENTITY(1, 1),"),  new Array(0,"[MenuId] [int] NOT NULL,", "[MenuId] [int] NOT NULL,"),  new Array(1,"[RoleNames] [nvarchar] (260) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[RoleNames] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[PersonaBarMenuDefaultPermissions] ADD CONSTRAINT [PK_PersonaBarMenuDefaultPermissions] PRIMARY KEY CLUSTERED  ([Id])", "ALTER TABLE [dbo].[PersonaBarMenuDefaultPermissions] ADD CONSTRAINT [PK_PersonaBarMenuDefaultPermissions] PRIMARY KEY CLUSTERED  ([Id])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PersonaBarMenuDefaultPermissions] ADD CONSTRAINT [IX_PersonaBarMenuDefaultPermissions] UNIQUE NONCLUSTERED  ([MenuId])", "CREATE UNIQUE NONCLUSTERED INDEX [IX_PersonaBarMenuDefaultPermissions_MenuId] ON [dbo].[PersonaBarMenuDefaultPermissions] ([MenuId])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PersonaBarMenuDefaultPermissions] ADD CONSTRAINT [FK_PersonaBarMenuDefaultPermissions_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [dbo].[PersonaBarMenu] ([MenuId]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PersonaBarMenuDefaultPermissions] ADD CONSTRAINT [FK_PersonaBarMenuDefaultPermissions_PersonaBarMenu_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [dbo].[PersonaBarMenu] ([MenuId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PersonaBarMenuPermission]", "CREATE TABLE [dbo].[PersonaBarMenuPermission]"),  new Array(0,"(", "("),  new Array(0,"[MenuPermissionId] [int] NOT NULL IDENTITY(1, 1),", "[MenuPermissionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalId] [int] NULL,", " "),  new Array(1,"[MenuId] [int] NOT NULL,", " "),  new Array(1,"[PermissionId] [int] NOT NULL,", " "),  new Array(0,"[AllowAccess] [bit] NOT NULL,", "[AllowAccess] [bit] NOT NULL,"),  new Array(1,"[RoleId] [int] NULL,", " "),  new Array(1,"[UserId] [int] NULL,", " "),  new Array(0,"[CreatedByUserId] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserId] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[MenuId] [int] NOT NULL,"),  new Array(1," ", "[PermissionId] [int] NOT NULL,"),  new Array(1," ", "[PortalId] [int] NOT NULL,"),  new Array(1," ", "[RoleId] [int] NULL,"),  new Array(1," ", "[UserId] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [PK_PersonaBarMenuPermission] PRIMARY KEY CLUSTERED  ([MenuPermissionId])", "ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [PK_PersonaBarMenuPermission] PRIMARY KEY CLUSTERED  ([MenuPermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [IX_PersonaBarMenuPermission] UNIQUE NONCLUSTERED  ([PortalId], [MenuId], [PermissionId], [UserId], [RoleId])", "CREATE NONCLUSTERED INDEX [IX_PersonaBarMenuPermission_MenuId] ON [dbo].[PersonaBarMenuPermission] ([MenuId])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_PersonaBarMenuPermission_PermissionId] ON [dbo].[PersonaBarMenuPermission] ([PermissionId])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_PersonaBarMenuPermission_PortalId] ON [dbo].[PersonaBarMenuPermission] ([PortalId])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_PersonaBarMenuPermission_RoleId] ON [dbo].[PersonaBarMenuPermission] ([RoleId])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_PersonaBarMenuPermission_UserId] ON [dbo].[PersonaBarMenuPermission] ([UserId])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [FK_PersonaBarMenuPermission_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [dbo].[PersonaBarMenu] ([MenuId]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [FK_PersonaBarMenuPermission_PersonaBarMenu_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [dbo].[PersonaBarMenu] ([MenuId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [FK_PersonaBarMenuPermission_Permission] FOREIGN KEY ([PermissionId]) REFERENCES [dbo].[PersonaBarPermission] ([PermissionId]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [FK_PersonaBarMenuPermission_PersonaBarPermission_PermissionId] FOREIGN KEY ([PermissionId]) REFERENCES [dbo].[PersonaBarPermission] ([PermissionId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [FK_PersonaBarMenuPermission_Portals] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [FK_PersonaBarMenuPermission_Portals_PortalId] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [FK_PersonaBarMenuPermission_Roles] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[Roles] ([RoleID])", "ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [FK_PersonaBarMenuPermission_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[Role] ([RoleID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [FK_PersonaBarMenuPermission_Users] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PersonaBarMenuPermission] ADD CONSTRAINT [FK_PersonaBarMenuPermission_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([UserID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PersonaBarPermission]", "CREATE TABLE [dbo].[PersonaBarPermission]"),  new Array(0,"(", "("),  new Array(0,"[PermissionId] [int] NOT NULL IDENTITY(1, 1),", "[PermissionId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[MenuId] [int] NULL,", " "),  new Array(1,"[PermissionKey] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[PermissionName] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[ViewOrder] [int] NOT NULL CONSTRAINT [DF__PersonaBa__ViewO__05AEC38C] DEFAULT ((9999)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[MenuId] [int] NULL,"),  new Array(1," ", "[PermissionKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PermissionName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ViewOrder] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[PersonaBarPermission] ADD CONSTRAINT [PK_PersonaBarPermission] PRIMARY KEY CLUSTERED  ([PermissionId])", "ALTER TABLE [dbo].[PersonaBarPermission] ADD CONSTRAINT [PK_PersonaBarPermission] PRIMARY KEY CLUSTERED  ([PermissionId])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PersonaBarPermission] ADD CONSTRAINT [IX_PersonaBarPermissionScope] UNIQUE NONCLUSTERED  ([MenuId], [PermissionKey])", "CREATE NONCLUSTERED INDEX [IX_PersonaBarPermission_MenuId] ON [dbo].[PersonaBarPermission] ([MenuId])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PersonaBarPermission] ADD CONSTRAINT [FK_PersonaBarPermission_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [dbo].[PersonaBarMenu] ([MenuId])", "ALTER TABLE [dbo].[PersonaBarPermission] ADD CONSTRAINT [FK_PersonaBarPermission_PersonaBarMenu_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [dbo].[PersonaBarMenu] ([MenuId])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PortalAlias]", "CREATE TABLE [dbo].[PortalAlias]"),  new Array(0,"(", "("),  new Array(0,"[PortalAliasID] [int] NOT NULL IDENTITY(1, 1),", "[PortalAliasID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NOT NULL,", "[BrowserType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[HTTPAlias] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[CulturCode] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[HTTPAlias] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IsPrimary] [bit] NOT NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[BrowserType] [nvarchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[PortalID] [int] NOT NULL,"),  new Array(1,"[Skin] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[Skin] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[CultureCode] [nvarchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IsPrimary] [bit] NOT NULL CONSTRAINT [DF_PortalAlias_IsPrimary] DEFAULT ((0))", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[PortalAlias] ADD CONSTRAINT [PK_PortalAlias] PRIMARY KEY CLUSTERED  ([PortalAliasID])", "ALTER TABLE [dbo].[PortalAlias] ADD CONSTRAINT [PK_PortalAlias] PRIMARY KEY CLUSTERED  ([PortalAliasID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PortalAlias] ADD CONSTRAINT [IX_PortalAlias] UNIQUE NONCLUSTERED  ([HTTPAlias])", "CREATE NONCLUSTERED INDEX [IX_PortalAlias_PortalID] ON [dbo].[PortalAlias] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PortalAlias] ADD CONSTRAINT [FK_PortalAlias_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PortalAlias] ADD CONSTRAINT [FK_PortalAlias_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PortalDesktopModules]", "CREATE TABLE [dbo].[PortalDesktopModules]"),  new Array(0,"(", "("),  new Array(0,"[PortalDesktopModuleID] [int] NOT NULL IDENTITY(1, 1),", "[PortalDesktopModuleID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NOT NULL,", " "),  new Array(1,"[DesktopModuleID] [int] NOT NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[DesktopModuleID] [int] NOT NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[PortalID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[PortalDesktopModules] ADD CONSTRAINT [PK_PortalDesktopModules] PRIMARY KEY CLUSTERED  ([PortalDesktopModuleID])", "ALTER TABLE [dbo].[PortalDesktopModules] ADD CONSTRAINT [PK_PortalDesktopModules] PRIMARY KEY CLUSTERED  ([PortalDesktopModuleID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PortalDesktopModules] ADD CONSTRAINT [IX_PortalDesktopModules] UNIQUE NONCLUSTERED  ([PortalID], [DesktopModuleID])", "CREATE NONCLUSTERED INDEX [IX_PortalDesktopModules_DesktopModuleID] ON [dbo].[PortalDesktopModules] ([DesktopModuleID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_PortalDesktopModules_PortalID] ON [dbo].[PortalDesktopModules] ([PortalID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PortalDesktopModules] WITH NOCHECK ADD CONSTRAINT [FK_PortalDesktopModules_DesktopModules] FOREIGN KEY ([DesktopModuleID]) REFERENCES [dbo].[DesktopModules] ([DesktopModuleID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PortalDesktopModules] ADD CONSTRAINT [FK_PortalDesktopModules_DesktopModules_DesktopModuleID] FOREIGN KEY ([DesktopModuleID]) REFERENCES [dbo].[DesktopModules] ([DesktopModuleID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PortalDesktopModules] ADD CONSTRAINT [FK_PortalDesktopModules_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PortalDesktopModules] ADD CONSTRAINT [FK_PortalDesktopModules_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PortalGroups]", "CREATE TABLE [dbo].[PortalGroups]"),  new Array(0,"(", "("),  new Array(1,"[PortalGroupID] [int] NOT NULL IDENTITY(1, 1),", "[ProtalGroupID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[MasterPortalID] [int] NULL,", "[AuthenticationDomain] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[PortalGroupName] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[PortalGroupDescription] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[AuthenticationDomain] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[MasterPortalID] [int] NULL,"),  new Array(1," ", "[PortalGroupDescription] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PortalGroupName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PortalGroups] ADD CONSTRAINT [PK_PortalGroup] PRIMARY KEY CLUSTERED  ([PortalGroupID])", "ALTER TABLE [dbo].[PortalGroups] ADD CONSTRAINT [PK_PortalGroups] PRIMARY KEY CLUSTERED  ([ProtalGroupID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PortalLanguages]", "CREATE TABLE [dbo].[PortalLanguages]"),  new Array(0,"(", "("),  new Array(0,"[PortalLanguageID] [int] NOT NULL IDENTITY(1, 1),", "[PortalLanguageID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NOT NULL,", " "),  new Array(1,"[LanguageID] [int] NOT NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[IsPublished] [bit] NOT NULL,"),  new Array(1," ", "[LanguageID] [int] NOT NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[IsPublished] [bit] NOT NULL CONSTRAINT [DF_PortalLanguages_IsPublished] DEFAULT ((0))", "[PortalID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[PortalLanguages] ADD CONSTRAINT [PK_PortalLanguages] PRIMARY KEY CLUSTERED  ([PortalLanguageID])", "ALTER TABLE [dbo].[PortalLanguages] ADD CONSTRAINT [PK_PortalLanguages] PRIMARY KEY CLUSTERED  ([PortalLanguageID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_PortalLanguages] ON [dbo].[PortalLanguages] ([PortalID], [LanguageID])", "CREATE NONCLUSTERED INDEX [IX_PortalLanguages_LanguageID] ON [dbo].[PortalLanguages] ([LanguageID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_PortalLanguages_PortalID] ON [dbo].[PortalLanguages] ([PortalID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PortalLanguages] WITH NOCHECK ADD CONSTRAINT [FK_PortalLanguages_PortalLanguages] FOREIGN KEY ([LanguageID]) REFERENCES [dbo].[Languages] ([LanguageID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PortalLanguages] ADD CONSTRAINT [FK_PortalLanguages_Languages_LanguageID] FOREIGN KEY ([LanguageID]) REFERENCES [dbo].[Languages] ([LanguageID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[PortalLanguages] ADD CONSTRAINT [FK_PortalLanguages_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PortalLanguages] ADD CONSTRAINT [FK_PortalLanguages_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PortalLocalization]", "CREATE TABLE [dbo].[PortalLocalization]"),  new Array(0,"(", "("),  new Array(1,"[PortalID] [int] NOT NULL,", "[PortalID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[CultureCode] [nvarchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[PortalName] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[LogoFile] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[FooterText] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Description] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[KeyWords] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[BackgroundFile] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[HomeTabId] [int] NULL,", " "),  new Array(1,"[LoginTabId] [int] NULL,", " "),  new Array(1,"[UserTabId] [int] NULL,", " "),  new Array(0,"[AdminTabId] [int] NULL,", "[AdminTabId] [int] NULL,"),  new Array(1,"[SplashTabId] [int] NULL,", "[BackgroundFile] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[CultureCode] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[FooterText] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[HomeTabId] [int] NULL,"),  new Array(1," ", "[KeyWords] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[RegisterTabId] [int] NULL,", "[LoginTabId] [int] NULL,"),  new Array(1,"[SearchTabId] [int] NULL,", "[LogoFile] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Custom404TabId] [int] NULL,", "[PortalID1] [int] NULL,"),  new Array(1,"[Custom500TabId] [int] NULL", "[PortalName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[SplashTabId] [int] NULL,"),  new Array(1," ", "[UserTabId] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PortalLocalization] ADD CONSTRAINT [PK_PortalLocalization] PRIMARY KEY CLUSTERED  ([PortalID], [CultureCode])", "ALTER TABLE [dbo].[PortalLocalization] ADD CONSTRAINT [PK_PortalLocalization] PRIMARY KEY CLUSTERED  ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_PortalLocalization_PortalID1] ON [dbo].[PortalLocalization] ([PortalID1])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PortalLocalization] ADD CONSTRAINT [FK_PortalLocalization_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PortalLocalization] ADD CONSTRAINT [FK_PortalLocalization_Portals_PortalID1] FOREIGN KEY ([PortalID1]) REFERENCES [dbo].[Portals] ([PortalID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Portals]", "CREATE TABLE [dbo].[Portals]"),  new Array(0,"(", "("),  new Array(1,"[PortalID] [int] NOT NULL IDENTITY(0, 1),", "[PortalID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[ExpiryDate] [datetime] NULL,", " "),  new Array(1,"[UserRegistration] [int] NOT NULL CONSTRAINT [DF_Portals_UserRegistration] DEFAULT ((0)),", " "),  new Array(1,"[BannerAdvertising] [int] NOT NULL CONSTRAINT [DF_Portals_BannerAdvertising] DEFAULT ((0)),", " "),  new Array(0,"[AdministratorId] [int] NULL,", "[AdministratorID] [int] NULL,"),  new Array(1,"[Currency] [char] (3) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[HostFee] [money] NOT NULL CONSTRAINT [DF_Portals_HostFee] DEFAULT ((0)),", " "),  new Array(1,"[HostSpace] [int] NOT NULL CONSTRAINT [DF_Portals_HostSpace] DEFAULT ((0)),", " "),  new Array(0,"[AdministratorRoleId] [int] NULL,", "[AdministratorRoleId] [int] NULL,"),  new Array(1,"[RegisteredRoleId] [int] NULL,", "[BannerAdvertising] [int] NOT NULL,"),  new Array(1,"[GUID] [uniqueidentifier] NOT NULL CONSTRAINT [DF_Portals_GUID] DEFAULT (newid()),", " "),  new Array(1,"[PaymentProcessor] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[ProcessorUserId] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[ProcessorPassword] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[SiteLogHistory] [int] NULL,", " "),  new Array(1,"[DefaultLanguage] [nvarchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL CONSTRAINT [DF_Portals_DefaultLanguage] DEFAULT (\'en-US\'),", " "),  new Array(1,"[TimezoneOffset] [int] NOT NULL CONSTRAINT [DF_Portals_TimezoneOffset] DEFAULT ((-8)),", " "),  new Array(1,"[HomeDirectory] [varchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL CONSTRAINT [DF_Portals_HomeDirectory] DEFAULT (\'\'),", " "),  new Array(1,"[PageQuota] [int] NOT NULL CONSTRAINT [DF_Portals_PageQuota] DEFAULT ((0)),", " "),  new Array(1,"[UserQuota] [int] NOT NULL CONSTRAINT [DF_Portals_UserQuota] DEFAULT ((0)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Currency] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[DefaultLanguage] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ExpiryDate] [datetime2] NULL,"),  new Array(1," ", "[GUID] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[HomeDirectory] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[HostFee] [decimal] (18, 2) NOT NULL,"),  new Array(1," ", "[HostSpace] [int] NOT NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[PortalGroupID] [int] NULL", "[PageQuota] [int] NOT NULL,"),  new Array(1," ", "[PaymentProcessor] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ProcessorPassword] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ProcessorUserId] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[RegisteredRoleId] [int] NULL,"),  new Array(1," ", "[SiteLogHistory] [int] NULL,"),  new Array(1," ", "[TimezoneOffset] [int] NOT NULL,"),  new Array(1," ", "[UserQuota] [int] NOT NULL,"),  new Array(1," ", "[UserRegistration] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Portals] ADD CONSTRAINT [PK_Portals] PRIMARY KEY CLUSTERED  ([PortalID])", "ALTER TABLE [dbo].[Portals] ADD CONSTRAINT [PK_Portals] PRIMARY KEY CLUSTERED  ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Portals_AdministratorId] ON [dbo].[Portals] ([AdministratorId])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Portals_DefaultLanguage] ON [dbo].[Portals] ([DefaultLanguage])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[PortalSettings]", "CREATE TABLE [dbo].[PortalSettings]"),  new Array(0,"(", "("),  new Array(0,"[PortalSettingID] [int] NOT NULL IDENTITY(1, 1),", "[PortalSettingID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NOT NULL,", " "),  new Array(1,"[SettingName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[CultureCode] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[CultureCode] [nvarchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[PortalID] [int] NOT NULL,"),  new Array(1," ", "[SettingName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PortalSettings] ADD CONSTRAINT [PK_PortalSettings] PRIMARY KEY NONCLUSTERED  ([PortalSettingID])", "ALTER TABLE [dbo].[PortalSettings] ADD CONSTRAINT [PK_PortalSettings] PRIMARY KEY CLUSTERED  ([PortalSettingID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE CLUSTERED INDEX [IX_PortalSettings] ON [dbo].[PortalSettings] ([PortalID], [CultureCode], [SettingName])", "CREATE NONCLUSTERED INDEX [IX_PortalSettings_PortalID] ON [dbo].[PortalSettings] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PortalSettings] ADD CONSTRAINT [FK_PortalSettings_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[PortalSettings] ADD CONSTRAINT [FK_PortalSettings_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Profile]", "CREATE TABLE [dbo].[Profile]"),  new Array(0,"(", "("),  new Array(0,"[ProfileId] [int] NOT NULL IDENTITY(1, 1),", "[ProfileId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[UserId] [int] NOT NULL,", "[CreatedDate] [datetime2] NOT NULL,"),  new Array(0,"[PortalId] [int] NOT NULL,", "[PortalId] [int] NOT NULL,"),  new Array(1,"[ProfileData] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[ProfileData] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[CreatedDate] [datetime] NOT NULL", "[UserId] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Profile] ADD CONSTRAINT [PK_Profile] PRIMARY KEY CLUSTERED  ([ProfileId])", "ALTER TABLE [dbo].[Profile] ADD CONSTRAINT [PK_Profile] PRIMARY KEY CLUSTERED  ([ProfileId])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_Profile] ON [dbo].[Profile] ([UserId], [PortalId])", "CREATE NONCLUSTERED INDEX [IX_Profile_PortalId] ON [dbo].[Profile] ([PortalId])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Profile_UserId] ON [dbo].[Profile] ([UserId])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Profile] ADD CONSTRAINT [FK_Profile_Portals] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Profile] ADD CONSTRAINT [FK_Profile_Portals_PortalId] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Profile] ADD CONSTRAINT [FK_Profile_Users] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Profile] ADD CONSTRAINT [FK_Profile_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ProfilePropertyDefinition]", "CREATE TABLE [dbo].[ProfilePropertyDefinition]"),  new Array(0,"(", "("),  new Array(0,"[PropertyDefinitionID] [int] NOT NULL IDENTITY(1, 1),", "[PropertyDefinitionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[ModuleDefID] [int] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1,"[Deleted] [bit] NOT NULL,", " "),  new Array(0,"[DataType] [int] NOT NULL,", "[DataType] [int] NOT NULL,"),  new Array(1,"[DefaultValue] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[DefaultValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[PropertyCategory] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[DefaultVisibility] [int] NULL,"),  new Array(1,"[PropertyName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[Deleted] [bit] NOT NULL,"),  new Array(1,"[Length] [int] NOT NULL CONSTRAINT [DF_ProfilePropertyDefinition_Length] DEFAULT ((0)),", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Length] [int] NOT NULL,"),  new Array(1," ", "[ModuleDefId] [int] NULL,"),  new Array(1," ", "[PortalID] [int] NULL,"),  new Array(1," ", "[PropertyCategory] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PropertyName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ReadOnly] [bit] NOT NULL,"),  new Array(0,"[Required] [bit] NOT NULL,", "[Required] [bit] NOT NULL,"),  new Array(1,"[ValidationExpression] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[ValidationExpression] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[ViewOrder] [int] NOT NULL,", "[ViewOrder] [int] NOT NULL,"),  new Array(1,"[Visible] [bit] NOT NULL,", "[Visible] [bit] NOT NULL"),  new Array(1,"[CreatedByUserID] [int] NULL,", " "),  new Array(1,"[CreatedOnDate] [datetime] NULL,", " "),  new Array(1,"[LastModifiedByUserID] [int] NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", " "),  new Array(1,"[DefaultVisibility] [int] NULL,", " "),  new Array(1,"[ReadOnly] [bit] NOT NULL CONSTRAINT [DF_ProfilePropertyDefinition_ReadOnly] DEFAULT ((0))", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ProfilePropertyDefinition] ADD CONSTRAINT [PK_ProfilePropertyDefinition] PRIMARY KEY CLUSTERED  ([PropertyDefinitionID])", "ALTER TABLE [dbo].[ProfilePropertyDefinition] ADD CONSTRAINT [PK_ProfilePropertyDefinition] PRIMARY KEY CLUSTERED  ([PropertyDefinitionID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_ProfilePropertyDefinition] ON [dbo].[ProfilePropertyDefinition] ([PortalID], [ModuleDefID], [PropertyName])", "CREATE NONCLUSTERED INDEX [IX_ProfilePropertyDefinition_PortalID] ON [dbo].[ProfilePropertyDefinition] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_ProfilePropertyDefinition_PropertyName] ON [dbo].[ProfilePropertyDefinition] ([PropertyName])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ProfilePropertyDefinition] WITH NOCHECK ADD CONSTRAINT [FK_ProfilePropertyDefinition_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ProfilePropertyDefinition] ADD CONSTRAINT [FK_ProfilePropertyDefinition_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[RedirectMessages]", "CREATE TABLE [dbo].[RedirectMessages]"),  new Array(0,"(", "("),  new Array(1,"[MessageId] [uniqueidentifier] NOT NULL CONSTRAINT [Guid_Default] DEFAULT (newid()),", "[MessageId] [uniqueidentifier] NOT NULL,"),  new Array(1,"[UserId] [int] NULL,", "[CreatedOnDate] [datetime2] NOT NULL,"),  new Array(1," ", "[MessageText] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[TabId] [int] NULL,", "[TabId] [int] NULL,"),  new Array(1,"[MessageText] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[UserId] [int] NULL"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL CONSTRAINT [DF__RedirectM__Creat__5F891AA4] DEFAULT (getdate())", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[RedirectMessages] ADD CONSTRAINT [PK_RedirectMessages] PRIMARY KEY CLUSTERED  ([MessageId])", "ALTER TABLE [dbo].[RedirectMessages] ADD CONSTRAINT [PK_RedirectMessages] PRIMARY KEY CLUSTERED  ([MessageId])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_RedirectMessages_CreatedOnDate] ON [dbo].[RedirectMessages] ([CreatedOnDate])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Relationships]", "CREATE TABLE [dbo].[Relationships]"),  new Array(0,"(", "("),  new Array(0,"[RelationshipID] [int] NOT NULL IDENTITY(1, 1),", "[RelationshipId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[RelationshipTypeID] [int] NOT NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[Name] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1,"[Description] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[PortalID] [int] NULL,", " "),  new Array(1,"[UserID] [int] NULL,", " "),  new Array(0,"[DefaultResponse] [int] NOT NULL,", "[DefaultResponse] [int] NOT NULL,"),  new Array(1,"[CreatedByUserID] [int] NOT NULL,", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL CONSTRAINT [DF_Relationships_CreatedOnDate] DEFAULT (getdate()),", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedByUserID] [int] NOT NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL CONSTRAINT [DF_Relationships_LastModifiedOnDate] DEFAULT (getdate())", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PortalID] [int] NULL,"),  new Array(1," ", "[RelationshipTypeID] [int] NOT NULL,"),  new Array(1," ", "[UserID] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Relationships] ADD CONSTRAINT [PK_Relationships] PRIMARY KEY CLUSTERED  ([RelationshipID])", "ALTER TABLE [dbo].[Relationships] ADD CONSTRAINT [PK_Relationships] PRIMARY KEY CLUSTERED  ([RelationshipId])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Relationships_UserID] ON [dbo].[Relationships] ([UserID])", "CREATE NONCLUSTERED INDEX [IX_Relationships_PortalID] ON [dbo].[Relationships] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Relationships_RelationshipTypeID] ON [dbo].[Relationships] ([RelationshipTypeID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Relationships_UserID] ON [dbo].[Relationships] ([UserID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Relationships] ADD CONSTRAINT [FK_Relationships_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Relationships] ADD CONSTRAINT [FK_Relationships_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Relationships] WITH NOCHECK ADD CONSTRAINT [FK_Relationships_RelationshipTypes] FOREIGN KEY ([RelationshipTypeID]) REFERENCES [dbo].[RelationshipTypes] ([RelationshipTypeID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Relationships] ADD CONSTRAINT [FK_Relationships_RelationshipTypes_RelationshipTypeID] FOREIGN KEY ([RelationshipTypeID]) REFERENCES [dbo].[RelationshipTypes] ([RelationshipTypeID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Relationships] ADD CONSTRAINT [FK_Relationships_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Relationships] ADD CONSTRAINT [FK_Relationships_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[RelationshipTypes]", "CREATE TABLE [dbo].[RelationshipTypes]"),  new Array(0,"(", "("),  new Array(0,"[RelationshipTypeID] [int] NOT NULL IDENTITY(1, 1),", "[RelationshipTypeID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[Direction] [int] NOT NULL,", "[Direction] [int] NOT NULL,"),  new Array(1,"[Name] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[Description] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[CreatedByUserID] [int] NOT NULL,", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL CONSTRAINT [DF_RelationshipTypes_CreatedOnDate] DEFAULT (getdate()),", " "),  new Array(1,"[LastModifiedByUserID] [int] NOT NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL CONSTRAINT [DF_RelationshipTypes_LastModifiedOnDate] DEFAULT (getdate())", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[RelationshipTypes] ADD CONSTRAINT [PK_RelationshipTypes] PRIMARY KEY CLUSTERED  ([RelationshipTypeID])", "ALTER TABLE [dbo].[RelationshipTypes] ADD CONSTRAINT [PK_RelationshipTypes] PRIMARY KEY CLUSTERED  ([RelationshipTypeID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[RoleGroups]", "CREATE TABLE [dbo].[RoleGroups]"),  new Array(0,"(", "("),  new Array(1,"[RoleGroupID] [int] NOT NULL IDENTITY(0, 1),", "[RoleGroupID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NOT NULL,", " "),  new Array(1,"[RoleGroupName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Description] [nvarchar] (1000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[PortalID] [int] NOT NULL,"),  new Array(1," ", "[RoleGroupName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[RoleGroups] ADD CONSTRAINT [PK_RoleGroups] PRIMARY KEY CLUSTERED  ([RoleGroupID])", "ALTER TABLE [dbo].[RoleGroups] ADD CONSTRAINT [PK_RoleGroups] PRIMARY KEY CLUSTERED  ([RoleGroupID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[RoleGroups] ADD CONSTRAINT [IX_RoleGroupName] UNIQUE NONCLUSTERED  ([PortalID], [RoleGroupName])", "CREATE NONCLUSTERED INDEX [IX_RoleGroups_PortalID] ON [dbo].[RoleGroups] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[RoleGroups] ADD CONSTRAINT [FK_RoleGroups_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[RoleGroups] ADD CONSTRAINT [FK_RoleGroups_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[RoleSettings]", "CREATE TABLE [dbo].[RoleSettings]"),  new Array(0,"(", "("),  new Array(0,"[RoleSettingID] [int] NOT NULL IDENTITY(1, 1),", "[RoleSettingID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(0,"[RoleID] [int] NOT NULL,", "[RoleID] [int] NOT NULL,"),  new Array(1,"[SettingName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SettingName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[CreatedByUserID] [int] NOT NULL,", " "),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL CONSTRAINT [DF_RoleSettings_CreatedOnDate] DEFAULT (getdate()),", " "),  new Array(1,"[LastModifiedByUserID] [int] NOT NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL CONSTRAINT [DF_RoleSettings_LastModifiedOnDate] DEFAULT (getdate())", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[RoleSettings] ADD CONSTRAINT [PK_RoleSettings] PRIMARY KEY CLUSTERED  ([RoleSettingID])", "ALTER TABLE [dbo].[RoleSettings] ADD CONSTRAINT [PK_RoleSettings] PRIMARY KEY CLUSTERED  ([RoleSettingID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Schedule]", "CREATE TABLE [dbo].[Schedule]"),  new Array(0,"(", "("),  new Array(0,"[ScheduleID] [int] NOT NULL IDENTITY(1, 1),", "[ScheduleID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[TypeFullName] [varchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[AttachToEvent] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[TimeLapse] [int] NOT NULL,", " "),  new Array(1,"[TimeLapseMeasurement] [varchar] (2) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[RetryTimeLapse] [int] NOT NULL,", " "),  new Array(1,"[RetryTimeLapseMeasurement] [varchar] (2) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[RetainHistoryNum] [int] NOT NULL,", " "),  new Array(1,"[AttachToEvent] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[CatchUpEnabled] [bit] NOT NULL,", "[CatchUpEnabled] [bit] NOT NULL,"),  new Array(1,"[Enabled] [bit] NOT NULL,", " "),  new Array(1,"[ObjectDependencies] [varchar] (300) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Servers] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Enabled] [bit] NOT NULL,"),  new Array(1," ", "[FriendlyName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[FriendlyName] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[ObjectDependencies] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[ScheduleStartDate] [datetime] NULL", "[RetainHistoryNumber] [int] NOT NULL,"),  new Array(1," ", "[RetryTimeLapse] [int] NOT NULL,"),  new Array(1," ", "[RetryTimeLapseMeasurement] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ScheduleStartDate] [datetime2] NOT NULL,"),  new Array(1," ", "[Servers] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[TimeLapse] [int] NOT NULL,"),  new Array(1," ", "[TimeLapseMeasurement] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[TypeFullName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Schedule] ADD CONSTRAINT [PK_Schedule] PRIMARY KEY CLUSTERED  ([ScheduleID])", "ALTER TABLE [dbo].[Schedule] ADD CONSTRAINT [PK_Schedule] PRIMARY KEY CLUSTERED  ([ScheduleID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ScheduleHistory]", "CREATE TABLE [dbo].[ScheduleHistory]"),  new Array(0,"(", "("),  new Array(0,"[ScheduleHistoryID] [int] NOT NULL IDENTITY(1, 1),", "[ScheduleHistoryID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[EndDate] [datetime2] NOT NULL,"),  new Array(1," ", "[LogNotes] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[NextStart] [datetime2] NULL,"),  new Array(0,"[ScheduleID] [int] NOT NULL,", "[ScheduleID] [int] NOT NULL,"),  new Array(1,"[StartDate] [datetime] NOT NULL,", "[Server] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[EndDate] [datetime] NULL,", "[StartDate] [datetime2] NOT NULL,"),  new Array(1,"[Succeeded] [bit] NULL,", "[Succeeded] [bit] NULL"),  new Array(1,"[LogNotes] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[NextStart] [datetime] NULL,", " "),  new Array(1,"[Server] [nvarchar] (150) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[ScheduleHistory] ADD CONSTRAINT [PK_ScheduleHistory] PRIMARY KEY CLUSTERED  ([ScheduleHistoryID])", "ALTER TABLE [dbo].[ScheduleHistory] ADD CONSTRAINT [PK_ScheduleHistory] PRIMARY KEY CLUSTERED  ([ScheduleHistoryID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_ScheduleHistory_NextStart] ON [dbo].[ScheduleHistory] ([ScheduleID], [NextStart] DESC)", "CREATE NONCLUSTERED INDEX [IX_ScheduleHistory_ScheduleID] ON [dbo].[ScheduleHistory] ([ScheduleID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_ScheduleHistory_StartDate] ON [dbo].[ScheduleHistory] ([ScheduleID], [StartDate] DESC)", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ScheduleHistory] WITH NOCHECK ADD CONSTRAINT [FK_ScheduleHistory_Schedule] FOREIGN KEY ([ScheduleID]) REFERENCES [dbo].[Schedule] ([ScheduleID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ScheduleHistory] ADD CONSTRAINT [FK_ScheduleHistory_Schedule_ScheduleID] FOREIGN KEY ([ScheduleID]) REFERENCES [dbo].[Schedule] ([ScheduleID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[ScheduleItemSettings]", "CREATE TABLE [dbo].[ScheduleItemSettings]"),  new Array(0,"(", "("),  new Array(1,"[ScheduleID] [int] NOT NULL,", "[ScheduleID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[SettingName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[ScheduleID1] [int] NULL,"),  new Array(1,"[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[SettingName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ScheduleItemSettings] ADD CONSTRAINT [PK_ScheduleItemSettings] PRIMARY KEY CLUSTERED  ([ScheduleID], [SettingName])", "ALTER TABLE [dbo].[ScheduleItemSettings] ADD CONSTRAINT [PK_ScheduleItemSettings] PRIMARY KEY CLUSTERED  ([ScheduleID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_ScheduleItemSettings_ScheduleID1] ON [dbo].[ScheduleItemSettings] ([ScheduleID1])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ScheduleItemSettings] WITH NOCHECK ADD CONSTRAINT [FK_ScheduleItemSettings_Schedule] FOREIGN KEY ([ScheduleID]) REFERENCES [dbo].[Schedule] ([ScheduleID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[ScheduleItemSettings] ADD CONSTRAINT [FK_ScheduleItemSettings_Schedule_ScheduleID1] FOREIGN KEY ([ScheduleID1]) REFERENCES [dbo].[Schedule] ([ScheduleID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[SearchCommonWords]", "CREATE TABLE [dbo].[SearchCommonWords]"),  new Array(0,"(", "("),  new Array(0,"[CommonWordID] [int] NOT NULL IDENTITY(1, 1),", "[CommonWordID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[CommonWord] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[CommonWord] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Locale] [nvarchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[Locale] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[SearchCommonWords] ADD CONSTRAINT [PK_SearchCommonWords] PRIMARY KEY CLUSTERED  ([CommonWordID])", "ALTER TABLE [dbo].[SearchCommonWords] ADD CONSTRAINT [PK_SearchCommonWords] PRIMARY KEY CLUSTERED  ([CommonWordID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[SearchDeletedItems]", "CREATE TABLE [dbo].[SearchDeletedItems]"),  new Array(0,"(", "("),  new Array(1,"[SearchDeletedItemsID] [int] NOT NULL IDENTITY(1, 1),", "[SearchDeletedItemID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[DateCreated] [datetime] NOT NULL CONSTRAINT [DF__SearchDel__DateC__40C49C62] DEFAULT (getutcdate()),", "[DateCreated] [datetime2] NOT NULL,"),  new Array(0,"[Document] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[Document] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[SearchDeletedItems] ADD CONSTRAINT [PK_SearchDeletedItems] PRIMARY KEY CLUSTERED  ([SearchDeletedItemsID])", "ALTER TABLE [dbo].[SearchDeletedItems] ADD CONSTRAINT [PK_SearchDeletedItems] PRIMARY KEY CLUSTERED  ([SearchDeletedItemID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_SearchDeletedItems_DateCreated] ON [dbo].[SearchDeletedItems] ([DateCreated])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[SearchIndexer]", "CREATE TABLE [dbo].[SearchIndexer]"),  new Array(0,"(", "("),  new Array(0,"[SearchIndexerID] [int] NOT NULL IDENTITY(1, 1),", "[SearchIndexerID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[SearchIndexerAssemblyQualifiedName] [char] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[SearchIndexerAssemblyQualifiedName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[SearchIndexer] ADD CONSTRAINT [PK_SearchIndexer] PRIMARY KEY CLUSTERED  ([SearchIndexerID])", "ALTER TABLE [dbo].[SearchIndexer] ADD CONSTRAINT [PK_SearchIndexer] PRIMARY KEY CLUSTERED  ([SearchIndexerID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[SearchStopWords]", "CREATE TABLE [dbo].[SearchStopWords]"),  new Array(0,"(", "("),  new Array(0,"[StopWordsID] [int] NOT NULL IDENTITY(1, 1),", "[StopWordsID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[StopWords] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedByUserID] [int] NOT NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL,", "[CultureCode] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[LastModifiedByUserID] [int] NOT NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[PortalID] [int] NOT NULL,", "[PortalID] [int] NULL,"),  new Array(1,"[CultureCode] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[StopWords] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[SearchStopWords] ADD CONSTRAINT [PK_SearchStopWords] PRIMARY KEY CLUSTERED  ([StopWordsID])", "ALTER TABLE [dbo].[SearchStopWords] ADD CONSTRAINT [PK_SearchStopWords] PRIMARY KEY CLUSTERED  ([StopWordsID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[SearchTypes]", "CREATE TABLE [dbo].[SearchTypes]"),  new Array(0,"(", "("),  new Array(0,"[SearchTypeId] [int] NOT NULL IDENTITY(1, 1),", "[SearchTypeID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[SearchTypeName] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[IsPrivate] [bit] NULL,"),  new Array(1,"[SearchResultClass] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SearchResultClass] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[IsPrivate] [bit] NULL CONSTRAINT [DF_SearchTypes_IsPrivate] DEFAULT ((0))", "[SearchTypeName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[SearchTypes] ADD CONSTRAINT [PK_SearchTypes] PRIMARY KEY CLUSTERED  ([SearchTypeId])", "ALTER TABLE [dbo].[SearchTypes] ADD CONSTRAINT [PK_SearchTypes] PRIMARY KEY CLUSTERED  ([SearchTypeID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[SiteLog]", "CREATE TABLE [dbo].[SiteLog]"),  new Array(0,"(", "("),  new Array(0,"[SiteLogId] [int] NOT NULL IDENTITY(1, 1),", "[SiteLogId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[DateTime] [smalldatetime] NOT NULL,", "[AffiliateId] [int] NULL,"),  new Array(1," ", "[DateTime] [datetime2] NOT NULL,"),  new Array(0,"[PortalId] [int] NOT NULL,", "[PortalID] [int] NOT NULL,"),  new Array(1,"[UserId] [int] NULL,", "[Referrer] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Referrer] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Url] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[UserAgent] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[UserHostAddress] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[UserHostName] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(0,"[TabId] [int] NULL,", "[TabId] [int] NULL,"),  new Array(1,"[AffiliateId] [int] NULL", "[Url] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[UserAgent] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[UserHostAddress] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[UserHostName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[UserID] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[SiteLog] ADD CONSTRAINT [PK_SiteLog] PRIMARY KEY CLUSTERED  ([SiteLogId])", "ALTER TABLE [dbo].[SiteLog] ADD CONSTRAINT [PK_SiteLog] PRIMARY KEY CLUSTERED  ([SiteLogId])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_SiteLog] ON [dbo].[SiteLog] ([PortalId])", "CREATE NONCLUSTERED INDEX [IX_SiteLog_PortalID] ON [dbo].[SiteLog] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[SiteLog] ADD CONSTRAINT [FK_SiteLog_Portals] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[SiteLog] ADD CONSTRAINT [FK_SiteLog_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[SkinControls]", "CREATE TABLE [dbo].[SkinControls]"),  new Array(0,"(", "("),  new Array(0,"[SkinControlID] [int] NOT NULL IDENTITY(1, 1),", "[SkinControlID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PackageID] [int] NOT NULL CONSTRAINT [DF_SkinControls_PackageID] DEFAULT ((-1)),", "[ControlKey] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[ControlKey] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[ControlSrc] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[ControlSrc] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IconFile] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[HelpUrl] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[SupportsPartialRendering] [bit] NOT NULL CONSTRAINT [DF_SkinControls_SupportsPartialRendering] DEFAULT ((0)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[HelpURL] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IconFile] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[PackageID] [int] NOT NULL,"),  new Array(1," ", "[SupportsPartialRendering] [bit] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[SkinControls] ADD CONSTRAINT [PK_SkinControls] PRIMARY KEY CLUSTERED  ([SkinControlID])", "ALTER TABLE [dbo].[SkinControls] ADD CONSTRAINT [PK_SkinControls] PRIMARY KEY CLUSTERED  ([SkinControlID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_SkinControls_PackageID] ON [dbo].[SkinControls] ([PackageID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[SkinControls] WITH NOCHECK ADD CONSTRAINT [FK_SkinControls_Packages] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE ON UPDATE CASCADE", "ALTER TABLE [dbo].[SkinControls] ADD CONSTRAINT [FK_SkinControls_Packages_PackageID] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Skins]", "CREATE TABLE [dbo].[Skins]"),  new Array(0,"(", "("),  new Array(0,"[SkinID] [int] NOT NULL IDENTITY(1, 1),", "[SkinID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(0,"[SkinPackageID] [int] NOT NULL,", "[SkinPackageID] [int] NOT NULL,"),  new Array(1,"[SkinSrc] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[SkinSrc] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Skins] ADD CONSTRAINT [PK_Skins] PRIMARY KEY CLUSTERED  ([SkinID])", "ALTER TABLE [dbo].[Skins] ADD CONSTRAINT [PK_Skins] PRIMARY KEY CLUSTERED  ([SkinID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Skins_SkinPackageID] ON [dbo].[Skins] ([SkinPackageID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Skins] WITH NOCHECK ADD CONSTRAINT [FK_Skins_SkinPackages] FOREIGN KEY ([SkinPackageID]) REFERENCES [dbo].[SkinPackages] ([SkinPackageID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Skins] ADD CONSTRAINT [FK_Skins_vSkinPackages_SkinPackageID] FOREIGN KEY ([SkinPackageID]) REFERENCES [dbo].[vSkinPackages] ([SkinPackageID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[SQLQueries]", "CREATE TABLE [dbo].[SQLQueries]"),  new Array(0,"(", "("),  new Array(0,"[QueryId] [int] NOT NULL IDENTITY(1, 1),", "[QueryId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[Name] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[ConnectionStringName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Query] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[ConnectionStringName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1,"[CreatedByUserId] [int] NOT NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[LastModifiedByUserId] [int] NOT NULL,", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL", "[Query] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[SQLQueries] ADD CONSTRAINT [PK_SavedQueries] PRIMARY KEY CLUSTERED  ([QueryId])", "ALTER TABLE [dbo].[SQLQueries] ADD CONSTRAINT [PK_SQLQueries] PRIMARY KEY CLUSTERED  ([QueryId])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[SynonymsGroups]", "CREATE TABLE [dbo].[SynonymsGroups]"),  new Array(0,"(", "("),  new Array(0,"[SynonymsGroupID] [int] NOT NULL IDENTITY(1, 1),", "[SynonymsGroupID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[SynonymsTags] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[CultureCode] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(0,"[PortalID] [int] NOT NULL,", "[PortalID] [int] NOT NULL,"),  new Array(1,"[CultureCode] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SynonymsTags] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[CreatedByUserID] [int] NOT NULL,", " "),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL,", " "),  new Array(1,"[LastModifiedByUserID] [int] NOT NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[SynonymsGroups] ADD CONSTRAINT [PK_SynonymsGroups] PRIMARY KEY CLUSTERED  ([SynonymsGroupID])", "ALTER TABLE [dbo].[SynonymsGroups] ADD CONSTRAINT [PK_SynonymsGroups] PRIMARY KEY CLUSTERED  ([SynonymsGroupID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[SystemMessages]", "CREATE TABLE [dbo].[SystemMessages]"),  new Array(0,"(", "("),  new Array(0,"[MessageID] [int] NOT NULL IDENTITY(1, 1),", "[MessageID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NULL,", "[MessageName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[MessageName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[MessageValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[MessageValue] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[PortalID] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[SystemMessages] ADD CONSTRAINT [PK_SystemMessages] PRIMARY KEY CLUSTERED  ([MessageID])", "ALTER TABLE [dbo].[SystemMessages] ADD CONSTRAINT [PK_SystemMessages] PRIMARY KEY CLUSTERED  ([MessageID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[SystemMessages] ADD CONSTRAINT [IX_SystemMessages] UNIQUE NONCLUSTERED  ([MessageName], [PortalID])", "CREATE NONCLUSTERED INDEX [IX_SystemMessages_PortalID] ON [dbo].[SystemMessages] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[SystemMessages] ADD CONSTRAINT [FK_SystemMessages_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[SystemMessages] ADD CONSTRAINT [FK_SystemMessages_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[TabAliasSkins]", "CREATE TABLE [dbo].[TabAliasSkins]"),  new Array(0,"(", "("),  new Array(0,"[TabAliasSkinId] [int] NOT NULL IDENTITY(1, 1),", "[TabAliasSkinId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[TabId] [int] NOT NULL,", " "),  new Array(1,"[PortalAliasId] [int] NOT NULL,", " "),  new Array(1,"[SkinSrc] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[CreatedByUserId] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserId] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[PortalAliasId] [int] NOT NULL,"),  new Array(1," ", "[SkinSrc] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[TabId] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[TabAliasSkins] ADD CONSTRAINT [PK_TabAliasSkin] PRIMARY KEY CLUSTERED  ([TabAliasSkinId])", "ALTER TABLE [dbo].[TabAliasSkins] ADD CONSTRAINT [PK_TabAliasSkins] PRIMARY KEY CLUSTERED  ([TabAliasSkinId])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[TabModules]", "CREATE TABLE [dbo].[TabModules]"),  new Array(0,"(", "("),  new Array(0,"[TabModuleID] [int] NOT NULL IDENTITY(1, 1),", "[TabModuleID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[TabID] [int] NOT NULL,", "[Alignment] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Border] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[CacheMethod] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[CacheTime] [int] NOT NULL,"),  new Array(1," ", "[Color] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ContainerSrc] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[CultureCode] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[DefaultLanguageGUID] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[DisplayPrint] [int] NOT NULL,"),  new Array(1," ", "[DisplaySyndicate] [int] NOT NULL,"),  new Array(1," ", "[DisplayTitle] [int] NOT NULL,"),  new Array(1," ", "[ElementId] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Footer] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Header] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IconFile] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IsDeleted] [int] NOT NULL,"),  new Array(1," ", "[IsWebSlice] [int] NOT NULL,"),  new Array(1," ", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[LocalizedVersionGUID] [uniqueidentifier] NOT NULL,"),  new Array(0,"[ModuleID] [int] NOT NULL,", "[ModuleID] [int] NOT NULL,"),  new Array(1,"[PaneName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[ModuleOrder] [int] NOT NULL,", "[ModuleOrder] [int] NOT NULL,"),  new Array(1,"[CacheTime] [int] NOT NULL,", "[ModuleTitle] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Alignment] [nvarchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[Order] [int] NOT NULL,"),  new Array(1,"[Color] [nvarchar] (20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[PageId] [int] NOT NULL,"),  new Array(1,"[Border] [nvarchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[PaneName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[IconFile] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[TabID] [int] NOT NULL,"),  new Array(1," ", "[UniqueId] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[VersionGUID] [uniqueidentifier] NOT NULL,"),  new Array(0,"[Visibility] [int] NOT NULL,", "[Visibility] [int] NOT NULL,"),  new Array(1,"[ContainerSrc] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[WebSliceExpiryDate] [datetime2] NULL,"),  new Array(1,"[DisplayTitle] [bit] NOT NULL CONSTRAINT [DF_TabModules_DisplayTitle] DEFAULT ((1)),", " "),  new Array(1,"[DisplayPrint] [bit] NOT NULL CONSTRAINT [DF_TabModules_DisplayPrint] DEFAULT ((1)),", " "),  new Array(1,"[DisplaySyndicate] [bit] NOT NULL CONSTRAINT [DF_TabModules_DisplaySyndicate] DEFAULT ((1)),", " "),  new Array(1,"[IsWebSlice] [bit] NOT NULL CONSTRAINT [DF_abModules_IsWebSlice] DEFAULT ((0)),", " "),  new Array(1,"[WebSliceTitle] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[WebSliceExpiryDate] [datetime] NULL,", " "),  new Array(0,"[WebSliceTTL] [int] NULL,", "[WebSliceTTL] [int] NULL,"),  new Array(1,"[CreatedByUserID] [int] NULL,", "[WebSliceTitle] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[CreatedOnDate] [datetime] NULL CONSTRAINT [DF_TabModules_CreatedOnDate] DEFAULT (getdate()),", " "),  new Array(1,"[LastModifiedByUserID] [int] NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NULL CONSTRAINT [DF_TabModules_LastModifiedOnDate] DEFAULT (getdate()),", " "),  new Array(1,"[IsDeleted] [bit] NOT NULL CONSTRAINT [DF_TabModules_IsDeleted] DEFAULT ((0)),", " "),  new Array(1,"[CacheMethod] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[ModuleTitle] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Header] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Footer] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[CultureCode] [nvarchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[UniqueId] [uniqueidentifier] NOT NULL CONSTRAINT [DF_TabModules_Guid] DEFAULT (newid()),", " "),  new Array(1,"[VersionGuid] [uniqueidentifier] NOT NULL CONSTRAINT [DF_TabModules_VersionGuid] DEFAULT (newid()),", " "),  new Array(1,"[DefaultLanguageGuid] [uniqueidentifier] NULL,", " "),  new Array(1,"[LocalizedVersionGuid] [uniqueidentifier] NOT NULL CONSTRAINT [DF_TabModules_LocalizedVersionGuid] DEFAULT (newid())", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[TabModules] ADD CONSTRAINT [PK_TabModules] PRIMARY KEY CLUSTERED  ([TabModuleID])", "ALTER TABLE [dbo].[TabModules] ADD CONSTRAINT [PK_TabModules] PRIMARY KEY CLUSTERED  ([TabModuleID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_TabModules_ModuleID] ON [dbo].[TabModules] ([ModuleID], [TabID]) INCLUDE ([Alignment], [Border], [CacheMethod], [CacheTime], [Color], [ContainerSrc], [CultureCode], [DefaultLanguageGuid], [DisplayPrint], [DisplaySyndicate], [DisplayTitle], [Footer], [Header], [IconFile], [IsDeleted], [IsWebSlice], [LocalizedVersionGuid], [ModuleOrder], [ModuleTitle], [PaneName], [TabModuleID], [UniqueId], [VersionGuid], [Visibility], [WebSliceExpiryDate], [WebSliceTitle], [WebSliceTTL])", "CREATE NONCLUSTERED INDEX [IX_TabModules_ModuleID] ON [dbo].[TabModules] ([ModuleID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_TabModules_TabID] ON [dbo].[TabModules] ([TabID], [ModuleID]) INCLUDE ([CultureCode], [IsDeleted], [ModuleTitle])", "CREATE NONCLUSTERED INDEX [IX_TabModules_TabID] ON [dbo].[TabModules] ([TabID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_TabModules_ModuleOrder] ON [dbo].[TabModules] ([TabID], [PaneName], [ModuleOrder]) INCLUDE ([Alignment], [Border], [CacheMethod], [CacheTime], [Color], [ContainerSrc], [CreatedByUserID], [CreatedOnDate], [CultureCode], [DefaultLanguageGuid], [DisplayPrint], [DisplaySyndicate], [DisplayTitle], [Footer], [Header], [IconFile], [IsDeleted], [IsWebSlice], [LastModifiedByUserID], [LastModifiedOnDate], [LocalizedVersionGuid], [ModuleID], [ModuleTitle], [TabModuleID], [UniqueId], [VersionGuid], [Visibility], [WebSliceExpiryDate], [WebSliceTitle], [WebSliceTTL])", " "),  new Array(1,"GO", " "),  new Array(1,"ALTER TABLE [dbo].[TabModules] ADD CONSTRAINT [IX_TabModules_UniqueId] UNIQUE NONCLUSTERED  ([UniqueId])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[TabModules] WITH NOCHECK ADD CONSTRAINT [FK_TabModules_Modules] FOREIGN KEY ([ModuleID]) REFERENCES [dbo].[Modules] ([ModuleID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[TabModules] ADD CONSTRAINT [FK_TabModules_Modules_ModuleID] FOREIGN KEY ([ModuleID]) REFERENCES [dbo].[Modules] ([ModuleID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[TabModules] WITH NOCHECK ADD CONSTRAINT [FK_TabModules_Tabs] FOREIGN KEY ([TabID]) REFERENCES [dbo].[Tabs] ([TabID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[TabModules] ADD CONSTRAINT [FK_TabModules_Tabs_TabID] FOREIGN KEY ([TabID]) REFERENCES [dbo].[Tabs] ([TabID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[TabModuleSettings]", "CREATE TABLE [dbo].[TabModuleSettings]"),  new Array(0,"(", "("),  new Array(0,"[TabModuleID] [int] NOT NULL,", "[TabModuleID] [int] NOT NULL,"),  new Array(1,"[SettingName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SettingName] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1,"[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[SetttingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[TabModuleSettings] ADD CONSTRAINT [PK_TabModuleSettings] PRIMARY KEY CLUSTERED  ([TabModuleID], [SettingName])", "ALTER TABLE [dbo].[TabModuleSettings] ADD CONSTRAINT [PK_TabModuleSettings] PRIMARY KEY CLUSTERED  ([TabModuleID], [SettingName])"),  new Array(0,"GO", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[TabModuleSettings] ADD CONSTRAINT [AK_TabModuleSettings_SettingName_TabModuleID] UNIQUE NONCLUSTERED  ([SettingName], [TabModuleID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[TabModuleSettings] ADD CONSTRAINT [FK_TabModuleSettings_TabModules] FOREIGN KEY ([TabModuleID]) REFERENCES [dbo].[TabModules] ([TabModuleID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[TabModuleSettings] ADD CONSTRAINT [FK_TabModuleSettings_TabModules_TabModuleID] FOREIGN KEY ([TabModuleID]) REFERENCES [dbo].[TabModules] ([TabModuleID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[TabPermission]", "CREATE TABLE [dbo].[TabPermission]"),  new Array(0,"(", "("),  new Array(0,"[TabPermissionID] [int] NOT NULL IDENTITY(1, 1),", "[TabPermissionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[TabID] [int] NOT NULL,", " "),  new Array(1,"[PermissionID] [int] NOT NULL,", " "),  new Array(0,"[AllowAccess] [bit] NOT NULL,", "[AllowAccess] [bit] NOT NULL,"),  new Array(1,"[RoleID] [int] NULL,", " "),  new Array(1,"[UserID] [int] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[PermissionID] [int] NOT NULL,"),  new Array(1," ", "[RoleID] [int] NULL,"),  new Array(1," ", "[TabID] [int] NOT NULL,"),  new Array(1," ", "[UserID] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[TabPermission] ADD CONSTRAINT [PK_TabPermission] PRIMARY KEY CLUSTERED  ([TabPermissionID])", "ALTER TABLE [dbo].[TabPermission] ADD CONSTRAINT [PK_TabPermission] PRIMARY KEY CLUSTERED  ([TabPermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_TabPermission_Permission] ON [dbo].[TabPermission] ([PermissionID])", "CREATE NONCLUSTERED INDEX [IX_TabPermission_PermissionID] ON [dbo].[TabPermission] ([PermissionID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_TabPermission_Roles] ON [dbo].[TabPermission] ([RoleID], [TabID], [PermissionID]) INCLUDE ([AllowAccess]) WHERE ([RoleID] IS NOT NULL)", "CREATE NONCLUSTERED INDEX [IX_TabPermission_RoleID] ON [dbo].[TabPermission] ([RoleID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_TabPermission_Tabs] ON [dbo].[TabPermission] ([TabID], [PermissionID], [RoleID], [UserID]) INCLUDE ([AllowAccess])", "CREATE NONCLUSTERED INDEX [IX_TabPermission_TabID] ON [dbo].[TabPermission] ([TabID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_TabPermission_Users] ON [dbo].[TabPermission] ([UserID], [TabID], [PermissionID]) INCLUDE ([AllowAccess]) WHERE ([UserID] IS NOT NULL)", "CREATE NONCLUSTERED INDEX [IX_TabPermission_UserID] ON [dbo].[TabPermission] ([UserID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[TabPermission] WITH NOCHECK ADD CONSTRAINT [FK_TabPermission_Permission] FOREIGN KEY ([PermissionID]) REFERENCES [dbo].[Permission] ([PermissionID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[TabPermission] ADD CONSTRAINT [FK_TabPermission_Permission_PermissionID] FOREIGN KEY ([PermissionID]) REFERENCES [dbo].[Permission] ([PermissionID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[TabPermission] ADD CONSTRAINT [FK_TabPermission_Roles] FOREIGN KEY ([RoleID]) REFERENCES [dbo].[Roles] ([RoleID])", "ALTER TABLE [dbo].[TabPermission] ADD CONSTRAINT [FK_TabPermission_Role_RoleID] FOREIGN KEY ([RoleID]) REFERENCES [dbo].[Role] ([RoleID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[TabPermission] WITH NOCHECK ADD CONSTRAINT [FK_TabPermission_Tabs] FOREIGN KEY ([TabID]) REFERENCES [dbo].[Tabs] ([TabID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[TabPermission] ADD CONSTRAINT [FK_TabPermission_Tabs_TabID] FOREIGN KEY ([TabID]) REFERENCES [dbo].[Tabs] ([TabID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[TabPermission] ADD CONSTRAINT [FK_TabPermission_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[TabPermission] ADD CONSTRAINT [FK_TabPermission_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Tabs]", "CREATE TABLE [dbo].[Tabs]"),  new Array(0,"(", "("),  new Array(1,"[TabID] [int] NOT NULL IDENTITY(0, 1),", "[TabID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[TabOrder] [int] NOT NULL CONSTRAINT [DF_Tabs_TabOrder] DEFAULT ((0)),", "[ContainerSrc] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[PortalID] [int] NULL,", "[ContentItemID] [int] NULL,"),  new Array(1,"[TabName] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[IsVisible] [bit] NOT NULL CONSTRAINT [DF_Tabs_IsVisible] DEFAULT ((1)),", " "),  new Array(1,"[ParentId] [int] NULL,", " "),  new Array(1,"[IconFile] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[DisableLink] [bit] NOT NULL CONSTRAINT [DF_Tabs_DisableLink] DEFAULT ((0)),", " "),  new Array(1,"[Title] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Description] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[KeyWords] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IsDeleted] [bit] NOT NULL CONSTRAINT [DF_Tabs_IsDeleted] DEFAULT ((0)),", " "),  new Array(1,"[Url] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[SkinSrc] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[ContainerSrc] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[StartDate] [datetime] NULL,", " "),  new Array(1,"[EndDate] [datetime] NULL,", " "),  new Array(1,"[RefreshInterval] [int] NULL,", " "),  new Array(1,"[PageHeadText] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IsSecure] [bit] NOT NULL CONSTRAINT [DF_Tabs_IsSecure] DEFAULT ((0)),", " "),  new Array(1,"[PermanentRedirect] [bit] NOT NULL CONSTRAINT [DF_Tabs_PermanentRedirect] DEFAULT ((0)),", " "),  new Array(1,"[SiteMapPriority] [float] NOT NULL CONSTRAINT [DF_Tabs_SiteMapPriority] DEFAULT ((0.5)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[CultureCode] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[DefaultLanguageGUID] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[DisableLink] [bit] NOT NULL,"),  new Array(1," ", "[EndDate] [datetime2] NULL,"),  new Array(1," ", "[HasBeenPublished] [bit] NOT NULL,"),  new Array(1," ", "[IconFile] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IconFileLarge] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IsDeleted] [bit] NOT NULL,"),  new Array(1," ", "[IsSecure] [bit] NOT NULL,"),  new Array(1," ", "[IsSystem] [bit] NOT NULL,"),  new Array(1," ", "[IsVisible] [bit] NOT NULL,"),  new Array(1," ", "[Keywords] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[IconFileLarge] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[Level] [int] NOT NULL,"),  new Array(1,"[CultureCode] [nvarchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[LocalizedVersionGUID] [uniqueidentifier] NOT NULL,"),  new Array(1,"[ContentItemID] [int] NULL,", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[UniqueId] [uniqueidentifier] NOT NULL CONSTRAINT [DF_Tabs_Guid] DEFAULT (newid()),", "[PageHeadText] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[VersionGuid] [uniqueidentifier] NOT NULL CONSTRAINT [DF_Tabs_VersionGuid] DEFAULT (newid()),", "[ParentId] [int] NULL,"),  new Array(1,"[DefaultLanguageGuid] [uniqueidentifier] NULL,", "[PermanentRedirect] [bit] NOT NULL,"),  new Array(1,"[LocalizedVersionGuid] [uniqueidentifier] NOT NULL CONSTRAINT [DF_Tabs_LocalizedVersionGuid] DEFAULT (newid()),", "[PortalID] [int] NULL,"),  new Array(1,"[Level] [int] NOT NULL CONSTRAINT [DF__Tabs__Level__7E37BEF6] DEFAULT ((0)),", "[RefreshInterval] [int] NULL,"),  new Array(1,"[TabPath] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL CONSTRAINT [DF__Tabs__TabPath__7F2BE32F] DEFAULT (\'\'),", "[SiteMapPriority] [real] NOT NULL,"),  new Array(1,"[HasBeenPublished] [bit] NOT NULL CONSTRAINT [DF__Tabs__HasBeenPub__00200768] DEFAULT ((0)),", "[SkinSrc] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[IsSystem] [bit] NOT NULL CONSTRAINT [DF__Tabs__IsSystem__01142BA1] DEFAULT ((0))", "[StartDate] [datetime2] NULL,"),  new Array(1," ", "[TabName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[TabOrder] [int] NOT NULL,"),  new Array(1," ", "[TabPath] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Title] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[UniqueId] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[Url] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[VersionGUID] [uniqueidentifier] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Tabs] ADD CONSTRAINT [PK_Tabs] PRIMARY KEY CLUSTERED  ([TabID])", "ALTER TABLE [dbo].[Tabs] ADD CONSTRAINT [PK_Tabs] PRIMARY KEY CLUSTERED  ([TabID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Tabs_ContentID] ON [dbo].[Tabs] ([ContentItemID]) INCLUDE ([CultureCode], [IsDeleted], [IsVisible], [TabID], [TabName], [Title], [UniqueId]) WHERE ([ContentItemId] IS NOT NULL)", "CREATE NONCLUSTERED INDEX [IX_Tabs_ContentItemID] ON [dbo].[Tabs] ([ContentItemID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Tabs_ParentId_IsDeleted] ON [dbo].[Tabs] ([ParentId], [IsDeleted]) INCLUDE ([CreatedOnDate])", "CREATE NONCLUSTERED INDEX [IX_Tabs_ParentId] ON [dbo].[Tabs] ([ParentId])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Tabs_PortalLevelParentOrder] ON [dbo].[Tabs] ([PortalID], [Level], [ParentId], [TabOrder], [IsDeleted]) INCLUDE ([ContainerSrc], [ContentItemID], [CreatedByUserID], [CreatedOnDate], [CultureCode], [DefaultLanguageGuid], [Description], [DisableLink], [EndDate], [IconFile], [IconFileLarge], [IsSecure], [IsVisible], [KeyWords], [LastModifiedByUserID], [LastModifiedOnDate], [LocalizedVersionGuid], [PageHeadText], [PermanentRedirect], [RefreshInterval], [SiteMapPriority], [SkinSrc], [StartDate], [TabID], [TabName], [TabPath], [Title], [UniqueId], [Url], [VersionGuid])", "CREATE NONCLUSTERED INDEX [IX_Tabs_PortalID] ON [dbo].[Tabs] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Tabs] ADD CONSTRAINT [IX_Tabs_UniqueId] UNIQUE NONCLUSTERED  ([UniqueId])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Tabs] ADD CONSTRAINT [FK_Tabs_ContentItems] FOREIGN KEY ([ContentItemID]) REFERENCES [dbo].[ContentItems] ([ContentItemID])", "ALTER TABLE [dbo].[Tabs] ADD CONSTRAINT [FK_Tabs_ContentItems_ContentItemID] FOREIGN KEY ([ContentItemID]) REFERENCES [dbo].[ContentItems] ([ContentItemID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Tabs] WITH NOCHECK ADD CONSTRAINT [FK_Tabs_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Tabs] ADD CONSTRAINT [FK_Tabs_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Tabs] WITH NOCHECK ADD CONSTRAINT [FK_Tabs_Tabs] FOREIGN KEY ([ParentId]) REFERENCES [dbo].[Tabs] ([TabID])", "ALTER TABLE [dbo].[Tabs] ADD CONSTRAINT [FK_Tabs_Tabs_ParentId] FOREIGN KEY ([ParentId]) REFERENCES [dbo].[Tabs] ([TabID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[TabSettings]", "CREATE TABLE [dbo].[TabSettings]"),  new Array(0,"(", "("),  new Array(0,"[TabID] [int] NOT NULL,", "[TabID] [int] NOT NULL,"),  new Array(1,"[SettingName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[SettingName] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1,"[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[SettingValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[TabSettings] ADD CONSTRAINT [PK_TabSettings] PRIMARY KEY NONCLUSTERED  ([TabID], [SettingName])", "ALTER TABLE [dbo].[TabSettings] ADD CONSTRAINT [PK_TabSettings] PRIMARY KEY CLUSTERED  ([TabID], [SettingName])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE CLUSTERED INDEX [IX_TabSettings_TabID_SettingName] ON [dbo].[TabSettings] ([TabID], [SettingName])", "ALTER TABLE [dbo].[TabSettings] ADD CONSTRAINT [AK_TabSettings_SettingName_TabID] UNIQUE NONCLUSTERED  ([SettingName], [TabID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[TabSettings] WITH NOCHECK ADD CONSTRAINT [FK_TabSettings_Tabs] FOREIGN KEY ([TabID]) REFERENCES [dbo].[Tabs] ([TabID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[TabSettings] ADD CONSTRAINT [FK_TabSettings_Tabs_TabID] FOREIGN KEY ([TabID]) REFERENCES [dbo].[Tabs] ([TabID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[TabUrls]", "CREATE TABLE [dbo].[TabUrls]"),  new Array(0,"(", "("),  new Array(0,"[TabId] [int] NOT NULL,", "[TabId] [int] NOT NULL,"),  new Array(0,"[SeqNum] [int] NOT NULL,", "[SeqNum] [int] NOT NULL,"),  new Array(1,"[Url] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[QueryString] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[HttpStatus] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[CultureCode] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IsSystem] [bit] NOT NULL CONSTRAINT [DF_TabUrls_IsSystem] DEFAULT ((0)),", " "),  new Array(1,"[PortalAliasId] [int] NULL,", " "),  new Array(1,"[PortalAliasUsage] [int] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[CultureCode] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[HttpStatus] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IsSystem] [bit] NOT NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[PortalAliasId] [int] NULL,"),  new Array(1," ", "[PortalAliasUsage] [int] NULL,"),  new Array(1," ", "[QueryString] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Url] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[TabUrls] ADD CONSTRAINT [PK_TabRedirect] PRIMARY KEY CLUSTERED  ([TabId], [SeqNum])", "ALTER TABLE [dbo].[TabUrls] ADD CONSTRAINT [PK_TabUrls] PRIMARY KEY CLUSTERED  ([TabId], [SeqNum])"),  new Array(0,"GO", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[TabUrls] ADD CONSTRAINT [AK_TabUrls_SeqNum_TabId] UNIQUE NONCLUSTERED  ([SeqNum], [TabId])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[TabUrls] ADD CONSTRAINT [FK_TabUrls_Tabs] FOREIGN KEY ([TabId]) REFERENCES [dbo].[Tabs] ([TabID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[TabUrls] ADD CONSTRAINT [FK_TabUrls_Tabs_TabId] FOREIGN KEY ([TabId]) REFERENCES [dbo].[Tabs] ([TabID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[TabVersionDetails]", "CREATE TABLE [dbo].[TabVersionDetails]"),  new Array(0,"(", "("),  new Array(0,"[TabVersionDetailId] [int] NOT NULL IDENTITY(1, 1),", "[TabVersionDetailId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[TabVersionId] [int] NOT NULL,", "[Action] [int] NOT NULL,"),  new Array(1," ", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(0,"[ModuleId] [int] NOT NULL,", "[ModuleId] [int] NOT NULL,"),  new Array(1,"[ModuleVersion] [int] NOT NULL,", " "),  new Array(1,"[PaneName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[ModuleOrder] [int] NOT NULL,", "[ModuleOrder] [int] NOT NULL,"),  new Array(1,"[Action] [int] NOT NULL,", "[ModuleVersion] [int] NOT NULL,"),  new Array(1,"[CreatedByUserID] [int] NOT NULL,", "[PageName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL,", "[TabVersionId] [int] NOT NULL"),  new Array(1,"[LastModifiedByUserID] [int] NOT NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[TabVersionDetails] ADD CONSTRAINT [PK_TabVersionDetails] PRIMARY KEY CLUSTERED  ([TabVersionDetailId])", "ALTER TABLE [dbo].[TabVersionDetails] ADD CONSTRAINT [PK_TabVersionDetails] PRIMARY KEY CLUSTERED  ([TabVersionDetailId])"),  new Array(0,"GO", "GO"),  new Array(0,"CREATE NONCLUSTERED INDEX [IX_TabVersionDetails_TabVersionId] ON [dbo].[TabVersionDetails] ([TabVersionId])", "CREATE NONCLUSTERED INDEX [IX_TabVersionDetails_TabVersionId] ON [dbo].[TabVersionDetails] ([TabVersionId])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[TabVersionDetails] ADD CONSTRAINT [IX_TabVersionDetails_Unique(TabVersionId_ModuleId)] UNIQUE NONCLUSTERED  ([TabVersionId], [ModuleId])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[TabVersionDetails] ADD CONSTRAINT [FK_TabVersionDetails_TabVersionId] FOREIGN KEY ([TabVersionId]) REFERENCES [dbo].[TabVersions] ([TabVersionId]) ON DELETE CASCADE", "ALTER TABLE [dbo].[TabVersionDetails] ADD CONSTRAINT [FK_TabVersionDetails_TabVersions_TabVersionId] FOREIGN KEY ([TabVersionId]) REFERENCES [dbo].[TabVersions] ([TabVersionId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[TabVersions]", "CREATE TABLE [dbo].[TabVersions]"),  new Array(0,"(", "("),  new Array(0,"[TabVersionId] [int] NOT NULL IDENTITY(1, 1),", "[TabVersionId] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[TabId] [int] NOT NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[Version] [int] NOT NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1,"[TimeStamp] [datetime] NOT NULL,", " "),  new Array(0,"[IsPublished] [bit] NOT NULL,", "[IsPublished] [bit] NOT NULL,"),  new Array(1,"[CreatedByUserID] [int] NOT NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[LastModifiedByUserID] [int] NOT NULL,", "[TabId] [int] NOT NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL", "[TimeStamp] [datetime2] NOT NULL,"),  new Array(1," ", "[Version] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[TabVersions] ADD CONSTRAINT [PK_TabVersions] PRIMARY KEY CLUSTERED  ([TabVersionId])", "ALTER TABLE [dbo].[TabVersions] ADD CONSTRAINT [PK_TabVersions] PRIMARY KEY CLUSTERED  ([TabVersionId])"),  new Array(0,"GO", "GO"),  new Array(0,"CREATE NONCLUSTERED INDEX [IX_TabVersions_TabId] ON [dbo].[TabVersions] ([TabId])", "CREATE NONCLUSTERED INDEX [IX_TabVersions_TabId] ON [dbo].[TabVersions] ([TabId])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[TabVersions] ADD CONSTRAINT [IX_TabVersions] UNIQUE NONCLUSTERED  ([TabId], [Version] DESC)", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[TabVersions] ADD CONSTRAINT [FK_TabVersions_TabId] FOREIGN KEY ([TabId]) REFERENCES [dbo].[Tabs] ([TabID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[TabVersions] ADD CONSTRAINT [FK_TabVersions_Tabs_TabId] FOREIGN KEY ([TabId]) REFERENCES [dbo].[Tabs] ([TabID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Taxonomy_ScopeTypes]", "CREATE TABLE [dbo].[Taxonomy_ScopeTypes]"),  new Array(0,"(", "("),  new Array(0,"[ScopeTypeID] [int] NOT NULL IDENTITY(1, 1),", "[ScopeTypeID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[ScopeType] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[ScopeType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Taxonomy_ScopeTypes] ADD CONSTRAINT [PK_ScopeTypes] PRIMARY KEY CLUSTERED  ([ScopeTypeID])", "ALTER TABLE [dbo].[Taxonomy_ScopeTypes] ADD CONSTRAINT [PK_Taxonomy_ScopeTypes] PRIMARY KEY CLUSTERED  ([ScopeTypeID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Taxonomy_Terms]", "CREATE TABLE [dbo].[Taxonomy_Terms]"),  new Array(0,"(", "("),  new Array(0,"[TermID] [int] NOT NULL IDENTITY(1, 1),", "[TermID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[VocabularyID] [int] NOT NULL,", " "),  new Array(1,"[ParentTermID] [int] NULL,", " "),  new Array(1,"[Name] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Description] [nvarchar] (2500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Weight] [int] NOT NULL CONSTRAINT [DF_Taxonomy_Terms_Weight] DEFAULT ((0)),", " "),  new Array(1,"[TermLeft] [int] NOT NULL CONSTRAINT [DF_Taxonomy_Terms_TermLeft] DEFAULT ((0)),", " "),  new Array(1,"[TermRight] [int] NOT NULL CONSTRAINT [DF_Taxonomy_Terms_TermRight] DEFAULT ((0)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ParentTermID] [int] NOT NULL,"),  new Array(1," ", "[TermLeft] [int] NOT NULL,"),  new Array(1," ", "[TermRight] [int] NOT NULL,"),  new Array(1," ", "[VocabularyID] [int] NOT NULL,"),  new Array(1," ", "[Weight] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Taxonomy_Terms] ADD CONSTRAINT [PK_Taxonomy_Terms] PRIMARY KEY CLUSTERED  ([TermID])", "ALTER TABLE [dbo].[Taxonomy_Terms] ADD CONSTRAINT [PK_Taxonomy_Terms] PRIMARY KEY CLUSTERED  ([TermID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Taxonomy_Terms_ParentTermID] ON [dbo].[Taxonomy_Terms] ([ParentTermID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Taxonomy_Terms_VocabularyID] ON [dbo].[Taxonomy_Terms] ([VocabularyID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Taxonomy_Terms] ADD CONSTRAINT [FK_Taxonomy_Terms_Taxonomy_Terms] FOREIGN KEY ([ParentTermID]) REFERENCES [dbo].[Taxonomy_Terms] ([TermID])", "ALTER TABLE [dbo].[Taxonomy_Terms] ADD CONSTRAINT [FK_Taxonomy_Terms_Taxonomy_Terms_ParentTermID] FOREIGN KEY ([ParentTermID]) REFERENCES [dbo].[Taxonomy_Terms] ([TermID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Taxonomy_Terms] ADD CONSTRAINT [FK_Taxonomy_Terms_Taxonomy_Vocabularies] FOREIGN KEY ([VocabularyID]) REFERENCES [dbo].[Taxonomy_Vocabularies] ([VocabularyID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Taxonomy_Terms] ADD CONSTRAINT [FK_Taxonomy_Terms_Taxonomy_Vocabularies_VocabularyID] FOREIGN KEY ([VocabularyID]) REFERENCES [dbo].[Taxonomy_Vocabularies] ([VocabularyID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Taxonomy_Vocabularies]", "CREATE TABLE [dbo].[Taxonomy_Vocabularies]"),  new Array(0,"(", "("),  new Array(0,"[VocabularyID] [int] NOT NULL IDENTITY(1, 1),", "[VocabularyID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[VocabularyTypeID] [int] NOT NULL,", " "),  new Array(1,"[Name] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Description] [nvarchar] (2500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Weight] [int] NOT NULL CONSTRAINT [DF_Taxonomy_Vocabularies_Weight] DEFAULT ((0)),", " "),  new Array(1,"[ScopeID] [int] NULL,", " "),  new Array(1,"[ScopeTypeID] [int] NOT NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[IsSystem] [bit] NOT NULL CONSTRAINT [DF_Taxonomy_Vocabularies_IsSystem] DEFAULT ((0))", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ScopeID] [int] NULL,"),  new Array(1," ", "[ScopeTypeID] [int] NOT NULL,"),  new Array(1," ", "[VocabularyTypeID] [int] NOT NULL,"),  new Array(1," ", "[Weight] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Taxonomy_Vocabularies] ADD CONSTRAINT [PK_Taxonomy_Vocabulary] PRIMARY KEY CLUSTERED  ([VocabularyID])", "ALTER TABLE [dbo].[Taxonomy_Vocabularies] ADD CONSTRAINT [PK_Taxonomy_Vocabularies] PRIMARY KEY CLUSTERED  ([VocabularyID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Taxonomy_Vocabularies_ScopeTypeID] ON [dbo].[Taxonomy_Vocabularies] ([ScopeTypeID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Taxonomy_Vocabularies_VocabularyTypeID] ON [dbo].[Taxonomy_Vocabularies] ([VocabularyTypeID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Taxonomy_Vocabularies] ADD CONSTRAINT [FK_Taxonomy_Vocabularies_Taxonomy_ScopeTypes] FOREIGN KEY ([ScopeTypeID]) REFERENCES [dbo].[Taxonomy_ScopeTypes] ([ScopeTypeID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Taxonomy_Vocabularies] ADD CONSTRAINT [FK_Taxonomy_Vocabularies_Taxonomy_ScopeTypes_ScopeTypeID] FOREIGN KEY ([ScopeTypeID]) REFERENCES [dbo].[Taxonomy_ScopeTypes] ([ScopeTypeID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Taxonomy_Vocabularies] ADD CONSTRAINT [FK_Taxonomy_Vocabularies_Taxonomy_VocabularyTypes] FOREIGN KEY ([VocabularyTypeID]) REFERENCES [dbo].[Taxonomy_VocabularyTypes] ([VocabularyTypeID])", "ALTER TABLE [dbo].[Taxonomy_Vocabularies] ADD CONSTRAINT [FK_Taxonomy_Vocabularies_Taxonomy_VocabularyTypes_VocabularyTypeID] FOREIGN KEY ([VocabularyTypeID]) REFERENCES [dbo].[Taxonomy_VocabularyTypes] ([VocabularyTypeID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Taxonomy_VocabularyTypes]", "CREATE TABLE [dbo].[Taxonomy_VocabularyTypes]"),  new Array(0,"(", "("),  new Array(0,"[VocabularyTypeID] [int] NOT NULL IDENTITY(1, 1),", "[VocabularyTypeID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[VocabularyType] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[VocabularyType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Taxonomy_VocabularyTypes] ADD CONSTRAINT [PK_Taxonomy_VocabularyType] PRIMARY KEY CLUSTERED  ([VocabularyTypeID])", "ALTER TABLE [dbo].[Taxonomy_VocabularyTypes] ADD CONSTRAINT [PK_Taxonomy_VocabularyTypes] PRIMARY KEY CLUSTERED  ([VocabularyTypeID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[UrlLog]", "CREATE TABLE [dbo].[UrlLog]"),  new Array(0,"(", "("),  new Array(0,"[UrlLogID] [int] NOT NULL IDENTITY(1, 1),", "[UrlLogID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[ClickDate] [datetime2] NOT NULL,"),  new Array(0,"[UrlTrackingID] [int] NOT NULL,", "[UrlTrackingID] [int] NOT NULL,"),  new Array(1,"[ClickDate] [datetime] NOT NULL,", " "),  new Array(0,"[UserID] [int] NULL", "[UserID] [int] NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[UrlLog] ADD CONSTRAINT [PK_UrlLog] PRIMARY KEY CLUSTERED  ([UrlLogID])", "ALTER TABLE [dbo].[UrlLog] ADD CONSTRAINT [PK_UrlLog] PRIMARY KEY CLUSTERED  ([UrlLogID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_UrlLog_UrlTrackingID] ON [dbo].[UrlLog] ([UrlTrackingID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UrlLog] ADD CONSTRAINT [FK_UrlLog_UrlTracking] FOREIGN KEY ([UrlTrackingID]) REFERENCES [dbo].[UrlTracking] ([UrlTrackingID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UrlLog] ADD CONSTRAINT [FK_UrlLog_UrlTracking_UrlTrackingID] FOREIGN KEY ([UrlTrackingID]) REFERENCES [dbo].[UrlTracking] ([UrlTrackingID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Urls]", "CREATE TABLE [dbo].[Urls]"),  new Array(0,"(", "("),  new Array(0,"[UrlID] [int] NOT NULL IDENTITY(1, 1),", "[UrlID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(0,"[PortalID] [int] NULL,", "[PortalID] [int] NULL,"),  new Array(1,"[Url] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", "[Url] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Urls] ADD CONSTRAINT [PK_Urls] PRIMARY KEY CLUSTERED  ([UrlID])", "ALTER TABLE [dbo].[Urls] ADD CONSTRAINT [PK_Urls] PRIMARY KEY CLUSTERED  ([UrlID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Urls] ADD CONSTRAINT [IX_Urls] UNIQUE NONCLUSTERED  ([Url], [PortalID])", "CREATE NONCLUSTERED INDEX [IX_Urls_PortalID] ON [dbo].[Urls] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Urls] ADD CONSTRAINT [FK_Urls_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[Urls] ADD CONSTRAINT [FK_Urls_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[UrlTracking]", "CREATE TABLE [dbo].[UrlTracking]"),  new Array(0,"(", "("),  new Array(0,"[UrlTrackingID] [int] NOT NULL IDENTITY(1, 1),", "[UrlTrackingID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[PortalID] [int] NULL,", " "),  new Array(1,"[Url] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[UrlType] [char] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[Clicks] [int] NOT NULL,", "[Clicks] [int] NOT NULL,"),  new Array(1,"[LastClick] [datetime] NULL,", "[CreatedDate] [datetime2] NOT NULL,"),  new Array(1,"[CreatedDate] [datetime] NOT NULL,", "[LastClick] [datetime2] NULL,"),  new Array(0,"[LogActivity] [bit] NOT NULL,", "[LogActivity] [bit] NOT NULL,"),  new Array(1,"[TrackClicks] [bit] NOT NULL CONSTRAINT [DF_UrlTracking_TrackClicks] DEFAULT ((1)),", " "),  new Array(0,"[ModuleId] [int] NULL,", "[ModuleID] [int] NULL,"),  new Array(1,"[NewWindow] [bit] NOT NULL CONSTRAINT [DF_UrlTracking_NewWindow] DEFAULT ((0))", "[NewWindow] [bit] NOT NULL,"),  new Array(1," ", "[PortalID] [int] NULL,"),  new Array(1," ", "[TrackClicks] [bit] NOT NULL,"),  new Array(1," ", "[Url] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[UrlType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[UrlTracking] ADD CONSTRAINT [PK_UrlTracking] PRIMARY KEY CLUSTERED  ([UrlTrackingID])", "ALTER TABLE [dbo].[UrlTracking] ADD CONSTRAINT [PK_UrlTracking] PRIMARY KEY CLUSTERED  ([UrlTrackingID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_UrlTracking_ModuleId] ON [dbo].[UrlTracking] ([ModuleId])", "CREATE NONCLUSTERED INDEX [IX_UrlTracking_PortalID] ON [dbo].[UrlTracking] ([PortalID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[UrlTracking] ADD CONSTRAINT [IX_UrlTracking] UNIQUE NONCLUSTERED  ([PortalID], [Url], [ModuleId])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_UrlTracking_Url_ModuleId] ON [dbo].[UrlTracking] ([Url], [ModuleId]) INCLUDE ([NewWindow], [TrackClicks])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UrlTracking] ADD CONSTRAINT [FK_UrlTracking_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UrlTracking] ADD CONSTRAINT [FK_UrlTracking_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[UserAuthentication]", "CREATE TABLE [dbo].[UserAuthentication]"),  new Array(0,"(", "("),  new Array(0,"[UserAuthenticationID] [int] NOT NULL IDENTITY(1, 1),", "[UserAuthenticationID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[UserID] [int] NOT NULL,", "[AuthenticaitonToken] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[AuthenticationType] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[AuthenticationType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[AuthenticationToken] [nvarchar] (1000) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[UserID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[UserAuthentication] ADD CONSTRAINT [PK_UserAuthentication] PRIMARY KEY CLUSTERED  ([UserAuthenticationID])", "ALTER TABLE [dbo].[UserAuthentication] ADD CONSTRAINT [PK_UserAuthentication] PRIMARY KEY CLUSTERED  ([UserAuthenticationID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_UserAuthentication] ON [dbo].[UserAuthentication] ([UserID], [AuthenticationType])", "CREATE NONCLUSTERED INDEX [IX_UserAuthentication_UserID] ON [dbo].[UserAuthentication] ([UserID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UserAuthentication] ADD CONSTRAINT [FK_UserAuthentication_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UserAuthentication] ADD CONSTRAINT [FK_UserAuthentication_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[UserPortals]", "CREATE TABLE [dbo].[UserPortals]"),  new Array(0,"(", "("),  new Array(1,"[UserId] [int] NOT NULL,", "[UserID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[Authorized] [bit] NOT NULL,"),  new Array(1," ", "[CreatedDate] [datetime2] NOT NULL,"),  new Array(1," ", "[IsDeleted] [bit] NOT NULL,"),  new Array(0,"[PortalId] [int] NOT NULL,", "[PortalId] [int] NOT NULL,"),  new Array(1,"[UserPortalId] [int] NOT NULL IDENTITY(1, 1),", "[RefreshRoles] [bit] NOT NULL,"),  new Array(1,"[CreatedDate] [datetime] NOT NULL CONSTRAINT [DF_UserPortals_CreatedDate] DEFAULT (getdate()),", "[UserPortalId] [int] NOT NULL,"),  new Array(1,"[Authorised] [bit] NOT NULL CONSTRAINT [DF_UserPortals_Authorised] DEFAULT ((1)),", "[VanityUrl] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[IsDeleted] [bit] NOT NULL CONSTRAINT [DF_UserPortals_IsDeleted] DEFAULT ((0)),", " "),  new Array(1,"[RefreshRoles] [bit] NOT NULL CONSTRAINT [DF_UserPortals_RefreshRoles] DEFAULT ((0)),", " "),  new Array(1,"[VanityUrl] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UserPortals] ADD CONSTRAINT [PK_UserPortals] PRIMARY KEY CLUSTERED  ([UserId], [PortalId])", "ALTER TABLE [dbo].[UserPortals] ADD CONSTRAINT [PK_UserPortals] PRIMARY KEY CLUSTERED  ([UserID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_UserPortals] ON [dbo].[UserPortals] ([PortalId])", "CREATE NONCLUSTERED INDEX [IX_UserPortals_PortalId] ON [dbo].[UserPortals] ([PortalId])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_UserPortals_PortalId_IsDeleted] ON [dbo].[UserPortals] ([PortalId], [IsDeleted])", "CREATE NONCLUSTERED INDEX [IX_UserPortals_UserID] ON [dbo].[UserPortals] ([UserID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_UserPortals_VanityUrl] ON [dbo].[UserPortals] ([VanityUrl]) INCLUDE ([PortalId], [UserId])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UserPortals] ADD CONSTRAINT [FK_UserPortals_Portals] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UserPortals] ADD CONSTRAINT [FK_UserPortals_Portals_PortalId] FOREIGN KEY ([PortalId]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[UserPortals] ADD CONSTRAINT [FK_UserPortals_Users] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UserPortals] ADD CONSTRAINT [FK_UserPortals_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[UserProfile]", "CREATE TABLE [dbo].[UserProfile]"),  new Array(0,"(", "("),  new Array(0,"[ProfileID] [int] NOT NULL IDENTITY(1, 1),", "[ProfileID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[UserID] [int] NOT NULL,", "[ExtendedVisibility] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[PropertyDefinitionID] [int] NOT NULL,", "[LastUpdatedDate] [datetime2] NOT NULL,"),  new Array(1,"[PropertyValue] [nvarchar] (3750) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[ProfilePropertyDefinitionID] [int] NOT NULL,"),  new Array(0,"[PropertyText] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[PropertyText] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[Visibility] [int] NOT NULL CONSTRAINT [DF__UserProfi__Visib__4F7CD00D] DEFAULT ((0)),", "[PropertyValue] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[LastUpdatedDate] [datetime] NOT NULL,", "[UserID] [int] NOT NULL,"),  new Array(1,"[ExtendedVisibility] [varchar] (400) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", "[Visibility] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[UserProfile] ADD CONSTRAINT [PK_UserProfile] PRIMARY KEY CLUSTERED  ([ProfileID])", "ALTER TABLE [dbo].[UserProfile] ADD CONSTRAINT [PK_UserProfile] PRIMARY KEY CLUSTERED  ([ProfileID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_UserProfile_LastUpdatedDate] ON [dbo].[UserProfile] ([LastUpdatedDate] DESC) INCLUDE ([UserID])", "CREATE NONCLUSTERED INDEX [IX_UserProfile_ProfilePropertyDefinitionID] ON [dbo].[UserProfile] ([ProfilePropertyDefinitionID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_UserProfile_PropertyDefinitionID] ON [dbo].[UserProfile] ([PropertyDefinitionID]) INCLUDE ([ProfileID], [PropertyValue], [UserID])", "CREATE NONCLUSTERED INDEX [IX_UserProfile_UserID] ON [dbo].[UserProfile] ([UserID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_UserProfile] ON [dbo].[UserProfile] ([UserID])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_UserProfile_Visibility] ON [dbo].[UserProfile] ([UserID], [ProfileID]) INCLUDE ([ExtendedVisibility], [LastUpdatedDate], [PropertyDefinitionID], [PropertyText], [PropertyValue], [Visibility])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_UserProfile_UserID_PropertyDefinitionID] ON [dbo].[UserProfile] ([UserID], [PropertyDefinitionID])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UserProfile] WITH NOCHECK ADD CONSTRAINT [FK_UserProfile_ProfilePropertyDefinition] FOREIGN KEY ([PropertyDefinitionID]) REFERENCES [dbo].[ProfilePropertyDefinition] ([PropertyDefinitionID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UserProfile] ADD CONSTRAINT [FK_UserProfile_ProfilePropertyDefinition_ProfilePropertyDefinitionID] FOREIGN KEY ([ProfilePropertyDefinitionID]) REFERENCES [dbo].[ProfilePropertyDefinition] ([PropertyDefinitionID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[UserProfile] ADD CONSTRAINT [FK_UserProfile_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UserProfile] ADD CONSTRAINT [FK_UserProfile_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[UserRelationshipPreferences]", "CREATE TABLE [dbo].[UserRelationshipPreferences]"),  new Array(0,"(", "("),  new Array(0,"[PreferenceID] [int] NOT NULL IDENTITY(1, 1),", "[PreferenceID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[UserID] [int] NOT NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[RelationshipID] [int] NOT NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(0,"[DefaultResponse] [int] NOT NULL,", "[DefaultResponse] [int] NOT NULL,"),  new Array(1,"[CreatedByUserID] [int] NOT NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL CONSTRAINT [DF_UserRelationshipPreferences_CreatedOnDate] DEFAULT (getdate()),", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[LastModifiedByUserID] [int] NOT NULL,", "[RealtionshipID] [int] NOT NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL CONSTRAINT [DF_UserRelationshipPreferences_LastModifiedOnDate] DEFAULT (getdate())", "[RelationshipId] [int] NULL,"),  new Array(1," ", "[UserID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UserRelationshipPreferences] ADD CONSTRAINT [PK_UserRelationshipPreferences] PRIMARY KEY CLUSTERED  ([PreferenceID], [RelationshipID])", "ALTER TABLE [dbo].[UserRelationshipPreferences] ADD CONSTRAINT [PK_UserRelationshipPreferences] PRIMARY KEY CLUSTERED  ([PreferenceID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_UserRelationshipPreferences_RelationshipId] ON [dbo].[UserRelationshipPreferences] ([RelationshipId])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_UserRelationshipPreferences_UserID] ON [dbo].[UserRelationshipPreferences] ([UserID])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UserRelationshipPreferences] ADD CONSTRAINT [FK_UserRelationshipPreferences_Relationships] FOREIGN KEY ([RelationshipID]) REFERENCES [dbo].[Relationships] ([RelationshipID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UserRelationshipPreferences] ADD CONSTRAINT [FK_UserRelationshipPreferences_Relationships_RelationshipId] FOREIGN KEY ([RelationshipId]) REFERENCES [dbo].[Relationships] ([RelationshipId])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[UserRelationshipPreferences] ADD CONSTRAINT [FK_UserRelationshipPreferences_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID])", "ALTER TABLE [dbo].[UserRelationshipPreferences] ADD CONSTRAINT [FK_UserRelationshipPreferences_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[UserRelationships]", "CREATE TABLE [dbo].[UserRelationships]"),  new Array(0,"(", "("),  new Array(0,"[UserRelationshipID] [int] NOT NULL IDENTITY(1, 1),", "[UserRelationshipID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[UserID] [int] NOT NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(0,"[RelatedUserID] [int] NOT NULL,", "[RelatedUserID] [int] NOT NULL,"),  new Array(0,"[RelationshipID] [int] NOT NULL,", "[RelationshipID] [int] NOT NULL,"),  new Array(0,"[Status] [int] NOT NULL,", "[Status] [int] NOT NULL,"),  new Array(1,"[CreatedByUserID] [int] NOT NULL,", "[UserID] [int] NOT NULL"),  new Array(1,"[CreatedOnDate] [datetime] NOT NULL CONSTRAINT [DF_UserRelationships_CreatedOnDate] DEFAULT (getdate()),", " "),  new Array(1,"[LastModifiedByUserID] [int] NOT NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NOT NULL CONSTRAINT [DF_UserRelationships_LastModifiedOnDate] DEFAULT (getdate())", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[UserRelationships] ADD CONSTRAINT [PK_UserRelationships] PRIMARY KEY CLUSTERED  ([UserRelationshipID])", "ALTER TABLE [dbo].[UserRelationships] ADD CONSTRAINT [PK_UserRelationships] PRIMARY KEY CLUSTERED  ([UserRelationshipID])"),  new Array(0,"GO", "GO"),  new Array(0,"CREATE NONCLUSTERED INDEX [IX_UserRelationships_RelatedUserID] ON [dbo].[UserRelationships] ([RelatedUserID])", "CREATE NONCLUSTERED INDEX [IX_UserRelationships_RelatedUserID] ON [dbo].[UserRelationships] ([RelatedUserID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_UserRelationships_UserID] ON [dbo].[UserRelationships] ([UserID])", "CREATE NONCLUSTERED INDEX [IX_UserRelationships_RelationshipID] ON [dbo].[UserRelationships] ([RelationshipID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_UserRelationships_UserID_RelatedUserID_RelationshipID] ON [dbo].[UserRelationships] ([UserID], [RelatedUserID], [RelationshipID])", "CREATE NONCLUSTERED INDEX [IX_UserRelationships_UserID] ON [dbo].[UserRelationships] ([UserID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UserRelationships] ADD CONSTRAINT [FK_UserRelationships_Relationships] FOREIGN KEY ([RelationshipID]) REFERENCES [dbo].[Relationships] ([RelationshipID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UserRelationships] ADD CONSTRAINT [FK_UserRelationships_Relationships_RelationshipID] FOREIGN KEY ([RelationshipID]) REFERENCES [dbo].[Relationships] ([RelationshipId]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[UserRelationships] ADD CONSTRAINT [FK_UserRelationships_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID])", "ALTER TABLE [dbo].[UserRelationships] ADD CONSTRAINT [FK_UserRelationships_Users_RelatedUserID] FOREIGN KEY ([RelatedUserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[UserRelationships] ADD CONSTRAINT [FK_UserRelationships_Users_OnRelatedUser] FOREIGN KEY ([RelatedUserID]) REFERENCES [dbo].[Users] ([UserID])", "ALTER TABLE [dbo].[UserRelationships] ADD CONSTRAINT [FK_UserRelationships_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[UserRoles]", "CREATE TABLE [dbo].[UserRoles]"),  new Array(0,"(", "("),  new Array(0,"[UserRoleID] [int] NOT NULL IDENTITY(1, 1),", "[UserRoleID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[UserID] [int] NOT NULL,", " "),  new Array(1,"[RoleID] [int] NOT NULL,", " "),  new Array(1,"[ExpiryDate] [datetime] NULL,", " "),  new Array(1,"[IsTrialUsed] [bit] NULL,", " "),  new Array(1,"[EffectiveDate] [datetime] NULL,", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[EffectiveDate] [datetime2] NULL,"),  new Array(1," ", "[ExpiryDate] [datetime2] NULL,"),  new Array(1," ", "[IsOwner] [bit] NOT NULL,"),  new Array(1," ", "[IsTrialUsed] [bit] NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[Status] [int] NOT NULL CONSTRAINT [DF_UserRoles_Status] DEFAULT ((1)),", "[RoleID] [int] NOT NULL,"),  new Array(1,"[IsOwner] [bit] NOT NULL CONSTRAINT [DF_UserRoles_IsOwner] DEFAULT ((0))", "[Status] [int] NOT NULL,"),  new Array(1," ", "[UserID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UserRoles] WITH NOCHECK ADD CONSTRAINT [CK_UserRoles_RoleId] CHECK (([RoleId]>=(0)))", " "),  new Array(1,"GO", " "),  new Array(0,"ALTER TABLE [dbo].[UserRoles] ADD CONSTRAINT [PK_UserRoles] PRIMARY KEY CLUSTERED  ([UserRoleID])", "ALTER TABLE [dbo].[UserRoles] ADD CONSTRAINT [PK_UserRoles] PRIMARY KEY CLUSTERED  ([UserRoleID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_UserRoles_RoleUser] ON [dbo].[UserRoles] ([RoleID], [UserID])", "CREATE NONCLUSTERED INDEX [IX_UserRoles_RoleID] ON [dbo].[UserRoles] ([RoleID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_UserRoles_RoleID_UserID] ON [dbo].[UserRoles] ([RoleID], [UserID]) INCLUDE ([CreatedByUserID], [CreatedOnDate], [EffectiveDate], [ExpiryDate], [IsOwner], [IsTrialUsed], [LastModifiedByUserID], [LastModifiedOnDate], [Status], [UserRoleID])", "CREATE NONCLUSTERED INDEX [IX_UserRoles_UserID] ON [dbo].[UserRoles] ([UserID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_UserRoles_UserRole] ON [dbo].[UserRoles] ([UserID], [RoleID])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UserRoles] ADD CONSTRAINT [FK_UserRoles_Roles] FOREIGN KEY ([RoleID]) REFERENCES [dbo].[Roles] ([RoleID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UserRoles] ADD CONSTRAINT [FK_UserRoles_Role_RoleID] FOREIGN KEY ([RoleID]) REFERENCES [dbo].[Role] ([RoleID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[UserRoles] ADD CONSTRAINT [FK_UserRoles_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UserRoles] ADD CONSTRAINT [FK_UserRoles_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Users]", "CREATE TABLE [dbo].[Users]"),  new Array(0,"(", "("),  new Array(0,"[UserID] [int] NOT NULL IDENTITY(1, 1),", "[UserID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[Username] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[FirstName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[LastName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[IsSuperUser] [bit] NOT NULL CONSTRAINT [DF_Users_IsSuperUser] DEFAULT ((0)),", " "),  new Array(0,"[AffiliateId] [int] NULL,", "[AffiliateId] [int] NULL,"),  new Array(1,"[Email] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[DisplayName] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL CONSTRAINT [DF_Users_DisplayName] DEFAULT (\'\'),", " "),  new Array(1,"[UpdatePassword] [bit] NOT NULL CONSTRAINT [DF_Users_UpdatePassword] DEFAULT ((0)),", " "),  new Array(1,"[LastIPAddress] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IsDeleted] [bit] NOT NULL CONSTRAINT [DF_Users_IsDeleted] DEFAULT ((0)),", " "),  new Array(0,"[CreatedByUserID] [int] NULL,", "[CreatedByUserID] [int] NULL,"),  new Array(1,"[CreatedOnDate] [datetime] NULL,", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[DisplayName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Email] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[FirstName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IsDeleted] [bit] NOT NULL,"),  new Array(1," ", "[IsSuperUser] [bit] NOT NULL,"),  new Array(1," ", "[LastIPAddress] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(0,"[LastModifiedByUserID] [int] NULL,", "[LastModifiedByUserID] [int] NULL,"),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1,"[PasswordResetToken] [uniqueidentifier] NULL,", "[LastName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[PasswordResetExpiration] [datetime] NULL,", "[LowerEmail] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[LowerEmail] AS (lower([Email])) PERSISTED", "[PasswordResetExpiration] [datetime2] NULL,"),  new Array(1," ", "[PasswordResetToken] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[UpdatePassword] [bit] NOT NULL,"),  new Array(1," ", "[Username] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Users] ADD CONSTRAINT [PK_Users] PRIMARY KEY CLUSTERED  ([UserID])", "ALTER TABLE [dbo].[Users] ADD CONSTRAINT [PK_Users] PRIMARY KEY CLUSTERED  ([UserID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Users_Email] ON [dbo].[Users] ([Email])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Users_LowerEmail] ON [dbo].[Users] ([Email])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Users_IsDeleted_DisplayName] ON [dbo].[Users] ([IsDeleted], [DisplayName]) INCLUDE ([Email], [IsSuperUser], [UserID])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Users_LastModifiedOnDate] ON [dbo].[Users] ([LastModifiedOnDate] DESC) INCLUDE ([IsSuperUser], [UserID])", " "),  new Array(1,"GO", " "),  new Array(1,"ALTER TABLE [dbo].[Users] ADD CONSTRAINT [IX_Users] UNIQUE NONCLUSTERED  ([Username])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_Users_UserName_UserID] ON [dbo].[Users] ([Username], [UserID]) INCLUDE ([AffiliateId], [CreatedByUserID], [CreatedOnDate], [DisplayName], [Email], [FirstName], [IsDeleted], [IsSuperUser], [LastIPAddress], [LastModifiedByUserID], [LastModifiedOnDate], [LastName], [PasswordResetExpiration], [PasswordResetToken], [UpdatePassword])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[UsersOnline]", "CREATE TABLE [dbo].[UsersOnline]"),  new Array(0,"(", "("),  new Array(1,"[UserID] [int] NOT NULL,", "[UserID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[CreationDate] [datetime2] NOT NULL,"),  new Array(1," ", "[LastActiveDate] [datetime2] NOT NULL,"),  new Array(0,"[PortalID] [int] NOT NULL,", "[PortalID] [int] NOT NULL,"),  new Array(0,"[TabID] [int] NOT NULL,", "[TabID] [int] NOT NULL,"),  new Array(1,"[CreationDate] [datetime] NOT NULL CONSTRAINT [DF__UsersOnli__Creat__3BCADD1B] DEFAULT (getdate()),", "[UserID1] [int] NULL"),  new Array(1,"[LastActiveDate] [datetime] NOT NULL CONSTRAINT [DF__UsersOnli__LastA__3CBF0154] DEFAULT (getdate())", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UsersOnline] ADD CONSTRAINT [PK_UsersOnline] PRIMARY KEY CLUSTERED  ([UserID], [PortalID])", "ALTER TABLE [dbo].[UsersOnline] ADD CONSTRAINT [PK_UsersOnline] PRIMARY KEY CLUSTERED  ([UserID])"),  new Array(0,"GO", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_UsersOnline_PortalID] ON [dbo].[UsersOnline] ([PortalID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_UsersOnline_UserID1] ON [dbo].[UsersOnline] ([UserID1])"),  new Array(1," ", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[UsersOnline] ADD CONSTRAINT [FK_UsersOnline_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UsersOnline] ADD CONSTRAINT [FK_UsersOnline_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[UsersOnline] ADD CONSTRAINT [FK_UsersOnline_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[UsersOnline] ADD CONSTRAINT [FK_UsersOnline_Users_UserID1] FOREIGN KEY ([UserID1]) REFERENCES [dbo].[Users] ([UserID])"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Version]", "CREATE TABLE [dbo].[Version]"),  new Array(0,"(", "("),  new Array(0,"[VersionId] [int] NOT NULL IDENTITY(1, 1),", "[VersionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[Build] [int] NOT NULL,"),  new Array(1," ", "[CreatedDate] [datetime2] NOT NULL,"),  new Array(1," ", "[Increment] [int] NULL,"),  new Array(0,"[Major] [int] NOT NULL,", "[Major] [int] NOT NULL,"),  new Array(0,"[Minor] [int] NOT NULL,", "[Minor] [int] NOT NULL,"),  new Array(1,"[Build] [int] NOT NULL,", "[Name] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[Name] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[CreatedDate] [datetime] NOT NULL,", " "),  new Array(1,"[Increment] [int] NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Version] ADD CONSTRAINT [PK_Version] PRIMARY KEY CLUSTERED  ([VersionId])", "ALTER TABLE [dbo].[Version] ADD CONSTRAINT [PK_Version] PRIMARY KEY CLUSTERED  ([VersionID])"),  new Array(0,"GO", "GO"),  new Array(1,"ALTER TABLE [dbo].[Version] ADD CONSTRAINT [IX_Version] UNIQUE NONCLUSTERED  ([Major], [Minor], [Build], [Increment])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[WebServers]", "CREATE TABLE [dbo].[WebServers]"),  new Array(0,"(", "("),  new Array(0,"[ServerID] [int] NOT NULL IDENTITY(1, 1),", "[ServerID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[ServerName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[CreatedDate] [datetime2] NOT NULL,"),  new Array(1,"[CreatedDate] [datetime] NOT NULL,", "[Enabled] [bit] NOT NULL,"),  new Array(1,"[LastActivityDate] [datetime] NOT NULL,", "[IISAppName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[URL] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[LastActivityDate] [datetime2] NOT NULL,"),  new Array(1,"[IISAppName] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL CONSTRAINT [DF_WebServers_IISAppName] DEFAULT (\'\'),", "[PingFailureCount] [int] NOT NULL,"),  new Array(1,"[Enabled] [bit] NOT NULL CONSTRAINT [DF_WebServers_Enabled] DEFAULT ((1)),", "[ServerGroup] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[ServerGroup] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[ServerName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[UniqueId] [nvarchar] (200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", "[URL] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1,"[PingFailureCount] [int] NOT NULL CONSTRAINT [DF__WebServer__PingF__7814D14C] DEFAULT ((0))", "[UniqueID] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[WebServers] ADD CONSTRAINT [PK_WebServers] PRIMARY KEY CLUSTERED  ([ServerID])", "ALTER TABLE [dbo].[WebServers] ADD CONSTRAINT [PK_WebServers] PRIMARY KEY CLUSTERED  ([ServerID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_WebServers_ServerName] ON [dbo].[WebServers] ([ServerName], [IISAppName])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[Workflow]", "CREATE TABLE [dbo].[Workflow]"),  new Array(0,"(", "("),  new Array(0,"[WorkflowID] [int] NOT NULL IDENTITY(1, 1),", "[WorkflowID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IsDeleted] [bit] NOT NULL,"),  new Array(0,"[PortalID] [int] NULL,", "[PortalID] [int] NULL,"),  new Array(1,"[WorkflowName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", "[WorkflowName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1,"[Description] [nvarchar] (2000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IsDeleted] [bit] NOT NULL", " "),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[Workflow] ADD CONSTRAINT [PK_Workflow] PRIMARY KEY CLUSTERED  ([WorkflowID])", "ALTER TABLE [dbo].[Workflow] ADD CONSTRAINT [PK_Workflow] PRIMARY KEY CLUSTERED  ([WorkflowID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_Workflow] ON [dbo].[Workflow] ([PortalID], [WorkflowName])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", "-- Columns"),  new Array(0,"", ""),  new Array(0,"CREATE TABLE [dbo].[WorkflowStates]", "CREATE TABLE [dbo].[WorkflowStates]"),  new Array(0,"(", "("),  new Array(0,"[StateID] [int] NOT NULL IDENTITY(1, 1),", "[StateID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1,"[WorkflowID] [int] NOT NULL,", " "),  new Array(1,"[StateName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Order] [int] NOT NULL,", " "),  new Array(0,"[IsActive] [bit] NOT NULL,", "[IsActive] [bit] NOT NULL,"),  new Array(1,"[Notify] [bit] NOT NULL", "[Notify] [bit] NOT NULL,"),  new Array(1," ", "[Order] [bit] NOT NULL,"),  new Array(1," ", "[StateName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[WorkflowID] [int] NOT NULL"),  new Array(0,")", ")"),  new Array(0,"GO", "GO"),  new Array(0,"-- Constraints and Indexes", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(0,"ALTER TABLE [dbo].[WorkflowStates] ADD CONSTRAINT [PK_WorkflowStates] PRIMARY KEY CLUSTERED  ([StateID])", "ALTER TABLE [dbo].[WorkflowStates] ADD CONSTRAINT [PK_WorkflowStates] PRIMARY KEY CLUSTERED  ([StateID])"),  new Array(0,"GO", "GO"),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_WorkflowStates] ON [dbo].[WorkflowStates] ([WorkflowID], [StateName])", "CREATE NONCLUSTERED INDEX [IX_WorkflowStates_WorkflowID] ON [dbo].[WorkflowStates] ([WorkflowID])"),  new Array(0,"GO", "GO"),  new Array(0,"-- Foreign Keys", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[WorkflowStates] WITH NOCHECK ADD CONSTRAINT [FK_WorkflowStates_Workflow] FOREIGN KEY ([WorkflowID]) REFERENCES [dbo].[Workflow] ([WorkflowID]) ON DELETE CASCADE", "ALTER TABLE [dbo].[WorkflowStates] ADD CONSTRAINT [FK_WorkflowStates_Workflow_WorkflowID] FOREIGN KEY ([WorkflowID]) REFERENCES [dbo].[Workflow] ([WorkflowID]) ON DELETE CASCADE"),  new Array(0,"GO", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Role", " "),  new Array(0,"", ""),  new Array(1,"EXEC sp_addrolemember N\'db_owner\', N\'DNN-9-1-1.loc_nvQuickSite\'", " "),  new Array(1,"GO", " "),
          new Array(0, "", ""))
        );var createsql  = new Array(new Array(new Array(0, "Error, No SQL Available")),new Array (  new Array(0,"-- Columns", " "),  new Array(0,"", ""),  new Array(1,"CREATE TABLE [dbo].[aspnet_Membership]", " "),  new Array(1,"(", " "),  new Array(1,"[ApplicationId] [uniqueidentifier] NOT NULL,", " "),  new Array(1,"[UserId] [uniqueidentifier] NOT NULL,", " "),  new Array(1,"[Password] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[PasswordFormat] [int] NOT NULL CONSTRAINT [DF__aspnet_Me__Passw__1EAF7B80] DEFAULT ((0)),", " "),  new Array(1,"[PasswordSalt] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[MobilePIN] [nvarchar] (16) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Email] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[LoweredEmail] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[PasswordQuestion] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[PasswordAnswer] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IsApproved] [bit] NOT NULL,", " "),  new Array(1,"[IsLockedOut] [bit] NOT NULL,", " "),  new Array(1,"[CreateDate] [datetime] NOT NULL,", " "),  new Array(1,"[LastLoginDate] [datetime] NOT NULL,", " "),  new Array(1,"[LastPasswordChangedDate] [datetime] NOT NULL,", " "),  new Array(1,"[LastLockoutDate] [datetime] NOT NULL,", " "),  new Array(1,"[FailedPasswordAttemptCount] [int] NOT NULL,", " "),  new Array(1,"[FailedPasswordAttemptWindowStart] [datetime] NOT NULL,", " "),  new Array(1,"[FailedPasswordAnswerAttemptCount] [int] NOT NULL,", " "),  new Array(1,"[FailedPasswordAnswerAttemptWindowStart] [datetime] NOT NULL,", " "),  new Array(1,"[Comment] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NULL", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),  new Array(0,"-- Constraints and Indexes", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[aspnet_Membership] ADD CONSTRAINT [PK__aspnet_M__1788CC4D82621AA1] PRIMARY KEY NONCLUSTERED  ([UserId])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE CLUSTERED INDEX [aspnet_Membership_index] ON [dbo].[aspnet_Membership] ([ApplicationId], [LoweredEmail])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[aspnet_Membership] ADD CONSTRAINT [FK__aspnet_Me__Appli__1CC7330E] FOREIGN KEY ([ApplicationId]) REFERENCES [dbo].[aspnet_Applications] ([ApplicationId])", " "),  new Array(1,"GO", " "),  new Array(1,"ALTER TABLE [dbo].[aspnet_Membership] ADD CONSTRAINT [FK__aspnet_Me__UserI__1DBB5747] FOREIGN KEY ([UserId]) REFERENCES [dbo].[aspnet_Users] ([UserId])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", " "),  new Array(0,"", ""),  new Array(1,"CREATE TABLE [dbo].[ContentTypes]", " "),  new Array(1,"(", " "),  new Array(1,"[ContentTypeID] [int] NOT NULL IDENTITY(1, 1),", " "),  new Array(1,"[ContentType] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),  new Array(0,"-- Constraints and Indexes", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ContentTypes] ADD CONSTRAINT [PK_ContentTypes] PRIMARY KEY CLUSTERED  ([ContentTypeID])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_ContentTypes_ContentType] ON [dbo].[ContentTypes] ([ContentType])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", " "),  new Array(0,"", ""),  new Array(1,"CREATE TABLE [dbo].[ContentWorkflowActions]", " "),  new Array(1,"(", " "),  new Array(1,"[ActionId] [int] NOT NULL IDENTITY(1, 1),", " "),  new Array(1,"[ContentTypeId] [int] NOT NULL,", " "),  new Array(1,"[ActionType] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[ActionSource] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),  new Array(0,"-- Constraints and Indexes", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflowActions] ADD CONSTRAINT [PK_ContentWorkflowActions] PRIMARY KEY CLUSTERED  ([ActionId])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [ContentTypeId_ActionType] ON [dbo].[ContentWorkflowActions] ([ContentTypeId], [ActionType])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ContentWorkflowActions] ADD CONSTRAINT [FK_ContentWorkflowActions_ContentTypes] FOREIGN KEY ([ContentTypeId]) REFERENCES [dbo].[ContentTypes] ([ContentTypeID]) ON DELETE CASCADE", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", " "),  new Array(0,"", ""),  new Array(1,"CREATE TABLE [dbo].[CoreMessaging_MessageRecipients]", " "),  new Array(1,"(", " "),  new Array(1,"[RecipientID] [int] NOT NULL IDENTITY(1, 1),", " "),  new Array(1,"[MessageID] [int] NOT NULL,", " "),  new Array(1,"[UserID] [int] NOT NULL,", " "),  new Array(1,"[Read] [bit] NOT NULL CONSTRAINT [DF__CoreMessag__Read__619B8048] DEFAULT ((0)),", " "),  new Array(1,"[Archived] [bit] NOT NULL CONSTRAINT [DF__CoreMessa__Archi__628FA481] DEFAULT ((0)),", " "),  new Array(1,"[EmailSent] [bit] NOT NULL CONSTRAINT [DF__CoreMessa__Email__6383C8BA] DEFAULT ((0)),", " "),  new Array(1,"[EmailSentDate] [datetime] NULL,", " "),  new Array(1,"[EmailSchedulerInstance] [uniqueidentifier] NULL,", " "),  new Array(1,"[CreatedByUserID] [int] NULL,", " "),  new Array(1,"[CreatedOnDate] [datetime] NULL,", " "),  new Array(1,"[LastModifiedByUserID] [int] NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", " "),  new Array(1,"[SendToast] [bit] NOT NULL CONSTRAINT [DF__CoreMessa__SendT__6477ECF3] DEFAULT ((0))", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),  new Array(0,"-- Constraints and Indexes", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[CoreMessaging_MessageRecipients] ADD CONSTRAINT [PK_CoreMessaging_MessageRecipients] PRIMARY KEY CLUSTERED  ([RecipientID])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_CoreMessaging_MessageRecipients_UserID_MessageID_Read_SendToast] ON [dbo].[CoreMessaging_MessageRecipients] ([MessageID], [UserID], [Read], [SendToast])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_CoreMessaging_MessageRecipients_UserID] ON [dbo].[CoreMessaging_MessageRecipients] ([UserID], [Read] DESC, [Archived])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[CoreMessaging_MessageRecipients] ADD CONSTRAINT [FK_CoreMessaging_MessageRecipients_CoreMessaging_Messages] FOREIGN KEY ([MessageID]) REFERENCES [dbo].[CoreMessaging_Messages] ([MessageID]) ON DELETE CASCADE", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", " "),  new Array(0,"", ""),  new Array(1,"CREATE TABLE [dbo].[ModulePermission]", " "),  new Array(1,"(", " "),  new Array(1,"[ModulePermissionID] [int] NOT NULL IDENTITY(1, 1),", " "),  new Array(1,"[ModuleID] [int] NOT NULL,", " "),  new Array(1,"[PermissionID] [int] NOT NULL,", " "),  new Array(1,"[AllowAccess] [bit] NOT NULL,", " "),  new Array(1,"[RoleID] [int] NULL,", " "),  new Array(1,"[UserID] [int] NULL,", " "),  new Array(1,"[CreatedByUserID] [int] NULL,", " "),  new Array(1,"[CreatedOnDate] [datetime] NULL,", " "),  new Array(1,"[LastModifiedByUserID] [int] NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", " "),  new Array(1,"[PortalID] [int] NOT NULL", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),  new Array(0,"-- Constraints and Indexes", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ModulePermission] ADD CONSTRAINT [PK_ModulePermission] PRIMARY KEY CLUSTERED  ([ModulePermissionID])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_ModulePermission_Modules] ON [dbo].[ModulePermission] ([ModuleID], [PermissionID], [PortalID], [RoleID], [UserID]) INCLUDE ([AllowAccess])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_ModulePermission_Permission] ON [dbo].[ModulePermission] ([PermissionID])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_ModulePermission_Roles] ON [dbo].[ModulePermission] ([RoleID], [ModuleID], [PermissionID], [PortalID]) INCLUDE ([AllowAccess]) WHERE ([RoleID] IS NOT NULL)", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_ModulePermission_Users] ON [dbo].[ModulePermission] ([UserID], [ModuleID], [PermissionID], [PortalID]) INCLUDE ([AllowAccess]) WHERE ([UserID] IS NOT NULL)", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[ModulePermission] WITH NOCHECK ADD CONSTRAINT [FK_ModulePermission_Modules] FOREIGN KEY ([ModuleID]) REFERENCES [dbo].[Modules] ([ModuleID]) ON DELETE CASCADE", " "),  new Array(1,"GO", " "),  new Array(1,"ALTER TABLE [dbo].[ModulePermission] WITH NOCHECK ADD CONSTRAINT [FK_ModulePermission_Permission] FOREIGN KEY ([PermissionID]) REFERENCES [dbo].[Permission] ([PermissionID]) ON DELETE CASCADE", " "),  new Array(1,"GO", " "),  new Array(1,"ALTER TABLE [dbo].[ModulePermission] ADD CONSTRAINT [FK_ModulePermission_Roles] FOREIGN KEY ([RoleID]) REFERENCES [dbo].[Roles] ([RoleID])", " "),  new Array(1,"GO", " "),  new Array(1,"ALTER TABLE [dbo].[ModulePermission] ADD CONSTRAINT [FK_ModulePermission_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID]) ON DELETE CASCADE", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", " "),  new Array(0,"", ""),  new Array(1,"CREATE TABLE [dbo].[PackageTypes]", " "),  new Array(1,"(", " "),  new Array(1,"[PackageType] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Description] [nvarchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[SecurityAccessLevel] [int] NOT NULL,", " "),  new Array(1,"[EditorControlSrc] [nvarchar] (250) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[SupportsSideBySideInstallation] [bit] NOT NULL CONSTRAINT [DF__PackageTy__Suppo__3138400F] DEFAULT ((0))", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),  new Array(0,"-- Constraints and Indexes", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[PackageTypes] ADD CONSTRAINT [PK_PackageTypes_1] PRIMARY KEY CLUSTERED  ([PackageType])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", " "),  new Array(0,"", ""),  new Array(1,"CREATE TABLE [dbo].[Roles]", " "),  new Array(1,"(", " "),  new Array(1,"[RoleID] [int] NOT NULL IDENTITY(0, 1),", " "),  new Array(1,"[PortalID] [int] NULL,", " "),  new Array(1,"[RoleName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[Description] [nvarchar] (1000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[ServiceFee] [money] NULL CONSTRAINT [DF_Roles_ServiceFee] DEFAULT ((0)),", " "),  new Array(1,"[BillingFrequency] [char] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[TrialPeriod] [int] NULL,", " "),  new Array(1,"[TrialFrequency] [char] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[BillingPeriod] [int] NULL,", " "),  new Array(1,"[TrialFee] [money] NULL,", " "),  new Array(1,"[IsPublic] [bit] NOT NULL CONSTRAINT [DF_Roles_IsPublic] DEFAULT ((0)),", " "),  new Array(1,"[AutoAssignment] [bit] NOT NULL CONSTRAINT [DF_Roles_AutoAssignment] DEFAULT ((0)),", " "),  new Array(1,"[RoleGroupID] [int] NULL,", " "),  new Array(1,"[RSVPCode] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IconFile] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[CreatedByUserID] [int] NULL,", " "),  new Array(1,"[CreatedOnDate] [datetime] NULL,", " "),  new Array(1,"[LastModifiedByUserID] [int] NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NULL,", " "),  new Array(1,"[Status] [int] NOT NULL CONSTRAINT [DF_Roles_Status] DEFAULT ((1)),", " "),  new Array(1,"[SecurityMode] [int] NOT NULL CONSTRAINT [DF_Roles_SecurityMode] DEFAULT ((0)),", " "),  new Array(1,"[IsSystemRole] [bit] NOT NULL CONSTRAINT [DF_Roles_IsSystemRole] DEFAULT ((0))", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),  new Array(0,"-- Constraints and Indexes", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Roles] ADD CONSTRAINT [PK_Roles] PRIMARY KEY CLUSTERED  ([RoleID])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Roles] ON [dbo].[Roles] ([BillingFrequency])", " "),  new Array(1,"GO", " "),  new Array(1,"ALTER TABLE [dbo].[Roles] ADD CONSTRAINT [IX_RoleName] UNIQUE NONCLUSTERED  ([PortalID], [RoleName])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_Roles_RoleName] ON [dbo].[Roles] ([PortalID], [RoleName]) INCLUDE ([RoleID])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE NONCLUSTERED INDEX [IX_Roles_RoleGroup] ON [dbo].[Roles] ([RoleGroupID], [RoleName]) INCLUDE ([RoleID])", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE UNIQUE NONCLUSTERED INDEX [IX_Roles_RoleID_Status] ON [dbo].[Roles] ([RoleID], [Status]) INCLUDE ([AutoAssignment], [BillingFrequency], [BillingPeriod], [Description], [IconFile], [IsPublic], [PortalID], [RoleGroupID], [RoleName], [RSVPCode], [SecurityMode], [ServiceFee], [TrialFee], [TrialFrequency], [TrialPeriod])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[Roles] ADD CONSTRAINT [FK_Roles_Portals] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID]) ON DELETE CASCADE", " "),  new Array(1,"GO", " "),  new Array(1,"ALTER TABLE [dbo].[Roles] ADD CONSTRAINT [FK_Roles_RoleGroups] FOREIGN KEY ([RoleGroupID]) REFERENCES [dbo].[RoleGroups] ([RoleGroupID])", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Columns", " "),  new Array(0,"", ""),  new Array(1,"CREATE TABLE [dbo].[SkinPackages]", " "),  new Array(1,"(", " "),  new Array(1,"[SkinPackageID] [int] NOT NULL IDENTITY(1, 1),", " "),  new Array(1,"[PackageID] [int] NOT NULL,", " "),  new Array(1,"[PortalID] [int] NULL,", " "),  new Array(1,"[SkinName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[SkinType] [nvarchar] (20) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,", " "),  new Array(1,"[CreatedByUserID] [int] NULL,", " "),  new Array(1,"[CreatedOnDate] [datetime] NULL,", " "),  new Array(1,"[LastModifiedByUserID] [int] NULL,", " "),  new Array(1,"[LastModifiedOnDate] [datetime] NULL", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),  new Array(0,"-- Constraints and Indexes", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[SkinPackages] ADD CONSTRAINT [PK_SkinPackages] PRIMARY KEY CLUSTERED  ([SkinPackageID])", " "),  new Array(1,"GO", " "),  new Array(0,"-- Foreign Keys", " "),  new Array(0,"", ""),  new Array(1,"ALTER TABLE [dbo].[SkinPackages] WITH NOCHECK ADD CONSTRAINT [FK_SkinPackages_Packages] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE ON UPDATE CASCADE", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddAuthentication]", " "),  new Array(1,"@PackageID				int,", " "),  new Array(1,"@AuthenticationType     nvarchar(100),", " "),  new Array(1,"@IsEnabled				bit,", " "),  new Array(1,"@SettingsControlSrc     nvarchar(250),", " "),  new Array(1,"@LoginControlSrc		nvarchar(250),", " "),  new Array(1,"@LogoffControlSrc		nvarchar(250),", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO Authentication (", " "),  new Array(1,"PackageID,", " "),  new Array(1,"AuthenticationType,", " "),  new Array(1,"IsEnabled,", " "),  new Array(1,"SettingsControlSrc,", " "),  new Array(1,"LoginControlSrc,", " "),  new Array(1,"LogoffControlSrc,", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PackageID,", " "),  new Array(1,"@AuthenticationType,", " "),  new Array(1,"@IsEnabled,", " "),  new Array(1,"@SettingsControlSrc,", " "),  new Array(1,"@LoginControlSrc,", " "),  new Array(1,"@LogoffControlSrc,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddContentItem]", " "),  new Array(1,"@Content			nvarchar(max),", " "),  new Array(1,"@ContentTypeID		int,", " "),  new Array(1,"@TabID				int,", " "),  new Array(1,"@ModuleID			int,", " "),  new Array(1,"@ContentKey			nvarchar(250),", " "),  new Array(1,"@Indexed			bit,", " "),  new Array(1,"@CreatedByUserID	int,", " "),  new Array(1,"@StateID			int = NULL", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.[ContentItems] (", " "),  new Array(1,"Content,", " "),  new Array(1,"ContentTypeID,", " "),  new Array(1,"TabID,", " "),  new Array(1,"ModuleID,", " "),  new Array(1,"ContentKey,", " "),  new Array(1,"Indexed,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate,", " "),  new Array(1,"StateID", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@Content,", " "),  new Array(1,"@ContentTypeID,", " "),  new Array(1,"@TabID,", " "),  new Array(1,"@ModuleID,", " "),  new Array(1,"@ContentKey,", " "),  new Array(1,"@Indexed,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@StateID", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddContentType]", " "),  new Array(1,"@ContentType	nvarchar(250)", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.ContentTypes (", " "),  new Array(1,"ContentType", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@ContentType", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddContentWorkflow]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@WorkflowName nvarchar(40),", " "),  new Array(1,"@Description nvarchar(256),", " "),  new Array(1,"@IsDeleted bit,", " "),  new Array(1,"@StartAfterCreating bit,", " "),  new Array(1,"@StartAfterEditing bit,", " "),  new Array(1,"@DispositionEnabled bit", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.ContentWorkflows (", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[WorkflowName],", " "),  new Array(1,"[Description],", " "),  new Array(1,"[IsDeleted],", " "),  new Array(1,"[StartAfterCreating],", " "),  new Array(1,"[StartAfterEditing],", " "),  new Array(1,"[DispositionEnabled]", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@WorkflowName,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@IsDeleted,", " "),  new Array(1,"@StartAfterCreating,", " "),  new Array(1,"@StartAfterEditing,", " "),  new Array(1,"@DispositionEnabled", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddContentWorkflowLog]", " "),  new Array(1,"@Action nvarchar(40),", " "),  new Array(1,"@Comment nvarchar(256),", " "),  new Array(1,"@User int,", " "),  new Array(1,"@WorkflowID int,", " "),  new Array(1,"@ContentItemID int", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.[ContentWorkflowLogs] (", " "),  new Array(1,"[Action],", " "),  new Array(1,"[Comment],", " "),  new Array(1,"[Date],", " "),  new Array(1,"[User],", " "),  new Array(1,"[WorkflowID],", " "),  new Array(1,"[ContentItemID]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@Action,", " "),  new Array(1,"@Comment,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@User,", " "),  new Array(1,"@WorkflowID,", " "),  new Array(1,"@ContentItemID", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddContentWorkflowSource]", " "),  new Array(1,"@WorkflowID INT,", " "),  new Array(1,"@SourceName NVARCHAR(20),", " "),  new Array(1,"@SourceType NVARCHAR(250)", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO  dbo.ContentWorkflowSources(", " "),  new Array(1,"[WorkflowID],", " "),  new Array(1,"[SourceName],", " "),  new Array(1,"[SourceType])", " "),  new Array(1,"VALUES(", " "),  new Array(1,"@WorkflowID,", " "),  new Array(1,"@SourceName,", " "),  new Array(1,"@SourceType", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddContentWorkflowState]", " "),  new Array(1,"@WorkflowID	int,", " "),  new Array(1,"@StateName nvarchar(40),", " "),  new Array(1,"@Order int,", " "),  new Array(1,"@IsActive bit,", " "),  new Array(1,"@SendEmail bit,", " "),  new Array(1,"@SendMessage bit,", " "),  new Array(1,"@IsDisposalState bit,", " "),  new Array(1,"@OnCompleteMessageSubject nvarchar(256),", " "),  new Array(1,"@OnCompleteMessageBody nvarchar(1024),", " "),  new Array(1,"@OnDiscardMessageSubject nvarchar(256),", " "),  new Array(1,"@OnDiscardMessageBody nvarchar(1024)", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.ContentWorkflowStates (", " "),  new Array(1,"[WorkflowID],", " "),  new Array(1,"[StateName],", " "),  new Array(1,"[Order],", " "),  new Array(1,"[IsActive],", " "),  new Array(1,"[SendEmail],", " "),  new Array(1,"[SendMessage],", " "),  new Array(1,"[IsDisposalState],", " "),  new Array(1,"[OnCompleteMessageSubject],", " "),  new Array(1,"[OnCompleteMessageBody],", " "),  new Array(1,"[OnDiscardMessageSubject],", " "),  new Array(1,"[OnDiscardMessageBody]", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@WorkflowID,", " "),  new Array(1,"@StateName,", " "),  new Array(1,"@Order,", " "),  new Array(1,"@IsActive,", " "),  new Array(1,"@SendEmail,", " "),  new Array(1,"@SendMessage,", " "),  new Array(1,"@IsDisposalState,", " "),  new Array(1,"@OnCompleteMessageSubject,", " "),  new Array(1,"@OnCompleteMessageBody,", " "),  new Array(1,"@OnDiscardMessageSubject,", " "),  new Array(1,"@OnDiscardMessageBody", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddContentWorkflowStatePermission]", " "),  new Array(1,"@StateID int,", " "),  new Array(1,"@PermissionID int,", " "),  new Array(1,"@RoleID int,", " "),  new Array(1,"@AllowAccess bit,", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@CreatedByUserID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.ContentWorkflowStatePermission (", " "),  new Array(1,"[StateID],", " "),  new Array(1,"[PermissionID],", " "),  new Array(1,"[RoleID],", " "),  new Array(1,"[AllowAccess],", " "),  new Array(1,"[UserID],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@StateID,", " "),  new Array(1,"@PermissionID,", " "),  new Array(1,"@RoleID,", " "),  new Array(1,"@AllowAccess,", " "),  new Array(1,"@UserID,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddDefaultFolderTypes]", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[FolderMappings] (PortalID, MappingName, FolderProviderType, Priority)", " "),  new Array(1,"SELECT @PortalID, \'Standard\', \'StandardFolderProvider\', 1", " "),  new Array(1,"UNION ALL", " "),  new Array(1,"SELECT @PortalID, \'Secure\', \'SecureFolderProvider\', 2", " "),  new Array(1,"UNION ALL", " "),  new Array(1,"SELECT @PortalID, \'Database\', \'DatabaseFolderProvider\', 3", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddDesktopModule]", " "),  new Array(1,"@PackageID		int,", " "),  new Array(1,"@ModuleName		nvarchar(128),", " "),  new Array(1,"@FolderName		nvarchar(128),", " "),  new Array(1,"@FriendlyName		nvarchar(128),", " "),  new Array(1,"@Description		nvarchar(2000),", " "),  new Array(1,"@Version		nvarchar(8),", " "),  new Array(1,"@IsPremium		bit,", " "),  new Array(1,"@IsAdmin		bit,", " "),  new Array(1,"@BusinessController	nvarchar(200),", " "),  new Array(1,"@SupportedFeatures	int,", " "),  new Array(1,"@Shareable		int,", " "),  new Array(1,"@CompatibleVersions	nvarchar(500),", " "),  new Array(1,"@Dependencies		nvarchar(400),", " "),  new Array(1,"@Permissions		nvarchar(400),", " "),  new Array(1,"@ContentItemId		int,", " "),  new Array(1,"@CreatedByUserID	int,", " "),  new Array(1,"@AdminPage		nvarchar(128),", " "),  new Array(1,"@HostPage		nvarchar(128)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.DesktopModules (", " "),  new Array(1,"PackageID,", " "),  new Array(1,"ModuleName,", " "),  new Array(1,"FolderName,", " "),  new Array(1,"FriendlyName,", " "),  new Array(1,"Description,", " "),  new Array(1,"Version,", " "),  new Array(1,"IsPremium,", " "),  new Array(1,"IsAdmin,", " "),  new Array(1,"BusinessControllerClass,", " "),  new Array(1,"SupportedFeatures,", " "),  new Array(1,"Shareable,", " "),  new Array(1,"CompatibleVersions,", " "),  new Array(1,"Dependencies,", " "),  new Array(1,"Permissions,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate,", " "),  new Array(1,"ContentItemId,", " "),  new Array(1,"AdminPage,", " "),  new Array(1,"HostPage", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PackageID,", " "),  new Array(1,"@ModuleName,", " "),  new Array(1,"@FolderName,", " "),  new Array(1,"@FriendlyName,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@Version,", " "),  new Array(1,"@IsPremium,", " "),  new Array(1,"@IsAdmin,", " "),  new Array(1,"@BusinessController,", " "),  new Array(1,"@SupportedFeatures,", " "),  new Array(1,"@Shareable,", " "),  new Array(1,"@CompatibleVersions,", " "),  new Array(1,"@Dependencies,", " "),  new Array(1,"@Permissions,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@ContentItemId,", " "),  new Array(1,"@AdminPage,", " "),  new Array(1,"@HostPage", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddDesktopModulePermission]", " "),  new Array(1,"@PortalDesktopModuleID Int, -- not null!", " "),  new Array(1,"@PermissionId          Int, -- not null!", " "),  new Array(1,"@RoleId                Int, -- might be negative for virtual roles", " "),  new Array(1,"@AllowAccess           Bit, -- false: deny, true: grant", " "),  new Array(1,"@UserId                Int, -- -1 is replaced by Null", " "),  new Array(1,"@CreatedByUserId       Int  -- -1 is replaced by Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[DesktopModulePermission] (", " "),  new Array(1,"[PortalDesktopModuleID],", " "),  new Array(1,"[PermissionID],", " "),  new Array(1,"[RoleID],", " "),  new Array(1,"[AllowAccess],", " "),  new Array(1,"[UserID],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@PortalDesktopModuleID,", " "),  new Array(1,"@PermissionID,", " "),  new Array(1,"@RoleId,", " "),  new Array(1,"@AllowAccess,", " "),  new Array(1,"CASE WHEN @UserId = -1 THEN Null ELSE @UserId END,", " "),  new Array(1,"CASE WHEN @CreatedByUserID = -1 THEN Null ELSE @CreatedByUserID END,", " "),  new Array(1,"GetDate(),", " "),  new Array(1,"CASE WHEN @CreatedByUserID = -1 THEN Null ELSE @CreatedByUserID END,", " "),  new Array(1,"GetDate()", " "),  new Array(1,")", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE  [dbo].[AddEventLog]", " "),  new Array(1,"@LogGUID varchar(36),", " "),  new Array(1,"@LogTypeKey nvarchar(35),", " "),  new Array(1,"@LogUserID int,", " "),  new Array(1,"@LogUserName nvarchar(50),", " "),  new Array(1,"@LogPortalID int,", " "),  new Array(1,"@LogPortalName nvarchar(100),", " "),  new Array(1,"@LogCreateDate datetime,", " "),  new Array(1,"@LogServerName nvarchar(50),", " "),  new Array(1,"@LogProperties ntext,", " "),  new Array(1,"@LogConfigID int,", " "),  new Array(1,"@ExceptionHash varchar(100) = NULL,", " "),  new Array(1,"@NotificationActive bit = 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @LogEventID bigint", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO  dbo.[EventLog]", " "),  new Array(1,"(LogGUID,", " "),  new Array(1,"LogTypeKey,", " "),  new Array(1,"LogUserID,", " "),  new Array(1,"LogUserName,", " "),  new Array(1,"LogPortalID,", " "),  new Array(1,"LogPortalName,", " "),  new Array(1,"LogCreateDate,", " "),  new Array(1,"LogServerName,", " "),  new Array(1,"LogProperties,", " "),  new Array(1,"LogConfigID,", " "),  new Array(1,"ExceptionHash)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@LogGUID,", " "),  new Array(1,"@LogTypeKey,", " "),  new Array(1,"@LogUserID,", " "),  new Array(1,"@LogUserName,", " "),  new Array(1,"@LogPortalID,", " "),  new Array(1,"@LogPortalName,", " "),  new Array(1,"@LogCreateDate,", " "),  new Array(1,"@LogServerName,", " "),  new Array(1,"@LogProperties,", " "),  new Array(1,"@LogConfigID,", " "),  new Array(1,"@ExceptionHash)", " "),  new Array(1,"", " "),  new Array(1,"SELECT @LogEventID = SCOPE_IDENTITY()", " "),  new Array(1,"", " "),  new Array(1,"IF @NotificationActive=1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @NotificationThreshold bit", " "),  new Array(1,"DECLARE @ThresholdQueue int", " "),  new Array(1,"DECLARE @NotificationThresholdTime int", " "),  new Array(1,"DECLARE @NotificationThresholdTimeType int", " "),  new Array(1,"DECLARE @MinDateTime smalldatetime", " "),  new Array(1,"DECLARE @CurrentDateTime smalldatetime", " "),  new Array(1,"", " "),  new Array(1,"SET @CurrentDateTime = getDate()", " "),  new Array(1,"", " "),  new Array(1,"SELECT TOP 1 @NotificationThreshold = NotificationThreshold,", " "),  new Array(1,"@NotificationThresholdTime = NotificationThresholdTime,", " "),  new Array(1,"@NotificationThresholdTimeType = NotificationThresholdTimeType,", " "),  new Array(1,"@MinDateTime =", " "),  new Array(1,"CASE", " "),  new Array(1,"--seconds", " "),  new Array(1,"WHEN NotificationThresholdTimeType=1 THEN DateAdd(second, NotificationThresholdTime * -1, @CurrentDateTime)", " "),  new Array(1,"--minutes", " "),  new Array(1,"WHEN NotificationThresholdTimeType=2  THEN DateAdd(minute, NotificationThresholdTime * -1, @CurrentDateTime)", " "),  new Array(1,"--hours", " "),  new Array(1,"WHEN NotificationThresholdTimeType=3  THEN DateAdd(Hour, NotificationThresholdTime * -1, @CurrentDateTime)", " "),  new Array(1,"--days", " "),  new Array(1,"WHEN NotificationThresholdTimeType=4  THEN DateAdd(Day, NotificationThresholdTime * -1, @CurrentDateTime)", " "),  new Array(1,"END", " "),  new Array(1,"FROM  dbo.[EventLogConfig]", " "),  new Array(1,"WHERE ID = @LogConfigID", " "),  new Array(1,"", " "),  new Array(1,"SELECT @ThresholdQueue = COUNT(*)", " "),  new Array(1,"FROM  dbo.[EventLog] el", " "),  new Array(1,"INNER JOIN  dbo.[EventLogConfig] elc", " "),  new Array(1,"ON  el.LogConfigID =  elc.ID", " "),  new Array(1,"WHERE LogCreateDate > @MinDateTime", " "),  new Array(1,"", " "),  new Array(1,"IF @ThresholdQueue >= @NotificationThreshold", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.[EventLog]", " "),  new Array(1,"SET LogNotificationPending = 1", " "),  new Array(1,"WHERE LogConfigID = @LogConfigID", " "),  new Array(1,"AND LogNotificationPending IS NULL", " "),  new Array(1,"AND LogCreateDate > @MinDateTime", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT @LogEventID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[AddEventLogConfig]", " "),  new Array(1,"@LogTypeKey nvarchar(35),", " "),  new Array(1,"@LogTypePortalID int,", " "),  new Array(1,"@LoggingIsActive bit,", " "),  new Array(1,"@KeepMostRecent int,", " "),  new Array(1,"@EmailNotificationIsActive bit,", " "),  new Array(1,"@NotificationThreshold int,", " "),  new Array(1,"@NotificationThresholdTime int,", " "),  new Array(1,"@NotificationThresholdTimeType int,", " "),  new Array(1,"@MailFromAddress nvarchar(50),", " "),  new Array(1,"@MailToAddress nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @ID int", " "),  new Array(1,"SET @ID = (SELECT EC.ID FROM dbo.EventLogConfig EC", " "),  new Array(1,"WHERE (EC.LogTypeKey = @LogTypeKey OR (EC.LogTypeKey IS NULL AND @LogTypeKey IS NULL))", " "),  new Array(1,"AND (EC.LogTypePortalID = @LogTypePortalID  OR (EC.LogTypePortalID IS NULL AND @LogTypePortalID IS NULL))", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"IF @ID IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.EventLogConfig", " "),  new Array(1,"(LogTypeKey,", " "),  new Array(1,"LogTypePortalID,", " "),  new Array(1,"LoggingIsActive,", " "),  new Array(1,"KeepMostRecent,", " "),  new Array(1,"EmailNotificationIsActive,", " "),  new Array(1,"NotificationThreshold,", " "),  new Array(1,"NotificationThresholdTime,", " "),  new Array(1,"NotificationThresholdTimeType,", " "),  new Array(1,"MailFromAddress,", " "),  new Array(1,"MailToAddress)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@LogTypeKey,", " "),  new Array(1,"@LogTypePortalID,", " "),  new Array(1,"@LoggingIsActive,", " "),  new Array(1,"@KeepMostRecent,", " "),  new Array(1,"@EmailNotificationIsActive,", " "),  new Array(1,"@NotificationThreshold,", " "),  new Array(1,"@NotificationThresholdTime,", " "),  new Array(1,"@NotificationThresholdTimeType,", " "),  new Array(1,"@MailFromAddress,", " "),  new Array(1,"@MailToAddress)", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.EventLogConfig", " "),  new Array(1,"SET 	LogTypeKey = @LogTypeKey,", " "),  new Array(1,"LogTypePortalID = @LogTypePortalID,", " "),  new Array(1,"LoggingIsActive = @LoggingIsActive,", " "),  new Array(1,"KeepMostRecent = @KeepMostRecent,", " "),  new Array(1,"EmailNotificationIsActive = @EmailNotificationIsActive,", " "),  new Array(1,"NotificationThreshold = @NotificationThreshold,", " "),  new Array(1,"NotificationThresholdTime = @NotificationThresholdTime,", " "),  new Array(1,"NotificationThresholdTimeType = @NotificationThresholdTimeType,", " "),  new Array(1,"MailFromAddress = @MailFromAddress,", " "),  new Array(1,"MailToAddress = @MailToAddress", " "),  new Array(1,"WHERE	ID = @ID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddEventLogType]", " "),  new Array(1,"@LogTypeKey nvarchar(35),", " "),  new Array(1,"@LogTypeFriendlyName nvarchar(50),", " "),  new Array(1,"@LogTypeDescription nvarchar(128),", " "),  new Array(1,"@LogTypeOwner nvarchar(100),", " "),  new Array(1,"@LogTypeCSSClass nvarchar(40)", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.EventLogTypes", " "),  new Array(1,"(LogTypeKey,", " "),  new Array(1,"LogTypeFriendlyName,", " "),  new Array(1,"LogTypeDescription,", " "),  new Array(1,"LogTypeOwner,", " "),  new Array(1,"LogTypeCSSClass)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@LogTypeKey,", " "),  new Array(1,"@LogTypeFriendlyName,", " "),  new Array(1,"@LogTypeDescription,", " "),  new Array(1,"@LogTypeOwner,", " "),  new Array(1,"@LogTypeCSSClass)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddEventMessage]", " "),  new Array(1,"", " "),  new Array(1,"@EventName nvarchar(100),", " "),  new Array(1,"@Priority int,", " "),  new Array(1,"@ProcessorType nvarchar(250),", " "),  new Array(1,"@ProcessorCommand nvarchar(250),", " "),  new Array(1,"@Body nvarchar(250),", " "),  new Array(1,"@Sender nvarchar(250),", " "),  new Array(1,"@Subscriber nvarchar(100),", " "),  new Array(1,"@AuthorizedRoles nvarchar(250),", " "),  new Array(1,"@ExceptionMessage nvarchar(250),", " "),  new Array(1,"@SentDate datetime,", " "),  new Array(1,"@ExpirationDate datetime,", " "),  new Array(1,"@Attributes ntext", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT dbo.EventQueue	(", " "),  new Array(1,"EventName,", " "),  new Array(1,"Priority,", " "),  new Array(1,"ProcessorType,", " "),  new Array(1,"ProcessorCommand,", " "),  new Array(1,"Body,", " "),  new Array(1,"Sender,", " "),  new Array(1,"Subscriber,", " "),  new Array(1,"AuthorizedRoles,", " "),  new Array(1,"ExceptionMessage,", " "),  new Array(1,"SentDate,", " "),  new Array(1,"ExpirationDate,", " "),  new Array(1,"Attributes", " "),  new Array(1,")", " "),  new Array(1,"VALUES	(", " "),  new Array(1,"@EventName,", " "),  new Array(1,"@Priority,", " "),  new Array(1,"@ProcessorType,", " "),  new Array(1,"@ProcessorCommand,", " "),  new Array(1,"@Body,", " "),  new Array(1,"@Sender,", " "),  new Array(1,"@Subscriber,", " "),  new Array(1,"@AuthorizedRoles,", " "),  new Array(1,"@ExceptionMessage,", " "),  new Array(1,"@SentDate,", " "),  new Array(1,"@ExpirationDate,", " "),  new Array(1,"@Attributes", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddException]", " "),  new Array(1,"@ExceptionHash varchar(100),", " "),  new Array(1,"@Message nvarchar(500),", " "),  new Array(1,"@StackTrace nvarchar(max),", " "),  new Array(1,"@InnerMessage nvarchar(500),", " "),  new Array(1,"@InnerStackTrace nvarchar(max),", " "),  new Array(1,"@Source nvarchar(500)", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"BEGIN TRY", " "),  new Array(1,"IF NOT EXISTS (SELECT * FROM dbo.[Exceptions] WHERE ExceptionHash=@ExceptionHash)", " "),  new Array(1,"INSERT INTO dbo.[Exceptions]", " "),  new Array(1,"(ExceptionHash,", " "),  new Array(1,"[Message],", " "),  new Array(1,"StackTrace,", " "),  new Array(1,"InnerMessage,", " "),  new Array(1,"InnerStackTrace,", " "),  new Array(1,"Source)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@ExceptionHash,", " "),  new Array(1,"@Message,", " "),  new Array(1,"@StackTrace,", " "),  new Array(1,"@InnerMessage,", " "),  new Array(1,"@InnerStackTrace,", " "),  new Array(1,"@Source)", " "),  new Array(1,"END TRY", " "),  new Array(1,"BEGIN CATCH", " "),  new Array(1,"", " "),  new Array(1,"END CATCH", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddExceptionEvent]", " "),  new Array(1,"@LogEventID bigint,", " "),  new Array(1,"@AssemblyVersion varchar(20),", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@UserId int,", " "),  new Array(1,"@TabId int,", " "),  new Array(1,"@RawUrl nvarchar(260),", " "),  new Array(1,"@Referrer nvarchar(260),", " "),  new Array(1,"@UserAgent nvarchar(260)", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.[ExceptionEvents]", " "),  new Array(1,"(LogEventID,", " "),  new Array(1,"AssemblyVersion,", " "),  new Array(1,"PortalId,", " "),  new Array(1,"UserId,", " "),  new Array(1,"TabId,", " "),  new Array(1,"RawUrl,", " "),  new Array(1,"Referrer,", " "),  new Array(1,"UserAgent)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@LogEventID,", " "),  new Array(1,"@AssemblyVersion,", " "),  new Array(1,"@PortalId,", " "),  new Array(1,"@UserId,", " "),  new Array(1,"@TabId,", " "),  new Array(1,"@RawUrl,", " "),  new Array(1,"@Referrer,", " "),  new Array(1,"@UserAgent)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddExtensionUrlProvider]", " "),  new Array(1,"@ExtensionUrlProviderID	int,", " "),  new Array(1,"@DesktopModuleId		int,", " "),  new Array(1,"@ProviderName			nvarchar(150),", " "),  new Array(1,"@ProviderType			nvarchar(1000),", " "),  new Array(1,"@SettingsControlSrc		nvarchar(1000),", " "),  new Array(1,"@IsActive				bit,", " "),  new Array(1,"@RewriteAllUrls			bit,", " "),  new Array(1,"@RedirectAllUrls		bit,", " "),  new Array(1,"@ReplaceAllUrls			bit", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"IF EXISTS (SELECT * FROM dbo.ExtensionUrlProviders WHERE ExtensionUrlProviderID = @ExtensionUrlProviderID)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.ExtensionUrlProviders", " "),  new Array(1,"SET", " "),  new Array(1,"DesktopModuleId = @DesktopModuleId,", " "),  new Array(1,"ProviderName = @ProviderName,", " "),  new Array(1,"ProviderType = @ProviderType,", " "),  new Array(1,"SettingsControlSrc = @SettingsControlSrc,", " "),  new Array(1,"IsActive = @IsActive,", " "),  new Array(1,"RewriteAllUrls = @RewriteAllUrls,", " "),  new Array(1,"RedirectAllUrls = @RedirectAllUrls,", " "),  new Array(1,"ReplaceAllUrls = @ReplaceAllUrls", " "),  new Array(1,"WHERE ExtensionUrlProviderID = @ExtensionUrlProviderID", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.ExtensionUrlProviders (", " "),  new Array(1,"DesktopModuleId,", " "),  new Array(1,"ProviderName,", " "),  new Array(1,"ProviderType,", " "),  new Array(1,"SettingsControlSrc,", " "),  new Array(1,"IsActive,", " "),  new Array(1,"RewriteAllUrls,", " "),  new Array(1,"RedirectAllUrls,", " "),  new Array(1,"ReplaceAllUrls", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@DesktopModuleId,", " "),  new Array(1,"@ProviderName,", " "),  new Array(1,"@ProviderType,", " "),  new Array(1,"@SettingsControlSrc,", " "),  new Array(1,"@IsActive,", " "),  new Array(1,"@RewriteAllUrls,", " "),  new Array(1,"@RedirectAllUrls,", " "),  new Array(1,"@ReplaceAllUrls", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SET @ExtensionUrlProviderID = @@IDENTITY", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT @ExtensionUrlProviderID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddFile]", " "),  new Array(1,"@PortalId   int,", " "),  new Array(1,"@UniqueId   uniqueidentifier,", " "),  new Array(1,"@VersionGuid  uniqueidentifier,", " "),  new Array(1,"@FileName   nvarchar(246),", " "),  new Array(1,"@Extension   nvarchar(100),", " "),  new Array(1,"@Size    int,", " "),  new Array(1,"@Width    int,", " "),  new Array(1,"@Height    int,", " "),  new Array(1,"@ContentType  nvarchar(200),", " "),  new Array(1,"@Folder    nvarchar(246),", " "),  new Array(1,"@FolderID   int,", " "),  new Array(1,"@CreatedByUserID   int,", " "),  new Array(1,"@Hash     varchar(40),", " "),  new Array(1,"@LastModificationTime	datetime,", " "),  new Array(1,"@Title					nvarchar(256),", " "),  new Array(1,"@Description            nvarchar(500),", " "),  new Array(1,"@EnablePublishPeriod	bit,", " "),  new Array(1,"@StartDate				datetime,", " "),  new Array(1,"@EndDate				datetime,", " "),  new Array(1,"@ContentItemID			int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"SET NOCOUNT OFF;", " "),  new Array(1,"DECLARE @FileID int", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.[Files]", " "),  new Array(1,"SET", " "),  new Array(1,"\/* retrieves FileId from table *\/", " "),  new Array(1,"@FileID = FileId,", " "),  new Array(1,"FileName = @FileName,", " "),  new Array(1,"VersionGuid = @VersionGuid,", " "),  new Array(1,"Extension = @Extension,", " "),  new Array(1,"Size = @Size,", " "),  new Array(1,"Width = @Width,", " "),  new Array(1,"Height = @Height,", " "),  new Array(1,"ContentType = @ContentType,", " "),  new Array(1,"FolderID = @FolderID,", " "),  new Array(1,"LastModifiedByUserID = @CreatedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate(),", " "),  new Array(1,"SHA1Hash = @Hash,", " "),  new Array(1,"LastModificationTime = @LastModificationTime,", " "),  new Array(1,"Title = @Title,", " "),  new Array(1,"Description = @Description,", " "),  new Array(1,"EnablePublishPeriod = @EnablePublishPeriod,", " "),  new Array(1,"StartDate = @StartDate,", " "),  new Array(1,"EndDate = @EndDate,", " "),  new Array(1,"ContentItemID = @ContentItemID", " "),  new Array(1,"WHERE", " "),  new Array(1,"FolderID = @FolderID AND FileName = @FileName", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @RowCount int = @@ROWCOUNT;", " "),  new Array(1,"IF @RowCount = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[Files] (", " "),  new Array(1,"PortalId,", " "),  new Array(1,"UniqueId,", " "),  new Array(1,"VersionGuid,", " "),  new Array(1,"FileName,", " "),  new Array(1,"Extension,", " "),  new Array(1,"Size,", " "),  new Array(1,"Width,", " "),  new Array(1,"Height,", " "),  new Array(1,"ContentType,", " "),  new Array(1,"FolderID,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate,", " "),  new Array(1,"SHA1Hash,", " "),  new Array(1,"LastModificationTime,", " "),  new Array(1,"Title,", " "),  new Array(1,"Description,", " "),  new Array(1,"EnablePublishPeriod,", " "),  new Array(1,"StartDate,", " "),  new Array(1,"EndDate,", " "),  new Array(1,"ContentItemID", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PortalId,", " "),  new Array(1,"@UniqueId,", " "),  new Array(1,"@VersionGuid,", " "),  new Array(1,"@FileName,", " "),  new Array(1,"@Extension,", " "),  new Array(1,"@Size,", " "),  new Array(1,"@Width,", " "),  new Array(1,"@Height,", " "),  new Array(1,"@ContentType,", " "),  new Array(1,"@FolderID,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@Hash,", " "),  new Array(1,"@LastModificationTime,", " "),  new Array(1,"@Title,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@EnablePublishPeriod,", " "),  new Array(1,"@StartDate,", " "),  new Array(1,"@EndDate,", " "),  new Array(1,"@ContentItemID", " "),  new Array(1,")", " "),  new Array(1,"SELECT @FileID = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"--UPDATE THE PARENT FOLDERS UPDATED DATE TO LATEST DATE", " "),  new Array(1,"IF((@RowCount>0 OR @@ROWCOUNT>0) AND @FolderID IS NOT NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC dbo.[UpdateFolderModifiedOnToCurrentDate] @FolderID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT @FileID", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddFileVersion]", " "),  new Array(1,"@FileId					int,", " "),  new Array(1,"@UniqueId				uniqueidentifier,", " "),  new Array(1,"@VersionGuid			uniqueidentifier,", " "),  new Array(1,"@FileName				nvarchar(246),", " "),  new Array(1,"@Extension				nvarchar(100),", " "),  new Array(1,"@Size					int,", " "),  new Array(1,"@Width					int,", " "),  new Array(1,"@Height					int,", " "),  new Array(1,"@ContentType			nvarchar(200),", " "),  new Array(1,"@Folder					nvarchar(246),", " "),  new Array(1,"@FolderID				int,", " "),  new Array(1,"@UserID					int,", " "),  new Array(1,"@Hash					varchar(40),", " "),  new Array(1,"@LastModificationTime	datetime,", " "),  new Array(1,"@Title					nvarchar(256),", " "),  new Array(1,"@EnablePublishPeriod	bit,", " "),  new Array(1,"@StartDate				datetime,", " "),  new Array(1,"@EndDate				datetime,", " "),  new Array(1,"@ContentItemID			int,", " "),  new Array(1,"@IsPublished			bit,", " "),  new Array(1,"@Content				image = NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @Version INT", " "),  new Array(1,"", " "),  new Array(1,"--	Calculate the new version = Max(Files.PublishedVersion, FileVersions.Versions) + 1", " "),  new Array(1,"SELECT @Version = MAX([Version]) + 1", " "),  new Array(1,"FROM (SELECT [Version]", " "),  new Array(1,"FROM dbo.[FileVersions]", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"UNION", " "),  new Array(1,"SELECT PublishedVersion [Version]", " "),  new Array(1,"FROM dbo.Files", " "),  new Array(1,"WHERE FileId = @FileId) v", " "),  new Array(1,"", " "),  new Array(1,"IF  @IsPublished = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT dbo.[FileVersions]", " "),  new Array(1,"([FileId]", " "),  new Array(1,",[Version]", " "),  new Array(1,",[FileName]", " "),  new Array(1,",[Extension]", " "),  new Array(1,",[Size]", " "),  new Array(1,",[Width]", " "),  new Array(1,",[Height]", " "),  new Array(1,",[ContentType]", " "),  new Array(1,",[Content]", " "),  new Array(1,",[CreatedByUserID]", " "),  new Array(1,",[CreatedOnDate]", " "),  new Array(1,",[LastModifiedByUserID]", " "),  new Array(1,",[LastModifiedOnDate]", " "),  new Array(1,",[SHA1Hash])", " "),  new Array(1,"SELECT		[FileId]", " "),  new Array(1,",[PublishedVersion]  [Version]", " "),  new Array(1,",CONVERT(nvarchar, [FileId]) + \'_\' + CONVERT(nvarchar, [PublishedVersion]) +\'.v.resources\'", " "),  new Array(1,",[Extension]", " "),  new Array(1,",[Size]", " "),  new Array(1,",[Width]", " "),  new Array(1,",[Height]", " "),  new Array(1,",[ContentType]", " "),  new Array(1,",[Content]", " "),  new Array(1,",[CreatedByUserID]", " "),  new Array(1,",[CreatedOnDate]", " "),  new Array(1,",[LastModifiedByUserID]", " "),  new Array(1,",[LastModifiedOnDate]", " "),  new Array(1,",[SHA1Hash]", " "),  new Array(1,"FROM Files", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"", " "),  new Array(1,"-- Change PublishedVersion", " "),  new Array(1,"UPDATE dbo.[Files]", " "),  new Array(1,"SET	 [PublishedVersion] = @Version", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT dbo.[FileVersions]", " "),  new Array(1,"([FileId]", " "),  new Array(1,",[Version]", " "),  new Array(1,",[FileName]", " "),  new Array(1,",[Extension]", " "),  new Array(1,",[Size]", " "),  new Array(1,",[Width]", " "),  new Array(1,",[Height]", " "),  new Array(1,",[ContentType]", " "),  new Array(1,",[Content]", " "),  new Array(1,",[CreatedByUserID]", " "),  new Array(1,",[CreatedOnDate]", " "),  new Array(1,",[LastModifiedByUserID]", " "),  new Array(1,",[LastModifiedOnDate]", " "),  new Array(1,",[SHA1Hash])", " "),  new Array(1,"VALUES (@FileId", " "),  new Array(1,",@Version", " "),  new Array(1,",CONVERT(nvarchar, @FileId) + \'_\' + CONVERT(nvarchar, @Version) +\'.v.resources\'", " "),  new Array(1,",@Extension", " "),  new Array(1,",@Size", " "),  new Array(1,",@Width", " "),  new Array(1,",@Height", " "),  new Array(1,",@ContentType", " "),  new Array(1,",@Content", " "),  new Array(1,",@UserID", " "),  new Array(1,",GETDATE()", " "),  new Array(1,",@UserID", " "),  new Array(1,",GETDATE()", " "),  new Array(1,",@Hash)", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT @Version", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddFolder]", " "),  new Array(1,"@PortalID 			int,", " "),  new Array(1,"@UniqueId	 		uniqueidentifier,", " "),  new Array(1,"@VersionGuid 		uniqueidentifier,", " "),  new Array(1,"@FolderPath 		nvarchar(300),", " "),  new Array(1,"@MappedPath 		nvarchar(300),", " "),  new Array(1,"@StorageLocation 	int,", " "),  new Array(1,"@IsProtected 		bit,", " "),  new Array(1,"@IsCached 			bit,", " "),  new Array(1,"@LastUpdated 		datetime,", " "),  new Array(1,"@CreatedByUserID  	int,", " "),  new Array(1,"@FolderMappingID	int = 0,", " "),  new Array(1,"@IsVersioned		bit = 0,", " "),  new Array(1,"@WorkflowID			int = NULL,", " "),  new Array(1,"@ParentID			int = NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @FolderMappingID = 0 BEGIN", " "),  new Array(1,"SELECT @FolderMappingID = FM.FolderMappingID", " "),  new Array(1,"FROM dbo.[FolderMappings] as FM", " "),  new Array(1,"WHERE ISNULL(FM.PortalID, -1) = ISNULL(@PortalID, -1)", " "),  new Array(1,"AND FolderProviderType = (", " "),  new Array(1,"CASE @StorageLocation", " "),  new Array(1,"WHEN 0 THEN \'StandardFolderProvider\'", " "),  new Array(1,"WHEN 1 THEN \'SecureFolderProvider\'", " "),  new Array(1,"WHEN 2 THEN \'DatabaseFolderProvider\'", " "),  new Array(1,"ELSE \'StandardFolderProvider\'", " "),  new Array(1,"END", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SET NOCOUNT OFF;", " "),  new Array(1,"INSERT INTO dbo.[Folders] (", " "),  new Array(1,"PortalID,", " "),  new Array(1,"UniqueId,", " "),  new Array(1,"VersionGuid,", " "),  new Array(1,"FolderPath,", " "),  new Array(1,"MappedPath,", " "),  new Array(1,"StorageLocation,", " "),  new Array(1,"IsProtected,", " "),  new Array(1,"IsCached,", " "),  new Array(1,"LastUpdated,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate,", " "),  new Array(1,"FolderMappingID,", " "),  new Array(1,"IsVersioned,", " "),  new Array(1,"WorkflowID,", " "),  new Array(1,"ParentID", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@UniqueId,", " "),  new Array(1,"@VersionGuid,", " "),  new Array(1,"@FolderPath,", " "),  new Array(1,"@MappedPath,", " "),  new Array(1,"@StorageLocation,", " "),  new Array(1,"@IsProtected,", " "),  new Array(1,"@IsCached,", " "),  new Array(1,"@LastUpdated,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@FolderMappingID,", " "),  new Array(1,"@IsVersioned,", " "),  new Array(1,"@WorkflowID,", " "),  new Array(1,"@ParentID", " "),  new Array(1,")", " "),  new Array(1,"--UPDATE THE PARENT FOLDERS UPDATED DATE TO LASTET DATE", " "),  new Array(1,"IF(@@ROWCOUNT>0 AND @ParentID IS NOT NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC dbo.[UpdateFolderModifiedOnToCurrentDate] @ParentID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @FolderId INT", " "),  new Array(1,"SELECT @FolderId = SCOPE_IDENTITY()", " "),  new Array(1,"SELECT @FolderId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddFolderMapping]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@MappingName nvarchar(50),", " "),  new Array(1,"@FolderProviderType nvarchar(50),", " "),  new Array(1,"@CreatedByUserID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Priority int", " "),  new Array(1,"", " "),  new Array(1,"SELECT TOP 1 @Priority = Priority + 1", " "),  new Array(1,"FROM dbo.[FolderMappings]", " "),  new Array(1,"WHERE [PortalID] = @PortalID", " "),  new Array(1,"ORDER BY Priority DESC", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.[FolderMappings] (", " "),  new Array(1,"PortalID,", " "),  new Array(1,"MappingName,", " "),  new Array(1,"FolderProviderType,", " "),  new Array(1,"Priority,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@MappingName,", " "),  new Array(1,"@FolderProviderType,", " "),  new Array(1,"@Priority,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"GETDATE()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddFolderMappingsSetting]", " "),  new Array(1,"@FolderMappingID int,", " "),  new Array(1,"@SettingName nvarchar(50),", " "),  new Array(1,"@SettingValue nvarchar(2000),", " "),  new Array(1,"@CreatedByUserID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[FolderMappingsSettings] (", " "),  new Array(1,"FolderMappingID,", " "),  new Array(1,"SettingName,", " "),  new Array(1,"SettingValue,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@FolderMappingID,", " "),  new Array(1,"@SettingName,", " "),  new Array(1,"@SettingValue,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"GETDATE()", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddFolderPermission]", " "),  new Array(1,"@FolderID           Int, -- not Null!", " "),  new Array(1,"@PermissionId       Int, -- not Null!", " "),  new Array(1,"@RoleId             Int, -- might be negative for virtual roles", " "),  new Array(1,"@AllowAccess        Bit, -- false: deny, true: grant", " "),  new Array(1,"@UserId             Int, -- -1 is replaced by Null", " "),  new Array(1,"@CreatedByUserId    Int  -- -1 is replaced by Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[FolderPermission] (", " "),  new Array(1,"[FolderID],", " "),  new Array(1,"[PermissionID],", " "),  new Array(1,"[RoleId],", " "),  new Array(1,"[AllowAccess],", " "),  new Array(1,"[UserId],", " "),  new Array(1,"[CreatedByUserId],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserId],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@FolderID,", " "),  new Array(1,"@PermissionID,", " "),  new Array(1,"@RoleId,", " "),  new Array(1,"@AllowAccess,", " "),  new Array(1,"CASE WHEN @UserId = -1 THEN Null ELSE @UserId END,", " "),  new Array(1,"CASE WHEN @CreatedByUserID = -1 THEN Null ELSE @CreatedByUserID END,", " "),  new Array(1,"GetDate(),", " "),  new Array(1,"CASE WHEN @CreatedByUserID = -1 THEN Null ELSE @CreatedByUserID END,", " "),  new Array(1,"GetDate()", " "),  new Array(1,")", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddHeirarchicalTerm]", " "),  new Array(1,"@VocabularyID		int,", " "),  new Array(1,"@ParentTermID		int,", " "),  new Array(1,"@Name				nvarchar(250),", " "),  new Array(1,"@Description		nvarchar(2500),", " "),  new Array(1,"@Weight				int,", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @Left int", " "),  new Array(1,"", " "),  new Array(1,"-- Get Left value of Sibling that we are inserting before", " "),  new Array(1,"SET @Left = (SELECT TOP 1 TermLeft FROM dbo.Taxonomy_Terms", " "),  new Array(1,"WHERE VocabularyID = @VocabularyID", " "),  new Array(1,"AND ParentTermID = @ParentTermID", " "),  new Array(1,"AND Name > @Name", " "),  new Array(1,"ORDER BY Name)", " "),  new Array(1,"", " "),  new Array(1,"-- Term is to be inserted at end of sibling list so get the Right value of the parent, which will become our new left value", " "),  new Array(1,"IF @Left IS NULL", " "),  new Array(1,"SET @Left = (SELECT TermRight FROM dbo.Taxonomy_Terms", " "),  new Array(1,"WHERE VocabularyID = @VocabularyID", " "),  new Array(1,"AND TermID = @ParentTermID)", " "),  new Array(1,"", " "),  new Array(1,"-- Left is still null means this is the first term in this vocabulary - set the Left to 1", " "),  new Array(1,"IF @Left IS NULL", " "),  new Array(1,"SET @Left = 1", " "),  new Array(1,"", " "),  new Array(1,"BEGIN TRANSACTION", " "),  new Array(1,"-- Update Left values for all items that are after new term", " "),  new Array(1,"UPDATE dbo.Taxonomy_Terms", " "),  new Array(1,"SET TermLeft = TermLeft + 2", " "),  new Array(1,"WHERE TermLeft >= @Left", " "),  new Array(1,"AND VocabularyID = @VocabularyID", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Update Right values for all items that are after new term", " "),  new Array(1,"UPDATE dbo.Taxonomy_Terms", " "),  new Array(1,"SET TermRight = TermRight + 2", " "),  new Array(1,"WHERE TermRight >= @Left", " "),  new Array(1,"AND VocabularyID = @VocabularyID", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Insert new term", " "),  new Array(1,"INSERT INTO dbo.Taxonomy_Terms (", " "),  new Array(1,"VocabularyID,", " "),  new Array(1,"ParentTermID,", " "),  new Array(1,"[Name],", " "),  new Array(1,"Description,", " "),  new Array(1,"Weight,", " "),  new Array(1,"TermLeft,", " "),  new Array(1,"TermRight,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@VocabularyID,", " "),  new Array(1,"@ParentTermID,", " "),  new Array(1,"@Name,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@Weight,", " "),  new Array(1,"@Left,", " "),  new Array(1,"@Left + 1,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"COMMIT TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Rollback the transaction", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Rollback the transaction", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Rollback the transaction", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[AddHtmlText]", " "),  new Array(1,"", " "),  new Array(1,"@ModuleID        int,", " "),  new Array(1,"@Content         ntext,", " "),  new Array(1,"@Summary	     ntext,", " "),  new Array(1,"@StateID         int,", " "),  new Array(1,"@IsPublished     bit,", " "),  new Array(1,"@UserID          int,", " "),  new Array(1,"@History         int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"declare @Version int", " "),  new Array(1,"", " "),  new Array(1,"select @Version = max(Version) from dbo.HtmlText where ModuleID = @ModuleID", " "),  new Array(1,"", " "),  new Array(1,"if @Version is null", " "),  new Array(1,"select @Version = 1", " "),  new Array(1,"else", " "),  new Array(1,"select @Version = @Version + 1", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.HtmlText (", " "),  new Array(1,"ModuleID,", " "),  new Array(1,"Content,", " "),  new Array(1,"Summary,", " "),  new Array(1,"Version,", " "),  new Array(1,"StateID,", " "),  new Array(1,"IsPublished,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@ModuleID,", " "),  new Array(1,"@Content,", " "),  new Array(1,"@Summary,", " "),  new Array(1,"@Version,", " "),  new Array(1,"@StateID,", " "),  new Array(1,"@IsPublished,", " "),  new Array(1,"@UserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@UserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"if @History > 0", " "),  new Array(1,"begin", " "),  new Array(1,"delete", " "),  new Array(1,"from   dbo.HtmlText", " "),  new Array(1,"where  ModuleID = @ModuleID", " "),  new Array(1,"and    Version <= (@Version - @History)", " "),  new Array(1,"end", " "),  new Array(1,"", " "),  new Array(1,"select SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[AddHtmlTextLog]", " "),  new Array(1,"", " "),  new Array(1,"@ItemID          int,", " "),  new Array(1,"@StateID         int,", " "),  new Array(1,"@Comment         nvarchar(4000),", " "),  new Array(1,"@Approved        bit,", " "),  new Array(1,"@UserID          int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.HtmlTextLog (", " "),  new Array(1,"ItemID,", " "),  new Array(1,"StateID,", " "),  new Array(1,"Comment,", " "),  new Array(1,"Approved,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@ItemID,", " "),  new Array(1,"@StateID,", " "),  new Array(1,"@Comment,", " "),  new Array(1,"@Approved,", " "),  new Array(1,"@UserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[AddHtmlTextUser]", " "),  new Array(1,"", " "),  new Array(1,"@ItemID          int,", " "),  new Array(1,"@StateID         int,", " "),  new Array(1,"@ModuleID        int,", " "),  new Array(1,"@TabID           int,", " "),  new Array(1,"@UserID          int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.HtmlTextUsers (", " "),  new Array(1,"ItemID,", " "),  new Array(1,"StateID,", " "),  new Array(1,"ModuleID,", " "),  new Array(1,"TabID,", " "),  new Array(1,"UserID,", " "),  new Array(1,"CreatedOnDate", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@ItemID,", " "),  new Array(1,"@StateID,", " "),  new Array(1,"@ModuleID,", " "),  new Array(1,"@TabID,", " "),  new Array(1,"@UserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddIPFilter]", " "),  new Array(1,"@IPAddress nvarchar(50),", " "),  new Array(1,"@SubnetMask nvarchar(50),", " "),  new Array(1,"@RuleType tinyint,", " "),  new Array(1,"@CreatedByUserID			int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.IPFilter", " "),  new Array(1,"(", " "),  new Array(1,"[IPAddress]", " "),  new Array(1,",[SubnetMask]", " "),  new Array(1,",[RuleType]", " "),  new Array(1,",[CreatedByUserID]", " "),  new Array(1,",[CreatedOnDate]", " "),  new Array(1,",[LastModifiedByUserID]", " "),  new Array(1,",[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES", " "),  new Array(1,"(", " "),  new Array(1,"@IPAddress ,", " "),  new Array(1,"@SubnetMask ,", " "),  new Array(1,"@RuleType,", " "),  new Array(1,"@CreatedByUserID ,", " "),  new Array(1,"getdate() ,", " "),  new Array(1,"@CreatedByUserID ,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddLanguage]", " "),  new Array(1,"", " "),  new Array(1,"@CultureCode		    nvarchar(50),", " "),  new Array(1,"@CultureName            nvarchar(200),", " "),  new Array(1,"@FallbackCulture        nvarchar(50),", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.Languages (", " "),  new Array(1,"CultureCode,", " "),  new Array(1,"CultureName,", " "),  new Array(1,"FallbackCulture,", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"@CultureName,", " "),  new Array(1,"@FallbackCulture,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddLanguagePack]", " "),  new Array(1,"", " "),  new Array(1,"@PackageID			    int,", " "),  new Array(1,"@LanguageID			    int,", " "),  new Array(1,"@DependentPackageID		int,", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.LanguagePacks (", " "),  new Array(1,"PackageID,", " "),  new Array(1,"LanguageID,", " "),  new Array(1,"DependentPackageID,", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PackageID,", " "),  new Array(1,"@LanguageID,", " "),  new Array(1,"@DependentPackageID,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddListEntry]", " "),  new Array(1,"", " "),  new Array(1,"@ListName nvarchar(50),", " "),  new Array(1,"@Value nvarchar(100),", " "),  new Array(1,"@Text nvarchar(150),", " "),  new Array(1,"@ParentID int,", " "),  new Array(1,"@Level int,", " "),  new Array(1,"@EnableSortOrder bit,", " "),  new Array(1,"@DefinitionID int,", " "),  new Array(1,"@Description nvarchar(500),", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@SystemList bit,", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @SortOrder int", " "),  new Array(1,"", " "),  new Array(1,"IF @EnableSortOrder = 1", " "),  new Array(1,"SET @SortOrder = IsNull((SELECT MAX ([SortOrder]) From dbo.[Lists] Where [ListName] = @ListName), 0) + 1", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @SortOrder = 0", " "),  new Array(1,"", " "),  new Array(1,"-- Check if this entry exists", " "),  new Array(1,"If EXISTS (SELECT [EntryID] From dbo.[Lists] WHERE [ListName] = @ListName And [Value] = @Value And [Text] = @Text And [ParentID] = @ParentID)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT -1", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.[Lists]", " "),  new Array(1,"(", " "),  new Array(1,"[ListName],", " "),  new Array(1,"[Value],", " "),  new Array(1,"[Text],", " "),  new Array(1,"[Level],", " "),  new Array(1,"[SortOrder],", " "),  new Array(1,"[DefinitionID],", " "),  new Array(1,"[ParentID],", " "),  new Array(1,"[Description],", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[SystemList],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@ListName,", " "),  new Array(1,"@Value,", " "),  new Array(1,"@Text,", " "),  new Array(1,"@Level,", " "),  new Array(1,"@SortOrder,", " "),  new Array(1,"@DefinitionID,", " "),  new Array(1,"@ParentID,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@SystemList,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddMetaData]", " "),  new Array(1,"@ContentItemID		int,", " "),  new Array(1,"@Name				nvarchar(100),", " "),  new Array(1,"@Value				nvarchar(MAX)", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @MetaDataID	int", " "),  new Array(1,"SET @MetaDataID = (SELECT MetaDataID FROM MetaData WHERE MetaDataName = @Name)", " "),  new Array(1,"", " "),  new Array(1,"IF @MetaDataID IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--Insert new item into MetaData table", " "),  new Array(1,"INSERT INTO dbo.MetaData ( MetaDataName ) VALUES ( @Name )", " "),  new Array(1,"", " "),  new Array(1,"SET @MetaDataID = (SELECT SCOPE_IDENTITY() )", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.ContentItems_MetaData (", " "),  new Array(1,"ContentItemID,", " "),  new Array(1,"MetaDataID,", " "),  new Array(1,"MetaDataValue", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@ContentItemID,", " "),  new Array(1,"@MetaDataID,", " "),  new Array(1,"@Value", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddModule]", " "),  new Array(1,"@ContentItemID				int,", " "),  new Array(1,"@PortalID					int,", " "),  new Array(1,"@ModuleDefId				int,", " "),  new Array(1,"@AllTabs					bit,", " "),  new Array(1,"@StartDate					datetime,", " "),  new Array(1,"@EndDate					datetime,", " "),  new Array(1,"@InheritViewPermissions     bit,", " "),  new Array(1,"@IsShareable				bit,", " "),  new Array(1,"@IsShareableViewOnly		bit,", " "),  new Array(1,"@IsDeleted					bit,", " "),  new Array(1,"@CreatedByUserID  			int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.Modules (", " "),  new Array(1,"ContentItemID,", " "),  new Array(1,"PortalId,", " "),  new Array(1,"ModuleDefId,", " "),  new Array(1,"AllTabs,", " "),  new Array(1,"StartDate,", " "),  new Array(1,"EndDate,", " "),  new Array(1,"InheritViewPermissions,", " "),  new Array(1,"IsShareable,", " "),  new Array(1,"IsShareableViewOnly,", " "),  new Array(1,"IsDeleted,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@ContentItemID,", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@ModuleDefId,", " "),  new Array(1,"@AllTabs,", " "),  new Array(1,"@StartDate,", " "),  new Array(1,"@EndDate,", " "),  new Array(1,"@InheritViewPermissions,", " "),  new Array(1,"@IsShareable,", " "),  new Array(1,"@IsShareableViewOnly,", " "),  new Array(1,"@IsDeleted,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddModuleControl]", " "),  new Array(1,"", " "),  new Array(1,"@ModuleDefID                int,", " "),  new Array(1,"@ControlKey                 nvarchar(50),", " "),  new Array(1,"@ControlTitle               nvarchar(50),", " "),  new Array(1,"@ControlSrc                 nvarchar(256),", " "),  new Array(1,"@IconFile                   nvarchar(100),", " "),  new Array(1,"@ControlType                int,", " "),  new Array(1,"@ViewOrder                  int,", " "),  new Array(1,"@HelpUrl                    nvarchar(200),", " "),  new Array(1,"@SupportsPartialRendering   bit,", " "),  new Array(1,"@SupportsPopUps				bit,", " "),  new Array(1,"@CreatedByUserID			int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.ModuleControls (", " "),  new Array(1,"ModuleDefID,", " "),  new Array(1,"ControlKey,", " "),  new Array(1,"ControlTitle,", " "),  new Array(1,"ControlSrc,", " "),  new Array(1,"IconFile,", " "),  new Array(1,"ControlType,", " "),  new Array(1,"ViewOrder,", " "),  new Array(1,"HelpUrl,", " "),  new Array(1,"SupportsPartialRendering,", " "),  new Array(1,"SupportsPopUps,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@ModuleDefID,", " "),  new Array(1,"@ControlKey,", " "),  new Array(1,"@ControlTitle,", " "),  new Array(1,"@ControlSrc,", " "),  new Array(1,"@IconFile,", " "),  new Array(1,"@ControlType,", " "),  new Array(1,"@ViewOrder,", " "),  new Array(1,"@HelpUrl,", " "),  new Array(1,"@SupportsPartialRendering,", " "),  new Array(1,"@SupportsPopUps,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddModuleDefinition]", " "),  new Array(1,"", " "),  new Array(1,"@DesktopModuleId int,", " "),  new Array(1,"@FriendlyName    nvarchar(128),", " "),  new Array(1,"@DefinitionName nvarchar(128),", " "),  new Array(1,"@DefaultCacheTime int,", " "),  new Array(1,"@CreatedByUserID  int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.ModuleDefinitions (", " "),  new Array(1,"DesktopModuleId,", " "),  new Array(1,"FriendlyName,", " "),  new Array(1,"DefinitionName,", " "),  new Array(1,"DefaultCacheTime,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@DesktopModuleId,", " "),  new Array(1,"@FriendlyName,", " "),  new Array(1,"@DefinitionName,", " "),  new Array(1,"@DefaultCacheTime,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"select SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddModulePermission]", " "),  new Array(1,"@ModuleID           Int, -- not null!", " "),  new Array(1,"@PortalID           Int, -- not null!", " "),  new Array(1,"@PermissionId       Int, -- not null!", " "),  new Array(1,"@RoleId             Int, -- might be negative for virtual roles", " "),  new Array(1,"@AllowAccess        Bit, -- false: deny, true: grant", " "),  new Array(1,"@UserId             Int, -- -1 is replaced by Null", " "),  new Array(1,"@CreatedByUserId    Int  -- -1 is replaced by Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[ModulePermission] (", " "),  new Array(1,"[ModuleID],", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[PermissionID],", " "),  new Array(1,"[RoleId],", " "),  new Array(1,"[AllowAccess],", " "),  new Array(1,"[UserId],", " "),  new Array(1,"[CreatedByUserId],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserId],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@ModuleID,", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@PermissionID,", " "),  new Array(1,"@RoleId,", " "),  new Array(1,"@AllowAccess,", " "),  new Array(1,"CASE WHEN @UserId = -1 THEN Null ELSE @UserId END,", " "),  new Array(1,"CASE WHEN @CreatedByUserID = -1 THEN Null ELSE @CreatedByUserID END,", " "),  new Array(1,"GetDate(),", " "),  new Array(1,"CASE WHEN @CreatedByUserID = -1 THEN Null ELSE @CreatedByUserID END,", " "),  new Array(1,"GetDate()", " "),  new Array(1,")", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddPackage]", " "),  new Array(1,"@PortalID			int,", " "),  new Array(1,"@Name			    nvarchar(128),", " "),  new Array(1,"@FriendlyName	    nvarchar(250),", " "),  new Array(1,"@Description	    nvarchar(2000),", " "),  new Array(1,"@PackageType	    nvarchar(50),", " "),  new Array(1,"@Version		    nvarchar(50),", " "),  new Array(1,"@License		    ntext,", " "),  new Array(1,"@Manifest		    ntext,", " "),  new Array(1,"@Owner				nvarchar(100),", " "),  new Array(1,"@Organization		nvarchar(100),", " "),  new Array(1,"@Url				nvarchar(250),", " "),  new Array(1,"@Email				nvarchar(100),", " "),  new Array(1,"@ReleaseNotes	    ntext,", " "),  new Array(1,"@IsSystemPackage    bit,", " "),  new Array(1,"@CreatedByUserID	int,", " "),  new Array(1,"@FolderName			nvarchar(127),", " "),  new Array(1,"@IconFile			nvarchar(100)", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.Packages", " "),  new Array(1,"(", " "),  new Array(1,"PortalID,", " "),  new Array(1,"[Name],", " "),  new Array(1,"FriendlyName,", " "),  new Array(1,"[Description],", " "),  new Array(1,"PackageType,", " "),  new Array(1,"Version,", " "),  new Array(1,"License,", " "),  new Array(1,"Manifest,", " "),  new Array(1,"ReleaseNotes,", " "),  new Array(1,"[Owner],", " "),  new Array(1,"Organization,", " "),  new Array(1,"Url,", " "),  new Array(1,"Email,", " "),  new Array(1,"IsSystemPackage,", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate],", " "),  new Array(1,"FolderName,", " "),  new Array(1,"IconFile", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@Name,", " "),  new Array(1,"@FriendlyName,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@PackageType,", " "),  new Array(1,"@Version,", " "),  new Array(1,"@License,", " "),  new Array(1,"@Manifest,", " "),  new Array(1,"@ReleaseNotes,", " "),  new Array(1,"@Owner,", " "),  new Array(1,"@Organization,", " "),  new Array(1,"@Url,", " "),  new Array(1,"@Email,", " "),  new Array(1,"@IsSystemPackage,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@FolderName,", " "),  new Array(1,"@IconFile", " "),  new Array(1,")", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddPasswordHistory]", " "),  new Array(1,"@UserId			int,", " "),  new Array(1,"@Password			nvarchar(128),", " "),  new Array(1,"@PasswordSalt		nvarchar(128),", " "),  new Array(1,"@Retained			int,", " "),  new Array(1,"@CreatedByUserID  	int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.PasswordHistory (", " "),  new Array(1,"UserId,", " "),  new Array(1,"[Password],", " "),  new Array(1,"PasswordSalt,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@UserId,", " "),  new Array(1,"@Password,", " "),  new Array(1,"@PasswordSalt,", " "),  new Array(1,"", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.PasswordHistory where UserID=@UserId and PasswordHistoryID NOT IN (", " "),  new Array(1,"SELECT TOP (@Retained) PasswordHistoryID from dbo.PasswordHistory", " "),  new Array(1,"WHERE UserID=@UserId order by CreatedOnDate desc", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddPermission]", " "),  new Array(1,"@ModuleDefID		int,", " "),  new Array(1,"@PermissionCode		varchar(50),", " "),  new Array(1,"@PermissionKey		varchar(50),", " "),  new Array(1,"@PermissionName		varchar(50),", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.Permission (", " "),  new Array(1,"[ModuleDefID],", " "),  new Array(1,"[PermissionCode],", " "),  new Array(1,"[PermissionKey],", " "),  new Array(1,"[PermissionName],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@ModuleDefID,", " "),  new Array(1,"@PermissionCode,", " "),  new Array(1,"@PermissionKey,", " "),  new Array(1,"@PermissionName,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"select SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddPortalAlias]", " "),  new Array(1,"@PortalID 			int,", " "),  new Array(1,"@HTTPAlias 			nvarchar(200),", " "),  new Array(1,"@CultureCode		nvarchar(10),", " "),  new Array(1,"@Skin				nvarchar(100),", " "),  new Array(1,"@BrowserType		nvarchar(10),", " "),  new Array(1,"@IsPrimary			bit,", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"IF @IsPrimary = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.PortalAlias", " "),  new Array(1,"SET IsPrimary = 0", " "),  new Array(1,"WHERE (CultureCode = @CultureCode OR (CultureCode IS NULL AND @CultureCode IS NULL))", " "),  new Array(1,"AND (BrowserType = @BrowserType OR (BrowserType IS NULL AND @BrowserType IS NULL))", " "),  new Array(1,"AND (PortalID = @PortalID)", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.PortalAlias (", " "),  new Array(1,"PortalID,", " "),  new Array(1,"HTTPAlias,", " "),  new Array(1,"CultureCode,", " "),  new Array(1,"BrowserTYpe,", " "),  new Array(1,"Skin,", " "),  new Array(1,"IsPrimary,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@HTTPAlias,", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"@BrowserTYpe,", " "),  new Array(1,"@Skin,", " "),  new Array(1,"@IsPrimary,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddPortalDesktopModule]", " "),  new Array(1,"@PortalID			int,", " "),  new Array(1,"@DesktopModuleId	int,", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.PortalDesktopModules (", " "),  new Array(1,"PortalId,", " "),  new Array(1,"DesktopModuleId,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@DesktopModuleId,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"select SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddPortalGroup]", " "),  new Array(1,"@PortalGroupName			nvarchar(100),", " "),  new Array(1,"@PortalGroupDescription		nvarchar(2000),", " "),  new Array(1,"@MasterPortalID				int,", " "),  new Array(1,"@AuthenticationDomain		nvarchar(200),", " "),  new Array(1,"@CreatedByUserID			int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.PortalGroups", " "),  new Array(1,"(", " "),  new Array(1,"PortalGroupName  ,", " "),  new Array(1,"PortalGroupDescription  ,", " "),  new Array(1,"MasterPortalID,", " "),  new Array(1,"AuthenticationDomain,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES", " "),  new Array(1,"(", " "),  new Array(1,"@PortalGroupName ,", " "),  new Array(1,"@PortalGroupDescription ,", " "),  new Array(1,"@MasterPortalID,", " "),  new Array(1,"@AuthenticationDomain,", " "),  new Array(1,"@CreatedByUserID ,", " "),  new Array(1,"getdate() ,", " "),  new Array(1,"@CreatedByUserID ,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddPortalInfo]", " "),  new Array(1,"@PortalName         nvarchar(128),", " "),  new Array(1,"@Currency           char(3),", " "),  new Array(1,"@ExpiryDate         datetime,", " "),  new Array(1,"@HostFee            money,", " "),  new Array(1,"@HostSpace          int,", " "),  new Array(1,"@PageQuota          int,", " "),  new Array(1,"@UserQuota          int,", " "),  new Array(1,"@SiteLogHistory     int,", " "),  new Array(1,"@HomeDirectory		varchar(100),", " "),  new Array(1,"@CultureCode		nvarchar(50),", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @PortalID int", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.Portals (", " "),  new Array(1,"ExpiryDate,", " "),  new Array(1,"UserRegistration,", " "),  new Array(1,"BannerAdvertising,", " "),  new Array(1,"Currency,", " "),  new Array(1,"HostFee,", " "),  new Array(1,"HostSpace,", " "),  new Array(1,"PageQuota,", " "),  new Array(1,"UserQuota,", " "),  new Array(1,"SiteLogHistory,", " "),  new Array(1,"DefaultLanguage,", " "),  new Array(1,"HomeDirectory,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@ExpiryDate,", " "),  new Array(1,"0,", " "),  new Array(1,"0,", " "),  new Array(1,"@Currency,", " "),  new Array(1,"@HostFee,", " "),  new Array(1,"@HostSpace,", " "),  new Array(1,"@PageQuota,", " "),  new Array(1,"@UserQuota,", " "),  new Array(1,"@SiteLogHistory,", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"@HomeDirectory,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SET @PortalID = SCOPE_IDENTITY()", " "),  new Array(1,"", " "),  new Array(1,"IF @HomeDirectory = \'\'", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Portals SET HomeDirectory = \'Portals\/\' + convert(varchar(10), @PortalID) WHERE PortalID = @PortalID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.PortalLocalization (PortalID,CultureCode,PortalName,Description,KeyWords)", " "),  new Array(1,"values (@PortalID,@CultureCode,@PortalName,@PortalName,@PortalName)", " "),  new Array(1,"", " "),  new Array(1,"", " "),  new Array(1,"SELECT @PortalID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddPortalLanguage]", " "),  new Array(1,"@PortalId			int,", " "),  new Array(1,"@LanguageId			int,", " "),  new Array(1,"@IsPublished		bit,", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @PortalLanguageId INT", " "),  new Array(1,"DECLARE @CultureCode NVARCHAR(50)", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.PortalLanguages (", " "),  new Array(1,"PortalId,", " "),  new Array(1,"LanguageId,", " "),  new Array(1,"IsPublished,", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PortalId,", " "),  new Array(1,"@LanguageId,", " "),  new Array(1,"@IsPublished,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT @PortalLanguageId = SCOPE_IDENTITY()", " "),  new Array(1,"", " "),  new Array(1,"SELECT @CultureCode = CultureCode FROM dbo.Languages WHERE LanguageID = @LanguageId", " "),  new Array(1,"", " "),  new Array(1,"SELECT @PortalLanguageId", " "),  new Array(1,"", " "),  new Array(1,"EXEC dbo.EnsureLocalizationExists @PortalID = @PortalId, @CultureCode = @CultureCode", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[AddProfile]", " "),  new Array(1,"", " "),  new Array(1,"@UserID        int,", " "),  new Array(1,"@PortalID      int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.Profile (", " "),  new Array(1,"UserId,", " "),  new Array(1,"PortalId,", " "),  new Array(1,"ProfileData,", " "),  new Array(1,"CreatedDate", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@UserID,", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"\'\',", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddPropertyDefinition]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@ModuleDefId int,", " "),  new Array(1,"@DataType int,", " "),  new Array(1,"@DefaultValue nvarchar(max),", " "),  new Array(1,"@PropertyCategory nvarchar(50),", " "),  new Array(1,"@PropertyName nvarchar(50),", " "),  new Array(1,"@ReadOnly bit,", " "),  new Array(1,"@Required bit,", " "),  new Array(1,"@ValidationExpression nvarchar(2000),", " "),  new Array(1,"@ViewOrder int,", " "),  new Array(1,"@Visible bit,", " "),  new Array(1,"@Length int,", " "),  new Array(1,"@DefaultVisibility int,", " "),  new Array(1,"@CreatedByUserID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @PropertyDefinitionId int", " "),  new Array(1,"", " "),  new Array(1,"SELECT @PropertyDefinitionId = PropertyDefinitionId", " "),  new Array(1,"FROM   dbo.ProfilePropertyDefinition", " "),  new Array(1,"WHERE  (PortalId = @PortalId OR (PortalId IS NULL AND @PortalId IS NULL))", " "),  new Array(1,"AND PropertyName = @PropertyName", " "),  new Array(1,"", " "),  new Array(1,"IF @vieworder=-1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT	@vieworder = MAX(ViewOrder) + 1", " "),  new Array(1,"FROM	dbo.ProfilePropertyDefinition", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF @PropertyDefinitionId IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT dbo.ProfilePropertyDefinition	(", " "),  new Array(1,"PortalId,", " "),  new Array(1,"ModuleDefId,", " "),  new Array(1,"Deleted,", " "),  new Array(1,"DataType,", " "),  new Array(1,"DefaultValue,", " "),  new Array(1,"PropertyCategory,", " "),  new Array(1,"PropertyName,", " "),  new Array(1,"ReadOnly,", " "),  new Array(1,"Required,", " "),  new Array(1,"ValidationExpression,", " "),  new Array(1,"ViewOrder,", " "),  new Array(1,"Visible,", " "),  new Array(1,"Length,", " "),  new Array(1,"DefaultVisibility,", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"VALUES	(", " "),  new Array(1,"@PortalId,", " "),  new Array(1,"@ModuleDefId,", " "),  new Array(1,"0,", " "),  new Array(1,"@DataType,", " "),  new Array(1,"@DefaultValue,", " "),  new Array(1,"@PropertyCategory,", " "),  new Array(1,"@PropertyName,", " "),  new Array(1,"@ReadOnly,", " "),  new Array(1,"@Required,", " "),  new Array(1,"@ValidationExpression,", " "),  new Array(1,"@ViewOrder,", " "),  new Array(1,"@Visible,", " "),  new Array(1,"@Length,", " "),  new Array(1,"@DefaultVisibility,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT @PropertyDefinitionId = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.ProfilePropertyDefinition", " "),  new Array(1,"SET DataType = @DataType,", " "),  new Array(1,"ModuleDefId = @ModuleDefId,", " "),  new Array(1,"DefaultValue = @DefaultValue,", " "),  new Array(1,"PropertyCategory = @PropertyCategory,", " "),  new Array(1,"ReadOnly = @ReadOnly,", " "),  new Array(1,"Required = @Required,", " "),  new Array(1,"ValidationExpression = @ValidationExpression,", " "),  new Array(1,"ViewOrder = @ViewOrder,", " "),  new Array(1,"Deleted = 0,", " "),  new Array(1,"Visible = @Visible,", " "),  new Array(1,"Length = @Length,", " "),  new Array(1,"DefaultVisibility = @DefaultVisibility,", " "),  new Array(1,"[LastModifiedByUserID] = @CreatedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = getdate()", " "),  new Array(1,"WHERE PropertyDefinitionId = @PropertyDefinitionId", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT @PropertyDefinitionId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddRedirectMessage]", " "),  new Array(1,"@UserId int,", " "),  new Array(1,"@TabId int,", " "),  new Array(1,"@Text [nvarchar](max)", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.RedirectMessages", " "),  new Array(1,"(UserId, TabId, MessageText)", " "),  new Array(1,"OUTPUT inserted.MessageId", " "),  new Array(1,"VALUES(@UserId, @TabId, @Text)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddRole]", " "),  new Array(1,"@PortalID         int,", " "),  new Array(1,"@RoleGroupId      int,", " "),  new Array(1,"@RoleName         nvarchar(50),", " "),  new Array(1,"@Description      nvarchar(1000),", " "),  new Array(1,"@ServiceFee       money,", " "),  new Array(1,"@BillingPeriod    int,", " "),  new Array(1,"@BillingFrequency char(1),", " "),  new Array(1,"@TrialFee         money,", " "),  new Array(1,"@TrialPeriod      int,", " "),  new Array(1,"@TrialFrequency   char(1),", " "),  new Array(1,"@IsPublic         bit,", " "),  new Array(1,"@AutoAssignment   bit,", " "),  new Array(1,"@RSVPCode         nvarchar(50),", " "),  new Array(1,"@IconFile         nvarchar(100),", " "),  new Array(1,"@CreatedByUserID  int,", " "),  new Array(1,"@Status			  int,", " "),  new Array(1,"@SecurityMode   int,", " "),  new Array(1,"@IsSystemRole bit", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.Roles (", " "),  new Array(1,"PortalId,", " "),  new Array(1,"RoleGroupId,", " "),  new Array(1,"RoleName,", " "),  new Array(1,"Description,", " "),  new Array(1,"ServiceFee,", " "),  new Array(1,"BillingPeriod,", " "),  new Array(1,"BillingFrequency,", " "),  new Array(1,"TrialFee,", " "),  new Array(1,"TrialPeriod,", " "),  new Array(1,"TrialFrequency,", " "),  new Array(1,"IsPublic,", " "),  new Array(1,"AutoAssignment,", " "),  new Array(1,"RSVPCode,", " "),  new Array(1,"IconFile,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate,", " "),  new Array(1,"Status,", " "),  new Array(1,"SecurityMode,", " "),  new Array(1,"IsSystemRole", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@RoleGroupId,", " "),  new Array(1,"@RoleName,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@ServiceFee,", " "),  new Array(1,"@BillingPeriod,", " "),  new Array(1,"@BillingFrequency,", " "),  new Array(1,"@TrialFee,", " "),  new Array(1,"@TrialPeriod,", " "),  new Array(1,"@TrialFrequency,", " "),  new Array(1,"@IsPublic,", " "),  new Array(1,"@AutoAssignment,", " "),  new Array(1,"@RSVPCode,", " "),  new Array(1,"@IconFile,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@Status,", " "),  new Array(1,"@SecurityMode,", " "),  new Array(1,"@IsSystemRole", " "),  new Array(1,")", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddRoleGroup]", " "),  new Array(1,"@PortalID         int,", " "),  new Array(1,"@RoleGroupName    nvarchar(50),", " "),  new Array(1,"@Description      nvarchar(1000),", " "),  new Array(1,"@CreatedByUserID  int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.RoleGroups (", " "),  new Array(1,"PortalId,", " "),  new Array(1,"RoleGroupName,", " "),  new Array(1,"Description,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@RoleGroupName,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddSchedule]", " "),  new Array(1,"@TypeFullName varchar(200)", " "),  new Array(1,",@TimeLapse int", " "),  new Array(1,",@TimeLapseMeasurement varchar(2)", " "),  new Array(1,",@RetryTimeLapse int", " "),  new Array(1,",@RetryTimeLapseMeasurement varchar(2)", " "),  new Array(1,",@RetainHistoryNum int", " "),  new Array(1,",@AttachToEvent varchar(50)", " "),  new Array(1,",@CatchUpEnabled bit", " "),  new Array(1,",@Enabled bit", " "),  new Array(1,",@ObjectDependencies varchar(300)", " "),  new Array(1,",@Servers varchar(150)", " "),  new Array(1,",@CreatedByUserID	int", " "),  new Array(1,",@FriendlyName varchar(200)", " "),  new Array(1,",@ScheduleStartDate datetime", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO  dbo.Schedule(", " "),  new Array(1,"TypeFullName", " "),  new Array(1,",TimeLapse", " "),  new Array(1,",TimeLapseMeasurement", " "),  new Array(1,",RetryTimeLapse", " "),  new Array(1,",RetryTimeLapseMeasurement", " "),  new Array(1,",RetainHistoryNum", " "),  new Array(1,",AttachToEvent", " "),  new Array(1,",CatchUpEnabled", " "),  new Array(1,",Enabled", " "),  new Array(1,",ObjectDependencies", " "),  new Array(1,",Servers", " "),  new Array(1,",FriendlyName", " "),  new Array(1,",[CreatedByUserID]", " "),  new Array(1,",[CreatedOnDate]", " "),  new Array(1,",[LastModifiedByUserID]", " "),  new Array(1,",[LastModifiedOnDate]", " "),  new Array(1,",ScheduleStartDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@TypeFullName", " "),  new Array(1,",@TimeLapse", " "),  new Array(1,",@TimeLapseMeasurement", " "),  new Array(1,",@RetryTimeLapse", " "),  new Array(1,",@RetryTimeLapseMeasurement", " "),  new Array(1,",@RetainHistoryNum", " "),  new Array(1,",@AttachToEvent", " "),  new Array(1,",@CatchUpEnabled", " "),  new Array(1,",@Enabled", " "),  new Array(1,",@ObjectDependencies", " "),  new Array(1,",@Servers", " "),  new Array(1,",@FriendlyName", " "),  new Array(1,",@CreatedByUserID", " "),  new Array(1,",getdate()", " "),  new Array(1,",@CreatedByUserID", " "),  new Array(1,",getdate()", " "),  new Array(1,",@ScheduleStartDate", " "),  new Array(1,")", " "),  new Array(1,"select SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddScheduleHistory]", " "),  new Array(1,"@ScheduleID int,", " "),  new Array(1,"@StartDate datetime,", " "),  new Array(1,"@Server varchar(150)", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.ScheduleHistory", " "),  new Array(1,"(ScheduleID,", " "),  new Array(1,"StartDate,", " "),  new Array(1,"Server)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@ScheduleID,", " "),  new Array(1,"@StartDate,", " "),  new Array(1,"@Server)", " "),  new Array(1,"", " "),  new Array(1,"select SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddScheduleItemSetting]", " "),  new Array(1,"@ScheduleID int,", " "),  new Array(1,"@Name nvarchar(50),", " "),  new Array(1,"@Value nvarchar(256)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[ScheduleItemSettings]", " "),  new Array(1,"SET SettingValue = @Value", " "),  new Array(1,"WHERE ScheduleID = @ScheduleID", " "),  new Array(1,"AND SettingName = @Name", " "),  new Array(1,"", " "),  new Array(1,"IF @@ROWCOUNT = 0 BEGIN", " "),  new Array(1,"INSERT INTO dbo.[ScheduleItemSettings] (ScheduleID, SettingName, Settingvalue)", " "),  new Array(1,"VALUES (@ScheduleID, @Name, @Value)", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddScopeType]", " "),  new Array(1,"@ScopeType			nvarchar(250)", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.Taxonomy_ScopeTypes (", " "),  new Array(1,"ScopeType", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@ScopeType", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddSearchCommonWord]", " "),  new Array(1,"@CommonWord nvarchar(255),", " "),  new Array(1,"@Locale nvarchar(10)", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.SearchCommonWords (", " "),  new Array(1,"[CommonWord],", " "),  new Array(1,"[Locale]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@CommonWord,", " "),  new Array(1,"@Locale", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"select SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddSimpleTerm]", " "),  new Array(1,"@VocabularyID		int,", " "),  new Array(1,"@Name				nvarchar(250),", " "),  new Array(1,"@Description		nvarchar(2500),", " "),  new Array(1,"@Weight				int,", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.Taxonomy_Terms (", " "),  new Array(1,"VocabularyID,", " "),  new Array(1,"[Name],", " "),  new Array(1,"Description,", " "),  new Array(1,"Weight,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@VocabularyID,", " "),  new Array(1,"@Name,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@Weight,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddSkin]", " "),  new Array(1,"@SkinPackageID		int,", " "),  new Array(1,"@SkinSrc			nvarchar(200)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF NOT EXISTS (", " "),  new Array(1,"SELECT 1 FROM dbo.Skins S", " "),  new Array(1,"WHERE S.SkinPackageID = @SkinPackageID AND S.SkinSrc = @SkinSrc", " "),  new Array(1,")", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.Skins (SkinPackageID, SkinSrc)", " "),  new Array(1,"VALUES (@SkinPackageID, @SkinSrc)", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT SkinID FROM dbo.Skins S", " "),  new Array(1,"WHERE S.SkinPackageID = @SkinPackageID AND S.SkinSrc = @SkinSrc", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddSkinControl]", " "),  new Array(1,"", " "),  new Array(1,"@PackageID					int,", " "),  new Array(1,"@ControlKey                 nvarchar(50),", " "),  new Array(1,"@ControlSrc                 nvarchar(256),", " "),  new Array(1,"@SupportsPartialRendering   bit,", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.SkinControls (", " "),  new Array(1,"PackageID,", " "),  new Array(1,"ControlKey,", " "),  new Array(1,"ControlSrc,", " "),  new Array(1,"SupportsPartialRendering,", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PackageID,", " "),  new Array(1,"@ControlKey,", " "),  new Array(1,"@ControlSrc,", " "),  new Array(1,"@SupportsPartialRendering,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddSkinPackage]", " "),  new Array(1,"@PackageID  int,", " "),  new Array(1,"@PortalID   int,", " "),  new Array(1,"@SkinName   nvarchar(50),", " "),  new Array(1,"@SkinType   nvarchar(20),", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.SkinPackages (", " "),  new Array(1,"PackageID,", " "),  new Array(1,"PortalID,", " "),  new Array(1,"SkinName,", " "),  new Array(1,"SkinType,", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PackageID,", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@SkinName,", " "),  new Array(1,"@SkinType,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddSynonymsGroup]", " "),  new Array(1,"@SynonymsTags 			nvarchar(MAX),", " "),  new Array(1,"@CreatedByUserID 		int,", " "),  new Array(1,"@PortalID				int,", " "),  new Array(1,"@CultureCode            nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[SynonymsGroups](", " "),  new Array(1,"[SynonymsTags],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate],", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[CultureCode]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@SynonymsTags,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"GETUTCDATE(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"GETUTCDATE(),", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@CultureCode", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[AddSystemMessage]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID     int,", " "),  new Array(1,"@MessageName  nvarchar(50),", " "),  new Array(1,"@MessageValue ntext", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.SystemMessages (", " "),  new Array(1,"PortalID,", " "),  new Array(1,"MessageName,", " "),  new Array(1,"MessageValue", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@MessageName,", " "),  new Array(1,"@MessageValue", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddTab]", " "),  new Array(1,"@ContentItemID          Int,", " "),  new Array(1,"@PortalID               Int,", " "),  new Array(1,"@TabOrder               Int,", " "),  new Array(1,"@UniqueId               UniqueIdentifier,", " "),  new Array(1,"@VersionGuid            UniqueIdentifier,", " "),  new Array(1,"@DefaultLanguageGuid    UniqueIdentifier,", " "),  new Array(1,"@LocalizedVersionGuid   UniqueIdentifier,", " "),  new Array(1,"@TabName                nVarChar(200),", " "),  new Array(1,"@IsVisible              Bit,", " "),  new Array(1,"@DisableLink            Bit,", " "),  new Array(1,"@ParentId               Int,", " "),  new Array(1,"@IconFile               nVarChar(255),", " "),  new Array(1,"@IconFileLarge          nVarChar(255),", " "),  new Array(1,"@Title                  nVarChar(200),", " "),  new Array(1,"@Description            nVarChar(500),", " "),  new Array(1,"@KeyWords               nVarChar(500),", " "),  new Array(1,"@Url                    nVarChar(255),", " "),  new Array(1,"@SkinSrc                nVarChar(200),", " "),  new Array(1,"@ContainerSrc           nVarChar(200),", " "),  new Array(1,"@StartDate              DateTime,", " "),  new Array(1,"@EndDate                DateTime,", " "),  new Array(1,"@RefreshInterval        Int,", " "),  new Array(1,"@PageHeadText           nVarChar(Max),", " "),  new Array(1,"@IsSecure               Bit,", " "),  new Array(1,"@PermanentRedirect      Bit,", " "),  new Array(1,"@SiteMapPriority        Float,", " "),  new Array(1,"@CreatedByUserID        Int,", " "),  new Array(1,"@CultureCode            nVarChar( 10),", " "),  new Array(1,"@IsSystem               bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.Tabs (", " "),  new Array(1,"ContentItemID,", " "),  new Array(1,"PortalID,", " "),  new Array(1,"TabOrder,", " "),  new Array(1,"UniqueId,", " "),  new Array(1,"VersionGuid,", " "),  new Array(1,"DefaultLanguageGuid,", " "),  new Array(1,"LocalizedVersionGuid,", " "),  new Array(1,"TabName,", " "),  new Array(1,"IsVisible,", " "),  new Array(1,"DisableLink,", " "),  new Array(1,"ParentId,", " "),  new Array(1,"IconFile,", " "),  new Array(1,"IconFileLarge,", " "),  new Array(1,"Title,", " "),  new Array(1,"Description,", " "),  new Array(1,"KeyWords,", " "),  new Array(1,"IsDeleted,", " "),  new Array(1,"Url,", " "),  new Array(1,"SkinSrc,", " "),  new Array(1,"ContainerSrc,", " "),  new Array(1,"StartDate,", " "),  new Array(1,"EndDate,", " "),  new Array(1,"RefreshInterval,", " "),  new Array(1,"PageHeadText,", " "),  new Array(1,"IsSecure,", " "),  new Array(1,"PermanentRedirect,", " "),  new Array(1,"SiteMapPriority,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate,", " "),  new Array(1,"CultureCode,", " "),  new Array(1,"IsSystem", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@ContentItemID,", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@TabOrder,", " "),  new Array(1,"@UniqueId,", " "),  new Array(1,"@VersionGuid,", " "),  new Array(1,"@DefaultLanguageGuid,", " "),  new Array(1,"@LocalizedVersionGuid,", " "),  new Array(1,"@TabName,", " "),  new Array(1,"@IsVisible,", " "),  new Array(1,"@DisableLink,", " "),  new Array(1,"@ParentId,", " "),  new Array(1,"@IconFile,", " "),  new Array(1,"@IconFileLarge,", " "),  new Array(1,"@Title,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@KeyWords,", " "),  new Array(1,"0,", " "),  new Array(1,"@Url,", " "),  new Array(1,"@SkinSrc,", " "),  new Array(1,"@ContainerSrc,", " "),  new Array(1,"@StartDate,", " "),  new Array(1,"@EndDate,", " "),  new Array(1,"@RefreshInterval,", " "),  new Array(1,"@PageHeadText,", " "),  new Array(1,"@IsSecure,", " "),  new Array(1,"@PermanentRedirect,", " "),  new Array(1,"@SiteMapPriority,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"@IsSystem", " "),  new Array(1,")", " "),  new Array(1,"DECLARE @TabId Int = SCOPE_IDENTITY();", " "),  new Array(1,"EXEC dbo.BuildTabLevelAndPath @TabId;", " "),  new Array(1,"SELECT @TabId;", " "),  new Array(1,"RETURN @TabId;", " "),  new Array(1,"END \/* Procedure *\/", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddTabAfter]", " "),  new Array(1,"@AfterTabID             Int,", " "),  new Array(1,"@ContentItemID          Int,", " "),  new Array(1,"@PortalID               Int,", " "),  new Array(1,"@UniqueID               UniqueIdentifier,", " "),  new Array(1,"@VersionGuid            UniqueIdentifier,", " "),  new Array(1,"@DefaultLanguageGuid    UniqueIdentifier,", " "),  new Array(1,"@LocalizedVersionGuid   UniqueIdentifier,", " "),  new Array(1,"@TabName                nVarChar(200),", " "),  new Array(1,"@IsVisible              Bit,", " "),  new Array(1,"@DisableLink            Bit,", " "),  new Array(1,"@ParentID               Int,", " "),  new Array(1,"@IconFile               nVarChar(255),", " "),  new Array(1,"@IconFileLarge          nVarChar(255),", " "),  new Array(1,"@Title                  nVarChar(200),", " "),  new Array(1,"@Description            nVarChar(500),", " "),  new Array(1,"@KeyWords               nVarChar(500),", " "),  new Array(1,"@Url                    nVarChar(255),", " "),  new Array(1,"@SkinSrc                nVarChar(200),", " "),  new Array(1,"@ContainerSrc           nVarChar(200),", " "),  new Array(1,"@StartDate              DateTime,", " "),  new Array(1,"@EndDate                DateTime,", " "),  new Array(1,"@RefreshInterval        Int,", " "),  new Array(1,"@PageHeadText           nVarChar(max),", " "),  new Array(1,"@IsSecure               Bit,", " "),  new Array(1,"@PermanentRedirect      Bit,", " "),  new Array(1,"@SiteMapPriority        Float,", " "),  new Array(1,"@CreatedByUserID        Int,", " "),  new Array(1,"@CultureCode            nVarChar( 10),", " "),  new Array(1,"@IsSystem               Bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @TabId    Int", " "),  new Array(1,"DECLARE @TabOrder Int = (SELECT TabOrder FROM dbo.Tabs WHERE TabID = @AfterTabID)", " "),  new Array(1,"", " "),  new Array(1,"-- Update TabOrders for all Tabs higher than @TabOrder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = TabOrder + 2", " "),  new Array(1,"WHERE (ParentId = @ParentID OR (ParentId IS NULL AND @ParentID IS NULL))", " "),  new Array(1,"AND TabOrder > @TabOrder", " "),  new Array(1,"AND (PortalId = @PortalID OR (PortalId IS NULL AND @PortalID IS NULL))", " "),  new Array(1,"", " "),  new Array(1,"-- Create Tab", " "),  new Array(1,"SET @TabOrder = @TabOrder + 2", " "),  new Array(1,"EXECUTE @TabId = dbo.AddTab", " "),  new Array(1,"@ContentItemID,", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@TabOrder,", " "),  new Array(1,"@UniqueId,", " "),  new Array(1,"@VersionGuid,", " "),  new Array(1,"@DefaultLanguageGuid,", " "),  new Array(1,"@LocalizedVersionGuid,", " "),  new Array(1,"@TabName,", " "),  new Array(1,"@IsVisible,", " "),  new Array(1,"@DisableLink,", " "),  new Array(1,"@ParentID,", " "),  new Array(1,"@IconFile,", " "),  new Array(1,"@IconFileLarge,", " "),  new Array(1,"@Title,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@KeyWords,", " "),  new Array(1,"@Url,", " "),  new Array(1,"@SkinSrc,", " "),  new Array(1,"@ContainerSrc,", " "),  new Array(1,"@StartDate,", " "),  new Array(1,"@EndDate,", " "),  new Array(1,"@RefreshInterval,", " "),  new Array(1,"@PageHeadText,", " "),  new Array(1,"@IsSecure,", " "),  new Array(1,"@PermanentRedirect,", " "),  new Array(1,"@SiteMapPriority,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"@IsSystem;", " "),  new Array(1,"", " "),  new Array(1,"-- Update Content Item", " "),  new Array(1,"UPDATE dbo.ContentItems", " "),  new Array(1,"SET TabID = @TabId", " "),  new Array(1,"WHERE ContentItemID = @ContentItemID;", " "),  new Array(1,"", " "),  new Array(1,"SELECT @TabId;", " "),  new Array(1,"END \/* Procedure *\/", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddTabBefore]", " "),  new Array(1,"@BeforeTabID            Int,", " "),  new Array(1,"@ContentItemID          Int,", " "),  new Array(1,"@PortalID               Int,", " "),  new Array(1,"@UniqueID               UniqueIdentifier,", " "),  new Array(1,"@VersionGuid            UniqueIdentifier,", " "),  new Array(1,"@DefaultLanguageGuid    UniqueIdentifier,", " "),  new Array(1,"@LocalizedVersionGuid   UniqueIdentifier,", " "),  new Array(1,"@TabName                nVarChar(200),", " "),  new Array(1,"@IsVisible              Bit,", " "),  new Array(1,"@DisableLink            Bit,", " "),  new Array(1,"@ParentID               Int,", " "),  new Array(1,"@IconFile               nVarChar(255),", " "),  new Array(1,"@IconFileLarge          nVarChar(255),", " "),  new Array(1,"@Title                  nVarChar(200),", " "),  new Array(1,"@Description            nVarChar(500),", " "),  new Array(1,"@KeyWords               nVarChar(500),", " "),  new Array(1,"@Url                    nVarChar(255),", " "),  new Array(1,"@SkinSrc                nVarChar(200),", " "),  new Array(1,"@ContainerSrc           nVarChar(200),", " "),  new Array(1,"@StartDate              DateTime,", " "),  new Array(1,"@EndDate                DateTime,", " "),  new Array(1,"@RefreshInterval        Int,", " "),  new Array(1,"@PageHeadText           nVarChar(max),", " "),  new Array(1,"@IsSecure               Bit,", " "),  new Array(1,"@PermanentRedirect      Bit,", " "),  new Array(1,"@SiteMapPriority        Float,", " "),  new Array(1,"@CreatedByUserID        Int,", " "),  new Array(1,"@CultureCode            nVarChar( 10),", " "),  new Array(1,"@IsSystem               Bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @TabID    Int", " "),  new Array(1,"DECLARE @TabOrder Int = (SELECT TabOrder FROM dbo.Tabs WHERE TabID = @BeforeTabID);", " "),  new Array(1,"", " "),  new Array(1,"-- Update TabOrders for all Tabs higher than @TabOrder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = TabOrder + 2", " "),  new Array(1,"WHERE (ParentId = @ParentId OR (ParentID IS NULL AND @ParentID IS NULL))", " "),  new Array(1,"AND TabOrder >= @TabOrder", " "),  new Array(1,"AND (PortalId = @PortalId OR (PortalID IS NULL AND @PortalID IS NULL))", " "),  new Array(1,"", " "),  new Array(1,"-- Create Tab", " "),  new Array(1,"EXECUTE @TabId = dbo.AddTab", " "),  new Array(1,"@ContentItemID,", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@TabOrder,", " "),  new Array(1,"@UniqueID,", " "),  new Array(1,"@VersionGuid,", " "),  new Array(1,"@DefaultLanguageGuid,", " "),  new Array(1,"@LocalizedVersionGuid,", " "),  new Array(1,"@TabName,", " "),  new Array(1,"@IsVisible,", " "),  new Array(1,"@DisableLink,", " "),  new Array(1,"@ParentID,", " "),  new Array(1,"@IconFile,", " "),  new Array(1,"@IconFileLarge,", " "),  new Array(1,"@Title,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@KeyWords,", " "),  new Array(1,"@Url,", " "),  new Array(1,"@SkinSrc,", " "),  new Array(1,"@ContainerSrc,", " "),  new Array(1,"@StartDate,", " "),  new Array(1,"@EndDate,", " "),  new Array(1,"@RefreshInterval,", " "),  new Array(1,"@PageHeadText,", " "),  new Array(1,"@IsSecure,", " "),  new Array(1,"@PermanentRedirect,", " "),  new Array(1,"@SiteMapPriority,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"@IsSystem;", " "),  new Array(1,"", " "),  new Array(1,"-- Update Content Item", " "),  new Array(1,"UPDATE dbo.ContentItems", " "),  new Array(1,"SET TabID = @TabId", " "),  new Array(1,"WHERE ContentItemID = @ContentItemID;", " "),  new Array(1,"", " "),  new Array(1,"SELECT @TabId;", " "),  new Array(1,"END \/* Procedure *\/", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddTabModule]", " "),  new Array(1,"@TabId                  int,", " "),  new Array(1,"@ModuleId               int,", " "),  new Array(1,"@ModuleTitle			nvarchar(256),", " "),  new Array(1,"@Header					ntext,", " "),  new Array(1,"@Footer					ntext,", " "),  new Array(1,"@ModuleOrder            int,", " "),  new Array(1,"@PaneName               nvarchar(50),", " "),  new Array(1,"@CacheTime              int,", " "),  new Array(1,"@CacheMethod			varchar(50),", " "),  new Array(1,"@Alignment              nvarchar(10),", " "),  new Array(1,"@Color                  nvarchar(20),", " "),  new Array(1,"@Border                 nvarchar(1),", " "),  new Array(1,"@IconFile               nvarchar(100),", " "),  new Array(1,"@Visibility             int,", " "),  new Array(1,"@ContainerSrc           nvarchar(200),", " "),  new Array(1,"@DisplayTitle           bit,", " "),  new Array(1,"@DisplayPrint           bit,", " "),  new Array(1,"@DisplaySyndicate       bit,", " "),  new Array(1,"@IsWebSlice				bit,", " "),  new Array(1,"@WebSliceTitle			nvarchar(256),", " "),  new Array(1,"@WebSliceExpiryDate     datetime,", " "),  new Array(1,"@WebSliceTTL			int,", " "),  new Array(1,"@UniqueId				uniqueidentifier,", " "),  new Array(1,"@VersionGuid			uniqueidentifier,", " "),  new Array(1,"@DefaultLanguageGuid	uniqueidentifier,", " "),  new Array(1,"@LocalizedVersionGuid	uniqueidentifier,", " "),  new Array(1,"@CultureCode			nvarchar(10),", " "),  new Array(1,"@CreatedByUserID  		int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.TabModules (", " "),  new Array(1,"TabId,", " "),  new Array(1,"ModuleId,", " "),  new Array(1,"ModuleTitle,", " "),  new Array(1,"Header,", " "),  new Array(1,"Footer,", " "),  new Array(1,"ModuleOrder,", " "),  new Array(1,"PaneName,", " "),  new Array(1,"CacheTime,", " "),  new Array(1,"CacheMethod,", " "),  new Array(1,"Alignment,", " "),  new Array(1,"Color,", " "),  new Array(1,"Border,", " "),  new Array(1,"IconFile,", " "),  new Array(1,"Visibility,", " "),  new Array(1,"ContainerSrc,", " "),  new Array(1,"DisplayTitle,", " "),  new Array(1,"DisplayPrint,", " "),  new Array(1,"DisplaySyndicate,", " "),  new Array(1,"IsWebSlice,", " "),  new Array(1,"WebSliceTitle,", " "),  new Array(1,"WebSliceExpiryDate,", " "),  new Array(1,"WebSliceTTL,", " "),  new Array(1,"UniqueId,", " "),  new Array(1,"VersionGuid,", " "),  new Array(1,"DefaultLanguageGuid,", " "),  new Array(1,"LocalizedVersionGuid,", " "),  new Array(1,"CultureCode,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@TabId,", " "),  new Array(1,"@ModuleId,", " "),  new Array(1,"@ModuleTitle,", " "),  new Array(1,"@Header,", " "),  new Array(1,"@Footer,", " "),  new Array(1,"@ModuleOrder,", " "),  new Array(1,"@PaneName,", " "),  new Array(1,"@CacheTime,", " "),  new Array(1,"@CacheMethod,", " "),  new Array(1,"@Alignment,", " "),  new Array(1,"@Color,", " "),  new Array(1,"@Border,", " "),  new Array(1,"@IconFile,", " "),  new Array(1,"@Visibility,", " "),  new Array(1,"@ContainerSrc,", " "),  new Array(1,"@DisplayTitle,", " "),  new Array(1,"@DisplayPrint,", " "),  new Array(1,"@DisplaySyndicate,", " "),  new Array(1,"@IsWebSlice,", " "),  new Array(1,"@WebSliceTitle,", " "),  new Array(1,"@WebSliceExpiryDate,", " "),  new Array(1,"@WebSliceTTL,", " "),  new Array(1,"@UniqueId,", " "),  new Array(1,"@VersionGuid,", " "),  new Array(1,"@DefaultLanguageGuid,", " "),  new Array(1,"@LocalizedVersionGuid,", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddTabPermission]", " "),  new Array(1,"@TabID              Int, -- not null!", " "),  new Array(1,"@PermissionId       Int, -- not null!", " "),  new Array(1,"@RoleId             Int, -- might be negative for virtual roles", " "),  new Array(1,"@AllowAccess        Bit, -- false: deny, true: grant", " "),  new Array(1,"@UserId             Int, -- -1 is replaced by Null", " "),  new Array(1,"@CreatedByUserId    Int  -- -1 is replaced by Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[TabPermission] (", " "),  new Array(1,"[TabID],", " "),  new Array(1,"[PermissionID],", " "),  new Array(1,"[RoleId],", " "),  new Array(1,"[AllowAccess],", " "),  new Array(1,"[UserId],", " "),  new Array(1,"[CreatedByUserId],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserId],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@TabID,", " "),  new Array(1,"@PermissionID,", " "),  new Array(1,"@RoleId,", " "),  new Array(1,"@AllowAccess,", " "),  new Array(1,"CASE WHEN @UserId = -1 THEN Null ELSE @UserId END,", " "),  new Array(1,"CASE WHEN @CreatedByUserID = -1 THEN Null ELSE @CreatedByUserID END,", " "),  new Array(1,"GetDate(),", " "),  new Array(1,"CASE WHEN @CreatedByUserID = -1 THEN Null ELSE @CreatedByUserID END,", " "),  new Array(1,"GetDate()", " "),  new Array(1,")", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddTabToEnd]", " "),  new Array(1,"@ContentItemID          Int,", " "),  new Array(1,"@PortalID               Int,", " "),  new Array(1,"@UniqueID               UniqueIdentifier,", " "),  new Array(1,"@VersionGuid            UniqueIdentifier,", " "),  new Array(1,"@DefaultLanguageGuid    UniqueIdentifier,", " "),  new Array(1,"@LocalizedVersionGuid   UniqueIdentifier,", " "),  new Array(1,"@TabName                nVarChar(200),", " "),  new Array(1,"@IsVisible              Bit,", " "),  new Array(1,"@DisableLink            Bit,", " "),  new Array(1,"@ParentID               Int,", " "),  new Array(1,"@IconFile               nVarChar(255),", " "),  new Array(1,"@IconFileLarge          nVarChar(255),", " "),  new Array(1,"@Title                  nVarChar(200),", " "),  new Array(1,"@Description            nVarChar(500),", " "),  new Array(1,"@KeyWords               nVarChar(500),", " "),  new Array(1,"@Url                    nVarChar(255),", " "),  new Array(1,"@SkinSrc                nVarChar(200),", " "),  new Array(1,"@ContainerSrc           nVarChar(200),", " "),  new Array(1,"@StartDate              DateTime,", " "),  new Array(1,"@EndDate                DateTime,", " "),  new Array(1,"@RefreshInterval        Int,", " "),  new Array(1,"@PageHeadText           nVarChar(max),", " "),  new Array(1,"@IsSecure               Bit,", " "),  new Array(1,"@PermanentRedirect      Bit,", " "),  new Array(1,"@SiteMapPriority        Float,", " "),  new Array(1,"@CreatedByUserID        Int,", " "),  new Array(1,"@CultureCode            nVarChar( 10),", " "),  new Array(1,"@IsSystem               Bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @TabId Int", " "),  new Array(1,"DECLARE @TabOrder Int", " "),  new Array(1,"SET @TabOrder = (SELECT MAX(TabOrder) FROM dbo.Tabs", " "),  new Array(1,"WHERE (PortalId = @PortalID OR (PortalID IS NULL AND @PortalID IS NULL))", " "),  new Array(1,"AND (ParentId = @ParentID OR (ParentID IS NULL AND @ParentID IS NULL))", " "),  new Array(1,")", " "),  new Array(1,"IF @TabOrder IS NULL", " "),  new Array(1,"SET @TabOrder = 1", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @TabOrder = @TabOrder + 2", " "),  new Array(1,"", " "),  new Array(1,"-- Create Tab", " "),  new Array(1,"EXECUTE @TabId = dbo.AddTab", " "),  new Array(1,"@ContentItemID,", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@TabOrder,", " "),  new Array(1,"@UniqueId,", " "),  new Array(1,"@VersionGuid,", " "),  new Array(1,"@DefaultLanguageGuid,", " "),  new Array(1,"@LocalizedVersionGuid,", " "),  new Array(1,"@TabName,", " "),  new Array(1,"@IsVisible,", " "),  new Array(1,"@DisableLink,", " "),  new Array(1,"@ParentId,", " "),  new Array(1,"@IconFile,", " "),  new Array(1,"@IconFileLarge,", " "),  new Array(1,"@Title,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@KeyWords,", " "),  new Array(1,"@Url,", " "),  new Array(1,"@SkinSrc,", " "),  new Array(1,"@ContainerSrc,", " "),  new Array(1,"@StartDate,", " "),  new Array(1,"@EndDate,", " "),  new Array(1,"@RefreshInterval,", " "),  new Array(1,"@PageHeadText,", " "),  new Array(1,"@IsSecure,", " "),  new Array(1,"@PermanentRedirect,", " "),  new Array(1,"@SiteMapPriority,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"@IsSystem;", " "),  new Array(1,"", " "),  new Array(1,"-- Update Content Item", " "),  new Array(1,"UPDATE dbo.ContentItems", " "),  new Array(1,"SET TabID = @TabId", " "),  new Array(1,"WHERE ContentItemID = @ContentItemID;", " "),  new Array(1,"", " "),  new Array(1,"SELECT @TabId;", " "),  new Array(1,"END \/* Procedure *\/", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddTermToContent]", " "),  new Array(1,"@TermID			int,", " "),  new Array(1,"@ContentItemID	int", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.ContentItems_Tags (", " "),  new Array(1,"TermID,", " "),  new Array(1,"ContentItemID", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@TermID,", " "),  new Array(1,"@ContentItemID", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[AddUrl]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID     int,", " "),  new Array(1,"@Url          nvarchar(255)", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.Urls (", " "),  new Array(1,"PortalID,", " "),  new Array(1,"Url", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@Url", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[AddUrlLog]", " "),  new Array(1,"", " "),  new Array(1,"@UrlTrackingID int,", " "),  new Array(1,"@UserID        int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.UrlLog (", " "),  new Array(1,"UrlTrackingID,", " "),  new Array(1,"ClickDate,", " "),  new Array(1,"UserID", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@UrlTrackingID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@UserID", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[AddUrlTracking]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID     int,", " "),  new Array(1,"@Url          nvarchar(255),", " "),  new Array(1,"@UrlType      char(1),", " "),  new Array(1,"@LogActivity  bit,", " "),  new Array(1,"@TrackClicks  bit,", " "),  new Array(1,"@ModuleId     int,", " "),  new Array(1,"@NewWindow    bit", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.UrlTracking (", " "),  new Array(1,"PortalID,", " "),  new Array(1,"Url,", " "),  new Array(1,"UrlType,", " "),  new Array(1,"Clicks,", " "),  new Array(1,"LastClick,", " "),  new Array(1,"CreatedDate,", " "),  new Array(1,"LogActivity,", " "),  new Array(1,"TrackClicks,", " "),  new Array(1,"ModuleId,", " "),  new Array(1,"NewWindow", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@Url,", " "),  new Array(1,"@UrlType,", " "),  new Array(1,"0,", " "),  new Array(1,"null,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@LogActivity,", " "),  new Array(1,"@TrackClicks,", " "),  new Array(1,"@ModuleId,", " "),  new Array(1,"@NewWindow", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddUser]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID		int,", " "),  new Array(1,"@Username		nvarchar(100),", " "),  new Array(1,"@FirstName		nvarchar(50),", " "),  new Array(1,"@LastName		nvarchar(50),", " "),  new Array(1,"@AffiliateId    int,", " "),  new Array(1,"@IsSuperUser    bit,", " "),  new Array(1,"@Email          nvarchar(256),", " "),  new Array(1,"@DisplayName    nvarchar(100),", " "),  new Array(1,"@UpdatePassword	bit,", " "),  new Array(1,"@Authorised		bit,", " "),  new Array(1,"@CreatedByUserID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @UserID int", " "),  new Array(1,"", " "),  new Array(1,"SELECT @UserID = UserID", " "),  new Array(1,"FROM dbo.Users", " "),  new Array(1,"WHERE  Username = @Username", " "),  new Array(1,"", " "),  new Array(1,"IF @UserID is null", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.Users (", " "),  new Array(1,"Username,", " "),  new Array(1,"FirstName,", " "),  new Array(1,"LastName,", " "),  new Array(1,"AffiliateId,", " "),  new Array(1,"IsSuperUser,", " "),  new Array(1,"Email,", " "),  new Array(1,"DisplayName,", " "),  new Array(1,"UpdatePassword,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@Username,", " "),  new Array(1,"@FirstName,", " "),  new Array(1,"@LastName,", " "),  new Array(1,"@AffiliateId,", " "),  new Array(1,"@IsSuperUser,", " "),  new Array(1,"@Email,", " "),  new Array(1,"@DisplayName,", " "),  new Array(1,"@UpdatePassword,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT @UserID = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF not exists ( SELECT 1 FROM dbo.UserPortals WHERE UserID = @UserID AND PortalID = @PortalID ) AND @PortalID > -1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.UserPortals (", " "),  new Array(1,"UserID,", " "),  new Array(1,"PortalID,", " "),  new Array(1,"Authorised,", " "),  new Array(1,"CreatedDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@UserID,", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@Authorised,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT @UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddUserAuthentication]", " "),  new Array(1,"@UserID					int,", " "),  new Array(1,"@AuthenticationType     nvarchar(100),", " "),  new Array(1,"@AuthenticationToken    nvarchar(1000),", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.UserAuthentication (", " "),  new Array(1,"UserID,", " "),  new Array(1,"AuthenticationType,", " "),  new Array(1,"AuthenticationToken,", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@UserID,", " "),  new Array(1,"@AuthenticationType,", " "),  new Array(1,"@AuthenticationToken,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddUserPortal]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID		int,", " "),  new Array(1,"@UserID			int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"IF not exists ( SELECT 1 FROM dbo.UserPortals WHERE UserID = @UserID AND PortalID = @PortalID ) AND @PortalID > -1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.UserPortals (", " "),  new Array(1,"UserID,", " "),  new Array(1,"PortalID,", " "),  new Array(1,"Authorised,", " "),  new Array(1,"CreatedDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@UserID,", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"1,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddUserRole]", " "),  new Array(1,"@PortalID		int,", " "),  new Array(1,"@UserID			int,", " "),  new Array(1,"@RoleId			int,", " "),  new Array(1,"@Status			int,", " "),  new Array(1,"@IsOwner		bit,", " "),  new Array(1,"@EffectiveDate	datetime = null,", " "),  new Array(1,"@ExpiryDate		datetime = null,", " "),  new Array(1,"@CreatedByUserID  int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @UserRoleId int", " "),  new Array(1,"", " "),  new Array(1,"SELECT @UserRoleId = null", " "),  new Array(1,"", " "),  new Array(1,"SELECT @UserRoleId = UserRoleId", " "),  new Array(1,"FROM dbo.UserRoles", " "),  new Array(1,"WHERE  UserId = @UserID AND RoleId = @RoleId", " "),  new Array(1,"", " "),  new Array(1,"IF @UserRoleId IS NOT NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.UserRoles", " "),  new Array(1,"SET", " "),  new Array(1,"Status = @Status,", " "),  new Array(1,"IsOwner = @IsOwner,", " "),  new Array(1,"ExpiryDate = @ExpiryDate,", " "),  new Array(1,"EffectiveDate = @EffectiveDate,", " "),  new Array(1,"IsTrialUsed = 1,", " "),  new Array(1,"LastModifiedByUserID = @CreatedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE  UserRoleId = @UserRoleId", " "),  new Array(1,"SELECT @UserRoleId", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.UserRoles (", " "),  new Array(1,"UserId,", " "),  new Array(1,"RoleId,", " "),  new Array(1,"Status,", " "),  new Array(1,"IsOwner,", " "),  new Array(1,"EffectiveDate,", " "),  new Array(1,"ExpiryDate,", " "),  new Array(1,"IsTrialUsed,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@UserID,", " "),  new Array(1,"@RoleId,", " "),  new Array(1,"@Status,", " "),  new Array(1,"@IsOwner,", " "),  new Array(1,"@EffectiveDate,", " "),  new Array(1,"@ExpiryDate,", " "),  new Array(1,"1,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[AddVocabulary]", " "),  new Array(1,"@VocabularyTypeID	int,", " "),  new Array(1,"@Name				nvarchar(250),", " "),  new Array(1,"@Description		nvarchar(2500),", " "),  new Array(1,"@Weight				int,", " "),  new Array(1,"@ScopeID			int,", " "),  new Array(1,"@ScopeTypeID		int,", " "),  new Array(1,"@CreatedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.Taxonomy_Vocabularies (", " "),  new Array(1,"VocabularyTypeID,", " "),  new Array(1,"[Name],", " "),  new Array(1,"Description,", " "),  new Array(1,"Weight,", " "),  new Array(1,"ScopeID,", " "),  new Array(1,"ScopeTypeID,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@VocabularyTypeID,", " "),  new Array(1,"@Name,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@Weight,", " "),  new Array(1,"@ScopeID,", " "),  new Array(1,"@ScopeTypeID,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_AnyDataInTables]", " "),  new Array(1,"@TablesToCheck int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Check Membership table if (@TablesToCheck & 1) is set", " "),  new Array(1,"IF ((@TablesToCheck & 1) <> 0 AND", " "),  new Array(1,"(EXISTS (SELECT name FROM sys.objects WHERE (name = N\'vw_aspnet_MembershipUsers\') AND (type = \'V\'))))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (EXISTS(SELECT TOP 1 UserId FROM dbo.aspnet_Membership))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT N\'aspnet_Membership\'", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Check aspnet_Roles table if (@TablesToCheck & 2) is set", " "),  new Array(1,"IF ((@TablesToCheck & 2) <> 0  AND", " "),  new Array(1,"(EXISTS (SELECT name FROM sys.objects WHERE (name = N\'vw_aspnet_Roles\') AND (type = \'V\'))) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (EXISTS(SELECT TOP 1 RoleId FROM dbo.aspnet_Roles))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT N\'aspnet_Roles\'", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Check aspnet_Profile table if (@TablesToCheck & 4) is set", " "),  new Array(1,"IF ((@TablesToCheck & 4) <> 0  AND", " "),  new Array(1,"(EXISTS (SELECT name FROM sys.objects WHERE (name = N\'vw_aspnet_Profiles\') AND (type = \'V\'))) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (EXISTS(SELECT TOP 1 UserId FROM dbo.aspnet_Profile))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT N\'aspnet_Profile\'", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Check aspnet_PersonalizationPerUser table if (@TablesToCheck & 8) is set", " "),  new Array(1,"IF ((@TablesToCheck & 8) <> 0  AND", " "),  new Array(1,"(EXISTS (SELECT name FROM sys.objects WHERE (name = N\'vw_aspnet_WebPartState_User\') AND (type = \'V\'))) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (EXISTS(SELECT TOP 1 UserId FROM dbo.aspnet_PersonalizationPerUser))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT N\'aspnet_PersonalizationPerUser\'", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Check aspnet_PersonalizationPerUser table if (@TablesToCheck & 16) is set", " "),  new Array(1,"IF ((@TablesToCheck & 16) <> 0  AND", " "),  new Array(1,"(EXISTS (SELECT name FROM sys.objects WHERE (name = N\'aspnet_WebEvent_LogEvent\') AND (type = \'P\'))) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (EXISTS(SELECT TOP 1 * FROM dbo.aspnet_WebEvent_Events))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT N\'aspnet_WebEvent_Events\'", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Check aspnet_Users table if (@TablesToCheck & 1,2,4 & 8) are all set", " "),  new Array(1,"IF ((@TablesToCheck & 1) <> 0 AND", " "),  new Array(1,"(@TablesToCheck & 2) <> 0 AND", " "),  new Array(1,"(@TablesToCheck & 4) <> 0 AND", " "),  new Array(1,"(@TablesToCheck & 8) <> 0 AND", " "),  new Array(1,"(@TablesToCheck & 32) <> 0 AND", " "),  new Array(1,"(@TablesToCheck & 128) <> 0 AND", " "),  new Array(1,"(@TablesToCheck & 256) <> 0 AND", " "),  new Array(1,"(@TablesToCheck & 512) <> 0 AND", " "),  new Array(1,"(@TablesToCheck & 1024) <> 0)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (EXISTS(SELECT TOP 1 UserId FROM dbo.aspnet_Users))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT N\'aspnet_Users\'", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"IF (EXISTS(SELECT TOP 1 ApplicationId FROM dbo.aspnet_Applications))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT N\'aspnet_Applications\'", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Applications_CreateApplication]", " "),  new Array(1,"@ApplicationName      nvarchar(256),", " "),  new Array(1,"@ApplicationId        uniqueidentifier OUTPUT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT  @ApplicationId = ApplicationId FROM dbo.aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName", " "),  new Array(1,"", " "),  new Array(1,"IF(@ApplicationId IS NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @TranStarted   bit", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"IF( @@TRANCOUNT = 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"BEGIN TRANSACTION", " "),  new Array(1,"SET @TranStarted = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @ApplicationId = ApplicationId", " "),  new Array(1,"FROM dbo.aspnet_Applications WITH (UPDLOCK, HOLDLOCK)", " "),  new Array(1,"WHERE LOWER(@ApplicationName) = LoweredApplicationName", " "),  new Array(1,"", " "),  new Array(1,"IF(@ApplicationId IS NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT  @ApplicationId = NEWID()", " "),  new Array(1,"INSERT  dbo.aspnet_Applications (ApplicationId, ApplicationName, LoweredApplicationName)", " "),  new Array(1,"VALUES  (@ApplicationId, @ApplicationName, LOWER(@ApplicationName))", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF(@@ERROR = 0)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"COMMIT TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_CheckSchemaVersion]", " "),  new Array(1,"@Feature                   nvarchar(128),", " "),  new Array(1,"@CompatibleSchemaVersion   nvarchar(128)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (EXISTS( SELECT  *", " "),  new Array(1,"FROM    dbo.aspnet_SchemaVersions", " "),  new Array(1,"WHERE   Feature = LOWER( @Feature ) AND", " "),  new Array(1,"CompatibleSchemaVersion = @CompatibleSchemaVersion ))", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"", " "),  new Array(1,"RETURN 1", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_CheckSchemaVersion] TO [aspnet_Membership_BasicAccess]", " "),  new Array(1,"GO", " "),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_CheckSchemaVersion] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer]", " "),  new Array(1,"@ApplicationName       nvarchar(256),", " "),  new Array(1,"@UserName              nvarchar(256),", " "),  new Array(1,"@NewPasswordQuestion   nvarchar(256),", " "),  new Array(1,"@NewPasswordAnswer     nvarchar(128)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @UserId uniqueidentifier", " "),  new Array(1,"SELECT  @UserId = NULL", " "),  new Array(1,"SELECT  @UserId = u.UserId", " "),  new Array(1,"FROM    dbo.aspnet_Membership m, dbo.aspnet_Users u, dbo.aspnet_Applications a", " "),  new Array(1,"WHERE   LoweredUserName = LOWER(@UserName) AND", " "),  new Array(1,"u.ApplicationId = a.ApplicationId  AND", " "),  new Array(1,"LOWER(@ApplicationName) = a.LoweredApplicationName AND", " "),  new Array(1,"u.UserId = m.UserId", " "),  new Array(1,"IF (@UserId IS NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"RETURN(1)", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.aspnet_Membership", " "),  new Array(1,"SET    PasswordQuestion = @NewPasswordQuestion, PasswordAnswer = @NewPasswordAnswer", " "),  new Array(1,"WHERE  UserId=@UserId", " "),  new Array(1,"RETURN(0)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer] TO [aspnet_Membership_FullAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_CreateUser]", " "),  new Array(1,"@ApplicationName                        nvarchar(256),", " "),  new Array(1,"@UserName                               nvarchar(256),", " "),  new Array(1,"@Password                               nvarchar(128),", " "),  new Array(1,"@PasswordSalt                           nvarchar(128),", " "),  new Array(1,"@Email                                  nvarchar(256),", " "),  new Array(1,"@PasswordQuestion                       nvarchar(256),", " "),  new Array(1,"@PasswordAnswer                         nvarchar(128),", " "),  new Array(1,"@IsApproved                             bit,", " "),  new Array(1,"@CurrentTimeUtc                         datetime,", " "),  new Array(1,"@CreateDate                             datetime = NULL,", " "),  new Array(1,"@UniqueEmail                            int      = 0,", " "),  new Array(1,"@PasswordFormat                         int      = 0,", " "),  new Array(1,"@UserId                                 uniqueidentifier OUTPUT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @ApplicationId uniqueidentifier", " "),  new Array(1,"SELECT  @ApplicationId = NULL", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @NewUserId uniqueidentifier", " "),  new Array(1,"SELECT @NewUserId = NULL", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @IsLockedOut bit", " "),  new Array(1,"SET @IsLockedOut = 0", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @LastLockoutDate  datetime", " "),  new Array(1,"SET @LastLockoutDate = CONVERT( datetime, \'17540101\', 112 )", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @FailedPasswordAttemptCount int", " "),  new Array(1,"SET @FailedPasswordAttemptCount = 0", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @FailedPasswordAttemptWindowStart  datetime", " "),  new Array(1,"SET @FailedPasswordAttemptWindowStart = CONVERT( datetime, \'17540101\', 112 )", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @FailedPasswordAnswerAttemptCount int", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptCount = 0", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @FailedPasswordAnswerAttemptWindowStart  datetime", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptWindowStart = CONVERT( datetime, \'17540101\', 112 )", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @NewUserCreated bit", " "),  new Array(1,"DECLARE @ReturnValue   int", " "),  new Array(1,"SET @ReturnValue = 0", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @ErrorCode     int", " "),  new Array(1,"SET @ErrorCode = 0", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @TranStarted   bit", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"IF( @@TRANCOUNT = 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"BEGIN TRANSACTION", " "),  new Array(1,"SET @TranStarted = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"EXEC dbo.aspnet_Applications_CreateApplication @ApplicationName, @ApplicationId OUTPUT", " "),  new Array(1,"", " "),  new Array(1,"IF( @@ERROR <> 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = -1", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SET @CreateDate = @CurrentTimeUtc", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @NewUserId = UserId FROM dbo.aspnet_Users WHERE LOWER(@UserName) = LoweredUserName AND @ApplicationId = ApplicationId", " "),  new Array(1,"IF ( @NewUserId IS NULL )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @NewUserId = @UserId", " "),  new Array(1,"EXEC @ReturnValue = dbo.aspnet_Users_CreateUser @ApplicationId, @UserName, 0, @CreateDate, @NewUserId OUTPUT", " "),  new Array(1,"SET @NewUserCreated = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @NewUserCreated = 0", " "),  new Array(1,"IF( @NewUserId <> @UserId AND @UserId IS NOT NULL )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = 6", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( @@ERROR <> 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = -1", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( @ReturnValue = -1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = 10", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF ( EXISTS ( SELECT UserId", " "),  new Array(1,"FROM   dbo.aspnet_Membership", " "),  new Array(1,"WHERE  @NewUserId = UserId ) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = 6", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SET @UserId = @NewUserId", " "),  new Array(1,"", " "),  new Array(1,"IF (@UniqueEmail = 1)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (EXISTS (SELECT *", " "),  new Array(1,"FROM  dbo.aspnet_Membership m WITH ( UPDLOCK, HOLDLOCK )", " "),  new Array(1,"WHERE ApplicationId = @ApplicationId AND LoweredEmail = LOWER(@Email)))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = 7", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF (@NewUserCreated = 0)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.aspnet_Users", " "),  new Array(1,"SET    LastActivityDate = @CreateDate", " "),  new Array(1,"WHERE  @UserId = UserId", " "),  new Array(1,"IF( @@ERROR <> 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = -1", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.aspnet_Membership", " "),  new Array(1,"( ApplicationId,", " "),  new Array(1,"UserId,", " "),  new Array(1,"Password,", " "),  new Array(1,"PasswordSalt,", " "),  new Array(1,"Email,", " "),  new Array(1,"LoweredEmail,", " "),  new Array(1,"PasswordQuestion,", " "),  new Array(1,"PasswordAnswer,", " "),  new Array(1,"PasswordFormat,", " "),  new Array(1,"IsApproved,", " "),  new Array(1,"IsLockedOut,", " "),  new Array(1,"CreateDate,", " "),  new Array(1,"LastLoginDate,", " "),  new Array(1,"LastPasswordChangedDate,", " "),  new Array(1,"LastLockoutDate,", " "),  new Array(1,"FailedPasswordAttemptCount,", " "),  new Array(1,"FailedPasswordAttemptWindowStart,", " "),  new Array(1,"FailedPasswordAnswerAttemptCount,", " "),  new Array(1,"FailedPasswordAnswerAttemptWindowStart )", " "),  new Array(1,"VALUES ( @ApplicationId,", " "),  new Array(1,"@UserId,", " "),  new Array(1,"@Password,", " "),  new Array(1,"@PasswordSalt,", " "),  new Array(1,"@Email,", " "),  new Array(1,"LOWER(@Email),", " "),  new Array(1,"@PasswordQuestion,", " "),  new Array(1,"@PasswordAnswer,", " "),  new Array(1,"@PasswordFormat,", " "),  new Array(1,"@IsApproved,", " "),  new Array(1,"@IsLockedOut,", " "),  new Array(1,"@CreateDate,", " "),  new Array(1,"@CreateDate,", " "),  new Array(1,"@CreateDate,", " "),  new Array(1,"@LastLockoutDate,", " "),  new Array(1,"@FailedPasswordAttemptCount,", " "),  new Array(1,"@FailedPasswordAttemptWindowStart,", " "),  new Array(1,"@FailedPasswordAnswerAttemptCount,", " "),  new Array(1,"@FailedPasswordAnswerAttemptWindowStart )", " "),  new Array(1,"", " "),  new Array(1,"IF( @@ERROR <> 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = -1", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"COMMIT TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"", " "),  new Array(1,"Cleanup:", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN @ErrorCode", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_CreateUser] TO [aspnet_Membership_FullAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_FindUsersByEmail]", " "),  new Array(1,"@ApplicationName       nvarchar(256),", " "),  new Array(1,"@EmailToMatch          nvarchar(256),", " "),  new Array(1,"@PageIndex             int,", " "),  new Array(1,"@PageSize              int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @ApplicationId uniqueidentifier", " "),  new Array(1,"SELECT  @ApplicationId = NULL", " "),  new Array(1,"SELECT  @ApplicationId = ApplicationId FROM dbo.aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName", " "),  new Array(1,"IF (@ApplicationId IS NULL)", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"", " "),  new Array(1,"-- Set the page bounds", " "),  new Array(1,"DECLARE @PageLowerBound int", " "),  new Array(1,"DECLARE @PageUpperBound int", " "),  new Array(1,"DECLARE @TotalRecords   int", " "),  new Array(1,"SET @PageLowerBound = @PageSize * @PageIndex", " "),  new Array(1,"SET @PageUpperBound = @PageSize - 1 + @PageLowerBound", " "),  new Array(1,"", " "),  new Array(1,"-- Create a temp table TO store the select results", " "),  new Array(1,"CREATE TABLE #PageIndexForUsers", " "),  new Array(1,"(", " "),  new Array(1,"IndexId int IDENTITY (0, 1) NOT NULL,", " "),  new Array(1,"UserId uniqueidentifier", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"-- Insert into our temp table", " "),  new Array(1,"IF( @EmailToMatch IS NULL )", " "),  new Array(1,"INSERT INTO #PageIndexForUsers (UserId)", " "),  new Array(1,"SELECT u.UserId", " "),  new Array(1,"FROM   dbo.aspnet_Users u, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE  u.ApplicationId = @ApplicationId AND m.UserId = u.UserId AND m.Email IS NULL", " "),  new Array(1,"ORDER BY m.LoweredEmail", " "),  new Array(1,"ELSE", " "),  new Array(1,"INSERT INTO #PageIndexForUsers (UserId)", " "),  new Array(1,"SELECT u.UserId", " "),  new Array(1,"FROM   dbo.aspnet_Users u, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE  u.ApplicationId = @ApplicationId AND m.UserId = u.UserId AND m.LoweredEmail LIKE LOWER(@EmailToMatch)", " "),  new Array(1,"ORDER BY m.LoweredEmail", " "),  new Array(1,"", " "),  new Array(1,"SELECT  u.UserName, m.Email, m.PasswordQuestion, m.Comment, m.IsApproved,", " "),  new Array(1,"m.CreateDate,", " "),  new Array(1,"m.LastLoginDate,", " "),  new Array(1,"u.LastActivityDate,", " "),  new Array(1,"m.LastPasswordChangedDate,", " "),  new Array(1,"u.UserId, m.IsLockedOut,", " "),  new Array(1,"m.LastLockoutDate", " "),  new Array(1,"FROM   dbo.aspnet_Membership m, dbo.aspnet_Users u, #PageIndexForUsers p", " "),  new Array(1,"WHERE  u.UserId = p.UserId AND u.UserId = m.UserId AND", " "),  new Array(1,"p.IndexId >= @PageLowerBound AND p.IndexId <= @PageUpperBound", " "),  new Array(1,"ORDER BY m.LoweredEmail", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @TotalRecords = COUNT(*)", " "),  new Array(1,"FROM    #PageIndexForUsers", " "),  new Array(1,"RETURN @TotalRecords", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_FindUsersByEmail] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_FindUsersByName]", " "),  new Array(1,"@ApplicationName       nvarchar(256),", " "),  new Array(1,"@UserNameToMatch       nvarchar(256),", " "),  new Array(1,"@PageIndex             int,", " "),  new Array(1,"@PageSize              int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @ApplicationId uniqueidentifier", " "),  new Array(1,"SELECT  @ApplicationId = NULL", " "),  new Array(1,"SELECT  @ApplicationId = ApplicationId FROM dbo.aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName", " "),  new Array(1,"IF (@ApplicationId IS NULL)", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"", " "),  new Array(1,"-- Set the page bounds", " "),  new Array(1,"DECLARE @PageLowerBound int", " "),  new Array(1,"DECLARE @PageUpperBound int", " "),  new Array(1,"DECLARE @TotalRecords   int", " "),  new Array(1,"SET @PageLowerBound = @PageSize * @PageIndex", " "),  new Array(1,"SET @PageUpperBound = @PageSize - 1 + @PageLowerBound", " "),  new Array(1,"", " "),  new Array(1,"-- Create a temp table TO store the select results", " "),  new Array(1,"CREATE TABLE #PageIndexForUsers", " "),  new Array(1,"(", " "),  new Array(1,"IndexId int IDENTITY (0, 1) NOT NULL,", " "),  new Array(1,"UserId uniqueidentifier", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"-- Insert into our temp table", " "),  new Array(1,"INSERT INTO #PageIndexForUsers (UserId)", " "),  new Array(1,"SELECT u.UserId", " "),  new Array(1,"FROM   dbo.aspnet_Users u, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE  u.ApplicationId = @ApplicationId AND m.UserId = u.UserId AND u.LoweredUserName LIKE LOWER(@UserNameToMatch)", " "),  new Array(1,"ORDER BY u.UserName", " "),  new Array(1,"", " "),  new Array(1,"", " "),  new Array(1,"SELECT  u.UserName, m.Email, m.PasswordQuestion, m.Comment, m.IsApproved,", " "),  new Array(1,"m.CreateDate,", " "),  new Array(1,"m.LastLoginDate,", " "),  new Array(1,"u.LastActivityDate,", " "),  new Array(1,"m.LastPasswordChangedDate,", " "),  new Array(1,"u.UserId, m.IsLockedOut,", " "),  new Array(1,"m.LastLockoutDate", " "),  new Array(1,"FROM   dbo.aspnet_Membership m, dbo.aspnet_Users u, #PageIndexForUsers p", " "),  new Array(1,"WHERE  u.UserId = p.UserId AND u.UserId = m.UserId AND", " "),  new Array(1,"p.IndexId >= @PageLowerBound AND p.IndexId <= @PageUpperBound", " "),  new Array(1,"ORDER BY u.UserName", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @TotalRecords = COUNT(*)", " "),  new Array(1,"FROM    #PageIndexForUsers", " "),  new Array(1,"RETURN @TotalRecords", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_FindUsersByName] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_GetAllUsers]", " "),  new Array(1,"@ApplicationName       nvarchar(256),", " "),  new Array(1,"@PageIndex             int,", " "),  new Array(1,"@PageSize              int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @ApplicationId uniqueidentifier", " "),  new Array(1,"SELECT  @ApplicationId = NULL", " "),  new Array(1,"SELECT  @ApplicationId = ApplicationId FROM dbo.aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName", " "),  new Array(1,"IF (@ApplicationId IS NULL)", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"", " "),  new Array(1,"", " "),  new Array(1,"-- Set the page bounds", " "),  new Array(1,"DECLARE @PageLowerBound int", " "),  new Array(1,"DECLARE @PageUpperBound int", " "),  new Array(1,"DECLARE @TotalRecords   int", " "),  new Array(1,"SET @PageLowerBound = @PageSize * @PageIndex", " "),  new Array(1,"SET @PageUpperBound = @PageSize - 1 + @PageLowerBound", " "),  new Array(1,"", " "),  new Array(1,"-- Create a temp table TO store the select results", " "),  new Array(1,"CREATE TABLE #PageIndexForUsers", " "),  new Array(1,"(", " "),  new Array(1,"IndexId int IDENTITY (0, 1) NOT NULL,", " "),  new Array(1,"UserId uniqueidentifier", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"-- Insert into our temp table", " "),  new Array(1,"INSERT INTO #PageIndexForUsers (UserId)", " "),  new Array(1,"SELECT u.UserId", " "),  new Array(1,"FROM   dbo.aspnet_Membership m, dbo.aspnet_Users u", " "),  new Array(1,"WHERE  u.ApplicationId = @ApplicationId AND u.UserId = m.UserId", " "),  new Array(1,"ORDER BY u.UserName", " "),  new Array(1,"", " "),  new Array(1,"SELECT @TotalRecords = @@ROWCOUNT", " "),  new Array(1,"", " "),  new Array(1,"SELECT u.UserName, m.Email, m.PasswordQuestion, m.Comment, m.IsApproved,", " "),  new Array(1,"m.CreateDate,", " "),  new Array(1,"m.LastLoginDate,", " "),  new Array(1,"u.LastActivityDate,", " "),  new Array(1,"m.LastPasswordChangedDate,", " "),  new Array(1,"u.UserId, m.IsLockedOut,", " "),  new Array(1,"m.LastLockoutDate", " "),  new Array(1,"FROM   dbo.aspnet_Membership m, dbo.aspnet_Users u, #PageIndexForUsers p", " "),  new Array(1,"WHERE  u.UserId = p.UserId AND u.UserId = m.UserId AND", " "),  new Array(1,"p.IndexId >= @PageLowerBound AND p.IndexId <= @PageUpperBound", " "),  new Array(1,"ORDER BY u.UserName", " "),  new Array(1,"RETURN @TotalRecords", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_GetAllUsers] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_GetNumberOfUsersOnline]", " "),  new Array(1,"@ApplicationName            nvarchar(256),", " "),  new Array(1,"@MinutesSinceLastInActive   int,", " "),  new Array(1,"@CurrentTimeUtc             datetime", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @DateActive datetime", " "),  new Array(1,"SELECT  @DateActive = DATEADD(minute,  -(@MinutesSinceLastInActive), @CurrentTimeUtc)", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @NumOnline int", " "),  new Array(1,"SELECT  @NumOnline = COUNT(*)", " "),  new Array(1,"FROM    dbo.aspnet_Users u WITH(NOLOCK),", " "),  new Array(1,"dbo.aspnet_Applications a WITH(NOLOCK),", " "),  new Array(1,"dbo.aspnet_Membership m WITH(NOLOCK)", " "),  new Array(1,"WHERE   u.ApplicationId = a.ApplicationId                  AND", " "),  new Array(1,"LastActivityDate > @DateActive                     AND", " "),  new Array(1,"a.LoweredApplicationName = LOWER(@ApplicationName) AND", " "),  new Array(1,"u.UserId = m.UserId", " "),  new Array(1,"RETURN(@NumOnline)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_GetNumberOfUsersOnline] TO [aspnet_Membership_BasicAccess]", " "),  new Array(1,"GO", " "),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_GetNumberOfUsersOnline] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_GetPassword]", " "),  new Array(1,"@ApplicationName                nvarchar(256),", " "),  new Array(1,"@UserName                       nvarchar(256),", " "),  new Array(1,"@MaxInvalidPasswordAttempts     int,", " "),  new Array(1,"@PasswordAttemptWindow          int,", " "),  new Array(1,"@CurrentTimeUtc                 datetime,", " "),  new Array(1,"@PasswordAnswer                 nvarchar(128) = NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @UserId                                 uniqueidentifier", " "),  new Array(1,"DECLARE @PasswordFormat                         int", " "),  new Array(1,"DECLARE @Password                               nvarchar(128)", " "),  new Array(1,"DECLARE @passAns                                nvarchar(128)", " "),  new Array(1,"DECLARE @IsLockedOut                            bit", " "),  new Array(1,"DECLARE @LastLockoutDate                        datetime", " "),  new Array(1,"DECLARE @FailedPasswordAttemptCount             int", " "),  new Array(1,"DECLARE @FailedPasswordAttemptWindowStart       datetime", " "),  new Array(1,"DECLARE @FailedPasswordAnswerAttemptCount       int", " "),  new Array(1,"DECLARE @FailedPasswordAnswerAttemptWindowStart datetime", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @ErrorCode     int", " "),  new Array(1,"SET @ErrorCode = 0", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @TranStarted   bit", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"IF( @@TRANCOUNT = 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"BEGIN TRANSACTION", " "),  new Array(1,"SET @TranStarted = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @UserId = u.UserId,", " "),  new Array(1,"@Password = m.Password,", " "),  new Array(1,"@passAns = m.PasswordAnswer,", " "),  new Array(1,"@PasswordFormat = m.PasswordFormat,", " "),  new Array(1,"@IsLockedOut = m.IsLockedOut,", " "),  new Array(1,"@LastLockoutDate = m.LastLockoutDate,", " "),  new Array(1,"@FailedPasswordAttemptCount = m.FailedPasswordAttemptCount,", " "),  new Array(1,"@FailedPasswordAttemptWindowStart = m.FailedPasswordAttemptWindowStart,", " "),  new Array(1,"@FailedPasswordAnswerAttemptCount = m.FailedPasswordAnswerAttemptCount,", " "),  new Array(1,"@FailedPasswordAnswerAttemptWindowStart = m.FailedPasswordAnswerAttemptWindowStart", " "),  new Array(1,"FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m WITH ( UPDLOCK )", " "),  new Array(1,"WHERE   LOWER(@ApplicationName) = a.LoweredApplicationName AND", " "),  new Array(1,"u.ApplicationId = a.ApplicationId    AND", " "),  new Array(1,"u.UserId = m.UserId AND", " "),  new Array(1,"LOWER(@UserName) = u.LoweredUserName", " "),  new Array(1,"", " "),  new Array(1,"IF ( @@rowcount = 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = 1", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( @IsLockedOut = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = 99", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF ( NOT( @PasswordAnswer IS NULL ) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( ( @passAns IS NULL ) OR ( LOWER( @passAns ) <> LOWER( @PasswordAnswer ) ) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @CurrentTimeUtc > DATEADD( minute, @PasswordAttemptWindow, @FailedPasswordAnswerAttemptWindowStart ) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptWindowStart = @CurrentTimeUtc", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptCount = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptCount = @FailedPasswordAnswerAttemptCount + 1", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptWindowStart = @CurrentTimeUtc", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @FailedPasswordAnswerAttemptCount >= @MaxInvalidPasswordAttempts )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @IsLockedOut = 1", " "),  new Array(1,"SET @LastLockoutDate = @CurrentTimeUtc", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SET @ErrorCode = 3", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @FailedPasswordAnswerAttemptCount > 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptCount = 0", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptWindowStart = CONVERT( datetime, \'17540101\', 112 )", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.aspnet_Membership", " "),  new Array(1,"SET IsLockedOut = @IsLockedOut, LastLockoutDate = @LastLockoutDate,", " "),  new Array(1,"FailedPasswordAttemptCount = @FailedPasswordAttemptCount,", " "),  new Array(1,"FailedPasswordAttemptWindowStart = @FailedPasswordAttemptWindowStart,", " "),  new Array(1,"FailedPasswordAnswerAttemptCount = @FailedPasswordAnswerAttemptCount,", " "),  new Array(1,"FailedPasswordAnswerAttemptWindowStart = @FailedPasswordAnswerAttemptWindowStart", " "),  new Array(1,"WHERE @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"IF( @@ERROR <> 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = -1", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"COMMIT TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( @ErrorCode = 0 )", " "),  new Array(1,"SELECT @Password, @PasswordFormat", " "),  new Array(1,"", " "),  new Array(1,"RETURN @ErrorCode", " "),  new Array(1,"", " "),  new Array(1,"Cleanup:", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN @ErrorCode", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_GetPassword] TO [aspnet_Membership_BasicAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_GetPasswordWithFormat]", " "),  new Array(1,"@ApplicationName                nvarchar(256),", " "),  new Array(1,"@UserName                       nvarchar(256),", " "),  new Array(1,"@UpdateLastLoginActivityDate    bit,", " "),  new Array(1,"@CurrentTimeUtc                 datetime", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @IsLockedOut                        bit", " "),  new Array(1,"DECLARE @UserId                             uniqueidentifier", " "),  new Array(1,"DECLARE @Password                           nvarchar(128)", " "),  new Array(1,"DECLARE @PasswordSalt                       nvarchar(128)", " "),  new Array(1,"DECLARE @PasswordFormat                     int", " "),  new Array(1,"DECLARE @FailedPasswordAttemptCount         int", " "),  new Array(1,"DECLARE @FailedPasswordAnswerAttemptCount   int", " "),  new Array(1,"DECLARE @IsApproved                         bit", " "),  new Array(1,"DECLARE @LastActivityDate                   datetime", " "),  new Array(1,"DECLARE @LastLoginDate                      datetime", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @UserId          = NULL", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @UserId = u.UserId, @IsLockedOut = m.IsLockedOut, @Password=Password, @PasswordFormat=PasswordFormat,", " "),  new Array(1,"@PasswordSalt=PasswordSalt, @FailedPasswordAttemptCount=FailedPasswordAttemptCount,", " "),  new Array(1,"@FailedPasswordAnswerAttemptCount=FailedPasswordAnswerAttemptCount, @IsApproved=IsApproved,", " "),  new Array(1,"@LastActivityDate = LastActivityDate, @LastLoginDate = LastLoginDate", " "),  new Array(1,"FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE   LOWER(@ApplicationName) = a.LoweredApplicationName AND", " "),  new Array(1,"u.ApplicationId = a.ApplicationId    AND", " "),  new Array(1,"u.UserId = m.UserId AND", " "),  new Array(1,"LOWER(@UserName) = u.LoweredUserName", " "),  new Array(1,"", " "),  new Array(1,"IF (@UserId IS NULL)", " "),  new Array(1,"RETURN 1", " "),  new Array(1,"", " "),  new Array(1,"IF (@IsLockedOut = 1)", " "),  new Array(1,"RETURN 99", " "),  new Array(1,"", " "),  new Array(1,"SELECT   @Password, @PasswordFormat, @PasswordSalt, @FailedPasswordAttemptCount,", " "),  new Array(1,"@FailedPasswordAnswerAttemptCount, @IsApproved, @LastLoginDate, @LastActivityDate", " "),  new Array(1,"", " "),  new Array(1,"IF (@UpdateLastLoginActivityDate = 1 AND @IsApproved = 1)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.aspnet_Membership", " "),  new Array(1,"SET     LastLoginDate = @CurrentTimeUtc", " "),  new Array(1,"WHERE   UserId = @UserId", " "),  new Array(1,"", " "),  new Array(1,"UPDATE  dbo.aspnet_Users", " "),  new Array(1,"SET     LastActivityDate = @CurrentTimeUtc", " "),  new Array(1,"WHERE   @UserId = UserId", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_GetPasswordWithFormat] TO [aspnet_Membership_BasicAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_GetUserByEmail]", " "),  new Array(1,"@ApplicationName  nvarchar(256),", " "),  new Array(1,"@Email            nvarchar(256)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @Email IS NULL )", " "),  new Array(1,"SELECT  u.UserName", " "),  new Array(1,"FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE   LOWER(@ApplicationName) = a.LoweredApplicationName AND", " "),  new Array(1,"u.ApplicationId = a.ApplicationId    AND", " "),  new Array(1,"u.UserId = m.UserId AND", " "),  new Array(1,"m.LoweredEmail IS NULL", " "),  new Array(1,"ELSE", " "),  new Array(1,"SELECT  u.UserName", " "),  new Array(1,"FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE   LOWER(@ApplicationName) = a.LoweredApplicationName AND", " "),  new Array(1,"u.ApplicationId = a.ApplicationId    AND", " "),  new Array(1,"u.UserId = m.UserId AND", " "),  new Array(1,"LOWER(@Email) = m.LoweredEmail", " "),  new Array(1,"", " "),  new Array(1,"IF (@@rowcount = 0)", " "),  new Array(1,"RETURN(1)", " "),  new Array(1,"RETURN(0)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_GetUserByEmail] TO [aspnet_Membership_BasicAccess]", " "),  new Array(1,"GO", " "),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_GetUserByEmail] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_GetUserByName]", " "),  new Array(1,"@ApplicationName      nvarchar(256),", " "),  new Array(1,"@UserName             nvarchar(256),", " "),  new Array(1,"@CurrentTimeUtc       datetime,", " "),  new Array(1,"@UpdateLastActivity   bit = 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @UserId uniqueidentifier", " "),  new Array(1,"", " "),  new Array(1,"IF (@UpdateLastActivity = 1)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- select user ID from aspnet_users table", " "),  new Array(1,"SELECT TOP 1 @UserId = u.UserId", " "),  new Array(1,"FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE    LOWER(@ApplicationName) = a.LoweredApplicationName AND", " "),  new Array(1,"u.ApplicationId = a.ApplicationId    AND", " "),  new Array(1,"LOWER(@UserName) = u.LoweredUserName AND u.UserId = m.UserId", " "),  new Array(1,"", " "),  new Array(1,"IF (@@ROWCOUNT = 0) -- Username not found", " "),  new Array(1,"RETURN -1", " "),  new Array(1,"", " "),  new Array(1,"UPDATE   dbo.aspnet_Users", " "),  new Array(1,"SET      LastActivityDate = @CurrentTimeUtc", " "),  new Array(1,"WHERE    @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"SELECT m.Email, m.PasswordQuestion, m.Comment, m.IsApproved,", " "),  new Array(1,"m.CreateDate, m.LastLoginDate, u.LastActivityDate, m.LastPasswordChangedDate,", " "),  new Array(1,"u.UserId, m.IsLockedOut, m.LastLockoutDate", " "),  new Array(1,"FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE  @UserId = u.UserId AND u.UserId = m.UserId", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT TOP 1 m.Email, m.PasswordQuestion, m.Comment, m.IsApproved,", " "),  new Array(1,"m.CreateDate, m.LastLoginDate, u.LastActivityDate, m.LastPasswordChangedDate,", " "),  new Array(1,"u.UserId, m.IsLockedOut,m.LastLockoutDate", " "),  new Array(1,"FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE    LOWER(@ApplicationName) = a.LoweredApplicationName AND", " "),  new Array(1,"u.ApplicationId = a.ApplicationId    AND", " "),  new Array(1,"LOWER(@UserName) = u.LoweredUserName AND u.UserId = m.UserId", " "),  new Array(1,"", " "),  new Array(1,"IF (@@ROWCOUNT = 0) -- Username not found", " "),  new Array(1,"RETURN -1", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_GetUserByName] TO [aspnet_Membership_BasicAccess]", " "),  new Array(1,"GO", " "),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_GetUserByName] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_GetUserByUserId]", " "),  new Array(1,"@UserId               uniqueidentifier,", " "),  new Array(1,"@CurrentTimeUtc       datetime,", " "),  new Array(1,"@UpdateLastActivity   bit = 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF ( @UpdateLastActivity = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE   dbo.aspnet_Users", " "),  new Array(1,"SET      LastActivityDate = @CurrentTimeUtc", " "),  new Array(1,"FROM     dbo.aspnet_Users", " "),  new Array(1,"WHERE    @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"IF ( @@ROWCOUNT = 0 ) -- User ID not found", " "),  new Array(1,"RETURN -1", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT  m.Email, m.PasswordQuestion, m.Comment, m.IsApproved,", " "),  new Array(1,"m.CreateDate, m.LastLoginDate, u.LastActivityDate,", " "),  new Array(1,"m.LastPasswordChangedDate, u.UserName, m.IsLockedOut,", " "),  new Array(1,"m.LastLockoutDate", " "),  new Array(1,"FROM    dbo.aspnet_Users u, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE   @UserId = u.UserId AND u.UserId = m.UserId", " "),  new Array(1,"", " "),  new Array(1,"IF ( @@ROWCOUNT = 0 ) -- User ID not found", " "),  new Array(1,"RETURN -1", " "),  new Array(1,"", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_GetUserByUserId] TO [aspnet_Membership_BasicAccess]", " "),  new Array(1,"GO", " "),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_GetUserByUserId] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_ResetPassword]", " "),  new Array(1,"@ApplicationName             nvarchar(256),", " "),  new Array(1,"@UserName                    nvarchar(256),", " "),  new Array(1,"@NewPassword                 nvarchar(128),", " "),  new Array(1,"@MaxInvalidPasswordAttempts  int,", " "),  new Array(1,"@PasswordAttemptWindow       int,", " "),  new Array(1,"@PasswordSalt                nvarchar(128),", " "),  new Array(1,"@CurrentTimeUtc              datetime,", " "),  new Array(1,"@PasswordFormat              int = 0,", " "),  new Array(1,"@PasswordAnswer              nvarchar(128) = NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @IsLockedOut                            bit", " "),  new Array(1,"DECLARE @LastLockoutDate                        datetime", " "),  new Array(1,"DECLARE @FailedPasswordAttemptCount             int", " "),  new Array(1,"DECLARE @FailedPasswordAttemptWindowStart       datetime", " "),  new Array(1,"DECLARE @FailedPasswordAnswerAttemptCount       int", " "),  new Array(1,"DECLARE @FailedPasswordAnswerAttemptWindowStart datetime", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @UserId                                 uniqueidentifier", " "),  new Array(1,"SET     @UserId = NULL", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @ErrorCode     int", " "),  new Array(1,"SET @ErrorCode = 0", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @TranStarted   bit", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"IF( @@TRANCOUNT = 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"BEGIN TRANSACTION", " "),  new Array(1,"SET @TranStarted = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @UserId = u.UserId", " "),  new Array(1,"FROM    dbo.aspnet_Users u, dbo.aspnet_Applications a, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE   LoweredUserName = LOWER(@UserName) AND", " "),  new Array(1,"u.ApplicationId = a.ApplicationId  AND", " "),  new Array(1,"LOWER(@ApplicationName) = a.LoweredApplicationName AND", " "),  new Array(1,"u.UserId = m.UserId", " "),  new Array(1,"", " "),  new Array(1,"IF ( @UserId IS NULL )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = 1", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT @IsLockedOut = IsLockedOut,", " "),  new Array(1,"@LastLockoutDate = LastLockoutDate,", " "),  new Array(1,"@FailedPasswordAttemptCount = FailedPasswordAttemptCount,", " "),  new Array(1,"@FailedPasswordAttemptWindowStart = FailedPasswordAttemptWindowStart,", " "),  new Array(1,"@FailedPasswordAnswerAttemptCount = FailedPasswordAnswerAttemptCount,", " "),  new Array(1,"@FailedPasswordAnswerAttemptWindowStart = FailedPasswordAnswerAttemptWindowStart", " "),  new Array(1,"FROM dbo.aspnet_Membership WITH ( UPDLOCK )", " "),  new Array(1,"WHERE @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"IF( @IsLockedOut = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = 99", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.aspnet_Membership", " "),  new Array(1,"SET    Password = @NewPassword,", " "),  new Array(1,"LastPasswordChangedDate = @CurrentTimeUtc,", " "),  new Array(1,"PasswordFormat = @PasswordFormat,", " "),  new Array(1,"PasswordSalt = @PasswordSalt", " "),  new Array(1,"WHERE  @UserId = UserId AND", " "),  new Array(1,"( ( @PasswordAnswer IS NULL ) OR ( LOWER( PasswordAnswer ) = LOWER( @PasswordAnswer ) ) )", " "),  new Array(1,"", " "),  new Array(1,"IF ( @@ROWCOUNT = 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @CurrentTimeUtc > DATEADD( minute, @PasswordAttemptWindow, @FailedPasswordAnswerAttemptWindowStart ) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptWindowStart = @CurrentTimeUtc", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptCount = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptWindowStart = @CurrentTimeUtc", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptCount = @FailedPasswordAnswerAttemptCount + 1", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @FailedPasswordAnswerAttemptCount >= @MaxInvalidPasswordAttempts )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @IsLockedOut = 1", " "),  new Array(1,"SET @LastLockoutDate = @CurrentTimeUtc", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SET @ErrorCode = 3", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @FailedPasswordAnswerAttemptCount > 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptCount = 0", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptWindowStart = CONVERT( datetime, \'17540101\', 112 )", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( NOT ( @PasswordAnswer IS NULL ) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.aspnet_Membership", " "),  new Array(1,"SET IsLockedOut = @IsLockedOut, LastLockoutDate = @LastLockoutDate,", " "),  new Array(1,"FailedPasswordAttemptCount = @FailedPasswordAttemptCount,", " "),  new Array(1,"FailedPasswordAttemptWindowStart = @FailedPasswordAttemptWindowStart,", " "),  new Array(1,"FailedPasswordAnswerAttemptCount = @FailedPasswordAnswerAttemptCount,", " "),  new Array(1,"FailedPasswordAnswerAttemptWindowStart = @FailedPasswordAnswerAttemptWindowStart", " "),  new Array(1,"WHERE @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"IF( @@ERROR <> 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = -1", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"COMMIT TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN @ErrorCode", " "),  new Array(1,"", " "),  new Array(1,"Cleanup:", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN @ErrorCode", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_ResetPassword] TO [aspnet_Membership_FullAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_SetPassword]", " "),  new Array(1,"@ApplicationName  nvarchar(256),", " "),  new Array(1,"@UserName         nvarchar(256),", " "),  new Array(1,"@NewPassword      nvarchar(128),", " "),  new Array(1,"@PasswordSalt     nvarchar(128),", " "),  new Array(1,"@CurrentTimeUtc   datetime,", " "),  new Array(1,"@PasswordFormat   int = 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @UserId uniqueidentifier", " "),  new Array(1,"SELECT  @UserId = NULL", " "),  new Array(1,"SELECT  @UserId = u.UserId", " "),  new Array(1,"FROM    dbo.aspnet_Users u, dbo.aspnet_Applications a, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE   LoweredUserName = LOWER(@UserName) AND", " "),  new Array(1,"u.ApplicationId = a.ApplicationId  AND", " "),  new Array(1,"LOWER(@ApplicationName) = a.LoweredApplicationName AND", " "),  new Array(1,"u.UserId = m.UserId", " "),  new Array(1,"", " "),  new Array(1,"IF (@UserId IS NULL)", " "),  new Array(1,"RETURN(1)", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.aspnet_Membership", " "),  new Array(1,"SET Password = @NewPassword, PasswordFormat = @PasswordFormat, PasswordSalt = @PasswordSalt,", " "),  new Array(1,"LastPasswordChangedDate = @CurrentTimeUtc", " "),  new Array(1,"WHERE @UserId = UserId", " "),  new Array(1,"RETURN(0)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_SetPassword] TO [aspnet_Membership_FullAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_UnlockUser]", " "),  new Array(1,"@ApplicationName                         nvarchar(256),", " "),  new Array(1,"@UserName                                nvarchar(256)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @UserId uniqueidentifier", " "),  new Array(1,"SELECT  @UserId = NULL", " "),  new Array(1,"SELECT  @UserId = u.UserId", " "),  new Array(1,"FROM    dbo.aspnet_Users u, dbo.aspnet_Applications a, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE   LoweredUserName = LOWER(@UserName) AND", " "),  new Array(1,"u.ApplicationId = a.ApplicationId  AND", " "),  new Array(1,"LOWER(@ApplicationName) = a.LoweredApplicationName AND", " "),  new Array(1,"u.UserId = m.UserId", " "),  new Array(1,"", " "),  new Array(1,"IF ( @UserId IS NULL )", " "),  new Array(1,"RETURN 1", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.aspnet_Membership", " "),  new Array(1,"SET IsLockedOut = 0,", " "),  new Array(1,"FailedPasswordAttemptCount = 0,", " "),  new Array(1,"FailedPasswordAttemptWindowStart = CONVERT( datetime, \'17540101\', 112 ),", " "),  new Array(1,"FailedPasswordAnswerAttemptCount = 0,", " "),  new Array(1,"FailedPasswordAnswerAttemptWindowStart = CONVERT( datetime, \'17540101\', 112 ),", " "),  new Array(1,"LastLockoutDate = CONVERT( datetime, \'17540101\', 112 )", " "),  new Array(1,"WHERE @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_UnlockUser] TO [aspnet_Membership_FullAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_UpdateUser]", " "),  new Array(1,"@ApplicationName      nvarchar(256),", " "),  new Array(1,"@UserName             nvarchar(256),", " "),  new Array(1,"@Email                nvarchar(256),", " "),  new Array(1,"@Comment              ntext,", " "),  new Array(1,"@IsApproved           bit,", " "),  new Array(1,"@LastLoginDate        datetime,", " "),  new Array(1,"@LastActivityDate     datetime,", " "),  new Array(1,"@UniqueEmail          int,", " "),  new Array(1,"@CurrentTimeUtc       datetime", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @UserId uniqueidentifier", " "),  new Array(1,"DECLARE @ApplicationId uniqueidentifier", " "),  new Array(1,"SELECT  @UserId = NULL", " "),  new Array(1,"SELECT  @UserId = u.UserId, @ApplicationId = a.ApplicationId", " "),  new Array(1,"FROM    dbo.aspnet_Users u, dbo.aspnet_Applications a, dbo.aspnet_Membership m", " "),  new Array(1,"WHERE   LoweredUserName = LOWER(@UserName) AND", " "),  new Array(1,"u.ApplicationId = a.ApplicationId  AND", " "),  new Array(1,"LOWER(@ApplicationName) = a.LoweredApplicationName AND", " "),  new Array(1,"u.UserId = m.UserId", " "),  new Array(1,"", " "),  new Array(1,"IF (@UserId IS NULL)", " "),  new Array(1,"RETURN(1)", " "),  new Array(1,"", " "),  new Array(1,"IF (@UniqueEmail = 1)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (EXISTS (SELECT *", " "),  new Array(1,"FROM  dbo.aspnet_Membership WITH (UPDLOCK, HOLDLOCK)", " "),  new Array(1,"WHERE ApplicationId = @ApplicationId  AND @UserId <> UserId AND LoweredEmail = LOWER(@Email)))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"RETURN(7)", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @TranStarted   bit", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"IF( @@TRANCOUNT = 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"BEGIN TRANSACTION", " "),  new Array(1,"SET @TranStarted = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.aspnet_Users WITH (ROWLOCK)", " "),  new Array(1,"SET", " "),  new Array(1,"LastActivityDate = @LastActivityDate", " "),  new Array(1,"WHERE", " "),  new Array(1,"@UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"IF( @@ERROR <> 0 )", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.aspnet_Membership WITH (ROWLOCK)", " "),  new Array(1,"SET", " "),  new Array(1,"Email            = @Email,", " "),  new Array(1,"LoweredEmail     = LOWER(@Email),", " "),  new Array(1,"Comment          = @Comment,", " "),  new Array(1,"IsApproved       = @IsApproved,", " "),  new Array(1,"LastLoginDate    = @LastLoginDate", " "),  new Array(1,"WHERE", " "),  new Array(1,"@UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"IF( @@ERROR <> 0 )", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"COMMIT TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"", " "),  new Array(1,"Cleanup:", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN -1", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_UpdateUser] TO [aspnet_Membership_FullAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Membership_UpdateUserInfo]", " "),  new Array(1,"@ApplicationName                nvarchar(256),", " "),  new Array(1,"@UserName                       nvarchar(256),", " "),  new Array(1,"@IsPasswordCorrect              bit,", " "),  new Array(1,"@UpdateLastLoginActivityDate    bit,", " "),  new Array(1,"@MaxInvalidPasswordAttempts     int,", " "),  new Array(1,"@PasswordAttemptWindow          int,", " "),  new Array(1,"@CurrentTimeUtc                 datetime,", " "),  new Array(1,"@LastLoginDate                  datetime,", " "),  new Array(1,"@LastActivityDate               datetime", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @UserId                                 uniqueidentifier", " "),  new Array(1,"DECLARE @IsApproved                             bit", " "),  new Array(1,"DECLARE @IsLockedOut                            bit", " "),  new Array(1,"DECLARE @LastLockoutDate                        datetime", " "),  new Array(1,"DECLARE @FailedPasswordAttemptCount             int", " "),  new Array(1,"DECLARE @FailedPasswordAttemptWindowStart       datetime", " "),  new Array(1,"DECLARE @FailedPasswordAnswerAttemptCount       int", " "),  new Array(1,"DECLARE @FailedPasswordAnswerAttemptWindowStart datetime", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @ErrorCode     int", " "),  new Array(1,"SET @ErrorCode = 0", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @TranStarted   bit", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"IF( @@TRANCOUNT = 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"BEGIN TRANSACTION", " "),  new Array(1,"SET @TranStarted = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @UserId = u.UserId,", " "),  new Array(1,"@IsApproved = m.IsApproved,", " "),  new Array(1,"@IsLockedOut = m.IsLockedOut,", " "),  new Array(1,"@LastLockoutDate = m.LastLockoutDate,", " "),  new Array(1,"@FailedPasswordAttemptCount = m.FailedPasswordAttemptCount,", " "),  new Array(1,"@FailedPasswordAttemptWindowStart = m.FailedPasswordAttemptWindowStart,", " "),  new Array(1,"@FailedPasswordAnswerAttemptCount = m.FailedPasswordAnswerAttemptCount,", " "),  new Array(1,"@FailedPasswordAnswerAttemptWindowStart = m.FailedPasswordAnswerAttemptWindowStart", " "),  new Array(1,"FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m WITH ( UPDLOCK )", " "),  new Array(1,"WHERE   LOWER(@ApplicationName) = a.LoweredApplicationName AND", " "),  new Array(1,"u.ApplicationId = a.ApplicationId    AND", " "),  new Array(1,"u.UserId = m.UserId AND", " "),  new Array(1,"LOWER(@UserName) = u.LoweredUserName", " "),  new Array(1,"", " "),  new Array(1,"IF ( @@rowcount = 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = 1", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( @IsLockedOut = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( @IsPasswordCorrect = 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @CurrentTimeUtc > DATEADD( minute, @PasswordAttemptWindow, @FailedPasswordAttemptWindowStart ) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @FailedPasswordAttemptWindowStart = @CurrentTimeUtc", " "),  new Array(1,"SET @FailedPasswordAttemptCount = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @FailedPasswordAttemptWindowStart = @CurrentTimeUtc", " "),  new Array(1,"SET @FailedPasswordAttemptCount = @FailedPasswordAttemptCount + 1", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @FailedPasswordAttemptCount >= @MaxInvalidPasswordAttempts )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @IsLockedOut = 1", " "),  new Array(1,"SET @LastLockoutDate = @CurrentTimeUtc", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @FailedPasswordAttemptCount > 0 OR @FailedPasswordAnswerAttemptCount > 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @FailedPasswordAttemptCount = 0", " "),  new Array(1,"SET @FailedPasswordAttemptWindowStart = CONVERT( datetime, \'17540101\', 112 )", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptCount = 0", " "),  new Array(1,"SET @FailedPasswordAnswerAttemptWindowStart = CONVERT( datetime, \'17540101\', 112 )", " "),  new Array(1,"SET @LastLockoutDate = CONVERT( datetime, \'17540101\', 112 )", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( @UpdateLastLoginActivityDate = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.aspnet_Users", " "),  new Array(1,"SET     LastActivityDate = @LastActivityDate", " "),  new Array(1,"WHERE   @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"IF( @@ERROR <> 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = -1", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"UPDATE  dbo.aspnet_Membership", " "),  new Array(1,"SET     LastLoginDate = @LastLoginDate", " "),  new Array(1,"WHERE   UserId = @UserId", " "),  new Array(1,"", " "),  new Array(1,"IF( @@ERROR <> 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = -1", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.aspnet_Membership", " "),  new Array(1,"SET IsLockedOut = @IsLockedOut, LastLockoutDate = @LastLockoutDate,", " "),  new Array(1,"FailedPasswordAttemptCount = @FailedPasswordAttemptCount,", " "),  new Array(1,"FailedPasswordAttemptWindowStart = @FailedPasswordAttemptWindowStart,", " "),  new Array(1,"FailedPasswordAnswerAttemptCount = @FailedPasswordAnswerAttemptCount,", " "),  new Array(1,"FailedPasswordAnswerAttemptWindowStart = @FailedPasswordAnswerAttemptWindowStart", " "),  new Array(1,"WHERE @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"IF( @@ERROR <> 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ErrorCode = -1", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"COMMIT TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN @ErrorCode", " "),  new Array(1,"", " "),  new Array(1,"Cleanup:", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN @ErrorCode", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Membership_UpdateUserInfo] TO [aspnet_Membership_BasicAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_RegisterSchemaVersion]", " "),  new Array(1,"@Feature                   nvarchar(128),", " "),  new Array(1,"@CompatibleSchemaVersion   nvarchar(128),", " "),  new Array(1,"@IsCurrentVersion          bit,", " "),  new Array(1,"@RemoveIncompatibleSchema  bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @RemoveIncompatibleSchema = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.aspnet_SchemaVersions WHERE Feature = LOWER( @Feature )", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @IsCurrentVersion = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.aspnet_SchemaVersions", " "),  new Array(1,"SET IsCurrentVersion = 0", " "),  new Array(1,"WHERE Feature = LOWER( @Feature )", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"INSERT  dbo.aspnet_SchemaVersions( Feature, CompatibleSchemaVersion, IsCurrentVersion )", " "),  new Array(1,"VALUES( LOWER( @Feature ), @CompatibleSchemaVersion, @IsCurrentVersion )", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_RegisterSchemaVersion] TO [aspnet_Membership_BasicAccess]", " "),  new Array(1,"GO", " "),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_RegisterSchemaVersion] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Setup_RemoveAllRoleMembers]", " "),  new Array(1,"@name   sysname", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"CREATE TABLE #aspnet_RoleMembers", " "),  new Array(1,"(", " "),  new Array(1,"Group_name      sysname,", " "),  new Array(1,"Group_id        smallint,", " "),  new Array(1,"Users_in_group  sysname,", " "),  new Array(1,"User_id         smallint", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO #aspnet_RoleMembers", " "),  new Array(1,"EXEC sp_helpuser @name", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @user_id smallint", " "),  new Array(1,"DECLARE @cmd nvarchar(500)", " "),  new Array(1,"DECLARE c1 cursor FORWARD_ONLY FOR", " "),  new Array(1,"SELECT User_id FROM #aspnet_RoleMembers", " "),  new Array(1,"", " "),  new Array(1,"OPEN c1", " "),  new Array(1,"", " "),  new Array(1,"FETCH c1 INTO @user_id", " "),  new Array(1,"WHILE (@@fetch_status = 0)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @cmd = \'EXEC sp_droprolemember \' + \'\'\'\' + @name + \'\'\', \'\'\' + USER_NAME(@user_id) + \'\'\'\'", " "),  new Array(1,"EXEC (@cmd)", " "),  new Array(1,"FETCH c1 INTO @user_id", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"CLOSE c1", " "),  new Array(1,"DEALLOCATE c1", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_UnRegisterSchemaVersion]", " "),  new Array(1,"@Feature                   nvarchar(128),", " "),  new Array(1,"@CompatibleSchemaVersion   nvarchar(128)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.aspnet_SchemaVersions", " "),  new Array(1,"WHERE   Feature = LOWER(@Feature) AND @CompatibleSchemaVersion = CompatibleSchemaVersion", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_UnRegisterSchemaVersion] TO [aspnet_Membership_BasicAccess]", " "),  new Array(1,"GO", " "),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_UnRegisterSchemaVersion] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Users_CreateUser]", " "),  new Array(1,"@ApplicationId    uniqueidentifier,", " "),  new Array(1,"@UserName         nvarchar(256),", " "),  new Array(1,"@IsUserAnonymous  bit,", " "),  new Array(1,"@LastActivityDate DATETIME,", " "),  new Array(1,"@UserId           uniqueidentifier OUTPUT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( @UserId IS NULL )", " "),  new Array(1,"SELECT @UserId = NEWID()", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF( EXISTS( SELECT UserId FROM dbo.aspnet_Users", " "),  new Array(1,"WHERE @UserId = UserId ) )", " "),  new Array(1,"RETURN -1", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"INSERT dbo.aspnet_Users (ApplicationId, UserId, UserName, LoweredUserName, IsAnonymous, LastActivityDate)", " "),  new Array(1,"VALUES (@ApplicationId, @UserId, @UserName, LOWER(@UserName), @IsUserAnonymous, @LastActivityDate)", " "),  new Array(1,"", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[aspnet_Users_DeleteUser]", " "),  new Array(1,"@ApplicationName  nvarchar(256),", " "),  new Array(1,"@UserName         nvarchar(256),", " "),  new Array(1,"@TablesToDeleteFrom int,", " "),  new Array(1,"@NumTablesDeletedFrom int OUTPUT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @UserId               uniqueidentifier", " "),  new Array(1,"SELECT  @UserId               = NULL", " "),  new Array(1,"SELECT  @NumTablesDeletedFrom = 0", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @TranStarted   bit", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"IF( @@TRANCOUNT = 0 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"BEGIN TRANSACTION", " "),  new Array(1,"SET @TranStarted = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @ErrorCode   int", " "),  new Array(1,"DECLARE @RowCount    int", " "),  new Array(1,"", " "),  new Array(1,"SET @ErrorCode = 0", " "),  new Array(1,"SET @RowCount  = 0", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @UserId = u.UserId", " "),  new Array(1,"FROM    dbo.aspnet_Users u, dbo.aspnet_Applications a", " "),  new Array(1,"WHERE   u.LoweredUserName       = LOWER(@UserName)", " "),  new Array(1,"AND u.ApplicationId         = a.ApplicationId", " "),  new Array(1,"AND LOWER(@ApplicationName) = a.LoweredApplicationName", " "),  new Array(1,"", " "),  new Array(1,"IF (@UserId IS NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Delete from Membership table if (@TablesToDeleteFrom & 1) is set", " "),  new Array(1,"IF ((@TablesToDeleteFrom & 1) <> 0 AND", " "),  new Array(1,"(EXISTS (SELECT name FROM sys.objects WHERE (name = N\'vw_aspnet_MembershipUsers\') AND (type = \'V\'))))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.aspnet_Membership WHERE @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"SELECT @ErrorCode = @@ERROR,", " "),  new Array(1,"@RowCount = @@ROWCOUNT", " "),  new Array(1,"", " "),  new Array(1,"IF( @ErrorCode <> 0 )", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"", " "),  new Array(1,"IF (@RowCount <> 0)", " "),  new Array(1,"SELECT  @NumTablesDeletedFrom = @NumTablesDeletedFrom + 1", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Delete from aspnet_UsersInRoles table if (@TablesToDeleteFrom & 2) is set", " "),  new Array(1,"IF ((@TablesToDeleteFrom & 2) <> 0  AND", " "),  new Array(1,"(EXISTS (SELECT name FROM sys.objects WHERE (name = N\'vw_aspnet_UsersInRoles\') AND (type = \'V\'))) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.aspnet_UsersInRoles WHERE @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"SELECT @ErrorCode = @@ERROR,", " "),  new Array(1,"@RowCount = @@ROWCOUNT", " "),  new Array(1,"", " "),  new Array(1,"IF( @ErrorCode <> 0 )", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"", " "),  new Array(1,"IF (@RowCount <> 0)", " "),  new Array(1,"SELECT  @NumTablesDeletedFrom = @NumTablesDeletedFrom + 1", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Delete from aspnet_Profile table if (@TablesToDeleteFrom & 4) is set", " "),  new Array(1,"IF ((@TablesToDeleteFrom & 4) <> 0  AND", " "),  new Array(1,"(EXISTS (SELECT name FROM sys.objects WHERE (name = N\'vw_aspnet_Profiles\') AND (type = \'V\'))) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.aspnet_Profile WHERE @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"SELECT @ErrorCode = @@ERROR,", " "),  new Array(1,"@RowCount = @@ROWCOUNT", " "),  new Array(1,"", " "),  new Array(1,"IF( @ErrorCode <> 0 )", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"", " "),  new Array(1,"IF (@RowCount <> 0)", " "),  new Array(1,"SELECT  @NumTablesDeletedFrom = @NumTablesDeletedFrom + 1", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Delete from aspnet_PersonalizationPerUser table if (@TablesToDeleteFrom & 8) is set", " "),  new Array(1,"IF ((@TablesToDeleteFrom & 8) <> 0  AND", " "),  new Array(1,"(EXISTS (SELECT name FROM sys.objects WHERE (name = N\'vw_aspnet_WebPartState_User\') AND (type = \'V\'))) )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.aspnet_PersonalizationPerUser WHERE @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"SELECT @ErrorCode = @@ERROR,", " "),  new Array(1,"@RowCount = @@ROWCOUNT", " "),  new Array(1,"", " "),  new Array(1,"IF( @ErrorCode <> 0 )", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"", " "),  new Array(1,"IF (@RowCount <> 0)", " "),  new Array(1,"SELECT  @NumTablesDeletedFrom = @NumTablesDeletedFrom + 1", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Delete from aspnet_Users table if (@TablesToDeleteFrom & 1,2,4 & 8) are all set", " "),  new Array(1,"IF ((@TablesToDeleteFrom & 1) <> 0 AND", " "),  new Array(1,"(@TablesToDeleteFrom & 2) <> 0 AND", " "),  new Array(1,"(@TablesToDeleteFrom & 4) <> 0 AND", " "),  new Array(1,"(@TablesToDeleteFrom & 8) <> 0 AND", " "),  new Array(1,"(EXISTS (SELECT UserId FROM dbo.aspnet_Users WHERE @UserId = UserId)))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.aspnet_Users WHERE @UserId = UserId", " "),  new Array(1,"", " "),  new Array(1,"SELECT @ErrorCode = @@ERROR,", " "),  new Array(1,"@RowCount = @@ROWCOUNT", " "),  new Array(1,"", " "),  new Array(1,"IF( @ErrorCode <> 0 )", " "),  new Array(1,"GOTO Cleanup", " "),  new Array(1,"", " "),  new Array(1,"IF (@RowCount <> 0)", " "),  new Array(1,"SELECT  @NumTablesDeletedFrom = @NumTablesDeletedFrom + 1", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"COMMIT TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"", " "),  new Array(1,"Cleanup:", " "),  new Array(1,"SET @NumTablesDeletedFrom = 0", " "),  new Array(1,"", " "),  new Array(1,"IF( @TranStarted = 1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @TranStarted = 0", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN @ErrorCode", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT EXECUTE ON  [dbo].[aspnet_Users_DeleteUser] TO [aspnet_Membership_FullAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[BuildTabLevelAndPath](@TabId INT, @IncludeChild BIT = 0)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @ParentId INT, @Level INT, @TabPath NVARCHAR(255), @TabName NVARCHAR(200)", " "),  new Array(1,"SELECT @ParentId = ParentId, @TabName = TabName FROM dbo.[Tabs] WHERE TabID = @TabId", " "),  new Array(1,"IF @ParentId > 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"@Level = [Level] + 1,", " "),  new Array(1,"@TabPath = TabPath + \'\/\/\' + dbo.[RemoveStringCharacters](@TabName, \'&? .\/\'\'#:*\')", " "),  new Array(1,"FROM dbo.[Tabs] WHERE TabID = @ParentId", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT @Level = 0, @TabPath = \'\/\/\' + dbo.[RemoveStringCharacters](@TabName, \'&? .\/\'\'#:*\')", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.[Tabs] SET [Level] = @Level, TabPath = @TabPath WHERE TabID = @TabId", " "),  new Array(1,"", " "),  new Array(1,"IF @IncludeChild = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @ChildTabs TABLE(TabID INT)", " "),  new Array(1,"DECLARE @ChildID INT", " "),  new Array(1,"INSERT INTO @ChildTabs SELECT TabID FROM dbo.[Tabs] WHERE ParentId =  @TabId", " "),  new Array(1,"WHILE EXISTS (SELECT TOP 1 TabID FROM @ChildTabs)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ChildID = (SELECT TOP 1 TabID FROM @ChildTabs)", " "),  new Array(1,"EXEC dbo.[BuildTabLevelAndPath] @ChildID, @IncludeChild", " "),  new Array(1,"DELETE FROM @ChildTabs WHERE TabID = @ChildID", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CalculatePagingInformation]", " "),  new Array(1,"-- this procedure is deprecated, please use more efficient functions pageLowerBound AND pageUpperBound instead!", " "),  new Array(1,"-- 2147483647 = Cast(0x7fffffff AS Int)", " "),  new Array(1,"@pageIndex 		Int, 	    -- negative to return all rows!", " "),  new Array(1,"@pageSize 		Int, 		-- negative OR 0 returns all rows", " "),  new Array(1,"@rowsToReturn  	Int output, -- row number of record AFTER last row (0 based)", " "),  new Array(1,"@pageLowerBound Int output, -- row number of first record (0 based)", " "),  new Array(1,"@pageUpperBound Int output  -- row number of record AFTER last row (1 based)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF IsNull(@pageSize, 2147483647) < 2147483647 AND IsNull(@PageIndex, -1) >= 0 BEGIN", " "),  new Array(1,"SET @pageLowerBound = dbo.pageLowerBound(@pageIndex, @pageSize) - 1", " "),  new Array(1,"SET @rowsToReturn   = dbo.pageUpperBound(@pageIndex, @pageSize)", " "),  new Array(1,"SET @pageUpperBound = @rowsToReturn + 1", " "),  new Array(1,"END ELSE BEGIN", " "),  new Array(1,"SET @pageLowerBound = 0", " "),  new Array(1,"SET @rowsToReturn   = 2147483647", " "),  new Array(1,"SET @pageUpperBound = 2147483647", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CanDeleteSkin]", " "),  new Array(1,"@SkinType char(1),", " "),  new Array(1,"@SkinFolderName nvarchar(200)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF exists(SELECT * FROM dbo.Tabs WHERE (SkinSrc like \'%![\' + @SkinType + \'!]\' + @SkinFolderName + \'%\' ESCAPE \'!\')", " "),  new Array(1,"OR (ContainerSrc like \'%![\' + @SkinType + \'!]\' + @SkinFolderName + \'%\' ESCAPE \'!\'))", " "),  new Array(1,"SELECT 0", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF exists(SELECT * FROM dbo.TabModules WHERE ContainerSrc like \'%![\' + @SkinType + \'!]\' + @SkinFolderName + \'%\' ESCAPE \'!\')", " "),  new Array(1,"SELECT 0", " "),  new Array(1,"ELSE", " "),  new Array(1,"SELECT 1", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ChangeUsername]", " "),  new Array(1,"@UserId         int,", " "),  new Array(1,"@NewUsername	nvarchar(256)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @OldUsername NVARCHAR(256)", " "),  new Array(1,"SET @OldUsername = (SELECT UserName FROM dbo.Users WHERE UserId = @UserId)", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.Users", " "),  new Array(1,"SET		Username=@NewUsername", " "),  new Array(1,"WHERE	UserId=@UserId", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.aspnet_Users", " "),  new Array(1,"SET		UserName=@NewUsername,", " "),  new Array(1,"LoweredUserName=LOWER(@NewUsername)", " "),  new Array(1,"WHERE	UserName=@OldUsername", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CKE_AddOrUpdateEditorHostSetting]", " "),  new Array(1,"@SettingName		nvarchar(300),", " "),  new Array(1,"@SettingValue		ntext", " "),  new Array(1,"AS", " "),  new Array(1,"if exists (select 1 from dbo.CKE_Settings where SettingName = @SettingName)", " "),  new Array(1,"begin", " "),  new Array(1,"update dbo.CKE_Settings", " "),  new Array(1,"set", " "),  new Array(1,"SettingValue = @SettingValue", " "),  new Array(1,"where", " "),  new Array(1,"SettingName = @SettingName", " "),  new Array(1,"end", " "),  new Array(1,"else", " "),  new Array(1,"begin", " "),  new Array(1,"insert into dbo.CKE_Settings (SettingName, SettingValue)", " "),  new Array(1,"values (@SettingName,@SettingValue)", " "),  new Array(1,"end", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CKE_DeleteAllChildPageSettings]", " "),  new Array(1,"@TabID int", " "),  new Array(1,"AS", " "),  new Array(1,"SET NOCOUNT ON", " "),  new Array(1,"DELETE  hs", " "),  new Array(1,"FROM dbo.CKE_Settings hs", " "),  new Array(1,"INNER JOIN", " "),  new Array(1,"dbo.Tabs t  ON t.ParentId = @TabID", " "),  new Array(1,"Where SettingName like \'DNNCKT#%\' AND t.TabID  = t.TabID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CKE_DeleteAllModuleSettings]", " "),  new Array(1,"@PortalID varchar", " "),  new Array(1,"AS", " "),  new Array(1,"SET NOCOUNT ON", " "),  new Array(1,"Delete ms", " "),  new Array(1,"FROM dbo.ModuleSettings ms", " "),  new Array(1,"INNER JOIN", " "),  new Array(1,"dbo.Modules m  ON m.PortalID = @PortalID", " "),  new Array(1,"Where SettingName like \'DNNCKMI#%\' AND ms.ModuleID  = m.ModuleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CKE_DeleteAllModuleSettingsByTab]", " "),  new Array(1,"@TabID int", " "),  new Array(1,"AS", " "),  new Array(1,"SET NOCOUNT ON", " "),  new Array(1,"Delete ms", " "),  new Array(1,"FROM dbo.ModuleSettings ms", " "),  new Array(1,"INNER JOIN", " "),  new Array(1,"dbo.TabModules tm  ON tm.TabID = @TabID", " "),  new Array(1,"Where SettingName like \'DNNCKMI#%\' AND ms.ModuleID  = tm.ModuleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CKE_DeleteAllPageSettings]", " "),  new Array(1,"@PortalID varchar", " "),  new Array(1,"AS", " "),  new Array(1,"SET NOCOUNT ON", " "),  new Array(1,"DELETE  hs", " "),  new Array(1,"FROM dbo.CKE_Settings hs", " "),  new Array(1,"INNER JOIN", " "),  new Array(1,"dbo.Tabs t  ON t.PortalID = @PortalID", " "),  new Array(1,"Where SettingName like \'DNNCKT#%\' AND t.TabID  = t.TabID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CKE_DeleteAllPortalSettings]", " "),  new Array(1,"@PortalID varchar", " "),  new Array(1,"AS", " "),  new Array(1,"SET NOCOUNT ON", " "),  new Array(1,"delete from dbo.CKE_Settings where SettingName like \'DNNCKP#\' + @PortalID + \'%\'", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CKE_DeleteCurrentPageSettings]", " "),  new Array(1,"@TabID varchar", " "),  new Array(1,"AS", " "),  new Array(1,"SET NOCOUNT ON", " "),  new Array(1,"delete from dbo.CKE_Settings where SettingName like \'DNNCKT#\' + @TabID + \'%\'", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CKE_GetEditorHostSettings]", " "),  new Array(1,"AS", " "),  new Array(1,"SET NOCOUNT ON", " "),  new Array(1,"SELECT SettingName,", " "),  new Array(1,"SettingValue", " "),  new Array(1,"FROM dbo.CKE_Settings", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ClearFileContent]", " "),  new Array(1,"", " "),  new Array(1,"@FileId      int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.Files", " "),  new Array(1,"SET    Content = NULL", " "),  new Array(1,"WHERE  FileId = @FileId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"Create PROCEDURE [dbo].[ConvertTabToNeutralLanguage]", " "),  new Array(1,"@PortalId INT ,", " "),  new Array(1,"@TabId INT ,", " "),  new Array(1,"@CultureCode NVARCHAR(10)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET NOCOUNT ON;", " "),  new Array(1,"", " "),  new Array(1,"UPDATE  dbo.Tabs", " "),  new Array(1,"SET     CultureCode = NULL", " "),  new Array(1,"WHERE   PortalID = @PortalId", " "),  new Array(1,"AND TabID = @TabID", " "),  new Array(1,"AND CultureCode = @CultureCode", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_AddNotificationTypeAction]", " "),  new Array(1,"@NotificationTypeID int,", " "),  new Array(1,"@NameResourceKey nvarchar(100),", " "),  new Array(1,"@DescriptionResourceKey nvarchar(100),", " "),  new Array(1,"@ConfirmResourceKey nvarchar(100),", " "),  new Array(1,"@APICall nvarchar(500),", " "),  new Array(1,"@CreatedByUserID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Order int", " "),  new Array(1,"", " "),  new Array(1,"SELECT @Order = MAX([Order])", " "),  new Array(1,"FROM dbo.[CoreMessaging_NotificationTypeActions]", " "),  new Array(1,"WHERE [NotificationTypeID] = @NotificationTypeID", " "),  new Array(1,"", " "),  new Array(1,"IF @Order IS NULL", " "),  new Array(1,"SET @Order = 1", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @Order = @Order + 2", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.[CoreMessaging_NotificationTypeActions] (", " "),  new Array(1,"[NotificationTypeID],", " "),  new Array(1,"[NameResourceKey],", " "),  new Array(1,"[DescriptionResourceKey],", " "),  new Array(1,"[ConfirmResourceKey],", " "),  new Array(1,"[Order],", " "),  new Array(1,"[APICall],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@NotificationTypeID,", " "),  new Array(1,"@NameResourceKey,", " "),  new Array(1,"@DescriptionResourceKey,", " "),  new Array(1,"@ConfirmResourceKey,", " "),  new Array(1,"@Order,", " "),  new Array(1,"@APICall,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"GETDATE()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_AddSubscription]", " "),  new Array(1,"@UserId INT ,", " "),  new Array(1,"@PortalId INT ,", " "),  new Array(1,"@SubscriptionTypeId INT ,", " "),  new Array(1,"@ObjectKey NVARCHAR(255) ,", " "),  new Array(1,"@Description NVARCHAR(255),", " "),  new Array(1,"@ModuleId INT ,", " "),  new Array(1,"@TabId INT,", " "),  new Array(1,"@ObjectData NVARCHAR(MAX)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @SubscriptionId INT = NULL", " "),  new Array(1,"", " "),  new Array(1,"SELECT  TOP 1 @SubscriptionId = SubscriptionId", " "),  new Array(1,"FROM    dbo.CoreMessaging_Subscriptions", " "),  new Array(1,"WHERE   UserId = @UserId", " "),  new Array(1,"AND (( @PortalId is null and PortalId is null) or (PortalId = @PortalId))", " "),  new Array(1,"AND SubscriptionTypeId = @SubscriptionTypeID", " "),  new Array(1,"AND ObjectKey = @ObjectKey", " "),  new Array(1,"AND ((@ModuleId is null and ModuleId is null ) or (ModuleId = @ModuleId))", " "),  new Array(1,"AND ((@TabId is null and TabId is null ) or (TabId = @TabId))", " "),  new Array(1,"", " "),  new Array(1,"IF (@SubscriptionId IS NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT  INTO dbo.CoreMessaging_Subscriptions", " "),  new Array(1,"( UserId ,", " "),  new Array(1,"PortalId ,", " "),  new Array(1,"SubscriptionTypeId ,", " "),  new Array(1,"ObjectKey ,", " "),  new Array(1,"Description,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"ModuleId ,", " "),  new Array(1,"TabId,", " "),  new Array(1,"ObjectData", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @UserId ,", " "),  new Array(1,"@PortalId ,", " "),  new Array(1,"@SubscriptionTypeId ,", " "),  new Array(1,"@ObjectKey ,", " "),  new Array(1,"@Description,", " "),  new Array(1,"GETUTCDATE() ,", " "),  new Array(1,"@ModuleId ,", " "),  new Array(1,"@TabId,", " "),  new Array(1,"@ObjectData", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT  SCOPE_IDENTITY() AS [SubscriptionId]", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.CoreMessaging_Subscriptions", " "),  new Array(1,"SET     UserId = @UserId ,", " "),  new Array(1,"PortalId = @PortalId ,", " "),  new Array(1,"SubscriptionTypeId = @SubscriptionTypeId ,", " "),  new Array(1,"ObjectKey = @ObjectKey ,", " "),  new Array(1,"Description = @Description ,", " "),  new Array(1,"ModuleId = @ModuleId ,", " "),  new Array(1,"TabId = @TabId,", " "),  new Array(1,"ObjectData = @ObjectData", " "),  new Array(1,"WHERE   SubscriptionId = @SubscriptionId", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @SubscriptionId AS [SubscriptionId]", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_AddSubscriptionType]", " "),  new Array(1,"@SubscriptionName NVARCHAR(50) ,", " "),  new Array(1,"@FriendlyName NVARCHAR(50) ,", " "),  new Array(1,"@DesktopModuleId INT", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT  dbo.CoreMessaging_SubscriptionTypes", " "),  new Array(1,"( SubscriptionName ,", " "),  new Array(1,"FriendlyName ,", " "),  new Array(1,"DesktopModuleId", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @SubscriptionName ,", " "),  new Array(1,"@FriendlyName ,", " "),  new Array(1,"@DesktopModuleId", " "),  new Array(1,")", " "),  new Array(1,"SELECT  SCOPE_IDENTITY()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CheckReplyHasRecipients]", " "),  new Array(1,"@ConversationId Int, -- Not Null", " "),  new Array(1,"@UserId 		Int  -- Not Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(M.UserID)", " "),  new Array(1,"FROM       dbo.vw_CoreMessaging_Messages AS M", " "),  new Array(1,"INNER JOIN dbo.vw_Users AS U ON M.UserID = U.UserID AND M.PortalID = IsNull(U.PortalID, M.PortalID)", " "),  new Array(1,"WHERE (M.MessageID = @ConversationId)", " "),  new Array(1,"AND (M.UserID   <> @UserId)", " "),  new Array(1,"AND (U.IsDeleted = 0)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_ConvertLegacyMessages]", " "),  new Array(1,"@PageIndex       int,", " "),  new Array(1,"@PageSize        int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"-- Set the page bounds", " "),  new Array(1,"DECLARE @PageLowerBound INT, @PageUpperBound INT;", " "),  new Array(1,"", " "),  new Array(1,"SET @PageLowerBound =  (@PageIndex * @PageSize) + 1", " "),  new Array(1,"SET @PageUpperBound =  (@PageIndex * @PageSize) + @PageSize", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @MessageID bigint", " "),  new Array(1,"DECLARE @PortalID INT", " "),  new Array(1,"DECLARE @FromUserName nvarchar(50)", " "),  new Array(1,"DECLARE @FromUserID INT", " "),  new Array(1,"DECLARE @ToUserName nvarchar(50)", " "),  new Array(1,"DECLARE @ToUserID int", " "),  new Array(1,"DECLARE @Status tinyint", " "),  new Array(1,"DECLARE @Subject nvarchar(max)", " "),  new Array(1,"DECLARE @Body nvarchar(max)", " "),  new Array(1,"DECLARE @Date datetime", " "),  new Array(1,"DECLARE @EmailSent bit", " "),  new Array(1,"DECLARE @EmailSentDate datetime", " "),  new Array(1,"DECLARE @EmailSchedulerInstance UNIQUEIDENTIFIER", " "),  new Array(1,"DECLARE @RowNumber INT", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @NewMessageID int", " "),  new Array(1,"DECLARE @Counter int", " "),  new Array(1,"", " "),  new Array(1,"DECLARE MessageList cursor FAST_FORWARD for", " "),  new Array(1,"", " "),  new Array(1,"WITH messageItems  AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT  [MessageID], [PortalID],[FromUserName],[FromUserID], [ToUserName], [ToUserID], [Status], [Subject], [Body], [Date], [EmailSent], [EmailSentDate], [EmailSchedulerInstance]", " "),  new Array(1,",ROW_NUMBER() OVER(ORDER BY MessageID ASC) AS RowNumber", " "),  new Array(1,"FROM	dbo.[Messaging_Messages]", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT * from messageItems where RowNumber BETWEEN @PageLowerBound AND @PageUpperBound", " "),  new Array(1,"ORDER BY RowNumber ASC", " "),  new Array(1,"OPEN MessageList", " "),  new Array(1,"FETCH NEXT FROM MessageList", " "),  new Array(1,"INTO @MessageID, @PortalID, @FromUserName, @FromUserID, @ToUserName, @ToUserID, @Status, @Subject, @Body, @Date, @EmailSent, @EmailSentDate, @EmailSchedulerInstance, @RowNumber", " "),  new Array(1,"", " "),  new Array(1,"WHILE @@FETCH_STATUS = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--Create SocialMessage Record", " "),  new Array(1,"INSERT dbo.[CoreMessaging_Messages](", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[To],", " "),  new Array(1,"[From],", " "),  new Array(1,"[Subject],", " "),  new Array(1,"[Body],", " "),  new Array(1,"[ConversationID],", " "),  new Array(1,"[ReplyAllAllowed],", " "),  new Array(1,"[SenderUserID],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES  (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@ToUserName,", " "),  new Array(1,"@FromUserName,", " "),  new Array(1,"@Subject,", " "),  new Array(1,"@Body,", " "),  new Array(1,"NULL,", " "),  new Array(1,"1, --ReplyAllAllowed,", " "),  new Array(1,"@FromUserID,", " "),  new Array(1,"@FromUserID , -- CreatedBy - int", " "),  new Array(1,"dateadd(second, (-1 * datediff(second, getutcdate(), getdate())), @Date), -- CreatedOn - utc datetime", " "),  new Array(1,"@FromUserID , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,")", " "),  new Array(1,"-- update conversation id", " "),  new Array(1,"SELECT  @NewMessageID = SCOPE_IDENTITY()", " "),  new Array(1,"UPDATE  dbo.[CoreMessaging_Messages] SET [ConversationID] = @NewMessageID WHERE [MessageID] = @NewMessageID", " "),  new Array(1,"", " "),  new Array(1,"--Create SocialRecipient Record for recipient and sender. 2 records total", " "),  new Array(1,"Set @Counter = 0", " "),  new Array(1,"", " "),  new Array(1,"--No need to create two records if message sent to self", " "),  new Array(1,"IF @ToUserID = @FromUserID BEGIN Set @Counter = 1 END", " "),  new Array(1,"", " "),  new Array(1,"WHILE @Counter < 2", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @Counter = @Counter + 1", " "),  new Array(1,"", " "),  new Array(1,"INSERT dbo.[CoreMessaging_MessageRecipients](", " "),  new Array(1,"[MessageID],", " "),  new Array(1,"[UserID],", " "),  new Array(1,"[Read],", " "),  new Array(1,"[Archived],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate],", " "),  new Array(1,"[EmailSent],", " "),  new Array(1,"[EmailSentDate],", " "),  new Array(1,"[EmailSchedulerInstance]", " "),  new Array(1,")", " "),  new Array(1,"VALUES  (", " "),  new Array(1,"@NewMessageID,", " "),  new Array(1,"CASE @Counter", " "),  new Array(1,"WHEN 1 THEN @ToUserID", " "),  new Array(1,"ELSE @FromUserID", " "),  new Array(1,"END,", " "),  new Array(1,"CASE @Status", " "),  new Array(1,"WHEN 1 THEN 0 --Status 1 means Unread, 2 means Read, 3 means Deleted", " "),  new Array(1,"ELSE 1", " "),  new Array(1,"END,", " "),  new Array(1,"CASE @Status", " "),  new Array(1,"WHEN 3 THEN 1 --Status 1 means Unread, 2 means Read, 3 means Deleted", " "),  new Array(1,"ELSE 0", " "),  new Array(1,"END,", " "),  new Array(1,"@FromUserID , -- CreatedBy - int", " "),  new Array(1,"@Date , -- CreatedOn - datetime", " "),  new Array(1,"@FromUserID , -- LastModifiedBy - int", " "),  new Array(1,"@Date, -- LastModifiedOn - datetime", " "),  new Array(1,"@EmailSent,", " "),  new Array(1,"@EmailSentDate,", " "),  new Array(1,"@EmailSchedulerInstance", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"--Delete the Legacy record", " "),  new Array(1,"DELETE FROM dbo.[Messaging_Messages] WHERE MessageID = @MessageID", " "),  new Array(1,"", " "),  new Array(1,"FETCH NEXT FROM MessageList", " "),  new Array(1,"INTO @MessageID,@PortalID, @FromUserName, @FromUserID, @ToUserName, @ToUserID, @Status, @Subject, @Body, @Date, @EmailSent, @EmailSentDate, @EmailSchedulerInstance, @RowNumber", " "),  new Array(1,"END", " "),  new Array(1,"CLOSE MessageList", " "),  new Array(1,"DEALLOCATE MessageList", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CountArchivedConversations]", " "),  new Array(1,"@UserID INT,", " "),  new Array(1,"@PortalID INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(DISTINCT M.ConversationID) AS TotalRecords", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages] M", " "),  new Array(1,"JOIN dbo.[CoreMessaging_MessageRecipients] MR ON M.MessageID = MR.MessageID", " "),  new Array(1,"WHERE Archived = 1", " "),  new Array(1,"AND NotificationTypeID IS NULL AND PortalID = @PortalID AND UserID = @UserID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CountArchivedMessages]", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(DISTINCT M.MessageID) AS TotalRecords", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages] M", " "),  new Array(1,"JOIN dbo.[CoreMessaging_MessageRecipients] MR ON M.MessageID = MR.MessageID", " "),  new Array(1,"WHERE Archived = 1", " "),  new Array(1,"AND NotificationTypeID IS NULL AND PortalID = @PortalID AND UserID = @UserID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CountArchivedMessagesByConversation]", " "),  new Array(1,"@ConversationID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(*) AS TotalArchivedThreads", " "),  new Array(1,"FROM dbo.[CoreMessaging_MessageRecipients]", " "),  new Array(1,"WHERE MessageID IN (SELECT MessageID FROM dbo.[CoreMessaging_Messages] WHERE ConversationID = @ConversationID)", " "),  new Array(1,"AND [Archived] = 1", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CountLegacyMessages]", " "),  new Array(1,"AS", " "),  new Array(1,"--Return total records", " "),  new Array(1,"SELECT COUNT(*) AS TotalRecords", " "),  new Array(1,"FROM dbo.[Messaging_Messages]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CountMessagesByConversation]", " "),  new Array(1,"@ConversationID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(*) AS TotalRecords", " "),  new Array(1,"FROM dbo.CoreMessaging_Messages", " "),  new Array(1,"WHERE (ConversationID = @ConversationID)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CountNewThreads]", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@PortalID INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(*) AS TotalNewThreads", " "),  new Array(1,"FROM dbo.[CoreMessaging_MessageRecipients] MR", " "),  new Array(1,"JOIN dbo.[CoreMessaging_Messages] M ON MR.MessageID = M.MessageID", " "),  new Array(1,"WHERE MR.UserID = @UserID", " "),  new Array(1,"AND MR.[Read] = 0", " "),  new Array(1,"AND M.PortalID=@PortalID", " "),  new Array(1,"AND M.NotificationTypeID IS NULL", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CountNotifications]", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@PortalID INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Return total notifications for user", " "),  new Array(1,"SELECT COUNT(*) AS TotalNotifications", " "),  new Array(1,"FROM dbo.[CoreMessaging_MessageRecipients] MR", " "),  new Array(1,"JOIN dbo.[CoreMessaging_Messages] M ON MR.MessageID = M.MessageID", " "),  new Array(1,"WHERE M.NotificationTypeId IS NOT NULL", " "),  new Array(1,"AND M.PortalID=@PortalID", " "),  new Array(1,"AND MR.UserID = @UserID", " "),  new Array(1,"AND (M.ExpirationDate IS NULL OR (M.ExpirationDate IS NOT NULL AND M.ExpirationDate > GETDATE())) -- Do not return expired notifications", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CountSentConversations]", " "),  new Array(1,"@UserID INT,", " "),  new Array(1,"@PortalID INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(DISTINCT ConversationID) AS TotalRecords", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages] m", " "),  new Array(1,"INNER JOIN dbo.[CoreMessaging_MessageRecipients] mr ON mr.MessageID = m.MessageID AND mr.UserID = m.SenderUserID --make sure sender haven\'t delete the message.", " "),  new Array(1,"WHERE SenderUserID = @UserID", " "),  new Array(1,"AND NotificationTypeID IS NULL AND PortalID = @PortalID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CountSentMessages]", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(MessageID) AS TotalRecords", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages]", " "),  new Array(1,"WHERE SenderUserID = @UserID", " "),  new Array(1,"AND NotificationTypeID IS NULL AND PortalID = @PortalID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CountTotalConversations]", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(DISTINCT M.ConversationID) AS TotalConversations", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages] M", " "),  new Array(1,"JOIN dbo.[CoreMessaging_MessageRecipients] MR ON M.MessageID = MR.MessageID", " "),  new Array(1,"WHERE NotificationTypeID IS NULL AND PortalID = @PortalID AND Archived = 0 AND UserID = @UserID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CreateMessageRecipientsForRole]", " "),  new Array(1,"@MessageID int,         -- message id", " "),  new Array(1,"@RoleIDs nvarchar(max), -- comma separated list of RoleIds", " "),  new Array(1,"@CreateUpdateUserID INT -- create \/ update user id", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"INSERT dbo.[CoreMessaging_MessageRecipients](", " "),  new Array(1,"[MessageID],", " "),  new Array(1,"[UserID],", " "),  new Array(1,"[Read],", " "),  new Array(1,"[Archived],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"SELECT distinct", " "),  new Array(1,"@MessageID,", " "),  new Array(1,"UserID,", " "),  new Array(1,"0,", " "),  new Array(1,"0,", " "),  new Array(1,"@CreateUpdateUserID , -- CreatedBy - int", " "),  new Array(1,"GETDATE(), -- CreatedOn - datetime", " "),  new Array(1,"@CreateUpdateUserID , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,"FROM dbo.[vw_UserRoles] ur", " "),  new Array(1,"INNER JOIN dbo.[SplitStrings_CTE](@RoleIDs,\',\') m on ur.RoleID = m.Item", " "),  new Array(1,"WHERE ur.ExpiryDate >= getdate() OR ur.ExpiryDate IS NULL", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CreateMessageReply]", " "),  new Array(1,"@ConversationID    INT,           -- parent message id", " "),  new Array(1,"@PortalID			INT,			--portalID of message", " "),  new Array(1,"@Body               nvarchar(max), -- message body", " "),  new Array(1,"@SenderUserID       INT,           -- create \/ update user id", " "),  new Array(1,"@From               nvarchar(200), -- message from", " "),  new Array(1,"@CreateUpdateUserID INT            -- create \/ update user id", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @ReplyAllAllowed BIT", " "),  new Array(1,"DECLARE @NewMessageID INT", " "),  new Array(1,"DECLARE @OriginalSenderUserID INT", " "),  new Array(1,"DECLARE @OriginalTo nvarchar(2000)", " "),  new Array(1,"DECLARE @OriginalSubject nvarchar(400)", " "),  new Array(1,"", " "),  new Array(1,"--Was Sender a Recipient in the Original Message.", " "),  new Array(1,"SELECT @ReplyAllAllowed = [ReplyAllAllowed],", " "),  new Array(1,"@OriginalSenderUserID = [SenderUserID],", " "),  new Array(1,"@OriginalTo = REPLACE(REPLACE([TO] + \',\' + [FROM], \',\' + @From, \'\'), @From + \',\', \'\'),", " "),  new Array(1,"@OriginalSubject = [Subject]", " "),  new Array(1,"FROM dbo.CoreMessaging_Messages m", " "),  new Array(1,"INNER JOIN dbo.CoreMessaging_MessageRecipients mr ON m.MessageID = mr.MessageID", " "),  new Array(1,"AND m.MessageID = @ConversationID", " "),  new Array(1,"AND mr.UserID = @SenderUserID", " "),  new Array(1,"", " "),  new Array(1,"--Reply can only be create if Sender was Recipient of Orginial message", " "),  new Array(1,"IF @ReplyAllAllowed IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT -1", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"--Create new message", " "),  new Array(1,"INSERT dbo.CoreMessaging_Messages(", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[To],", " "),  new Array(1,"[From],", " "),  new Array(1,"[Subject],", " "),  new Array(1,"[Body],", " "),  new Array(1,"[ConversationID],", " "),  new Array(1,"[ReplyAllAllowed],", " "),  new Array(1,"[SenderUserID],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES  (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@OriginalTo,", " "),  new Array(1,"@From,", " "),  new Array(1,"@OriginalSubject,", " "),  new Array(1,"@Body,", " "),  new Array(1,"@ConversationID,", " "),  new Array(1,"@ReplyAllAllowed,", " "),  new Array(1,"@SenderUserID,", " "),  new Array(1,"@CreateUpdateUserID , -- CreatedBy - int", " "),  new Array(1,"GETUTCDATE() , -- CreatedOn - datetime", " "),  new Array(1,"@CreateUpdateUserID , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT @NewMessageID = SCOPE_IDENTITY()", " "),  new Array(1,"", " "),  new Array(1,"IF (@ReplyAllAllowed = 0) --original message was sent to a Role, reply will be sent to the original sender only", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.CoreMessaging_MessageRecipients", " "),  new Array(1,"( [MessageID],", " "),  new Array(1,"[UserID],", " "),  new Array(1,"[Read],", " "),  new Array(1,"[Archived],", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @NewMessageID, -- MessageID - int", " "),  new Array(1,"@OriginalSenderUserID, -- UserID - int", " "),  new Array(1,"0, -- Read - bit", " "),  new Array(1,"0, -- Archived - bit", " "),  new Array(1,"@CreateUpdateUserID , -- CreatedByUserID - int", " "),  new Array(1,"GETDATE() , -- CreatedOnDate - datetime", " "),  new Array(1,"@CreateUpdateUserID , -- LastModifiedByUserID - int", " "),  new Array(1,"GETDATE()  -- LastModifiedOnDate - datetime", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"IF @OriginalSenderUserID <> @SenderUserID", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.CoreMessaging_MessageRecipients", " "),  new Array(1,"( [MessageID],", " "),  new Array(1,"[UserID],", " "),  new Array(1,"[Read],", " "),  new Array(1,"[Archived],", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @NewMessageID, -- MessageID - int", " "),  new Array(1,"@SenderUserID, -- UserID - int", " "),  new Array(1,"1, -- Read - bit", " "),  new Array(1,"0, -- Archived - bit", " "),  new Array(1,"@CreateUpdateUserID , -- CreatedByUserID - int", " "),  new Array(1,"GETDATE() , -- CreatedOnDate - datetime", " "),  new Array(1,"@CreateUpdateUserID , -- LastModifiedByUserID - int", " "),  new Array(1,"GETDATE()  -- LastModifiedOnDate - datetime", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE --Reply should be sent to all the original Recipients", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT dbo.CoreMessaging_MessageRecipients(", " "),  new Array(1,"[MessageID],", " "),  new Array(1,"[UserID],", " "),  new Array(1,"[Read],", " "),  new Array(1,"[Archived],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"SELECT", " "),  new Array(1,"@NewMessageID,", " "),  new Array(1,"UserID,", " "),  new Array(1,"0,", " "),  new Array(1,"0,", " "),  new Array(1,"@CreateUpdateUserID , -- CreatedBy - int", " "),  new Array(1,"GETDATE() , -- CreatedOn - datetime", " "),  new Array(1,"@CreateUpdateUserID , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,"FROM dbo.CoreMessaging_MessageRecipients", " "),  new Array(1,"WHERE MessageID = @ConversationID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @NewMessageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_CreateNotificationType]", " "),  new Array(1,"@Name nvarchar(100),", " "),  new Array(1,"@Description nvarchar(2000),", " "),  new Array(1,"@TTL int,", " "),  new Array(1,"@DesktopModuleId int,", " "),  new Array(1,"@CreatedUpdatedUserID int,", " "),  new Array(1,"@IsTask bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[CoreMessaging_NotificationTypes] (", " "),  new Array(1,"[Name],", " "),  new Array(1,"[Description],", " "),  new Array(1,"[TTL],", " "),  new Array(1,"[DesktopModuleId],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate],", " "),  new Array(1,"[IsTask]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@Name,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@TTL,", " "),  new Array(1,"@DesktopModuleId,", " "),  new Array(1,"@CreatedUpdatedUserID,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"@CreatedUpdatedUserID,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"@IsTask", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteLegacyMessage]", " "),  new Array(1,"@MessageID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.Messaging_Messages", " "),  new Array(1,"WHERE  [MessageID] = @MessageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteMessage]", " "),  new Array(1,"@MessageID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.CoreMessaging_Messages", " "),  new Array(1,"WHERE  [MessageID] = @MessageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteMessageAttachment]", " "),  new Array(1,"@MessageAttachmentID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.CoreMessaging_MessageAttachments", " "),  new Array(1,"WHERE  [MessageAttachmentID] = @MessageAttachmentID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteMessageRecipient]", " "),  new Array(1,"@RecipientID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.CoreMessaging_MessageRecipients", " "),  new Array(1,"WHERE  [RecipientID] = @RecipientID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteMessageRecipientByMessageAndUser]", " "),  new Array(1,"@MessageID int,", " "),  new Array(1,"@UserID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM dbo.[CoreMessaging_MessageRecipients]", " "),  new Array(1,"WHERE [MessageID] = @MessageID AND [UserID] = @UserID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteNotification]", " "),  new Array(1,"@NotificationID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages]", " "),  new Array(1,"WHERE [MessageID] = @NotificationID AND [NotificationTypeID] IS NOT NULL", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteNotificationType]", " "),  new Array(1,"@NotificationTypeID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- First delete related data", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages]", " "),  new Array(1,"WHERE [NotificationTypeID] = @NotificationTypeID", " "),  new Array(1,"", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM dbo.[CoreMessaging_NotificationTypeActions]", " "),  new Array(1,"WHERE [NotificationTypeID] = @NotificationTypeID", " "),  new Array(1,"", " "),  new Array(1,"-- Finally delete the Notification type", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM dbo.[CoreMessaging_NotificationTypes]", " "),  new Array(1,"WHERE [NotificationTypeID] = @NotificationTypeID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteNotificationTypeAction]", " "),  new Array(1,"@NotificationTypeActionID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM dbo.[CoreMessaging_NotificationTypeActions]", " "),  new Array(1,"WHERE [NotificationTypeActionID] = @NotificationTypeActionID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteSubscription]", " "),  new Array(1,"@SubscriptionId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[CoreMessaging_Subscriptions] WHERE [SubscriptionId] = @SubscriptionId", " "),  new Array(1,"", " "),  new Array(1,"IF @@ROWCOUNT <> 0", " "),  new Array(1,"SELECT 0 AS [ResultStatus]", " "),  new Array(1,"ELSE", " "),  new Array(1,"SELECT -1 AS [ResultStatus]", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteSubscriptionsByObjectKey]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@ObjectKey NVARCHAR(255)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM dbo.CoreMessaging_Subscriptions", " "),  new Array(1,"WHERE PortalId = @PortalId", " "),  new Array(1,"AND ObjectKey = @ObjectKey", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteSubscriptionType]", " "),  new Array(1,"@SubscriptionTypeId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[CoreMessaging_SubscriptionTypes] WHERE [SubscriptionTypeId] = @SubscriptionTypeId", " "),  new Array(1,"", " "),  new Array(1,"IF @@ROWCOUNT <> 0", " "),  new Array(1,"SELECT 0 AS [ResultStatus]", " "),  new Array(1,"ELSE", " "),  new Array(1,"SELECT -1 AS [ResultStatus]", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteUserFromConversation]", " "),  new Array(1,"@ConversationID INT,", " "),  new Array(1,"@UserID INT", " "),  new Array(1,"AS", " "),  new Array(1,"--Remove the User from recipients list", " "),  new Array(1,"DELETE FROM dbo.[CoreMessaging_MessageRecipients]", " "),  new Array(1,"WHERE [UserID] = @UserID", " "),  new Array(1,"AND MessageID IN (SELECT MessageID FROM dbo.[CoreMessaging_Messages] WHERE ConversationID = @ConversationID)", " "),  new Array(1,"", " "),  new Array(1,"--Remove Messages which has no recipient", " "),  new Array(1,"DELETE FROM dbo.[CoreMessaging_Messages]", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages] m", " "),  new Array(1,"LEFT JOIN dbo.[CoreMessaging_MessageRecipients] mr on MR.MessageID = m.MessageID", " "),  new Array(1,"WHERE ConversationID = @ConversationID AND mr.MessageID IS NULL", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_DeleteUserNotifications]", " "),  new Array(1,"@UserId INT,", " "),  new Array(1,"@PortalId INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.CoreMessaging_Messages", " "),  new Array(1,"WHERE PortalId = @PortalId", " "),  new Array(1,"AND NotificationTypeID IS NOT NULL", " "),  new Array(1,"AND MessageID IN (SELECT MessageID FROM dbo.CoreMessaging_MessageRecipients WHERE UserID = @UserId)", " "),  new Array(1,"", " "),  new Array(1,"SELECT @@ROWCOUNT", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetArchiveBox]", " "),  new Array(1,"@UserID INT,", " "),  new Array(1,"@PortalID INT,", " "),  new Array(1,"@AfterMessageID INT,", " "),  new Array(1,"@NumberOfRecords INT,", " "),  new Array(1,"@SortField NVARCHAR(25) = \'CreatedOnDate\',", " "),  new Array(1,"@SortAscending BIT = 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,";WITH RollUpMessageIDs AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT MAX(m.MessageID) AS TopMessageID", " "),  new Array(1,"FROM dbo.[CoreMessaging_MessageRecipients] mr", " "),  new Array(1,"INNER JOIN dbo.[CoreMessaging_Messages] m ON mr.MessageID = m.MessageID", " "),  new Array(1,"WHERE NotificationTypeID IS NULL AND PortalID = @PortalID AND MR.UserID = @UserID AND MR.Archived = 1", " "),  new Array(1,"GROUP BY ConversationID", " "),  new Array(1,"), ArchiveBox AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT DISTINCT m.[MessageID], [ConversationID], [Subject], convert(nvarchar(50), [Body]) AS Body,", " "),  new Array(1,"[To], [From], [ReplyAllAllowed], [SenderUserID],", " "),  new Array(1,"m.[CreatedByUserID], m.[CreatedOnDate],", " "),  new Array(1,"m.[LastModifiedByUserID], m.[LastModifiedOnDate],", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.[CoreMessaging_MessageAttachments] WHERE MessageID = m.MessageID) AS AttachmentCount,", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.[CoreMessaging_MessageRecipients] WHERE MessageID IN (SELECT MessageID FROM dbo.[CoreMessaging_Messages] WHERE ConversationID = m.ConversationID) AND UserID = @UserID AND [READ] = 0) AS NewThreadCount,", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.[CoreMessaging_MessageRecipients] WHERE MessageID IN (SELECT MessageID FROM dbo.[CoreMessaging_Messages] WHERE ConversationID = m.ConversationID) AND UserID = @UserID) AS ThreadCount,", " "),  new Array(1,"ROW_NUMBER() OVER(ORDER BY", " "),  new Array(1,"CASE WHEN @SortField = \'CreatedOnDate\' AND @SortAscending = 1 THEN m.[CreatedOnDate] END ASC,", " "),  new Array(1,"CASE WHEN @SortField = \'CreatedOnDate\' AND @SortAscending = 0 THEN m.[CreatedOnDate] END DESC,", " "),  new Array(1,"CASE WHEN @SortField = \'From\' AND @SortAscending = 1 THEN [From] END ASC,", " "),  new Array(1,"CASE WHEN @SortField = \'From\' AND @SortAscending = 0 THEN [From] END DESC,", " "),  new Array(1,"CASE WHEN @SortField = \'Subject\' AND @SortAscending = 1 THEN [Subject] END ASC,", " "),  new Array(1,"CASE WHEN @SortField = \'Subject\' AND @SortAscending = 0 THEN [Subject] END DESC", " "),  new Array(1,") AS RowNumber", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages] AS m", " "),  new Array(1,"WHERE m.MessageID IN (SELECT TopMessageID FROM RollUpMessageIDs)", " "),  new Array(1,")", " "),  new Array(1,"SELECT * FROM ArchiveBox", " "),  new Array(1,"WHERE (@AfterMessageID > 0 AND RowNumber BETWEEN (SELECT RowNumber + 1 FROM ArchiveBox WHERE [MessageID] = @AfterMessageID) AND (SELECT RowNumber + @NumberOfRecords FROM ArchiveBox WHERE [MessageID] = @AfterMessageID)) OR", " "),  new Array(1,"(@AfterMessageID = -1 AND RowNumber BETWEEN 1 AND @NumberOfRecords)", " "),  new Array(1,"ORDER BY RowNumber ASC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetLastSentMessage]", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@PortalID INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT TOP 1 *", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages]", " "),  new Array(1,"WHERE SenderUserID = @UserID", " "),  new Array(1,"AND PortalID=@PortalID", " "),  new Array(1,"AND NotificationTypeID IS NULL", " "),  new Array(1,"ORDER BY MessageID DESC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetMessage]", " "),  new Array(1,"@MessageID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT [MessageID], [PortalId], [NotificationTypeID], [To], [From], [Subject], [Body], [ConversationID], [ReplyAllAllowed], [SenderUserID], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate]", " "),  new Array(1,"FROM   dbo.[CoreMessaging_Messages]", " "),  new Array(1,"WHERE  [MessageID] = @MessageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetMessageAttachment]", " "),  new Array(1,"@MessageAttachmentID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT [MessageID], [FileID], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate]", " "),  new Array(1,"FROM   dbo.CoreMessaging_MessageAttachments", " "),  new Array(1,"WHERE  [MessageAttachmentID] = @MessageAttachmentID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetMessageAttachmentsByMessage]", " "),  new Array(1,"@MessageID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT [MessageID], [FileID], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate]", " "),  new Array(1,"FROM   dbo.CoreMessaging_MessageAttachments", " "),  new Array(1,"WHERE  [MessageID] = @MessageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetMessageConversations]", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@AfterMessageID int,", " "),  new Array(1,"@NumberOfRecords int,", " "),  new Array(1,"@SortField nvarchar(25) = \'CreatedOnDate\',", " "),  new Array(1,"@SortAscending bit = 0,", " "),  new Array(1,"@Read bit = 0,", " "),  new Array(1,"@Archived bit = 0,", " "),  new Array(1,"@SentOnly bit = 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--Get the top message for each conversation", " "),  new Array(1,";WITH RollUpMessageIDs AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT MAX(m.MessageID) AS TopMessageID", " "),  new Array(1,"FROM dbo.[CoreMessaging_MessageRecipients] mr", " "),  new Array(1,"INNER JOIN dbo.[CoreMessaging_Messages] m ON mr.MessageID = m.MessageID", " "),  new Array(1,"WHERE ((Archived = @Archived) or (@Archived is null AND [Archived] IS NOT null))", " "),  new Array(1,"AND (([Read] = @Read) or (@Read is null AND [READ] IS NOT null))", " "),  new Array(1,"AND ((@SentOnly = 1 AND SenderUserID = @UserID) or (@SentOnly is NULL AND UserID = @UserID) or (@SentOnly = 0 AND UserID = @UserID))", " "),  new Array(1,"AND m.NotificationTypeID IS NULL AND m.PortalID=@PortalID", " "),  new Array(1,"GROUP BY ConversationID", " "),  new Array(1,")", " "),  new Array(1,",Conversations  AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT  DISTINCT [MessageID], [ConversationID], [Subject], convert(nvarchar(50), [Body]) AS Body,", " "),  new Array(1,"[To], [From], [ReplyAllAllowed], [SenderUserID],", " "),  new Array(1,"[CreatedByUserID], [CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID], [LastModifiedOnDate],", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.CoreMessaging_MessageAttachments WHERE MessageID IN (SELECT MessageID FROM dbo.CoreMessaging_Messages WHERE ConversationID = m.ConversationID)) AS AttachmentCount,", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.CoreMessaging_MessageRecipients WHERE MessageID IN (SELECT MessageID FROM dbo.CoreMessaging_Messages WHERE ConversationID = m.ConversationID) AND UserID = @UserID AND [READ] = 0) AS NewThreadCount,", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.CoreMessaging_MessageRecipients WHERE MessageID IN (SELECT MessageID FROM dbo.CoreMessaging_Messages WHERE ConversationID = m.ConversationID) AND UserID = @UserID) AS ThreadCount,", " "),  new Array(1,"ROW_NUMBER() OVER(ORDER BY", " "),  new Array(1,"CASE WHEN @SortField = \'CreatedOnDate\' AND @SortAscending = 1 THEN [CreatedOnDate] END ASC,", " "),  new Array(1,"CASE WHEN @SortField = \'CreatedOnDate\' AND @SortAscending = 0 THEN [CreatedOnDate] END DESC,", " "),  new Array(1,"CASE WHEN @SortField = \'From\' AND @SortAscending = 1 THEN [From] END ASC,", " "),  new Array(1,"CASE WHEN @SortField = \'From\' AND @SortAscending = 0 THEN [From] END DESC,", " "),  new Array(1,"CASE WHEN @SortField = \'Subject\' AND @SortAscending = 1 THEN [Subject] END ASC,", " "),  new Array(1,"CASE WHEN @SortField = \'Subject\' AND @SortAscending = 0 THEN [Subject] END DESC", " "),  new Array(1,") AS RowNumber", " "),  new Array(1,"FROM dbo.CoreMessaging_Messages AS m", " "),  new Array(1,"WHERE MessageID IN (SELECT TopMessageID FROM RollUpMessageIDs)", " "),  new Array(1,")", " "),  new Array(1,"SELECT * FROM Conversations", " "),  new Array(1,"WHERE (@AfterMessageID > 0 AND RowNumber BETWEEN (SELECT RowNumber + 1 FROM Conversations WHERE [MessageID] = @AfterMessageID) AND (SELECT RowNumber + @NumberOfRecords FROM Conversations WHERE [MessageID] = @AfterMessageID)) OR", " "),  new Array(1,"(@AfterMessageID = -1 AND RowNumber BETWEEN 1 AND @NumberOfRecords)", " "),  new Array(1,"ORDER BY RowNumber ASC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetMessageRecipient]", " "),  new Array(1,"@RecipientID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT [RecipientID], [MessageID], [UserID], [Read], [Archived], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate]", " "),  new Array(1,"FROM   dbo.CoreMessaging_MessageRecipients", " "),  new Array(1,"WHERE  [RecipientID] = @RecipientID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetMessageRecipientsByMessage]", " "),  new Array(1,"@MessageID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT [RecipientID], [MessageID], [UserID], [Read], [Archived], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate]", " "),  new Array(1,"FROM   dbo.CoreMessaging_MessageRecipients", " "),  new Array(1,"WHERE  [MessageID] = @MessageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetMessageRecipientsByMessageAndUser]", " "),  new Array(1,"@MessageID INT,", " "),  new Array(1,"@UserID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT [RecipientID], [MessageID], [UserID], [Read], [Archived], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate]", " "),  new Array(1,"FROM   dbo.CoreMessaging_MessageRecipients", " "),  new Array(1,"WHERE  [MessageID] = @MessageID", " "),  new Array(1,"AND   [UserID] = @UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetMessageRecipientsByUser]", " "),  new Array(1,"@UserID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT [RecipientID], [MessageID], [UserID], [Read], [Archived], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate]", " "),  new Array(1,"FROM   dbo.CoreMessaging_MessageRecipients", " "),  new Array(1,"WHERE  [UserID] = @UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetMessagesBySender]", " "),  new Array(1,"@SenderUserID INT,", " "),  new Array(1,"@PortalID INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT [MessageID], [To], [From], [Subject], [Body], [ConversationID], [ReplyAllAllowed], [SenderUserID], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate]", " "),  new Array(1,"FROM   dbo.[CoreMessaging_Messages]", " "),  new Array(1,"WHERE  [SenderUserID] = @SenderUserID AND [PortalID] = @PortalID", " "),  new Array(1,"AND [NotificationTypeID] IS NULL", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetMessageThread]", " "),  new Array(1,"@ConversationID int,", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@AfterMessageID int,", " "),  new Array(1,"@NumberOfRecords int,", " "),  new Array(1,"@SortField nvarchar(25) = \'CreatedOnDate\',", " "),  new Array(1,"@SortAscending bit = 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--Cannot return thread if user was not a recipient", " "),  new Array(1,"IF NOT EXISTS (SELECT MR.RecipientID FROM dbo.[CoreMessaging_MessageRecipients] MR JOIN dbo.[CoreMessaging_Messages] M ON MR.MessageID = M.MessageID WHERE MR.UserID = @UserID AND M.NotificationTypeID IS NULL) BEGIN", " "),  new Array(1,"SELECT 0", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,";WITH inboxItems  AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT  DISTINCT [RecipientID], [Subject], [Body], [SenderUserID],", " "),  new Array(1,"[Read], [Archived], [UserID], [To], [From], [ReplyAllAllowed], [ConversationID],", " "),  new Array(1,"m.[MessageID],", " "),  new Array(1,"m.[CreatedByUserID], m.[CreatedOnDate],", " "),  new Array(1,"m.[LastModifiedByUserID], m.[LastModifiedOnDate],", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.CoreMessaging_MessageAttachments WHERE MessageID = mr.MessageID) AS AttachmentCount,", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.CoreMessaging_MessageRecipients WHERE MessageID IN (SELECT MessageID FROM dbo.CoreMessaging_Messages WHERE ConversationID = m.ConversationID) AND UserID = @UserID AND [READ] = 0) AS NewThreadCount,", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.CoreMessaging_MessageRecipients WHERE MessageID IN (SELECT MessageID FROM dbo.CoreMessaging_Messages WHERE ConversationID = m.ConversationID) AND UserID = @UserID) AS ThreadCount,", " "),  new Array(1,"ROW_NUMBER() OVER(ORDER BY", " "),  new Array(1,"CASE WHEN @SortField = \'CreatedOnDate\' AND @SortAscending = 1 THEN m.[CreatedOnDate] END ASC,", " "),  new Array(1,"CASE WHEN @SortField = \'CreatedOnDate\' AND @SortAscending = 0 THEN m.[CreatedOnDate] END DESC,", " "),  new Array(1,"CASE WHEN @SortField = \'From\' AND @SortAscending = 1 THEN [From] END ASC,", " "),  new Array(1,"CASE WHEN @SortField = \'From\' AND @SortAscending = 0 THEN [From] END DESC,", " "),  new Array(1,"CASE WHEN @SortField = \'Subject\' AND @SortAscending = 1 THEN [Subject] END ASC,", " "),  new Array(1,"CASE WHEN @SortField = \'Subject\' AND @SortAscending = 0 THEN [Subject] END DESC", " "),  new Array(1,") AS RowNumber", " "),  new Array(1,"FROM	dbo.CoreMessaging_MessageRecipients AS mr", " "),  new Array(1,"INNER JOIN dbo.CoreMessaging_Messages AS m ON mr.MessageID = m.MessageID", " "),  new Array(1,"WHERE mr.UserID = @UserID", " "),  new Array(1,"AND ConversationID = @ConversationID", " "),  new Array(1,")", " "),  new Array(1,"SELECT * FROM inboxItems", " "),  new Array(1,"WHERE (@AfterMessageID > 0 AND RowNumber BETWEEN (SELECT RowNumber + 1 FROM inboxItems WHERE [MessageID] = @AfterMessageID) AND (SELECT RowNumber + @NumberOfRecords FROM inboxItems WHERE [MessageID] = @AfterMessageID)) OR", " "),  new Array(1,"(@AfterMessageID = -1 AND RowNumber BETWEEN 1 AND @NumberOfRecords)", " "),  new Array(1,"ORDER BY RowNumber ASC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetNextMessagesForDigestDispatch]", " "),  new Array(1,"@Frequency INT ,", " "),  new Array(1,"@SchedulerInstance UNIQUEIDENTIFIER ,", " "),  new Array(1,"@BatchSize INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.[CoreMessaging_MessageRecipients]", " "),  new Array(1,"SET     EmailSchedulerInstance = @SchedulerInstance", " "),  new Array(1,"WHERE   RecipientID IN (", " "),  new Array(1,"SELECT", " "),  new Array(1,"RecipientID", " "),  new Array(1,"FROM    dbo.[vw_MessagesForDispatch] MFD", " "),  new Array(1,"WHERE UserID IN (", " "),  new Array(1,"SELECT TOP ( @BatchSize  )", " "),  new Array(1,"UserID", " "),  new Array(1,"FROM    dbo.[vw_MessagesForDispatch] MFD", " "),  new Array(1,"WHERE   EmailSent = 0", " "),  new Array(1,"AND [Read] = 0", " "),  new Array(1,"AND Archived = 0", " "),  new Array(1,"AND EmailFrequency = @Frequency", " "),  new Array(1,"AND ( ( EmailSchedulerInstance IS NULL", " "),  new Array(1,"AND EmailSentDate IS NULL", " "),  new Array(1,")", " "),  new Array(1,"OR EmailSchedulerInstance = \'00000000-0000-0000-0000-000000000000\'", " "),  new Array(1,")", " "),  new Array(1,"GROUP BY UserID", " "),  new Array(1,"ORDER BY UserID", " "),  new Array(1,")", " "),  new Array(1,"AND EmailSent = 0", " "),  new Array(1,"AND [Read] = 0", " "),  new Array(1,"AND Archived = 0", " "),  new Array(1,"AND EmailFrequency = @Frequency", " "),  new Array(1,"AND ( ( EmailSchedulerInstance IS NULL", " "),  new Array(1,"AND EmailSentDate IS NULL", " "),  new Array(1,")", " "),  new Array(1,"OR EmailSchedulerInstance = \'00000000-0000-0000-0000-000000000000\'", " "),  new Array(1,"))", " "),  new Array(1,"", " "),  new Array(1,"SELECT  *", " "),  new Array(1,"FROM    dbo.[CoreMessaging_MessageRecipients] CMR", " "),  new Array(1,"INNER JOIN dbo.[CoreMessaging_Messages] CMM ON CMR.MessageID = CMM.MessageID", " "),  new Array(1,"WHERE   EmailSent = 0", " "),  new Array(1,"AND EmailSentDate IS NULL", " "),  new Array(1,"AND [Read] = 0", " "),  new Array(1,"AND Archived = 0", " "),  new Array(1,"AND ( EmailSchedulerInstance = @SchedulerInstance )", " "),  new Array(1,"ORDER BY UserID ,", " "),  new Array(1,"CMM.CreatedOnDate DESC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetNextMessagesForInstantDispatch]", " "),  new Array(1,"@SchedulerInstance UNIQUEIDENTIFIER ,", " "),  new Array(1,"@BatchSize INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.[CoreMessaging_MessageRecipients]", " "),  new Array(1,"SET     EmailSchedulerInstance = @SchedulerInstance", " "),  new Array(1,"WHERE   RecipientID IN (", " "),  new Array(1,"SELECT TOP ( @BatchSize )", " "),  new Array(1,"RecipientID", " "),  new Array(1,"FROM    dbo.[vw_MessagesForDispatch] MFD", " "),  new Array(1,"WHERE   EmailSent = 0", " "),  new Array(1,"AND [Read] = 0", " "),  new Array(1,"AND Archived = 0", " "),  new Array(1,"AND EmailFrequency = 0", " "),  new Array(1,"AND ( ( EmailSchedulerInstance IS NULL", " "),  new Array(1,"AND EmailSentDate IS NULL", " "),  new Array(1,")", " "),  new Array(1,"OR EmailSchedulerInstance = \'00000000-0000-0000-0000-000000000000\'", " "),  new Array(1,")", " "),  new Array(1,"ORDER BY MFD.CreatedOnDate DESC ,", " "),  new Array(1,"UserID )", " "),  new Array(1,"", " "),  new Array(1,"SELECT  *", " "),  new Array(1,"FROM    dbo.[CoreMessaging_MessageRecipients] CMR", " "),  new Array(1,"INNER JOIN dbo.[CoreMessaging_Messages] CMM ON CMR.MessageID = CMM.MessageID", " "),  new Array(1,"WHERE   EmailSent = 0", " "),  new Array(1,"AND EmailSentDate IS NULL", " "),  new Array(1,"AND [Read] = 0", " "),  new Array(1,"AND Archived = 0", " "),  new Array(1,"AND ( EmailSchedulerInstance = @SchedulerInstance )", " "),  new Array(1,"ORDER BY UserID ,", " "),  new Array(1,"CMM.CreatedOnDate DESC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetNotification]", " "),  new Array(1,"@NotificationId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"M.[MessageID],", " "),  new Array(1,"M.[NotificationTypeId],", " "),  new Array(1,"M.[To],", " "),  new Array(1,"M.[From],", " "),  new Array(1,"M.[Subject],", " "),  new Array(1,"M.[Body],", " "),  new Array(1,"M.[SenderUserID],", " "),  new Array(1,"M.[ExpirationDate],", " "),  new Array(1,"M.[IncludeDismissAction],", " "),  new Array(1,"M.[CreatedByUserID],", " "),  new Array(1,"M.[CreatedOnDate],", " "),  new Array(1,"M.[LastModifiedByUserID],", " "),  new Array(1,"M.[LastModifiedOnDate],", " "),  new Array(1,"M.[Context]", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages] AS M", " "),  new Array(1,"WHERE [NotificationTypeId] IS NOT NULL", " "),  new Array(1,"AND M.MessageID = @NotificationId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetNotificationByContext]", " "),  new Array(1,"@notificationTypeId int,", " "),  new Array(1,"@Context nvarchar(200)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"M.[MessageID],", " "),  new Array(1,"M.[NotificationTypeId],", " "),  new Array(1,"M.[To],", " "),  new Array(1,"M.[From],", " "),  new Array(1,"M.[Subject],", " "),  new Array(1,"M.[Body],", " "),  new Array(1,"M.[SenderUserID],", " "),  new Array(1,"M.[ExpirationDate],", " "),  new Array(1,"M.[IncludeDismissAction],", " "),  new Array(1,"M.[CreatedByUserID],", " "),  new Array(1,"M.[CreatedOnDate],", " "),  new Array(1,"M.[LastModifiedByUserID],", " "),  new Array(1,"M.[LastModifiedOnDate],", " "),  new Array(1,"M.[Context]", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages] AS M", " "),  new Array(1,"WHERE [NotificationTypeId] IS NOT NULL", " "),  new Array(1,"AND M.NotificationTypeId = @notificationTypeId", " "),  new Array(1,"AND M.Context = @context", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetNotifications]", " "),  new Array(1,"@UserID              Int,", " "),  new Array(1,"@PortalID            Int,", " "),  new Array(1,"@AfterNotificationID Int,", " "),  new Array(1,"@NumberOfRecords     Int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--Get the top message for each conversation", " "),  new Array(1,"SELECT TOP(@NumberOfRecords)", " "),  new Array(1,"M.[MessageID],", " "),  new Array(1,"M.[NotificationTypeId],", " "),  new Array(1,"M.[To],", " "),  new Array(1,"M.[From],", " "),  new Array(1,"M.[Subject],", " "),  new Array(1,"M.[Body],", " "),  new Array(1,"M.[SenderUserID],", " "),  new Array(1,"M.[ExpirationDate],", " "),  new Array(1,"M.[IncludeDismissAction],", " "),  new Array(1,"M.[CreatedByUserID],", " "),  new Array(1,"M.[CreatedOnDate],", " "),  new Array(1,"M.[LastModifiedByUserID],", " "),  new Array(1,"M.[LastModifiedOnDate],", " "),  new Array(1,"M.[Context],", " "),  new Array(1,"ROW_NUMBER() OVER(ORDER BY M.MessageId DESC) AS RowNumber", " "),  new Array(1,"FROM dbo.[CoreMessaging_Messages]       AS M", " "),  new Array(1,"JOIN dbo.[CoreMessaging_MessageRecipients] MR", " "),  new Array(1,"ON (M.[MessageID] = MR.[MessageID])", " "),  new Array(1,"WHERE ([NotificationTypeId] IS NOT NULL)", " "),  new Array(1,"AND (MR.[UserID]  = @UserID)", " "),  new Array(1,"AND (M.[PortalID] = @PortalID)", " "),  new Array(1,"AND (ISNull(M.[ExpirationDate], GETUTCDATE()) >= GETUTCDATE())", " "),  new Array(1,"AND (((@AfterNotificationID IS NULL OR @AfterNotificationID = -1) AND M.[MessageID] > -1) OR (@AfterNotificationID > -1 AND M.[MessageID] < @AfterNotificationID))", " "),  new Array(1,"ORDER BY RowNumber ASC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetNotificationType]", " "),  new Array(1,"@NotificationTypeID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT [NotificationTypeID], [Name], [Description], [TTL], [DesktopModuleId], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate], [IsTask]", " "),  new Array(1,"FROM dbo.[CoreMessaging_NotificationTypes]", " "),  new Array(1,"WHERE [NotificationTypeID] = @NotificationTypeID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetNotificationTypeAction]", " "),  new Array(1,"@NotificationTypeActionID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT [NotificationTypeActionID], [NotificationTypeID], [NameResourceKey], [DescriptionResourceKey], [ConfirmResourceKey], [Order], [APICall], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate]", " "),  new Array(1,"FROM dbo.[CoreMessaging_NotificationTypeActions]", " "),  new Array(1,"WHERE [NotificationTypeActionID] = @NotificationTypeActionID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetNotificationTypeActionByName]", " "),  new Array(1,"@NotificationTypeID int,", " "),  new Array(1,"@NameResourceKey nvarchar(100)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT [NotificationTypeActionID], [NotificationTypeID], [NameResourceKey], [DescriptionResourceKey], [ConfirmResourceKey], [Order], [APICall], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate]", " "),  new Array(1,"FROM dbo.[CoreMessaging_NotificationTypeActions]", " "),  new Array(1,"WHERE [NotificationTypeID] = @NotificationTypeID AND [NameResourceKey] LIKE @NameResourceKey", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetNotificationTypeActions]", " "),  new Array(1,"@NotificationTypeID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT [NotificationTypeActionID], [NotificationTypeID], [NameResourceKey], [DescriptionResourceKey], [ConfirmResourceKey], [Order], [APICall], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate]", " "),  new Array(1,"FROM dbo.[CoreMessaging_NotificationTypeActions]", " "),  new Array(1,"WHERE [NotificationTypeID] = @NotificationTypeID", " "),  new Array(1,"ORDER BY [Order]", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetNotificationTypeByName]", " "),  new Array(1,"@Name nvarchar(100)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT [NotificationTypeID], [Name], [Description], [TTL], [DesktopModuleId], [CreatedByUserID], [CreatedOnDate], [LastModifiedByUserID], [LastModifiedOnDate], [IsTask]", " "),  new Array(1,"FROM dbo.[CoreMessaging_NotificationTypes]", " "),  new Array(1,"WHERE [Name] LIKE @Name", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetSentBox]", " "),  new Array(1,"@UserID INT,", " "),  new Array(1,"@PortalID INT,", " "),  new Array(1,"@AfterMessageId INT,", " "),  new Array(1,"@NumberOfRecords INT,", " "),  new Array(1,"@SortField NVARCHAR(25) = \'CreatedOnDate\',", " "),  new Array(1,"@SortAscending BIT = 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,";WITH RollUpMessageIDs AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT MAX(m.MessageID) AS TopMessageID", " "),  new Array(1,"FROM dbo.[CoreMessaging_MessageRecipients] mr", " "),  new Array(1,"INNER JOIN dbo.[CoreMessaging_Messages] m ON mr.MessageID = m.MessageID AND mr.UserID = m.SenderUserID --make sure sender haven\'t delete the message.", " "),  new Array(1,"WHERE SenderUserID = @UserID AND NotificationTypeID IS NULL AND PortalID = @PortalID", " "),  new Array(1,"GROUP BY ConversationID", " "),  new Array(1,"), SentBox AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT DISTINCT m.[MessageID], [ConversationID], [Subject], CONVERT(NVARCHAR(50), [Body]) AS Body,", " "),  new Array(1,"[To], [From], [ReplyAllAllowed], [SenderUserID],", " "),  new Array(1,"m.[CreatedByUserID], m.[CreatedOnDate],", " "),  new Array(1,"m.[LastModifiedByUserID], m.[LastModifiedOnDate],", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.CoreMessaging_MessageAttachments WHERE MessageID = m.MessageID) AS AttachmentCount,", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.CoreMessaging_MessageRecipients WHERE MessageID IN (SELECT MessageID FROM dbo.CoreMessaging_Messages WHERE ConversationID = m.ConversationID) AND UserID = @UserID AND [READ] = 0) AS NewThreadCount,", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.CoreMessaging_MessageRecipients WHERE MessageID IN (SELECT MessageID FROM dbo.CoreMessaging_Messages WHERE ConversationID = m.ConversationID) AND UserID = @UserID) AS ThreadCount,", " "),  new Array(1,"ROW_NUMBER() OVER(ORDER BY", " "),  new Array(1,"CASE WHEN @SortField = \'CreatedOnDate\' AND @SortAscending = 1 THEN m.[CreatedOnDate] END ASC,", " "),  new Array(1,"CASE WHEN @SortField = \'CreatedOnDate\' AND @SortAscending = 0 THEN m.[CreatedOnDate] END DESC,", " "),  new Array(1,"CASE WHEN @SortField = \'From\' AND @SortAscending = 1 THEN [From] END ASC,", " "),  new Array(1,"CASE WHEN @SortField = \'From\' AND @SortAscending = 0 THEN [From] END DESC,", " "),  new Array(1,"CASE WHEN @SortField = \'Subject\' AND @SortAscending = 1 THEN [Subject] END ASC,", " "),  new Array(1,"CASE WHEN @SortField = \'Subject\' AND @SortAscending = 0 THEN [Subject] END DESC", " "),  new Array(1,") AS RowNumber", " "),  new Array(1,"FROM dbo.CoreMessaging_Messages AS m", " "),  new Array(1,"WHERE m.MessageID IN (SELECT TopMessageID FROM RollUpMessageIDs)", " "),  new Array(1,")", " "),  new Array(1,"SELECT * FROM SentBox", " "),  new Array(1,"WHERE (@AfterMessageID > 0 AND RowNumber BETWEEN (SELECT RowNumber + 1 FROM SentBox WHERE [MessageID] = @AfterMessageID) AND (SELECT RowNumber + @NumberOfRecords FROM SentBox WHERE [MessageID] = @AfterMessageID)) OR", " "),  new Array(1,"(@AfterMessageID = -1 AND RowNumber BETWEEN 1 AND @NumberOfRecords)", " "),  new Array(1,"ORDER BY RowNumber ASC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetSubscriptionsByContent]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@SubscriptionTypeID int,", " "),  new Array(1,"@ObjectKey NVARCHAR(255)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[CoreMessaging_Subscriptions]", " "),  new Array(1,"WHERE", " "),  new Array(1,"(( @PortalId is null and PortalId is null) or (PortalId = @PortalId))", " "),  new Array(1,"AND SubscriptionTypeID = @SubscriptionTypeID", " "),  new Array(1,"AND ObjectKey = @ObjectKey", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetSubscriptionsByUser]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@UserId int,", " "),  new Array(1,"@SubscriptionTypeID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[CoreMessaging_Subscriptions]", " "),  new Array(1,"WHERE", " "),  new Array(1,"(( @PortalId is null and PortalId is null) or (PortalId = @PortalId))", " "),  new Array(1,"AND UserId = @UserId", " "),  new Array(1,"AND (@SubscriptionTypeID IS NULL OR SubscriptionTypeID = @SubscriptionTypeID)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetSubscriptionTypes]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  *", " "),  new Array(1,"FROM    dbo.CoreMessaging_SubscriptionTypes", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetToasts]", " "),  new Array(1,"@UserId INT", " "),  new Array(1,",@PortalId INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT DISTINCT m.*", " "),  new Array(1,"FROM dbo.[CoreMessaging_MessageRecipients] mr", " "),  new Array(1,"INNER JOIN dbo.[CoreMessaging_Messages] m", " "),  new Array(1,"ON (mr.MessageID = m.MessageID)", " "),  new Array(1,"WHERE mr.UserID = @UserID", " "),  new Array(1,"AND m.PortalID = @PortalID", " "),  new Array(1,"--Added to allow a single index to cover both this and the other two messaging procs:", " "),  new Array(1,"--dbo.[CoreMessaging_CountNotifications]", " "),  new Array(1,"--CoreMessaging_CountNewThreads", " "),  new Array(1,"AND mr.[Read] in (0,1)", " "),  new Array(1,"AND mr.SendToast = 1", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_GetUserPreference]", " "),  new Array(1,"@PortalId INT ,", " "),  new Array(1,"@UserId INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT PortalId, UserId, MessagesEmailFrequency, NotificationsEmailFrequency", " "),  new Array(1,"FROM dbo.CoreMessaging_UserPreferences UP", " "),  new Array(1,"WHERE	UP.PortalId = @PortalId", " "),  new Array(1,"AND", " "),  new Array(1,"UP.UserId = @UserId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_IsSubscribed]", " "),  new Array(1,"@PortalId INT ,", " "),  new Array(1,"@UserId INT ,", " "),  new Array(1,"@SubscriptionTypeId INT ,", " "),  new Array(1,"@ObjectKey NVARCHAR(255) ,", " "),  new Array(1,"@ModuleId INT ,", " "),  new Array(1,"@TabId INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT  TOP 1 *", " "),  new Array(1,"FROM    dbo.CoreMessaging_Subscriptions", " "),  new Array(1,"WHERE   UserId = @UserId", " "),  new Array(1,"AND (( @PortalId is null and PortalId is null) or (PortalId = @PortalId))", " "),  new Array(1,"AND SubscriptionTypeId = @SubscriptionTypeID", " "),  new Array(1,"AND ObjectKey = @ObjectKey", " "),  new Array(1,"AND ((@ModuleId is null and ModuleId is null ) or (ModuleId = @ModuleId))", " "),  new Array(1,"AND ((@TabId is null and TabId is null ) or (TabId = @TabId))", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_IsToastPending]", " "),  new Array(1,"@NotificationId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT Sendtoast", " "),  new Array(1,"FROM dbo.[CoreMessaging_MessageRecipients]", " "),  new Array(1,"WHERE MessageId = @NotificationId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_MarkMessageAsDispatched]", " "),  new Array(1,"@MessageId int,", " "),  new Array(1,"@RecipientId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"Update dbo.CoreMessaging_MessageRecipients set EmailSent = 1, EmailSentDate =GETDATE()   where MessageID =@MessageId AND RecipientId=@RecipientId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_MarkMessageAsSent]", " "),  new Array(1,"@MessageId int,", " "),  new Array(1,"@RecipientId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"Update dbo.CoreMessaging_MessageRecipients set EmailSent = 1  where MessageID =@MessageId AND RecipientId=@RecipientId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_MarkReadyForToast]", " "),  new Array(1,"@MessageId int,", " "),  new Array(1,"@UserId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[CoreMessaging_MessageRecipients]", " "),  new Array(1,"SET Sendtoast = 1,", " "),  new Array(1,"[LastModifiedOnDate] = GETDATE()", " "),  new Array(1,"WHERE MessageId = @MessageId", " "),  new Array(1,"AND UserId = @UserId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_MarkToastSent]", " "),  new Array(1,"@MessageId int,", " "),  new Array(1,"@UserId INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.CoreMessaging_MessageRecipients", " "),  new Array(1,"SET Sendtoast = 0,", " "),  new Array(1,"[LastModifiedOnDate] = GETDATE()", " "),  new Array(1,"WHERE MessageId = @MessageId", " "),  new Array(1,"AND UserId = @UserId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_SaveMessage]", " "),  new Array(1,"@MessageID INT,", " "),  new Array(1,"@PortalID INT,", " "),  new Array(1,"@To nvarchar(2000),", " "),  new Array(1,"@From nvarchar(200),", " "),  new Array(1,"@Subject nvarchar(400),", " "),  new Array(1,"@Body nvarchar(max),", " "),  new Array(1,"@ConversationID int,", " "),  new Array(1,"@ReplyAllAllowed bit,", " "),  new Array(1,"@SenderUserID int,", " "),  new Array(1,"@CreateUpdateUserID INT", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"IF ( @MessageID = -1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT dbo.CoreMessaging_Messages(", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[To],", " "),  new Array(1,"[From],", " "),  new Array(1,"[Subject],", " "),  new Array(1,"[Body],", " "),  new Array(1,"[ConversationID],", " "),  new Array(1,"[ReplyAllAllowed],", " "),  new Array(1,"[SenderUserID],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES  (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@To,", " "),  new Array(1,"@From,", " "),  new Array(1,"@Subject,", " "),  new Array(1,"@Body,", " "),  new Array(1,"NULL,", " "),  new Array(1,"@ReplyAllAllowed,", " "),  new Array(1,"@SenderUserID,", " "),  new Array(1,"@CreateUpdateUserID , -- CreatedBy - int", " "),  new Array(1,"GETUTCDATE(), -- CreatedOn - datetime", " "),  new Array(1,"@CreateUpdateUserID , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @MessageID = SCOPE_IDENTITY()", " "),  new Array(1,"UPDATE  dbo.CoreMessaging_Messages SET [ConversationID] = @MessageID WHERE [MessageID] = @MessageID", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.CoreMessaging_Messages", " "),  new Array(1,"SET     [To] = @To,", " "),  new Array(1,"[From] = @From,", " "),  new Array(1,"[Subject] = @Subject,", " "),  new Array(1,"[Body] = @Body,", " "),  new Array(1,"[ConversationID] = @ConversationID,", " "),  new Array(1,"[ReplyAllAllowed] = @ReplyAllAllowed,", " "),  new Array(1,"[SenderUserID] = SenderUserID,", " "),  new Array(1,"LastModifiedByUserID = @CreateUpdateUserID,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE   MessageID = @MessageID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @MessageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_SaveMessageAttachment]", " "),  new Array(1,"@MessageAttachmentID int,", " "),  new Array(1,"@MessageID int,", " "),  new Array(1,"@FileID int,", " "),  new Array(1,"@CreateUpdateUserID INT", " "),  new Array(1,"AS", " "),  new Array(1,"IF ( @MessageAttachmentID = -1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT dbo.CoreMessaging_MessageAttachments(", " "),  new Array(1,"[FileID],", " "),  new Array(1,"[MessageID],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES  (", " "),  new Array(1,"@FileID,", " "),  new Array(1,"@MessageID,", " "),  new Array(1,"@CreateUpdateUserID , -- CreatedBy - int", " "),  new Array(1,"GETDATE() , -- CreatedOn - datetime", " "),  new Array(1,"@CreateUpdateUserID , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @MessageAttachmentID = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.CoreMessaging_MessageAttachments", " "),  new Array(1,"SET     [FileID] = @FileID,", " "),  new Array(1,"[MessageID] = @MessageID,", " "),  new Array(1,"LastModifiedByUserID = @CreateUpdateUserID,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE   MessageAttachmentID = @MessageAttachmentID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @MessageAttachmentID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_SaveMessageRecipient]", " "),  new Array(1,"@RecipientID int,", " "),  new Array(1,"@MessageID int,", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@Read bit,", " "),  new Array(1,"@Archived bit,", " "),  new Array(1,"@CreateUpdateUserID INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF ( @RecipientID = -1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT dbo.CoreMessaging_MessageRecipients(", " "),  new Array(1,"[MessageID],", " "),  new Array(1,"[UserID],", " "),  new Array(1,"[Read],", " "),  new Array(1,"[Archived],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES  (", " "),  new Array(1,"@MessageID,", " "),  new Array(1,"@UserID,", " "),  new Array(1,"@Read,", " "),  new Array(1,"@Archived,", " "),  new Array(1,"@CreateUpdateUserID , -- CreatedBy - int", " "),  new Array(1,"GETDATE(), -- CreatedOn - datetime", " "),  new Array(1,"@CreateUpdateUserID , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @RecipientID = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.CoreMessaging_MessageRecipients", " "),  new Array(1,"SET     [MessageID] = @MessageID,", " "),  new Array(1,"[UserID] = @UserID,", " "),  new Array(1,"[Read] = @Read,", " "),  new Array(1,"[Archived] = @Archived,", " "),  new Array(1,"LastModifiedByUserID = @CreateUpdateUserID,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE   RecipientID = @RecipientID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @RecipientID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_SendNotification]", " "),  new Array(1,"@NotificationTypeID int,", " "),  new Array(1,"@PortalID INT,", " "),  new Array(1,"@To nvarchar(2000),", " "),  new Array(1,"@From nvarchar(200),", " "),  new Array(1,"@Subject nvarchar(400),", " "),  new Array(1,"@Body nvarchar(max),", " "),  new Array(1,"@SenderUserID int,", " "),  new Array(1,"@CreateUpdateUserID int,", " "),  new Array(1,"@ExpirationDate datetime,", " "),  new Array(1,"@IncludeDismissAction bit,", " "),  new Array(1,"@Context nvarchar(200)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT dbo.[CoreMessaging_Messages] (", " "),  new Array(1,"[NotificationTypeID],", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[To],", " "),  new Array(1,"[From],", " "),  new Array(1,"[Subject],", " "),  new Array(1,"[Body],", " "),  new Array(1,"[SenderUserID],", " "),  new Array(1,"[ExpirationDate],", " "),  new Array(1,"[IncludeDismissAction],", " "),  new Array(1,"[Context],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@NotificationTypeID,", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@To,", " "),  new Array(1,"@From,", " "),  new Array(1,"@Subject,", " "),  new Array(1,"@Body,", " "),  new Array(1,"@SenderUserID,", " "),  new Array(1,"@ExpirationDate,", " "),  new Array(1,"@IncludeDismissAction,", " "),  new Array(1,"@Context,", " "),  new Array(1,"@CreateUpdateUserID, -- CreatedBy", " "),  new Array(1,"GETUTCDATE(), -- CreatedOn", " "),  new Array(1,"@CreateUpdateUserID, -- LastModifiedBy", " "),  new Array(1,"GETDATE() -- LastModifiedOn", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT  SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_SetUserPreference]", " "),  new Array(1,"@PortalId INT ,", " "),  new Array(1,"@UserId INT,", " "),  new Array(1,"@MessagesEmailFrequency INT,", " "),  new Array(1,"@NotificationsEmailFrequency INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.CoreMessaging_UserPreferences", " "),  new Array(1,"SET MessagesEmailFrequency = @MessagesEmailFrequency", " "),  new Array(1,",NotificationsEmailFrequency = @NotificationsEmailFrequency", " "),  new Array(1,"WHERE PortalId = @PortalId", " "),  new Array(1,"AND UserId = @UserId", " "),  new Array(1,"", " "),  new Array(1,"IF @@ROWCOUNT = 0 BEGIN", " "),  new Array(1,"INSERT INTO dbo.CoreMessaging_UserPreferences (PortalId, UserId, MessagesEmailFrequency, NotificationsEmailFrequency)", " "),  new Array(1,"VALUES (@PortalId, @UserId, @MessagesEmailFrequency, @NotificationsEmailFrequency)", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_UpdateMessageArchivedStatus]", " "),  new Array(1,"@ConversationID int,", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@Archived bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[CoreMessaging_MessageRecipients]", " "),  new Array(1,"SET [Archived] = @Archived", " "),  new Array(1,"WHERE UserID = @UserID", " "),  new Array(1,"AND MessageID IN (SELECT MessageID FROM dbo.[CoreMessaging_Messages] WHERE ConversationID = @ConversationID)", " "),  new Array(1,"", " "),  new Array(1,"IF @Archived = 1 BEGIN", " "),  new Array(1,"-- If archiving, set also as read", " "),  new Array(1,"UPDATE dbo.[CoreMessaging_MessageRecipients]", " "),  new Array(1,"SET [Read] = 1", " "),  new Array(1,"WHERE [UserID] = @UserID", " "),  new Array(1,"AND MessageID IN (SELECT MessageID FROM dbo.[CoreMessaging_Messages] WHERE ConversationID = @ConversationID)", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_UpdateMessageReadStatus]", " "),  new Array(1,"@ConversationID int,", " "),  new Array(1,"@UserID          int,", " "),  new Array(1,"@Read			 bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[CoreMessaging_MessageRecipients] SET [Read]=@Read", " "),  new Array(1,"WHERE UserID = @UserID", " "),  new Array(1,"AND MessageID IN (SELECT MessageID FROM dbo.[CoreMessaging_Messages] WHERE ConversationID=@ConversationID)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CoreMessaging_UpdateSubscriptionDescription]", " "),  new Array(1,"@ObjectKey NVARCHAR(255),", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@Description NVARCHAR(255)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.CoreMessaging_Subscriptions", " "),  new Array(1,"SET [Description] = @Description", " "),  new Array(1,"WHERE PortalId = @PortalId", " "),  new Array(1,"AND ObjectKey LIKE @ObjectKey", " "),  new Array(1,"SELECT @@ROWCOUNT AS [ResultStatus]", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[CountLegacyFiles]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"SELECT COUNT(*) FROM dbo.[Files] WHERE ContentItemID IS NULL", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteAuthentication]", " "),  new Array(1,"@AuthenticationID int", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @AuthType nvarchar(100)", " "),  new Array(1,"SET @AuthType = (SELECT AuthenticationType FROM dbo.Authentication WHERE AuthenticationID = @AuthenticationID)", " "),  new Array(1,"", " "),  new Array(1,"-- Delete UserAuthentication rows", " "),  new Array(1,"IF (@AuthType Is Not Null)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.UserAuthentication", " "),  new Array(1,"WHERE AuthenticationType = @AuthType", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Delete Record", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM   dbo.Authentication", " "),  new Array(1,"WHERE AuthenticationID = @AuthenticationID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteContentItem]", " "),  new Array(1,"@ContentItemId			int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.ContentItems", " "),  new Array(1,"WHERE ContentItemId = @ContentItemId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteContentType]", " "),  new Array(1,"@ContentTypeId	int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.ContentTypes", " "),  new Array(1,"WHERE ContentTypeId = @ContentTypeId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteContentWorkflowLogs]", " "),  new Array(1,"@ContentItemID int,", " "),  new Array(1,"@WorkflowID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.[ContentWorkflowLogs]", " "),  new Array(1,"WHERE ContentItemID = @ContentItemID AND WorkflowID = @WorkflowID", " "),  new Array(1,"", " "),  new Array(1,"SELECT @@ROWCOUNT", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteContentWorkflowState]", " "),  new Array(1,"@StateID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.ContentWorkflowStates", " "),  new Array(1,"WHERE StateID = @StateID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteContentWorkflowStatePermission]", " "),  new Array(1,"@WorkflowStatePermissionID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.ContentWorkflowStatePermission", " "),  new Array(1,"WHERE WorkflowStatePermissionID = @WorkflowStatePermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteDesktopModule]", " "),  new Array(1,"@DesktopModuleId int", " "),  new Array(1,"AS", " "),  new Array(1,"-- delete custom permissions", " "),  new Array(1,"DELETE FROM dbo.Permission", " "),  new Array(1,"WHERE moduledefid in", " "),  new Array(1,"(SELECT moduledefid", " "),  new Array(1,"FROM dbo.ModuleDefinitions", " "),  new Array(1,"WHERE desktopmoduleid = @DesktopModuleId)", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.DesktopModules", " "),  new Array(1,"WHERE DesktopModuleId = @DesktopModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteDesktopModulePermission]", " "),  new Array(1,"@DesktopModulePermissionID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.DesktopModulePermission", " "),  new Array(1,"WHERE DesktopModulePermissionID = @DesktopModulePermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteDesktopModulePermissionsByPortalDesktopModuleID]", " "),  new Array(1,"@PortalDesktopModuleID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.DesktopModulePermission", " "),  new Array(1,"WHERE PortalDesktopModuleID = @PortalDesktopModuleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteDesktopModulePermissionsByUserID]", " "),  new Array(1,"@UserId   INT,  -- required, not null!", " "),  new Array(1,"@PortalId INT -- Null affects all sites", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.[DesktopModulePermission]", " "),  new Array(1,"WHERE UserID = @UserId", " "),  new Array(1,"AND (PortalDesktopModuleID IN (SELECT PortalDesktopModuleID", " "),  new Array(1,"FROM dbo.[PortalDesktopModules]", " "),  new Array(1,"WHERE PortalID = @PortalId) OR IsNull(@PortalId, -1) = -1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteEventLog]", " "),  new Array(1,"@LogGUID varchar(36)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @LogGUID is null", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.EventLog", " "),  new Array(1,"END ELSE BEGIN", " "),  new Array(1,"DELETE FROM dbo.EventLog WHERE LogGUID = @LogGUID", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteEventLogConfig]", " "),  new Array(1,"@ID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.EventLogConfig", " "),  new Array(1,"WHERE ID = @ID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteEventLogType]", " "),  new Array(1,"@LogTypeKey nvarchar(35)", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.EventLogTypes", " "),  new Array(1,"WHERE	LogTypeKey = @LogTypeKey", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteExtensionUrlProvider]", " "),  new Array(1,"@ExtensionUrlProviderID	int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.ExtensionUrlProviders", " "),  new Array(1,"WHERE ExtensionUrlProviderID = @ExtensionUrlProviderID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteFile]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@FileName nvarchar(246),", " "),  new Array(1,"@FolderID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET NOCOUNT OFF;", " "),  new Array(1,"IF @PortalID is null", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[Files] WHERE FileName = @FileName AND FolderID = @FolderID AND PortalId IS Null", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[Files] WHERE FileName = @FileName AND FolderID = @FolderID AND PortalId = @PortalID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"--UPDATE THE PARENT FOLDERS UPDATED DATE TO LASTET DATE", " "),  new Array(1,"IF(@@ROWCOUNT>0 AND @FolderID IS NOT NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC dbo.[UpdateFolderModifiedOnToCurrentDate] @FolderID", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteFiles]", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET NOCOUNT OFF;", " "),  new Array(1,"DECLARE @FolderID int;", " "),  new Array(1,"", " "),  new Array(1,"IF @PortalID is null", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT TOP 1 @FolderID=FolderID FROM dbo.[Files] WHERE PortalId is null", " "),  new Array(1,"DELETE FROM dbo.[Files] WHERE PortalId is null", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT TOP 1 @FolderID=FolderID FROM dbo.[Files] WHERE PortalId = @PortalID", " "),  new Array(1,"DELETE FROM dbo.[Files] WHERE PortalId = @PortalID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"--UPDATE THE PARENT FOLDERS UPDATED DATE TO LASTET DATE", " "),  new Array(1,"IF(@@ROWCOUNT>0 AND @FolderID IS NOT NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC dbo.[UpdateFolderModifiedOnToCurrentDate] @FolderID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteFileVersion]", " "),  new Array(1,"@FileId int,", " "),  new Array(1,"@Version int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @PublishedVersion int", " "),  new Array(1,"", " "),  new Array(1,"-- Check there is at least one version", " "),  new Array(1,"IF NOT EXISTS(SELECT FileID FROM FileVersions WHERE FileId = @FileId)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT 1 -- We need to return 1 in order to allow initial version", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT @PublishedVersion = PublishedVersion", " "),  new Array(1,"FROM dbo.Files", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"", " "),  new Array(1,"IF @PublishedVersion = @Version", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Get the previous version", " "),  new Array(1,"SELECT @PublishedVersion = MAX(Version)", " "),  new Array(1,"FROM dbo.FileVersions", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"AND Version < @Version", " "),  new Array(1,"", " "),  new Array(1,"-- If there is no previous version, get the min exsisting version", " "),  new Array(1,"IF @PublishedVersion IS NULL", " "),  new Array(1,"SELECT @PublishedVersion = MIN(Version)", " "),  new Array(1,"FROM dbo.FileVersions", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"", " "),  new Array(1,"-- Update the published version", " "),  new Array(1,"IF @PublishedVersion IS NOT NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Files", " "),  new Array(1,"SET [PublishedVersion] = @PublishedVersion,", " "),  new Array(1,"[Extension] = v.[Extension],", " "),  new Array(1,"[Size] = v.[Size],", " "),  new Array(1,"[Width] = v.Width,", " "),  new Array(1,"[Height] = v.Height,", " "),  new Array(1,"[ContentType] = v.ContentType,", " "),  new Array(1,"[Content] = v.Content,", " "),  new Array(1,"[LastModifiedByUserID] = v.LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = v.LastModifiedOnDate,", " "),  new Array(1,"[SHA1Hash] = v.SHA1Hash", " "),  new Array(1,"FROM dbo.files AS f", " "),  new Array(1,"INNER JOIN dbo.FileVersions AS v", " "),  new Array(1,"ON ( f.FileId = v.FileId AND v.Version = @PublishedVersion)", " "),  new Array(1,"WHERE f.FileId = @FileId", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.FileVersions", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"AND Version = @PublishedVersion", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.FileVersions", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"AND Version = @Version", " "),  new Array(1,"", " "),  new Array(1,"SELECT @PublishedVersion", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteFolder]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@FolderPath nvarchar(300)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET NOCOUNT OFF;", " "),  new Array(1,"DECLARE @ParentID int;", " "),  new Array(1,"", " "),  new Array(1,"IF @PortalID is null", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT @ParentID=ParentID FROM dbo.[Folders] WHERE PortalID = @PortalID AND FolderPath = @FolderPath;", " "),  new Array(1,"DELETE FROM dbo.[Folders] WHERE PortalID is null AND FolderPath = @FolderPath", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT @ParentID=ParentID FROM dbo.[Folders] WHERE PortalID is null AND FolderPath = @FolderPath;", " "),  new Array(1,"DELETE FROM dbo.[Folders] WHERE PortalID = @PortalID AND FolderPath = @FolderPath", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"--UPDATE THE PARENT FOLDERS UPDATED DATE TO LASTET DATE", " "),  new Array(1,"IF(@@ROWCOUNT>0 AND @ParentID IS NOT NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC dbo.[UpdateFolderModifiedOnToCurrentDate] @ParentID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteFolderMapping]", " "),  new Array(1,"@FolderMappingID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM dbo.[FolderMappings]", " "),  new Array(1,"WHERE FolderMappingID = @FolderMappingID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteFolderPermission]", " "),  new Array(1,"@FolderPermissionID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.FolderPermission", " "),  new Array(1,"WHERE", " "),  new Array(1,"[FolderPermissionID] = @FolderPermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteFolderPermissionsByFolderPath]", " "),  new Array(1,"@PortalId   Int,            -- Null for Host menu tabs", " "),  new Array(1,"@FolderPath nVarChar(300)   -- must be a valid path", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[FolderPermission]", " "),  new Array(1,"WHERE FolderID IN (SELECT FolderID FROM dbo.[Folders]", " "),  new Array(1,"WHERE FolderPath = @FolderPath AND (IsNull(PortalID, -1) = IsNull(@PortalId, -1)))", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteFolderPermissionsByUserID]", " "),  new Array(1,"@PortalId Int,  -- Null|-1 for Host menu tabs", " "),  new Array(1,"@UserId   Int   -- Not Null", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.[FolderPermission]", " "),  new Array(1,"WHERE UserID = @UserId", " "),  new Array(1,"AND FolderID IN (SELECT FolderID FROM dbo.[Folders]", " "),  new Array(1,"WHERE (PortalID = @PortalId Or IsNull(@PortalId, -1) = IsNull(PortalID, -1)))", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteHeirarchicalTerm]", " "),  new Array(1,"@TermId			int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Left int, @Right int, @VocabularyID int, @Width int", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"@Left = tt.TermLeft", " "),  new Array(1,", @Right = tt.TermRight", " "),  new Array(1,", @VocabularyID = tt.VocabularyID", " "),  new Array(1,", @Width = @Right - @Left + 1", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.Taxonomy_Terms tt", " "),  new Array(1,"WHERE", " "),  new Array(1,"tt.TermID = @TermID", " "),  new Array(1,"", " "),  new Array(1,"BEGIN TRANSACTION", " "),  new Array(1,"", " "),  new Array(1,"-- Delete term(s)", " "),  new Array(1,"DELETE FROM dbo.Taxonomy_Terms", " "),  new Array(1,"WHERE TermLeft > = @Left AND TermLeft > 0", " "),  new Array(1,"AND TermRight <= @Right AND TermRight > 0", " "),  new Array(1,"AND VocabularyID = @VocabularyID", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Update Left values for all items that are after deleted term", " "),  new Array(1,"UPDATE dbo.Taxonomy_Terms", " "),  new Array(1,"SET TermLeft = TermLeft - @Width", " "),  new Array(1,"WHERE TermLeft >= @Left + @Width", " "),  new Array(1,"AND VocabularyID = @VocabularyID", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Update Right values for all items that are after deleted term", " "),  new Array(1,"UPDATE dbo.Taxonomy_Terms", " "),  new Array(1,"SET TermRight = TermRight - @Width", " "),  new Array(1,"WHERE TermRight >= @Right", " "),  new Array(1,"AND VocabularyID = @VocabularyID", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"COMMIT TRANSACTION", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[DeleteHtmlText]", " "),  new Array(1,"", " "),  new Array(1,"@ModuleID int,", " "),  new Array(1,"@ItemID int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"delete", " "),  new Array(1,"from   dbo.HtmlText", " "),  new Array(1,"where  ModuleID = @ModuleID", " "),  new Array(1,"and ItemID = @ItemID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[DeleteHtmlTextUsers]", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"delete", " "),  new Array(1,"from   HtmlTextUsers", " "),  new Array(1,"where  HtmlTextUserID in", " "),  new Array(1,"( select HtmlTextUserID", " "),  new Array(1,"from   HtmlTextUsers", " "),  new Array(1,"inner join dbo.HtmlText on dbo.HtmlTextUsers.ItemID = dbo.HtmlText.ItemID", " "),  new Array(1,"where HtmlTextUsers.ItemID = HtmlText.ItemID", " "),  new Array(1,"and HtmlTextUsers.StateID <> HtmlText.StateID )", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteIPFilter]", " "),  new Array(1,"@IPFilterID	int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.IPFilter", " "),  new Array(1,"WHERE IPFilterID = @IPFilterID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteJavaScriptLibrary]", " "),  new Array(1,"@JavaScriptLibraryID INT", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.[JavaScriptLibraries]", " "),  new Array(1,"WHERE JavaScriptLibraryID = @JavaScriptLibraryID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteLanguage]", " "),  new Array(1,"@LanguageID		Int -- Not Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @CultureCode AS nVarChar(10);", " "),  new Array(1,"SELECT @CultureCode = CultureCode FROM dbo.[Languages] WHERE LanguageId = @LanguageId;", " "),  new Array(1,"DELETE FROM dbo.[PortalLocalization] WHERE @CultureCode = CultureCode;", " "),  new Array(1,"DELETE FROM dbo.[PortalSettings]     WHERE @CultureCode = CultureCode;", " "),  new Array(1,"DELETE FROM dbo.[Languages]          WHERE @LanguageID  = LanguageID;", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteLanguagePack]", " "),  new Array(1,"", " "),  new Array(1,"@LanguagePackID		int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM	dbo.LanguagePacks", " "),  new Array(1,"WHERE   LanguagePackID = @LanguagePackID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteList]", " "),  new Array(1,"@ListName  nVarChar( 50), -- Not Null", " "),  new Array(1,"@ParentKey nVarChar(150)  -- Not Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE L", " "),  new Array(1,"FROM  dbo.[Lists] L", " "),  new Array(1,"WHERE ListName = @ListName", " "),  new Array(1,"AND dbo.[GetListParentKey](L.ParentID, L.ListName, N\'ParentKey\',  0) = @ParentKey;", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[DeleteListEntryByID]", " "),  new Array(1,"", " "),  new Array(1,"@EntryId   int,", " "),  new Array(1,"@DeleteChild bit", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"Delete", " "),  new Array(1,"From dbo.Lists", " "),  new Array(1,"Where  [EntryID] = @EntryID", " "),  new Array(1,"", " "),  new Array(1,"If @DeleteChild = 1", " "),  new Array(1,"Begin", " "),  new Array(1,"Delete", " "),  new Array(1,"From dbo.Lists", " "),  new Array(1,"Where [ParentID] = @EntryID", " "),  new Array(1,"End", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteMetaData]", " "),  new Array(1,"@ContentItemId		int,", " "),  new Array(1,"@Name				nvarchar(100),", " "),  new Array(1,"@Value				nvarchar(MAX)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.ContentItems_MetaData", " "),  new Array(1,"FROM dbo.ContentItems_MetaData AS cm", " "),  new Array(1,"INNER JOIN dbo.MetaData AS m ON cm.MetaDataID = m.MetaDataID", " "),  new Array(1,"WHERE cm.ContentItemId = @ContentItemId AND m.MetaDataName = @Name AND cm.MetaDataValue = @Value", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[DeleteModule]", " "),  new Array(1,"", " "),  new Array(1,"@ModuleId   int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"delete", " "),  new Array(1,"from   dbo.Modules", " "),  new Array(1,"where  ModuleId = @ModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[DeleteModuleControl]", " "),  new Array(1,"", " "),  new Array(1,"@ModuleControlId int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"delete", " "),  new Array(1,"from   dbo.ModuleControls", " "),  new Array(1,"where  ModuleControlId = @ModuleControlId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteModuleDefinition]", " "),  new Array(1,"@ModuleDefId int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"-- delete custom permissions", " "),  new Array(1,"DELETE FROM dbo.Permission", " "),  new Array(1,"WHERE moduledefid = @ModuleDefId", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.ModuleDefinitions", " "),  new Array(1,"WHERE  ModuleDefId = @ModuleDefId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteModulePermission]", " "),  new Array(1,"@ModulePermissionID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.ModulePermission", " "),  new Array(1,"WHERE", " "),  new Array(1,"[ModulePermissionID] = @ModulePermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteModulePermissionsByModuleID]", " "),  new Array(1,"@ModuleID int,", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.ModulePermission", " "),  new Array(1,"WHERE ModuleID = @ModuleID", " "),  new Array(1,"AND PortalID = @PortalID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[DeleteModulePermissionsByUserID]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@UserID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.ModulePermission", " "),  new Array(1,"FROM dbo.ModulePermission MP", " "),  new Array(1,"INNER JOIN dbo.Modules AS M ON MP.ModuleID = M.ModuleID", " "),  new Array(1,"WHERE M.PortalID = @PortalID", " "),  new Array(1,"AND MP.UserID = @UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteModuleSetting]", " "),  new Array(1,"@ModuleId      int,          -- Not Null", " "),  new Array(1,"@SettingName   nVarChar(50)  -- Not Null or empty", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM  dbo.[ModuleSettings]", " "),  new Array(1,"WHERE ModuleId    = @ModuleId", " "),  new Array(1,"AND SettingName = @SettingName;", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteModuleSettings]", " "),  new Array(1,"@ModuleId int -- Not Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM  dbo.[ModuleSettings]", " "),  new Array(1,"WHERE ModuleId = @ModuleId", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteOldRedirectMessage]", " "),  new Array(1,"@CutoffDate [DateTime]", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.RedirectMessages", " "),  new Array(1,"WHERE CreatedOnDate <= @CutoffDate", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeletePackage]", " "),  new Array(1,"@PackageID		int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM   dbo.Packages", " "),  new Array(1,"WHERE  [PackageID] = @PackageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeletePermission]", " "),  new Array(1,"@PermissionID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.Permission", " "),  new Array(1,"WHERE", " "),  new Array(1,"[PermissionID] = @PermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[DeletePortalAlias]", " "),  new Array(1,"@PortalAliasID int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.PortalAlias", " "),  new Array(1,"WHERE PortalAliasID = @PortalAliasID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeletePortalDesktopModules]", " "),  new Array(1,"@PortalID        int,", " "),  new Array(1,"@DesktopModuleId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @PortalID is not null AND @DesktopModuleId is not null", " "),  new Array(1,"DELETE FROM dbo.PortalDesktopModules WHERE PortalId = @PortalID AND DesktopModuleId = @DesktopModuleId", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @PortalID is not null", " "),  new Array(1,"DELETE FROM dbo.PortalDesktopModules WHERE PortalId = @PortalID", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @DesktopModuleId is not null", " "),  new Array(1,"DELETE FROM dbo.PortalDesktopModules WHERE DesktopModuleId = @DesktopModuleId", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeletePortalGroup]", " "),  new Array(1,"@PortalGroupID	int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.PortalGroups", " "),  new Array(1,"WHERE PortalGroupID = @PortalGroupID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeletePortalInfo]", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"\/* Delete all the Portal Modules *\/", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM dbo.Modules", " "),  new Array(1,"WHERE PortalId = @PortalID", " "),  new Array(1,"", " "),  new Array(1,"\/* Delete all the Portal Skins *\/", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM dbo.Packages", " "),  new Array(1,"WHERE  PortalId = @PortalID", " "),  new Array(1,"", " "),  new Array(1,"\/* Delete Portal *\/", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM dbo.Portals", " "),  new Array(1,"WHERE  PortalId = @PortalID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeletePortalLanguages]", " "),  new Array(1,"@PortalId   Int, -- Null ignored (use referential integrity to delete from all Portals)", " "),  new Array(1,"@LanguageId Int  -- Null ignored (use referential integrity to delete for all languages)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @PortalId Is Not Null AND IsNull(@LanguageId, -1) != -1 BEGIN", " "),  new Array(1,"DECLARE @CultureCode nVarchar(10);", " "),  new Array(1,"SELECT @CultureCode = CultureCode FROM dbo.[Languages] WHERE LanguageId = @LanguageId;", " "),  new Array(1,"DELETE FROM dbo.[PortalLanguages]    WHERE PortalId = @PortalId AND @LanguageId  = LanguageId;", " "),  new Array(1,"DELETE FROM dbo.[PortalLocalization] WHERE PortalId = @PortalId AND @CultureCode = CultureCode;", " "),  new Array(1,"DELETE FROM dbo.[PortalSettings]     WHERE PortalId = @PortalId AND @CultureCode = CultureCode;", " "),  new Array(1,"END", " "),  new Array(1,"-- ELSE rely on referential integrity (portal or language will be deleted as well)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeletePortalSetting]", " "),  new Array(1,"@PortalID      Int,          -- Not Null", " "),  new Array(1,"@SettingName   nVarChar(50), -- Not Null", " "),  new Array(1,"@CultureCode   nVarChar(10)  -- Null|\'\' for all languages and neutral settings", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[PortalSettings]", " "),  new Array(1,"WHERE (PortalID    = @PortalID)", " "),  new Array(1,"AND (SettingName = @SettingName)", " "),  new Array(1,"AND (CultureCode = @CultureCode OR IsNull(@CultureCode, N\'\') = N\'\')", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeletePortalSettings]", " "),  new Array(1,"@PortalID      Int,          -- Not Null", " "),  new Array(1,"@CultureCode   nVarChar(10)  -- Null|\'\' for all languages and neutral settings", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[PortalSettings]", " "),  new Array(1,"WHERE (PortalID    = @PortalID)", " "),  new Array(1,"AND (CultureCode = @CultureCode OR IsNull(@CultureCode, N\'\') = N\'\')", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeletePropertyDefinition]", " "),  new Array(1,"", " "),  new Array(1,"@PropertyDefinitionId int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.ProfilePropertyDefinition", " "),  new Array(1,"SET Deleted = 1", " "),  new Array(1,"WHERE  PropertyDefinitionId = @PropertyDefinitionId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteRelationship] @RelationshipID INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.Relationships", " "),  new Array(1,"WHERE RelationshipID = @RelationshipID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteRelationshipType] @RelationshipTypeID INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.RelationshipTypes", " "),  new Array(1,"WHERE RelationshipTypeID = @RelationshipTypeID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteRole]", " "),  new Array(1,"@RoleId Int -- ID of role to delete. System Roles ignored (deletion of system roles not supported)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @RoleId >= 0 BEGIN", " "),  new Array(1,"DELETE FROM dbo.[DesktopModulePermission] WHERE RoleID = @RoleId", " "),  new Array(1,"DELETE FROM dbo.[FolderPermission]        WHERE RoleID = @RoleId", " "),  new Array(1,"DELETE FROM dbo.[ModulePermission]        WHERE RoleID = @RoleId", " "),  new Array(1,"DELETE FROM dbo.[TabPermission]           WHERE RoleID = @RoleId", " "),  new Array(1,"DELETE FROM dbo.[Roles]                   WHERE RoleID = @RoleId", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteRoleGroup]", " "),  new Array(1,"", " "),  new Array(1,"@RoleGroupId      int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM dbo.RoleGroups", " "),  new Array(1,"WHERE  RoleGroupId = @RoleGroupId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteSchedule]", " "),  new Array(1,"@ScheduleID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.Schedule", " "),  new Array(1,"WHERE ScheduleID = @ScheduleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteScopeType]", " "),  new Array(1,"@ScopeTypeId			int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.Taxonomy_ScopeTypes", " "),  new Array(1,"WHERE ScopeTypeId = @ScopeTypeId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteSearchCommonWord]", " "),  new Array(1,"@CommonWordID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.SearchCommonWords", " "),  new Array(1,"WHERE", " "),  new Array(1,"[CommonWordID] = @CommonWordID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteSearchStopWords]", " "),  new Array(1,"@StopWordsID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.SearchStopWords WHERE StopWordsID = @StopWordsID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteSearchWord]", " "),  new Array(1,"@SearchWordsID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.SearchWord", " "),  new Array(1,"WHERE", " "),  new Array(1,"[SearchWordsID] = @SearchWordsID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteServer]", " "),  new Array(1,"@ServerID			int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.WebServers WHERE ServerID=@ServerID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteSimpleTerm]", " "),  new Array(1,"@TermId			int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.Taxonomy_Terms", " "),  new Array(1,"WHERE TermID = @TermID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteSkin]", " "),  new Array(1,"", " "),  new Array(1,"@SkinID		int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM	dbo.Skins", " "),  new Array(1,"WHERE   SkinID = @SkinID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteSkinControl]", " "),  new Array(1,"@SkinControlId int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM   dbo.SkinControls", " "),  new Array(1,"WHERE  SkinControlId = @SkinControlId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteSkinPackage]", " "),  new Array(1,"", " "),  new Array(1,"@SkinPackageID		int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM	dbo.SkinPackages", " "),  new Array(1,"WHERE   SkinPackageID = @SkinPackageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteSynonymsGroup]", " "),  new Array(1,"@SynonymsGroupID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.SynonymsGroups WHERE SynonymsGroupID = @SynonymsGroupID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[DeleteSystemMessage]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID     int,", " "),  new Array(1,"@MessageName  nvarchar(50)", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"delete", " "),  new Array(1,"from   dbo.SystemMessages", " "),  new Array(1,"where  PortalID = @PortalID", " "),  new Array(1,"and    MessageName = @MessageName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTab]", " "),  new Array(1,"@TabId Int  -- ID of tab to delete; Not Null and > 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @TabOrder Int", " "),  new Array(1,"DECLARE @ParentId Int", " "),  new Array(1,"DECLARE @ContentItemId Int", " "),  new Array(1,"SELECT @TabOrder = TabOrder, @ParentId = ParentID, @ContentItemID = ContentItemID FROM dbo.[Tabs] WHERE TabID = @TabId", " "),  new Array(1,"", " "),  new Array(1,"-- Delete Tab --", " "),  new Array(1,"DELETE FROM dbo.[Tabs] WHERE  TabID = @TabId", " "),  new Array(1,"", " "),  new Array(1,"-- Update TabOrder of remaining Tabs --", " "),  new Array(1,"UPDATE dbo.[Tabs]", " "),  new Array(1,"SET TabOrder = TabOrder - 2", " "),  new Array(1,"WHERE IsNull(ParentID, -1) = IsNull(@ParentId , -1) AND TabOrder > @TabOrder", " "),  new Array(1,"", " "),  new Array(1,"-- Delete Content Item --", " "),  new Array(1,"DELETE FROM dbo.[ContentItems] WHERE ContentItemID = @ContentItemId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTabModule]", " "),  new Array(1,"@TabId      int,", " "),  new Array(1,"@ModuleId   int,", " "),  new Array(1,"@SoftDelete	bit", " "),  new Array(1,"AS", " "),  new Array(1,"IF @SoftDelete = 1", " "),  new Array(1,"UPDATE dbo.TabModules", " "),  new Array(1,"SET	IsDeleted = 1,", " "),  new Array(1,"VersionGuid = newId(),", " "),  new Array(1,"LastModifiedOnDate=GETDATE()", " "),  new Array(1,"WHERE  TabId = @TabId", " "),  new Array(1,"AND    ModuleId = @ModuleId", " "),  new Array(1,"ELSE", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM   dbo.TabModules", " "),  new Array(1,"WHERE  TabId = @TabId", " "),  new Array(1,"AND    ModuleId = @ModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTabModuleSetting]", " "),  new Array(1,"@TabModuleId   int,", " "),  new Array(1,"@SettingName   nVarChar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM  dbo.[TabModuleSettings]", " "),  new Array(1,"WHERE TabModuleId = @TabModuleId", " "),  new Array(1,"AND SettingName = @SettingName;", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTabModuleSettings]", " "),  new Array(1,"@TabModuleId Int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM  dbo.[TabModuleSettings]", " "),  new Array(1,"WHERE TabModuleId = @TabModuleId;", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTabPermission]", " "),  new Array(1,"@TabPermissionID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.TabPermission", " "),  new Array(1,"WHERE", " "),  new Array(1,"[TabPermissionID] = @TabPermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTabPermissionsByTabID]", " "),  new Array(1,"@TabID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.TabPermission", " "),  new Array(1,"WHERE", " "),  new Array(1,"[TabID] = @TabID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[DeleteTabPermissionsByUserID]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@UserID int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.TabPermission", " "),  new Array(1,"FROM dbo.TabPermission TP", " "),  new Array(1,"INNER JOIN dbo.Tabs AS T ON TP.TabID = T.TabID", " "),  new Array(1,"WHERE T.PortalID = @PortalID", " "),  new Array(1,"AND TP.UserID = @UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTabSetting]", " "),  new Array(1,"@TabID      	Int,         -- Not Null", " "),  new Array(1,"@SettingName	nVarChar(50) -- Not Null or empty", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM  dbo.[TabSettings]", " "),  new Array(1,"WHERE TabID       = @TabID", " "),  new Array(1,"AND SettingName = @SettingName;", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTabSettings]", " "),  new Array(1,"@TabID  Int -- Not Null!", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM  dbo.[TabSettings]", " "),  new Array(1,"WHERE TabID = @TabID;", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTabUrl]", " "),  new Array(1,"@TabID				int,", " "),  new Array(1,"@SeqNum				int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.TabUrls", " "),  new Array(1,"WHERE TabId = @TabID AND SeqNum = @SeqNum", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTabVersion]", " "),  new Array(1,"@Id INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[TabVersions] WHERE TabVersionId = @Id", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTabVersionDetail]", " "),  new Array(1,"@Id INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[TabVersionDetails] WHERE TabVersionDetailId = @Id", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTabVersionDetailByModule]", " "),  new Array(1,"@ModuleId   INT", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM   dbo.TabVersionDetails", " "),  new Array(1,"WHERE  ModuleId = @ModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteTranslatedTabs]", " "),  new Array(1,"@PortalID INT ,", " "),  new Array(1,"@CultureCode NVARCHAR(10)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"SET NOCOUNT ON;", " "),  new Array(1,"", " "),  new Array(1,"BEGIN TRY", " "),  new Array(1,"", " "),  new Array(1,"BEGIN TRANSACTION DeleteTranslatedTabs", " "),  new Array(1,"", " "),  new Array(1,"-- first store ContentItem records to be deleted", " "),  new Array(1,"DECLARE @TempDeleteCI TABLE ( ContentItemId INT )", " "),  new Array(1,"", " "),  new Array(1,"INSERT  INTO @TempDeleteCI", " "),  new Array(1,"SELECT  ContentItemId", " "),  new Array(1,"FROM    dbo.Tabs", " "),  new Array(1,"WHERE   ( PortalID = @PortalID )", " "),  new Array(1,"AND ( CultureCode = @CultureCode )", " "),  new Array(1,"", " "),  new Array(1,"-- delete all tabs in the portal that have been localized to the requested cultureCode", " "),  new Array(1,"-- This will also delete related tabmodule records", " "),  new Array(1,"DELETE  FROM dbo.Tabs", " "),  new Array(1,"WHERE   ( PortalID = @PortalID )", " "),  new Array(1,"AND ( CultureCode = @CultureCode )", " "),  new Array(1,"", " "),  new Array(1,"", " "),  new Array(1,"-- append ContentItems to be deleted from stale modules", " "),  new Array(1,"INSERT  INTO @TempDeleteCI", " "),  new Array(1,"SELECT  ContentItemID", " "),  new Array(1,"FROM    dbo.ContentItems CI", " "),  new Array(1,"WHERE   EXISTS ( SELECT *", " "),  new Array(1,"FROM   dbo.Modules M", " "),  new Array(1,"WHERE  ( CI.ModuleID = M.ModuleID )", " "),  new Array(1,"AND NOT EXISTS ( SELECT", " "),  new Array(1,"*", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.TabModules TM", " "),  new Array(1,"WHERE", " "),  new Array(1,"M.ModuleID = TM.ModuleID ) )", " "),  new Array(1,"", " "),  new Array(1,"-- delete stale modules (these are modules that do not have a corresponding TabModules record,", " "),  new Array(1,"-- in other words: modules that are not placed on any page anymore)", " "),  new Array(1,"DELETE  FROM dbo.Modules", " "),  new Array(1,"WHERE   NOT EXISTS ( SELECT *", " "),  new Array(1,"FROM   dbo.TabModules", " "),  new Array(1,"WHERE  dbo.Modules.ModuleID = dbo.TabModules.ModuleID )", " "),  new Array(1,"", " "),  new Array(1,"-- finally delete all corresponding content items", " "),  new Array(1,"DELETE  FROM dbo.ContentItems", " "),  new Array(1,"WHERE   ContentItemID IN ( SELECT   ContentItemID", " "),  new Array(1,"FROM     @TempDeleteCI )", " "),  new Array(1,"AND ContentItemID NOT IN (SELECT ContentItemID FROM dbo.Modules)", " "),  new Array(1,"", " "),  new Array(1,"COMMIT TRANSACTION DeleteTranslatedTabs", " "),  new Array(1,"", " "),  new Array(1,"END TRY", " "),  new Array(1,"", " "),  new Array(1,"BEGIN CATCH", " "),  new Array(1,"IF @@TRANCOUNT > 0", " "),  new Array(1,"ROLLBACK TRANSACTION DeleteTranslatedTabs", " "),  new Array(1,"", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @ErrorMessage NVARCHAR(4000);", " "),  new Array(1,"DECLARE @ErrorSeverity INT;", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @ErrorMessage = ERROR_MESSAGE() ,", " "),  new Array(1,"@ErrorSeverity = ERROR_SEVERITY();", " "),  new Array(1,"", " "),  new Array(1,"RAISERROR (@ErrorMessage, @ErrorSeverity, 1 );", " "),  new Array(1,"", " "),  new Array(1,"END CATCH", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[DeleteUrl]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID     int,", " "),  new Array(1,"@Url          nvarchar(255)", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"delete", " "),  new Array(1,"from   dbo.Urls", " "),  new Array(1,"where  PortalID = @PortalID", " "),  new Array(1,"and    Url = @Url", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[DeleteUrlTracking]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID     int,", " "),  new Array(1,"@Url          nvarchar(255),", " "),  new Array(1,"@ModuleID     int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"delete", " "),  new Array(1,"from   dbo.UrlTracking", " "),  new Array(1,"where  PortalID = @PortalID", " "),  new Array(1,"and    Url = @Url", " "),  new Array(1,"and    ((ModuleId = @ModuleId) or (ModuleId is null and @ModuleId is null))", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteUserPortal]", " "),  new Array(1,"@UserID		int,", " "),  new Array(1,"@PortalID   int", " "),  new Array(1,"AS", " "),  new Array(1,"IF @PortalID IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Users", " "),  new Array(1,"SET", " "),  new Array(1,"IsDeleted = 1", " "),  new Array(1,"WHERE  UserId = @UserID", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.UserPortals", " "),  new Array(1,"SET", " "),  new Array(1,"IsDeleted = 1", " "),  new Array(1,"WHERE  UserId = @UserID", " "),  new Array(1,"AND PortalId = @PortalID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteUserRelationship] @UserRelationshipID INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.UserRelationships", " "),  new Array(1,"WHERE UserRelationshipID = @UserRelationshipID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteUserRelationshipPreference]", " "),  new Array(1,"@PreferenceID INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.UserRelationshipPreferences", " "),  new Array(1,"WHERE PreferenceID = @PreferenceID", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[DeleteUserRole]", " "),  new Array(1,"", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@RoleId int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"delete", " "),  new Array(1,"from dbo.UserRoles", " "),  new Array(1,"where  UserId = @UserID", " "),  new Array(1,"and    RoleId = @RoleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteUsersOnline]", " "),  new Array(1,"@TimeWindow int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @dt datetime", " "),  new Array(1,"SET @dt = DATEADD(MINUTE, -@TimeWindow, GETDATE())", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.AnonymousUsers WHERE LastActiveDate < @dt", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.UsersOnline WHERE LastActiveDate < @dt", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[DeleteVocabulary]", " "),  new Array(1,"@VocabularyID			int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.Taxonomy_Vocabularies", " "),  new Array(1,"WHERE VocabularyID = @VocabularyID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[EnsureLocalizationExists]", " "),  new Array(1,"@PortalID       Int,", " "),  new Array(1,"@CultureCode	nvarchar(10)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @MasterLanguage nvarchar(10) = Null;", " "),  new Array(1,"DECLARE @LocalizationExists bit = 0;", " "),  new Array(1,"", " "),  new Array(1,"IF NOT EXISTS (SELECT * FROM dbo.[Languages] L", " "),  new Array(1,"JOIN dbo.[PortalLanguages] P ON L.LanguageID = P.LanguageID", " "),  new Array(1,"WHERE P.PortalID = @PortalID AND L.CultureCode = @CultureCode)", " "),  new Array(1,"RETURN; -- language does not exist for this portal", " "),  new Array(1,"", " "),  new Array(1,"IF EXISTS (SELECT * FROM dbo.[PortalLocalization]", " "),  new Array(1,"WHERE CultureCode = @CultureCode AND PortalID = @PortalID)", " "),  new Array(1,"RETURN; -- already localized", " "),  new Array(1,"", " "),  new Array(1,"IF EXISTS (SELECT * FROM dbo.[PortalLocalization] L", " "),  new Array(1,"JOIN dbo.[Portals] P ON L.PortalID = P.PortalID AND L.CultureCode = P.DefaultLanguage", " "),  new Array(1,"WHERE P.PortalID = @PortalID)", " "),  new Array(1,"SELECT @MasterLanguage = DefaultLanguage", " "),  new Array(1,"FROM dbo.[Portals]", " "),  new Array(1,"WHERE PortalID = @PortalID", " "),  new Array(1,"ELSE IF EXISTS (SELECT * FROM dbo.[PortalLocalization]", " "),  new Array(1,"WHERE CultureCode = \'en-US\' and PortalID = @PortalID)", " "),  new Array(1,"SET @MasterLanguage = \'en-US\'", " "),  new Array(1,"ELSE -- neither default nor system language available: take the language that was assigned first", " "),  new Array(1,"SELECT TOP (1) CultureCode", " "),  new Array(1,"FROM dbo.[PortalLocalization]", " "),  new Array(1,"WHERE PortalID = @PortalID", " "),  new Array(1,"ORDER BY PortalID ASC;", " "),  new Array(1,"", " "),  new Array(1,"IF NOT (@MasterLanguage Is Null OR @MasterLanguage LIKE @CultureCode)", " "),  new Array(1,"BEGIN  -- copy localized values from (existing and different) master language:", " "),  new Array(1,"INSERT INTO dbo.[PortalLocalization]", " "),  new Array(1,"(	PortalId,", " "),  new Array(1,"CultureCode,", " "),  new Array(1,"PortalName,", " "),  new Array(1,"LogoFile,", " "),  new Array(1,"FooterText,", " "),  new Array(1,"Description,", " "),  new Array(1,"KeyWords,", " "),  new Array(1,"BackgroundFile,", " "),  new Array(1,"HomeTabId,", " "),  new Array(1,"LoginTabId,", " "),  new Array(1,"UserTabId,", " "),  new Array(1,"AdminTabId,", " "),  new Array(1,"RegisterTabId,", " "),  new Array(1,"SearchTabId,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,") SELECT", " "),  new Array(1,"PortalId,", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"PortalName,", " "),  new Array(1,"LogoFile,", " "),  new Array(1,"FooterText,", " "),  new Array(1,"Description,", " "),  new Array(1,"KeyWords,", " "),  new Array(1,"BackgroundFile,", " "),  new Array(1,"HomeTabId,", " "),  new Array(1,"LoginTabId,", " "),  new Array(1,"UserTabId,", " "),  new Array(1,"AdminTabId,", " "),  new Array(1,"RegisterTabId,", " "),  new Array(1,"SearchTabId,", " "),  new Array(1,"-1,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"-1,", " "),  new Array(1,"GETDATE()", " "),  new Array(1,"FROM dbo.[PortalLocalization]", " "),  new Array(1,"WHERE PortalID = @PortalID AND CultureCode = @MasterLanguage;", " "),  new Array(1,"", " "),  new Array(1,"-- copy missing localized settings:", " "),  new Array(1,"DECLARE", " "),  new Array(1,"@LocalPortalSettings TABLE(", " "),  new Array(1,"[PortalID]             INT             NOT NULL,", " "),  new Array(1,"[CultureCode]          NVARCHAR (10)   NOT NULL,", " "),  new Array(1,"[SettingName]          NVARCHAR (50)   NOT NULL,", " "),  new Array(1,"[SettingValue]         NVARCHAR (2000) NULL", " "),  new Array(1,");", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO @LocalPortalSettings", " "),  new Array(1,"(", " "),  new Array(1,"PortalID,", " "),  new Array(1,"CultureCode,", " "),  new Array(1,"SettingName,", " "),  new Array(1,"SettingValue", " "),  new Array(1,")", " "),  new Array(1,"SELECT", " "),  new Array(1,"PortalID,", " "),  new Array(1,"CultureCode,", " "),  new Array(1,"SettingName,", " "),  new Array(1,"SettingValue", " "),  new Array(1,"FROM dbo.[PortalSettings]", " "),  new Array(1,"WHERE PortalID = @PortalID AND CultureCode = @CultureCode;", " "),  new Array(1,"", " "),  new Array(1,"MERGE INTO @LocalPortalSettings target", " "),  new Array(1,"USING (SELECT * FROM dbo.[PortalSettings]", " "),  new Array(1,"WHERE PortalId = @PortalID and CultureCode = @MasterLanguage) source", " "),  new Array(1,"ON (target.SettingName = source.SettingName)", " "),  new Array(1,"WHEN NOT MATCHED THEN", " "),  new Array(1,"INSERT (", " "),  new Array(1,"PortalID,", " "),  new Array(1,"CultureCode,", " "),  new Array(1,"SettingName,", " "),  new Array(1,"SettingValue)", " "),  new Array(1,"VALUES (", " "),  new Array(1,"source.PortalID,", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"source.SettingName,", " "),  new Array(1,"source.SettingValue", " "),  new Array(1,");", " "),  new Array(1,"", " "),  new Array(1,"MERGE INTO dbo.[PortalSettings]  target", " "),  new Array(1,"USING (SELECT * FROM @LocalPortalSettings) source", " "),  new Array(1,"ON (target.PortalID = source.PortalID AND", " "),  new Array(1,"target.CultureCode = source.CultureCode AND", " "),  new Array(1,"target.SettingName = source.SettingName)", " "),  new Array(1,"WHEN NOT MATCHED THEN", " "),  new Array(1,"INSERT (", " "),  new Array(1,"PortalID,", " "),  new Array(1,"CultureCode,", " "),  new Array(1,"SettingName,", " "),  new Array(1,"SettingValue,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate)", " "),  new Array(1,"VALUES (", " "),  new Array(1,"source.PortalID,", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"source.SettingName,", " "),  new Array(1,"source.SettingValue,", " "),  new Array(1,"-1,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"-1,", " "),  new Array(1,"GETDATE()", " "),  new Array(1,");", " "),  new Array(1,"END;", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[EnsureNeutralLanguage]", " "),  new Array(1,"@PortalId INT ,", " "),  new Array(1,"@CultureCode NVARCHAR(10)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET NOCOUNT ON;", " "),  new Array(1,"", " "),  new Array(1,"UPDATE  dbo.Tabs", " "),  new Array(1,"SET     CultureCode = NULL", " "),  new Array(1,"WHERE   PortalID = @PortalId", " "),  new Array(1,"AND CultureCode = @CultureCode", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_ContentWorkflows]", " "),  new Array(1,"@PortalID       int,", " "),  new Array(1,"@IncludeDeleted bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"*", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.ContentWorkflows", " "),  new Array(1,"WHERE", " "),  new Array(1,"PortalID = @PortalID", " "),  new Array(1,"AND", " "),  new Array(1,"(@IncludeDeleted = 1 OR IsDeleted = 0)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_ContentWorkflowStatePermissions]", " "),  new Array(1,"@StateID  int,", " "),  new Array(1,"@ToDate   datetime,", " "),  new Array(1,"@FromDate datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"wp.*, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.vw_ContentWorkflowStatePermissions AS wp", " "),  new Array(1,"LEFT OUTER JOIN dbo.ContentWorkflowStates AS ws ON wp.StateID = ws.StateID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u1 ON wp.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u2 ON wp.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE", " "),  new Array(1,"ws.StateID = @StateID", " "),  new Array(1,"AND", " "),  new Array(1,"COALESCE(wp.LastModifiedOnDate, wp.CreatedOnDate, @Now) <= @ToDate", " "),  new Array(1,"AND", " "),  new Array(1,"(@FromDate IS NULL OR ISNULL(wp.LastModifiedOnDate, wp.CreatedOnDate) >= @FromDate)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_ContentWorkflowStates]", " "),  new Array(1,"@WorkflowID     int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"ws.*", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.ContentWorkflowStates ws", " "),  new Array(1,"INNER JOIN dbo.ContentWorkflows AS wf  ON wf.WorkflowID = ws.WorkflowID", " "),  new Array(1,"WHERE", " "),  new Array(1,"ws.WorkflowID = @WorkflowID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_GenedicUpdateSettingsRecordChangers]", " "),  new Array(1,"@TableName       nvarchar(100),", " "),  new Array(1,"@PrimaryKeyName  nvarchar(100),", " "),  new Array(1,"@PrimaryKeyID    int,", " "),  new Array(1,"@SettingName     nvarchar(50),", " "),  new Array(1,"@CreatedBy       int,", " "),  new Array(1,"@ModifiedBy      int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @sqlCommand varchar(1000)", " "),  new Array(1,"", " "),  new Array(1,"SET @sqlCommand =", " "),  new Array(1,"N\' UPDATE dbo.\' + @TableName +", " "),  new Array(1,"N\' SET CreatedByUserID=\' + CONVERT(nvarchar, @CreatedBy) + \', LastModifiedByUserID=\' + CONVERT(nvarchar, @ModifiedBy) +", " "),  new Array(1,"N\' WHERE \' + @PrimaryKeyName + N\'=\' + CONVERT(nvarchar, @PrimaryKeyID) +", " "),  new Array(1,"N\' AND SettingName=\'\'\' + @SettingName + N\'\'\';\'", " "),  new Array(1,"", " "),  new Array(1,"--PRINT (@sqlCommand)", " "),  new Array(1,"EXEC (@sqlCommand)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_GenericUpdateRecordChangers]", " "),  new Array(1,"@TableName       nvarchar(100),", " "),  new Array(1,"@PrimaryKeyName  nvarchar(100),", " "),  new Array(1,"@PrimaryKeyID    int,", " "),  new Array(1,"@CreatedBy       int,", " "),  new Array(1,"@ModifiedBy      int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @sqlCommand varchar(1000)", " "),  new Array(1,"", " "),  new Array(1,"SET @sqlCommand =", " "),  new Array(1,"N\' UPDATE dbo.\' + @TableName +", " "),  new Array(1,"N\' SET CreatedByUserID=\' + CONVERT(nvarchar, @CreatedBy) + \', LastModifiedByUserID=\' + CONVERT(nvarchar, @ModifiedBy) +", " "),  new Array(1,"N\' WHERE \' + @PrimaryKeyName + N\'=\' + CONVERT(nvarchar, @PrimaryKeyID) + N\';\'", " "),  new Array(1,"", " "),  new Array(1,"--PRINT (@sqlCommand)", " "),  new Array(1,"EXEC (@sqlCommand)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_GetAllUsers]", " "),  new Array(1,"@PortalId		 int,", " "),  new Array(1,"@PageIndex       int,", " "),  new Array(1,"@PageSize        int,", " "),  new Array(1,"@IncludeDeleted  bit,", " "),  new Array(1,"@ToDateUtc		 datetime,", " "),  new Array(1,"@FromDateUtc	 datetime=NULL,", " "),  new Array(1,"@OnlyCount		 bit = 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @ToDate datetime = DATEADD(hh,DATEDIFF(hh,GETUTCDATE(),GETDATE()),@ToDateUtc)", " "),  new Array(1,"DECLARE @FromDate datetime = DATEADD(hh,DATEDIFF(hh,GETUTCDATE(),GETDATE()),@FromDateUtc)", " "),  new Array(1,"", " "),  new Array(1,"--GET ONLY USERS COUNT", " "),  new Array(1,"IF @OnlyCount = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"; WITH [tmpUsers] AS (", " "),  new Array(1,"SELECT U.UserID", " "),  new Array(1,"FROM dbo.[Users] U INNER JOIN dbo.[UserPortals] UP ON U.UserID=UP.UserId", " "),  new Array(1,"WHERE UP.PortalId = @PortalID AND U.IsSuperUser=0", " "),  new Array(1,"AND UP.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN U.LastModifiedOnDate IS NOT NULL THEN U.LastModifiedOnDate", " "),  new Array(1,"WHEN U.CreatedOnDate IS NOT NULL THEN U.CreatedOnDate", " "),  new Array(1,"ELSE ISNULL(@FromDate,0) END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN U.LastModifiedOnDate IS NOT NULL THEN U.LastModifiedOnDate", " "),  new Array(1,"WHEN U.CreatedOnDate IS NOT NULL THEN U.CreatedOnDate", " "),  new Array(1,"ELSE @ToDate END)<= @ToDate", " "),  new Array(1,")", " "),  new Array(1,"SELECT COUNT(UserID) TotalUsers FROM [tmpUsers];", " "),  new Array(1,"END", " "),  new Array(1,"--GET USERS", " "),  new Array(1,"IF @OnlyCount = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--Do not allow more than 1000 page size.", " "),  new Array(1,"IF @PageSize>1000", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @PageSize = 1000;", " "),  new Array(1,"END", " "),  new Array(1,"IF ISNULL(@PageSize, 0) = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @PageSize = 500;", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"DECLARE", " "),  new Array(1,"@PageLowerBound int,", " "),  new Array(1,"@PageUpperBound int,", " "),  new Array(1,"@RowsToReturn int", " "),  new Array(1,"", " "),  new Array(1,"--Calculate paging information.", " "),  new Array(1,"EXEC dbo.[CalculatePagingInformation] @PageIndex, @PageSize, @RowsToReturn output, @PageLowerBound output, @PageUpperBound output", " "),  new Array(1,"", " "),  new Array(1,"--Prepare users query.", " "),  new Array(1,"; WITH [tmpUsers] AS (", " "),  new Array(1,"SELECT U.*, UP.IsDeleted IsDeletedPortal,dbo.[Export_UserName](U.CreatedByUserId) CreatedByUserName,dbo.[Export_UserName](U.LastModifiedByUserId) LastModifiedByUserName,  row_number() over (order by U.UserID) AS RowId", " "),  new Array(1,"FROM dbo.[Users] U INNER JOIN dbo.[UserPortals] UP ON U.UserID=UP.UserId", " "),  new Array(1,"WHERE UP.PortalId = @PortalID AND U.IsSuperUser=0", " "),  new Array(1,"AND UP.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN U.LastModifiedOnDate IS NOT NULL THEN U.LastModifiedOnDate", " "),  new Array(1,"WHEN U.CreatedOnDate IS NOT NULL THEN U.CreatedOnDate", " "),  new Array(1,"ELSE ISNULL(@FromDate,0) END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN U.LastModifiedOnDate IS NOT NULL THEN U.LastModifiedOnDate", " "),  new Array(1,"WHEN U.CreatedOnDate IS NOT NULL THEN U.CreatedOnDate", " "),  new Array(1,"ELSE @ToDate END)<= @ToDate", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"--Perform paging on Users and Add them to temporary variable", " "),  new Array(1,"SELECT  * INTO #tmpPagedUsers FROM [tmpUsers]", " "),  new Array(1,"WHERE RowId > @PageLowerBound AND RowId < @PageUpperBound", " "),  new Array(1,"ORDER by RowId;", " "),  new Array(1,"", " "),  new Array(1,"--Users", " "),  new Array(1,"SELECT * FROM #tmpPagedUsers", " "),  new Array(1,"", " "),  new Array(1,"--UserAuthentication", " "),  new Array(1,"SELECT * FROM dbo.[UserAuthentication]", " "),  new Array(1,"WHERE UserId IN(SELECT UserID FROM #tmpPagedUsers)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN LastModifiedOnDate IS NOT NULL THEN LastModifiedOnDate", " "),  new Array(1,"WHEN CreatedOnDate IS NOT NULL THEN CreatedOnDate", " "),  new Array(1,"ELSE ISNULL(@FromDate,0) END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN LastModifiedOnDate IS NOT NULL THEN LastModifiedOnDate", " "),  new Array(1,"WHEN CreatedOnDate IS NOT NULL THEN CreatedOnDate", " "),  new Array(1,"ELSE @ToDate END)<= @ToDate", " "),  new Array(1,"", " "),  new Array(1,"--User Roles", " "),  new Array(1,"SELECT", " "),  new Array(1,"[UserRoleID]", " "),  new Array(1,",R.[RoleID]", " "),  new Array(1,",[UserID]", " "),  new Array(1,",[PortalID]", " "),  new Array(1,",R.[RoleName]", " "),  new Array(1,",[ExpiryDate]", " "),  new Array(1,",[IsTrialUsed]", " "),  new Array(1,",[EffectiveDate]", " "),  new Array(1,",UR.[CreatedByUserID]", " "),  new Array(1,",UR.[CreatedOnDate]", " "),  new Array(1,",UR.[LastModifiedByUserID]", " "),  new Array(1,",UR.[LastModifiedOnDate]", " "),  new Array(1,",UR.[Status]", " "),  new Array(1,",[IsOwner]", " "),  new Array(1,",dbo.[Export_UserName](UR.CreatedByUserId) CreatedByUserName", " "),  new Array(1,",dbo.[Export_UserName](UR.LastModifiedByUserId) LastModifiedByUserName", " "),  new Array(1,"FROM dbo.[UserRoles] UR INNER JOIN dbo.Roles R ON R.RoleID=UR.RoleID", " "),  new Array(1,"WHERE	UserID  IN(SELECT UserID FROM #tmpPagedUsers) AND R.PortalID = @PortalId", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN UR.LastModifiedOnDate IS NOT NULL THEN UR.LastModifiedOnDate", " "),  new Array(1,"WHEN UR.CreatedOnDate IS NOT NULL THEN UR.CreatedOnDate", " "),  new Array(1,"ELSE ISNULL(@FromDate,0) END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN UR.LastModifiedOnDate IS NOT NULL THEN UR.LastModifiedOnDate", " "),  new Array(1,"WHEN UR.CreatedOnDate IS NOT NULL THEN UR.CreatedOnDate", " "),  new Array(1,"ELSE @ToDate END)<= @ToDate", " "),  new Array(1,"", " "),  new Array(1,"--User Profile", " "),  new Array(1,"SELECT", " "),  new Array(1,"UP.ProfileID,", " "),  new Array(1,"UP.UserID,", " "),  new Array(1,"UP.PropertyDefinitionID,", " "),  new Array(1,"UP.PropertyValue,", " "),  new Array(1,"UP.PropertyText,", " "),  new Array(1,"UP.Visibility,", " "),  new Array(1,"UP.ExtendedVisibility,", " "),  new Array(1,"UP.LastUpdatedDate,", " "),  new Array(1,"PPD.PropertyName", " "),  new Array(1,"FROM dbo.[UserProfile] UP", " "),  new Array(1,"INNER JOIN dbo.[ProfilePropertyDefinition] PPD", " "),  new Array(1,"ON UP.PropertyDefinitionID=PPD.PropertyDefinitionID", " "),  new Array(1,"WHERE UserId IN(SELECT UserID FROM #tmpPagedUsers) AND PPD.PortalId=@PortalId", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN UP.LastUpdatedDate IS NOT NULL THEN UP.LastUpdatedDate", " "),  new Array(1,"ELSE ISNULL(@FromDate,0) END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN UP.LastUpdatedDate IS NOT NULL THEN UP.LastUpdatedDate", " "),  new Array(1,"ELSE @ToDate END<= @ToDate)", " "),  new Array(1,"", " "),  new Array(1,"--User Portals", " "),  new Array(1,"SELECT", " "),  new Array(1,"[UserId]", " "),  new Array(1,",[PortalId]", " "),  new Array(1,",[UserPortalId]", " "),  new Array(1,",[CreatedDate]", " "),  new Array(1,",[Authorised]", " "),  new Array(1,",[IsDeleted]", " "),  new Array(1,",[RefreshRoles]", " "),  new Array(1,",[VanityUrl]", " "),  new Array(1,"FROM dbo.[UserPortals]", " "),  new Array(1,"WHERE UserId IN(SELECT UserID FROM #tmpPagedUsers) AND PortalId = @PortalId", " "),  new Array(1,"", " "),  new Array(1,"--AspNet User", " "),  new Array(1,"SELECT * INTO #tmpAspNetUsers", " "),  new Array(1,"FROM dbo.[aspnet_Users]", " "),  new Array(1,"WHERE  UserName IN(SELECT Username FROM #tmpPagedUsers)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN @FromDateUtc IS NULL THEN 0", " "),  new Array(1,"ELSE [LastActivityDate] END)>= ISNULL(@FromDateUtc,0)", " "),  new Array(1,"AND [LastActivityDate] <= @ToDateUtc", " "),  new Array(1,"", " "),  new Array(1,"SELECT * FROM #tmpAspNetUsers;", " "),  new Array(1,"--AspNet membership", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[aspnet_Membership]", " "),  new Array(1,"WHERE UserId IN(SELECT UserId FROM #tmpAspNetUsers)", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #tmpPagedUsers", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_GetFiles]", " "),  new Array(1,"@PortalID    int,", " "),  new Array(1,"@FolderID    int,", " "),  new Array(1,"@ToDate      datetime,", " "),  new Array(1,"@FromDate    datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT F.*,dbo.[Export_UserName](CreatedByUserId) CreatedByUserName,dbo.[Export_UserName](LastModifiedByUserId) LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[vw_PublishedFiles] F", " "),  new Array(1,"WHERE (F.FolderID = @FolderID OR @FolderID IS NULL) AND F.PortalID = @PortalID", " "),  new Array(1,"AND", " "),  new Array(1,"(CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN F.LastModifiedOnDate IS NULL THEN F.CreatedOnDate", " "),  new Array(1,"ELSE F.LastModifiedOnDate END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN F.LastModifiedOnDate IS NULL THEN F.CreatedOnDate", " "),  new Array(1,"ELSE F.LastModifiedOnDate END)<= @ToDate", " "),  new Array(1,"ORDER BY [FolderID], [FileName]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_GetFolderMappings]", " "),  new Array(1,"@PortalID    int,", " "),  new Array(1,"@ToDate datetime,", " "),  new Array(1,"@FromDate    datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT    *,dbo.[Export_UserName](CreatedByUserId) CreatedByUserName,dbo.[Export_UserName](LastModifiedByUserId) LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[FolderMappings]", " "),  new Array(1,"WHERE  PortalID = @PortalID", " "),  new Array(1,"AND", " "),  new Array(1,"(CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN LastModifiedOnDate IS NULL THEN CreatedOnDate", " "),  new Array(1,"ELSE ISNULL(LastModifiedOnDate,0) END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN LastModifiedOnDate IS NULL THEN CreatedOnDate", " "),  new Array(1,"ELSE LastModifiedOnDate END)<= @ToDate", " "),  new Array(1,"ORDER BY [Priority]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_GetFolderPermissionsByPath]", " "),  new Array(1,"@PortalID    int,", " "),  new Array(1,"@FolderPath  nvarchar(300),", " "),  new Array(1,"@ToDate      datetime,", " "),  new Array(1,"@FromDate    datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT    *,dbo.[Export_UserName](CreatedByUserId) CreatedByUserName,dbo.[Export_UserName](LastModifiedByUserId) LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[vw_FolderPermissions]", " "),  new Array(1,"WHERE  PortalID = @PortalID AND (FolderPath =ISNULL(@FolderPath,\'\'))", " "),  new Array(1,"AND", " "),  new Array(1,"(CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN LastModifiedOnDate IS NULL THEN CreatedOnDate", " "),  new Array(1,"ELSE ISNULL(LastModifiedOnDate,0) END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN LastModifiedOnDate IS NULL THEN CreatedOnDate", " "),  new Array(1,"ELSE LastModifiedOnDate END)<= @ToDate", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_GetFolders]", " "),  new Array(1,"@PortalID  int,", " "),  new Array(1,"@ToDate    datetime,", " "),  new Array(1,"@FromDate  datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT    F.*,PF.FolderPath ParentFolderPath,FM.MappingName FolderMappingName,dbo.[Export_UserName](F.CreatedByUserId) CreatedByUserName,dbo.[Export_UserName](F.LastModifiedByUserId) LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[Folders]  F", " "),  new Array(1,"INNER JOIN dbo.[FolderMappings] FM ON F.[FolderMappingID]=FM.[FolderMappingID]", " "),  new Array(1,"LEFT JOIN dbo.[Folders] PF ON F.ParentID=PF.FolderID", " "),  new Array(1,"WHERE  F.PortalID = @PortalID", " "),  new Array(1,"AND", " "),  new Array(1,"(CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN F.LastModifiedOnDate IS NULL THEN F.CreatedOnDate", " "),  new Array(1,"ELSE ISNULL(F.LastModifiedOnDate,0) END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN F.LastModifiedOnDate IS NULL THEN F.CreatedOnDate", " "),  new Array(1,"ELSE F.LastModifiedOnDate END)<= @ToDate", " "),  new Array(1,"ORDER BY F.PortalID, F.CreatedOnDate, F.FolderPath", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_GetPermissionInfo]", " "),  new Array(1,"@PermissionCode  varchar(50),", " "),  new Array(1,"@PermissionKey   varchar(50),", " "),  new Array(1,"@PermissionName  varchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"*", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.Permission", " "),  new Array(1,"WHERE", " "),  new Array(1,"PermissionCode = @PermissionCode", " "),  new Array(1,"AND", " "),  new Array(1,"PermissionKey = @PermissionKey", " "),  new Array(1,"AND", " "),  new Array(1,"PermissionName = @PermissionName", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_GetPortalLanguages]", " "),  new Array(1,"@PortalID	int,", " "),  new Array(1,"@ToDate   datetime,", " "),  new Array(1,"@FromDate	datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	PL.*,dbo.[Export_UserName](PL.CreatedByUserId) CreatedByUserName,dbo.[Export_UserName](PL.LastModifiedByUserId) LastModifiedByUserName, L.[CultureCode]", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[PortalLanguages] PL", " "),  new Array(1,"INNER JOIN dbo.[Languages] L ON PL.[LanguageID]=L.[LanguageID]", " "),  new Array(1,"WHERE  PortalId = @PortalID", " "),  new Array(1,"AND", " "),  new Array(1,"(CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN PL.LastModifiedOnDate IS NULL THEN PL.CreatedOnDate", " "),  new Array(1,"ELSE PL.LastModifiedOnDate END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN PL.LastModifiedOnDate IS NULL THEN PL.CreatedOnDate", " "),  new Array(1,"ELSE PL.LastModifiedOnDate END)<= @ToDate", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_GetPortalLocalizations]", " "),  new Array(1,"@PortalID	int,", " "),  new Array(1,"@ToDate datetime,", " "),  new Array(1,"@FromDate	datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*,dbo.[Export_UserName](CreatedByUserId) CreatedByUserName,dbo.[Export_UserName](LastModifiedByUserId) LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[PortalLocalization]", " "),  new Array(1,"WHERE  PortalId = @PortalID", " "),  new Array(1,"AND", " "),  new Array(1,"(CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN LastModifiedOnDate IS NULL THEN CreatedOnDate", " "),  new Array(1,"ELSE ISNULL(LastModifiedOnDate,0) END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN LastModifiedOnDate IS NULL THEN CreatedOnDate", " "),  new Array(1,"ELSE LastModifiedOnDate END)<= @ToDate", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_GetPortalSettings]", " "),  new Array(1,"@PortalID	int,", " "),  new Array(1,"@ToDate   datetime,", " "),  new Array(1,"@FromDate	datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*,dbo.[Export_UserName](CreatedByUserId) CreatedByUserName,dbo.[Export_UserName](LastModifiedByUserId) LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[PortalSettings]", " "),  new Array(1,"WHERE  PortalId = @PortalID", " "),  new Array(1,"AND", " "),  new Array(1,"(CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN LastModifiedOnDate IS NULL THEN CreatedOnDate", " "),  new Array(1,"ELSE ISNULL(LastModifiedOnDate,0) END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN LastModifiedOnDate IS NULL THEN CreatedOnDate", " "),  new Array(1,"ELSE LastModifiedOnDate END)<= @ToDate", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_GetPropertyDefinitionsByPortal]", " "),  new Array(1,"@PortalID	int,", " "),  new Array(1,"@IncludeDeleted bit = 0,", " "),  new Array(1,"@ToDate datetime,", " "),  new Array(1,"@FromDate	datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM	dbo.[ProfilePropertyDefinition] PPD", " "),  new Array(1,"WHERE  (PortalId = @PortalID OR (PortalId IS NULL AND @PortalID IS NULL))", " "),  new Array(1,"AND PPD.Deleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND", " "),  new Array(1,"(CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN PPD.LastModifiedOnDate IS NULL THEN PPD.CreatedOnDate", " "),  new Array(1,"ELSE PPD.LastModifiedOnDate END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN PPD.LastModifiedOnDate IS NULL THEN PPD.CreatedOnDate", " "),  new Array(1,"ELSE PPD.LastModifiedOnDate END)<= @ToDate", " "),  new Array(1,"ORDER BY ViewOrder", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_ModulePermissions]", " "),  new Array(1,"@ModuleID  int,", " "),  new Array(1,"@ToDate    datetime,", " "),  new Array(1,"@FromDate  datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"mp.*, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.vw_ModulePermissions      AS mp", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u1 ON mp.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u2 ON mp.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE", " "),  new Array(1,"ModuleID = @ModuleID", " "),  new Array(1,"AND", " "),  new Array(1,"COALESCE(mp.LastModifiedOnDate, mp.CreatedOnDate, @Now) <= @ToDate", " "),  new Array(1,"AND", " "),  new Array(1,"(@FromDate IS NULL OR ISNULL(mp.LastModifiedOnDate, mp.CreatedOnDate) >= @FromDate)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_Modules]", " "),  new Array(1,"@TabID          int,", " "),  new Array(1,"@IncludeDeleted bit,", " "),  new Array(1,"@ToDate         datetime,", " "),  new Array(1,"@FromDate       datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"SELECT ModuleId INTO #ActiveModuleIds FROM dbo.[Export_GetActiveTabModules](@TabID)", " "),  new Array(1,"", " "),  new Array(1,"SELECT DISTINCT", " "),  new Array(1,"m.*, md.FriendlyName, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.Modules AS m", " "),  new Array(1,"INNER JOIN dbo.TabModules        AS tm ON tm.ModuleID = m.ModuleID", " "),  new Array(1,"INNER JOIN dbo.ModuleDefinitions AS md ON md.ModuleDefID = m.ModuleDefID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users        AS u1 ON tm.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users        AS u2 ON tm.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE", " "),  new Array(1,"tm.TabID = @TabID AND tm.ModuleID IN (SELECT ModuleId FROM #ActiveModuleIds)", " "),  new Array(1,"AND", " "),  new Array(1,"(@IncludeDeleted = 1 OR m.IsDeleted = 0)", " "),  new Array(1,"AND (", " "),  new Array(1,"COALESCE(m.LastModifiedOnDate, m.CreatedOnDate, @Now) <= @ToDate AND (@FromDate IS NULL OR ISNULL(m.LastModifiedOnDate, m.CreatedOnDate) >= @FromDate)", " "),  new Array(1,"OR", " "),  new Array(1,"COALESCE(tm.LastModifiedOnDate, tm.CreatedOnDate, @Now) <= @ToDate AND (@FromDate IS NULL OR ISNULL(tm.LastModifiedOnDate, tm.CreatedOnDate) >= @FromDate)", " "),  new Array(1,")", " "),  new Array(1,"DROP TABLE #ActiveModuleIds", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_ModuleSettings]", " "),  new Array(1,"@ModuleID  int,", " "),  new Array(1,"@ToDate    datetime,", " "),  new Array(1,"@FromDate  datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"ms.*, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.ModuleSettings AS ms", " "),  new Array(1,"INNER JOIN dbo.Modules    AS m  ON ms.ModuleID = m.ModuleID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u1 ON ms.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u2 ON ms.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE", " "),  new Array(1,"m.ModuleID = @ModuleID", " "),  new Array(1,"AND", " "),  new Array(1,"COALESCE(ms.LastModifiedOnDate, ms.CreatedOnDate, @Now) <= @ToDate", " "),  new Array(1,"AND", " "),  new Array(1,"(@FromDate IS NULL OR ISNULL(ms.LastModifiedOnDate, ms.CreatedOnDate) >= @FromDate)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_RoleGroups]", " "),  new Array(1,"@PortalID  int,", " "),  new Array(1,"@ToDate  datetime,", " "),  new Array(1,"@FromDate datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"", " "),  new Array(1,"SELECT DISTINCT", " "),  new Array(1,"rg.*, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.RoleGroups AS rg", " "),  new Array(1,"LEFT OUTER JOIN dbo.Roles AS ro ON rg.RoleGroupID = ro.RoleGroupID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u1 ON rg.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u2 ON rg.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE", " "),  new Array(1,"rg.PortalID = @PortalID", " "),  new Array(1,"AND (", " "),  new Array(1,"( (COALESCE(rg.LastModifiedOnDate, rg.CreatedOnDate, @Now) <= @ToDate) AND ((@FromDate IS NULL OR ISNULL(rg.LastModifiedOnDate, rg.CreatedOnDate) >= @FromDate)))", " "),  new Array(1,"OR", " "),  new Array(1,"( (COALESCE(ro.LastModifiedOnDate, ro.CreatedOnDate, @Now) <= @ToDate) AND ((@FromDate IS NULL OR ISNULL(ro.LastModifiedOnDate, ro.CreatedOnDate) >= @FromDate)))", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_RoleIdByName]", " "),  new Array(1,"@PortalID  int = NULL,", " "),  new Array(1,"@RoleName  nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @RoleId int;", " "),  new Array(1,"SELECT TOP 1 @RoleId=RoleID FROM", " "),  new Array(1,"dbo.Roles", " "),  new Array(1,"WHERE", " "),  new Array(1,"(PortalID = @PortalID OR @PortalID IS NULL) AND RoleName=@RoleName", " "),  new Array(1,"IF @RoleId IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @RoleId = -4;", " "),  new Array(1,"END", " "),  new Array(1,"SELECT @RoleId;", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_Roles]", " "),  new Array(1,"@PortalID  int,", " "),  new Array(1,"@ToDate  datetime,", " "),  new Array(1,"@FromDate datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"r.*, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.Roles AS r", " "),  new Array(1,"LEFT OUTER JOIN dbo.RoleGroups AS rg on r.RoleGroupID = rg.RoleGroupID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u1 ON r.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u2 ON r.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE", " "),  new Array(1,"r.PortalID = @PortalID", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN r.LastModifiedOnDate IS NULL THEN r.CreatedOnDate", " "),  new Array(1,"ELSE r.LastModifiedOnDate END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN r.LastModifiedOnDate IS NULL THEN r.CreatedOnDate", " "),  new Array(1,"ELSE r.LastModifiedOnDate END)<= @ToDate", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_RoleSetAutoAssign]", " "),  new Array(1,"@RoleID int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE", " "),  new Array(1,"dbo.Roles", " "),  new Array(1,"SET", " "),  new Array(1,"AutoAssignment = 1", " "),  new Array(1,"WHERE", " "),  new Array(1,"RoleID = @RoleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_RoleSettings]", " "),  new Array(1,"@PortalID  int,", " "),  new Array(1,"@ToDate  datetime,", " "),  new Array(1,"@FromDate datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"rs.*, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.RoleSettings AS rs", " "),  new Array(1,"INNER JOIN dbo.Roles AS r on r.RoleID = rs.RoleID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u1 ON rs.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u2 ON rs.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE", " "),  new Array(1,"r.PortalID = @PortalID", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN @FromDate IS NULL THEN 0", " "),  new Array(1,"WHEN rs.LastModifiedOnDate IS NULL THEN rs.CreatedOnDate", " "),  new Array(1,"ELSE rs.LastModifiedOnDate END)>= ISNULL(@FromDate,0)", " "),  new Array(1,"AND (CASE", " "),  new Array(1,"WHEN rs.LastModifiedOnDate IS NULL THEN rs.CreatedOnDate", " "),  new Array(1,"ELSE rs.LastModifiedOnDate END)<= @ToDate", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_SetTabModuleDeleted]", " "),  new Array(1,"@TabModuleId int,", " "),  new Array(1,"@IsDeleted   bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.TabModules", " "),  new Array(1,"SET IsDeleted = @IsDeleted", " "),  new Array(1,"WHERE TabModuleId = @TabModuleId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_SetTabSpecificData]", " "),  new Array(1,"@TabId     int,", " "),  new Array(1,"@IsDeleted bit,", " "),  new Array(1,"@IsVisible bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET IsDeleted = @IsDeleted,", " "),  new Array(1,"IsVisible = @IsVisible", " "),  new Array(1,"WHERE TabId = @TabId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_SetUserDeleted]", " "),  new Array(1,"@PortalID   int,", " "),  new Array(1,"@UserID     int,", " "),  new Array(1,"@IsDeleted  bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.UserPortals", " "),  new Array(1,"SET IsDeleted = @IsDeleted", " "),  new Array(1,"WHERE PortalID = @PortalID AND UserID = @UserID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_TabModules]", " "),  new Array(1,"@TabID          int,", " "),  new Array(1,"@IncludeDeleted bit,", " "),  new Array(1,"@ToDate         datetime,", " "),  new Array(1,"@FromDate       datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"SELECT ModuleId INTO #ActiveModuleIds FROM dbo.[Export_GetActiveTabModules](@TabID)", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"tm.*, md.FriendlyName,m.InheritViewPermissions,m.IsShareable,m.IsShareableViewOnly, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.TabModules AS tm", " "),  new Array(1,"INNER JOIN dbo.Tabs              AS t  ON tm.TabID = t.TabID", " "),  new Array(1,"INNER JOIN dbo.Modules           AS m  ON tm.ModuleID = m.ModuleID", " "),  new Array(1,"INNER JOIN dbo.ModuleDefinitions AS md ON md.ModuleDefID = m.ModuleDefID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users        AS u1 ON tm.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users        AS u2 ON tm.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE", " "),  new Array(1,"tm.TabID = @TabID AND tm.ModuleID IN (SELECT ModuleId FROM #ActiveModuleIds)", " "),  new Array(1,"AND", " "),  new Array(1,"(@IncludeDeleted = 1 OR tm.IsDeleted = 0)", " "),  new Array(1,"AND", " "),  new Array(1,"COALESCE(tm.LastModifiedOnDate, tm.CreatedOnDate, @Now) <= @ToDate", " "),  new Array(1,"AND", " "),  new Array(1,"(@FromDate IS NULL OR ISNULL(tm.LastModifiedOnDate, tm.CreatedOnDate) >= @FromDate)", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #ActiveModuleIds", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_TabModuleSettings]", " "),  new Array(1,"@TabID          int,", " "),  new Array(1,"@ToDate         datetime,", " "),  new Array(1,"@FromDate       datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"SELECT ModuleId INTO #ActiveModuleIds FROM dbo.[Export_GetActiveTabModules](@TabID)", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"tms.*, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.TabModuleSettings AS tms", " "),  new Array(1,"INNER JOIN dbo.TabModules AS tm ON tm.TabModuleID = tms.TabModuleID", " "),  new Array(1,"INNER JOIN dbo.Tabs       AS t  ON tm.TabID = t.TabID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u1 ON tm.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u2 ON tm.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE", " "),  new Array(1,"t.TabID = @TabID AND tm.ModuleID IN (SELECT ModuleId FROM #ActiveModuleIds)", " "),  new Array(1,"AND", " "),  new Array(1,"COALESCE(tms.LastModifiedOnDate, tms.CreatedOnDate, @Now) <= @ToDate", " "),  new Array(1,"AND", " "),  new Array(1,"(@FromDate IS NULL OR ISNULL(tms.LastModifiedOnDate, tms.CreatedOnDate) >= @FromDate)", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #ActiveModuleIds", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_TabPermissions]", " "),  new Array(1,"@TabID     int,", " "),  new Array(1,"@ToDate  datetime,", " "),  new Array(1,"@FromDate datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"tp.*, md.FriendlyName, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.vw_TabPermissions AS tp", " "),  new Array(1,"LEFT OUTER JOIN dbo.ModuleDefinitions AS md ON md.ModuleDefID = tp.ModuleDefID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u1 ON tp.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u2 ON tp.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE", " "),  new Array(1,"TabID = @TabID", " "),  new Array(1,"AND", " "),  new Array(1,"COALESCE(tp.LastModifiedOnDate, tp.CreatedOnDate, @Now) <= @ToDate", " "),  new Array(1,"AND", " "),  new Array(1,"(@FromDate IS NULL OR ISNULL(tp.LastModifiedOnDate, tp.CreatedOnDate) >= @FromDate)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_Tabs]", " "),  new Array(1,"@PortalID        int,", " "),  new Array(1,"@IncludeDeleted  bit,", " "),  new Array(1,"@IncludeSystem   bit,", " "),  new Array(1,"@ToDate          datetime,", " "),  new Array(1,"@FromDate        datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"", " "),  new Array(1,"SELECT DISTINCT", " "),  new Array(1,"t.TabID, IsNull(t.ParentId, -1) AS ParentId, t.IsSystem, t.IsDeleted", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.Tabs t", " "),  new Array(1,"LEFT JOIN dbo.TabModules AS tm ON t.TabID = tm.TabID", " "),  new Array(1,"WHERE", " "),  new Array(1,"PortalID = @PortalID", " "),  new Array(1,"AND", " "),  new Array(1,"IsSystem = @IncludeSystem", " "),  new Array(1,"AND", " "),  new Array(1,"(@IncludeDeleted = 1 OR t.IsDeleted = 0)", " "),  new Array(1,"AND (", " "),  new Array(1,"(COALESCE(t.LastModifiedOnDate, t.CreatedOnDate, @Now) <= @ToDate AND (@FromDate IS NULL OR ISNULL(t.LastModifiedOnDate, t.CreatedOnDate) >= @FromDate))", " "),  new Array(1,"OR", " "),  new Array(1,"(COALESCE(tm.LastModifiedOnDate, tm.CreatedOnDate, @Now) <= @ToDate AND (@FromDate IS NULL OR ISNULL(tm.LastModifiedOnDate, tm.CreatedOnDate) >= @FromDate))", " "),  new Array(1,")", " "),  new Array(1,"ORDER BY", " "),  new Array(1,"TabID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_TabSettings]", " "),  new Array(1,"@TabID     int,", " "),  new Array(1,"@ToDate  datetime,", " "),  new Array(1,"@FromDate datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"ts.*, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.TabSettings AS ts", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u1 ON ts.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u2 ON ts.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE", " "),  new Array(1,"TabID = @TabID", " "),  new Array(1,"AND", " "),  new Array(1,"COALESCE(ts.LastModifiedOnDate, ts.CreatedOnDate, @Now) <= @ToDate", " "),  new Array(1,"AND", " "),  new Array(1,"(@FromDate IS NULL OR ISNULL(ts.LastModifiedOnDate, ts.CreatedOnDate) >= @FromDate)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_TabUrls]", " "),  new Array(1,"@TabID     int,", " "),  new Array(1,"@ToDate  datetime,", " "),  new Array(1,"@FromDate datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"tu.*, pa.HTTPAlias, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.TabUrls as tu", " "),  new Array(1,"LEFT OUTER JOIN dbo.PortalAlias AS pa ON tu.PortalAliasId = pa.PortalAliasID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users       AS u1 ON tu.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users       AS u2 ON tu.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE", " "),  new Array(1,"tu.TabID = @TabID", " "),  new Array(1,"AND", " "),  new Array(1,"COALESCE(tu.LastModifiedOnDate, tu.CreatedOnDate, @Now) <= @ToDate", " "),  new Array(1,"AND", " "),  new Array(1,"(@FromDate IS NULL OR ISNULL(tu.LastModifiedOnDate, tu.CreatedOnDate) >= @FromDate)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_UpdateRoleSettingChangers]", " "),  new Array(1,"@RoleID      int,", " "),  new Array(1,"@SettingName nvarchar(50),", " "),  new Array(1,"@CreatedBy   int,", " "),  new Array(1,"@ModifiedBy  int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE", " "),  new Array(1,"dbo.RoleSettings", " "),  new Array(1,"SET", " "),  new Array(1,"CreatedByUserID = @CreatedBy,", " "),  new Array(1,"LastModifiedByUserID = @ModifiedBy", " "),  new Array(1,"WHERE", " "),  new Array(1,"RoleID = @RoleID", " "),  new Array(1,"AND", " "),  new Array(1,"SettingName = @SettingName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_UpdateTabUrlChangers]", " "),  new Array(1,"@TabId           int,", " "),  new Array(1,"@SeqNum          int,", " "),  new Array(1,"@CreatedBy       int,", " "),  new Array(1,"@ModifiedBy      int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.TabUrls", " "),  new Array(1,"SET CreatedByUserID = @CreatedBy, LastModifiedByUserID = @ModifiedBy", " "),  new Array(1,"WHERE TabId = @TabId AND SeqNum = @SeqNum", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Export_UpdateUsersChangers]", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@CreatedByUserName nvarchar(100),", " "),  new Array(1,"@ModifiedByUserName nvarchar(100)", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE", " "),  new Array(1,"dbo.Users", " "),  new Array(1,"SET", " "),  new Array(1,"CreatedByUserID = dbo.[Export_UserIdByUsername](@CreatedByUserName),", " "),  new Array(1,"LastModifiedByUserID = dbo.[Export_UserIdByUsername](@ModifiedByUserName)", " "),  new Array(1,"WHERE", " "),  new Array(1,"UserID = @UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImport_AddSetting]", " "),  new Array(1,"@SettingName        [nvarchar](50),", " "),  new Array(1,"@SettingValue        [nvarchar](MAX),", " "),  new Array(1,"@SettingIsSecure    [bit] = 0,", " "),  new Array(1,"@CreatedByUserID    [int]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF NOT EXISTS (SELECT 1 FROM dbo.[ExportImportSettings] WHERE [SettingName] = @SettingName)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[ExportImportSettings] ([SettingName],[SettingValue],[SettingIsSecure],[CreatedByUserID],[CreatedOnDate],[LastModifiedByUserID],[LastModifiedOnDate])", " "),  new Array(1,"VALUES (@SettingName, @SettingValue, @SettingIsSecure, @CreatedByUserID, GETDATE(), @CreatedByUserID, GETDATE())", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[ExportImportSettings] SET [SettingValue]=@SettingValue,[LastModifiedByUserID]=@CreatedByUserID,[LastModifiedOnDate]=GETDATE() WHERE [SettingName] = @SettingName", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImport_AddUpdateUserRolesBulk]", " "),  new Array(1,"@DataTable dbo.ExportImportUserRoleType READONLY,", " "),  new Array(1,"@Overwrite bit = 1", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"BEGIN TRANSACTION [UserRolesInsert]", " "),  new Array(1,"IF @Overwrite = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--Update UserRoles", " "),  new Array(1,"SELECT", " "),  new Array(1,"UserRole.UserRoleId", " "),  new Array(1,",dt.Status", " "),  new Array(1,",dt.IsOwner", " "),  new Array(1,",dt.EffectiveDate", " "),  new Array(1,",dt.ExpiryDate", " "),  new Array(1,",dt.IsTrialUsed", " "),  new Array(1,",dt.LastModifiedByUserId", " "),  new Array(1,"INTO #UserRoleUpdatesDataTable", " "),  new Array(1,"FROM @DataTable dt INNER JOIN dbo.Users Users ON Users.UserID=dt.UserId", " "),  new Array(1,"INNER JOIN dbo.UserPortals UP ON UP.UserId=Users.UserID AND UP.PortalId=dt.PortalId", " "),  new Array(1,"INNER JOIN dbo.UserRoles UserRole ON UserRole.UserID=Users.UserID AND UserRole.RoleID=dt.RoleId", " "),  new Array(1,"WHERE UP.UserPortalId IS NOT NULL AND UP.PortalId=dt.PortalId AND UserRole.UserRoleId IS NOT NULL AND dt.IsSuperUser=0 AND Users.IsSuperUser=0", " "),  new Array(1,"", " "),  new Array(1,"UPDATE UserRoles", " "),  new Array(1,"SET", " "),  new Array(1,"UserRoles.Status 					= dt.Status,", " "),  new Array(1,"UserRoles.IsOwner 					= dt.IsOwner,", " "),  new Array(1,"UserRoles.EffectiveDate 			= dt.EffectiveDate,", " "),  new Array(1,"UserRoles.ExpiryDate 				= dt.ExpiryDate,", " "),  new Array(1,"UserRoles.IsTrialUsed 				= dt.IsTrialUsed,", " "),  new Array(1,"UserRoles.LastModifiedByUserID 		= dt.LastModifiedByUserId,", " "),  new Array(1,"UserRoles.LastModifiedOnDate		= GETDATE()", " "),  new Array(1,"FROM dbo.UserRoles AS UserRoles", " "),  new Array(1,"INNER JOIN #UserRoleUpdatesDataTable AS dt ON UserRoles.UserRoleId=dt.UserRoleId", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #UserRoleUpdatesDataTable;", " "),  new Array(1,"", " "),  new Array(1,"--Insert new UserRoles", " "),  new Array(1,"SELECT", " "),  new Array(1,"dt.UserId", " "),  new Array(1,",dt.RoleId", " "),  new Array(1,",dt.Status", " "),  new Array(1,",dt.IsOwner", " "),  new Array(1,",dt.EffectiveDate", " "),  new Array(1,",dt.ExpiryDate", " "),  new Array(1,",dt.IsTrialUsed", " "),  new Array(1,",dt.CreatedByUserId", " "),  new Array(1,",dt.LastModifiedByUserId", " "),  new Array(1,"INTO #UserRoleInsertsDataTable", " "),  new Array(1,"FROM @DataTable dt INNER JOIN dbo.Users Users ON Users.UserID=dt.UserId", " "),  new Array(1,"INNER JOIN dbo.UserPortals UP ON UP.UserId=Users.UserID", " "),  new Array(1,"LEFT JOIN dbo.UserRoles UserRole ON UserRole.UserID=Users.UserID AND UserRole.RoleID=dt.RoleId", " "),  new Array(1,"WHERE UP.UserPortalId IS NOT NULL AND UP.PortalId=dt.PortalId AND UserRole.UserRoleId IS NULL AND dt.IsSuperUser=0  AND ISNULL(Users.IsSuperUser, 0)=0", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.UserRoles(", " "),  new Array(1,"UserId,", " "),  new Array(1,"RoleId,", " "),  new Array(1,"Status,", " "),  new Array(1,"IsOwner,", " "),  new Array(1,"EffectiveDate,", " "),  new Array(1,"ExpiryDate,", " "),  new Array(1,"IsTrialUsed,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"SELECT", " "),  new Array(1,"dt.UserID,", " "),  new Array(1,"dt.RoleId,", " "),  new Array(1,"dt.Status,", " "),  new Array(1,"dt.IsOwner,", " "),  new Array(1,"dt.EffectiveDate,", " "),  new Array(1,"dt.ExpiryDate,", " "),  new Array(1,"dt.IsTrialUsed,", " "),  new Array(1,"dt.CreatedByUserId,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"dt.LastModifiedByUserId,", " "),  new Array(1,"getdate()", " "),  new Array(1,"FROM", " "),  new Array(1,"#UserRoleInsertsDataTable dt", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #UserRoleInsertsDataTable;", " "),  new Array(1,"END", " "),  new Array(1,"COMMIT TRANSACTION [UserRolesInsert]", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImport_AddUpdateUsersBulk]", " "),  new Array(1,"@DataTable dbo.[ExportImportUserType] READONLY,", " "),  new Array(1,"@Overwrite bit = 1", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @MinDate Datetime = cast(\'1753-1-1\' as datetime);", " "),  new Array(1,"DECLARE @EmptyGuid UNIQUEIDENTIFIER = CAST(CAST(0 AS BINARY) AS UNIQUEIDENTIFIER);", " "),  new Array(1,"BEGIN TRANSACTION [UsersInsert]", " "),  new Array(1,"--Update\/Insert Users", " "),  new Array(1,"IF @Overwrite = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--Update Users", " "),  new Array(1,"SELECT", " "),  new Array(1,"Users.UserID", " "),  new Array(1,",dt.IsDeleted", " "),  new Array(1,",dt.PortalId", " "),  new Array(1,",dt.FirstName", " "),  new Array(1,",dt.LastName", " "),  new Array(1,",dt.IsSuperUser", " "),  new Array(1,",dt.Email", " "),  new Array(1,",dt.DisplayName", " "),  new Array(1,",dt.UpdatePassword", " "),  new Array(1,",dt.PasswordResetToken", " "),  new Array(1,",dt.PasswordResetExpiration", " "),  new Array(1,",dt.LastIPAddress", " "),  new Array(1,",dt.LastModifiedByUserId", " "),  new Array(1,"INTO #UserUpdatesDataTable", " "),  new Array(1,"FROM @DataTable dt", " "),  new Array(1,"INNER JOIN dbo.Users Users", " "),  new Array(1,"ON Users.Username= dt.Username", " "),  new Array(1,"WHERE Users.UserID IS NOT NULL AND dt.IsSuperUser=0 AND Users.IsSuperUser=0", " "),  new Array(1,"", " "),  new Array(1,"UPDATE Users", " "),  new Array(1,"SET", " "),  new Array(1,"Users.FirstName 				= dt.FirstName,", " "),  new Array(1,"Users.LastName 					= dt.LastName,", " "),  new Array(1,"Users.IsSuperUser 				= dt.IsSuperUser,", " "),  new Array(1,"Users.Email 					= dt.Email,", " "),  new Array(1,"Users.DisplayName 				= dt.DisplayName,", " "),  new Array(1,"Users.UpdatePassword 			= dt.UpdatePassword,", " "),  new Array(1,"Users.PasswordResetToken		= dt.PasswordResetToken,", " "),  new Array(1,"Users.PasswordResetExpiration	= dt.PasswordResetExpiration,", " "),  new Array(1,"Users.LastIPAddress 			= dt.LastIPAddress,", " "),  new Array(1,"Users.LastModifiedByUserID 		= dt.LastModifiedByUserId,", " "),  new Array(1,"Users.LastModifiedOnDate 		= getdate(),", " "),  new Array(1,"Users.IsDeleted = CASE WHEN dt.PortalId IS NULL THEN dt.IsDeleted ELSE Users.IsDeleted END", " "),  new Array(1,"FROM dbo.Users AS Users", " "),  new Array(1,"INNER JOIN #UserUpdatesDataTable AS dt ON Users.UserID=dt.UserID", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #UserUpdatesDataTable;", " "),  new Array(1,"END", " "),  new Array(1,"--Insert new Users", " "),  new Array(1,"SELECT  Users.UserID,", " "),  new Array(1,"dt.Username,", " "),  new Array(1,"dt.FirstName,", " "),  new Array(1,"dt.LastName,", " "),  new Array(1,"dt.AffiliateId,", " "),  new Array(1,"dt.IsSuperUser,", " "),  new Array(1,"dt.Email,", " "),  new Array(1,"dt.DisplayName,", " "),  new Array(1,"dt.UpdatePassword,", " "),  new Array(1,"dt.CreatedByUserId,", " "),  new Array(1,"dt.LastModifiedByUserId", " "),  new Array(1,"INTO #UserInsertsDataTable", " "),  new Array(1,"FROM @DataTable dt", " "),  new Array(1,"LEFT JOIN  dbo.Users Users ON Users.Username = dt.Username", " "),  new Array(1,"WHERE Users.UserID IS NULL AND dt.IsSuperUser=0  AND ISNULL(Users.IsSuperUser, 0)=0", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.Users (", " "),  new Array(1,"Username,", " "),  new Array(1,"FirstName,", " "),  new Array(1,"LastName,", " "),  new Array(1,"AffiliateId,", " "),  new Array(1,"IsSuperUser,", " "),  new Array(1,"Email,", " "),  new Array(1,"DisplayName,", " "),  new Array(1,"UpdatePassword,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"SELECT", " "),  new Array(1,"dt.Username,", " "),  new Array(1,"dt.FirstName,", " "),  new Array(1,"dt.LastName,", " "),  new Array(1,"dt.AffiliateId,", " "),  new Array(1,"dt.IsSuperUser,", " "),  new Array(1,"dt.Email,", " "),  new Array(1,"dt.DisplayName,", " "),  new Array(1,"dt.UpdatePassword,", " "),  new Array(1,"dt.CreatedByUserId,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"dt.LastModifiedByUserId,", " "),  new Array(1,"getdate()", " "),  new Array(1,"FROM", " "),  new Array(1,"#UserInsertsDataTable dt", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #UserInsertsDataTable;", " "),  new Array(1,"", " "),  new Array(1,"--Update\/Insert User Portals", " "),  new Array(1,"IF @Overwrite = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--Update User Portals", " "),  new Array(1,"SELECT", " "),  new Array(1,"UP.UserPortalId", " "),  new Array(1,",dt.IsDeleted", " "),  new Array(1,",dt.Authorised", " "),  new Array(1,",dt.RefreshRoles", " "),  new Array(1,",dt.VanityUrl", " "),  new Array(1,",dt.PortalId", " "),  new Array(1,"INTO #UP_UpdatesDataTable", " "),  new Array(1,"FROM @DataTable dt", " "),  new Array(1,"INNER JOIN dbo.Users Users ON Users.Username= dt.Username", " "),  new Array(1,"INNER JOIN dbo.UserPortals UP ON UP.UserId= Users.UserID", " "),  new Array(1,"WHERE Users.UserID IS NOT NULL AND UP.UserPortalId IS NOT NULL AND UP.PortalId=dt.PortalId", " "),  new Array(1,"AND dt.IsDeleted IS NOT NULL AND dt.Authorised IS NOT NULL AND dt.RefreshRoles IS NOT NULL AND dt.IsSuperUser=0 AND Users.IsSuperUser=0", " "),  new Array(1,"", " "),  new Array(1,"UPDATE UserPortals", " "),  new Array(1,"SET", " "),  new Array(1,"Authorised =	dt.Authorised,", " "),  new Array(1,"RefreshRoles =  dt.RefreshRoles,", " "),  new Array(1,"VanityUrl =		dt.VanityUrl,", " "),  new Array(1,"IsDeleted =		dt.IsDeleted", " "),  new Array(1,"FROM dbo.UserPortals AS UserPortals", " "),  new Array(1,"INNER JOIN #UP_UpdatesDataTable AS dt ON UserPortals.UserPortalId=dt.UserPortalId", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #UP_UpdatesDataTable;", " "),  new Array(1,"END", " "),  new Array(1,"--Inser User Portals", " "),  new Array(1,"SELECT", " "),  new Array(1,"Users.UserId,", " "),  new Array(1,"UP.UserPortalId", " "),  new Array(1,",dt.IsDeleted", " "),  new Array(1,",dt.Authorised", " "),  new Array(1,",dt.RefreshRoles", " "),  new Array(1,",dt.VanityUrl", " "),  new Array(1,",dt.PortalId", " "),  new Array(1,"INTO #UP_InsertsDataTable", " "),  new Array(1,"FROM @DataTable dt", " "),  new Array(1,"INNER JOIN dbo.Users Users ON Users.Username= dt.Username", " "),  new Array(1,"LEFT JOIN dbo.UserPortals UP ON UP.UserId= Users.UserID AND UP.PortalId=dt.PortalId", " "),  new Array(1,"WHERE Users.UserID IS NOT NULL AND UP.UserPortalId IS NULL", " "),  new Array(1,"AND dt.IsDeleted IS NOT NULL AND dt.Authorised IS NOT NULL AND dt.RefreshRoles IS NOT NULL AND dt.IsSuperUser=0  AND ISNULL(Users.IsSuperUser, 0)=0", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.UserPortals (", " "),  new Array(1,"[UserId]", " "),  new Array(1,",[PortalId]", " "),  new Array(1,",[CreatedDate]", " "),  new Array(1,",[Authorised]", " "),  new Array(1,",[IsDeleted]", " "),  new Array(1,",[RefreshRoles]", " "),  new Array(1,",[VanityUrl])", " "),  new Array(1,"SELECT", " "),  new Array(1,"dt.[UserId]", " "),  new Array(1,",dt.[PortalId]", " "),  new Array(1,",getdate()", " "),  new Array(1,",dt.[Authorised]", " "),  new Array(1,",dt.[IsDeleted]", " "),  new Array(1,",dt.[RefreshRoles]", " "),  new Array(1,",dt.[VanityUrl]", " "),  new Array(1,"FROM #UP_InsertsDataTable dt", " "),  new Array(1,"DROP TABLE #UP_InsertsDataTable;", " "),  new Array(1,"", " "),  new Array(1,"----Update\/Insert User Authentication", " "),  new Array(1,"IF @Overwrite = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"UserAuthentication.UserAuthenticationID", " "),  new Array(1,",dt.AuthenticationType", " "),  new Array(1,",dt.AuthenticationToken", " "),  new Array(1,",dt.LastModifiedByUserId", " "),  new Array(1,"INTO #UserAuthenticationUpdatesDataTable", " "),  new Array(1,"FROM @DataTable dt INNER JOIN dbo.Users Users ON Users.Username=dt.Username", " "),  new Array(1,"INNER JOIN dbo.UserPortals UP ON UP.UserId=Users.UserID AND UP.PortalId=dt.PortalId", " "),  new Array(1,"INNER JOIN dbo.UserAuthentication UserAuthentication ON UserAuthentication.UserID=Users.UserID AND LTRIM(RTRIM(UserAuthentication.AuthenticationType)) = LTRIM(RTRIM(dt.AuthenticationType))", " "),  new Array(1,"WHERE Users.UserID IS NOT NULL AND UP.UserPortalId IS NOT NULL AND UP.PortalId=dt.PortalId AND UserAuthentication.UserAuthenticationID IS NOT NULL AND dt.AuthenticationToken IS NOT NULL AND dt.AuthenticationType IS NOT NULL AND dt.IsSuperUser=0 AND Users.IsSuperUser=0", " "),  new Array(1,"", " "),  new Array(1,"UPDATE UserAuthentication", " "),  new Array(1,"SET", " "),  new Array(1,"UserAuthentication.AuthenticationToken 	= dt.AuthenticationToken,", " "),  new Array(1,"UserAuthentication.LastModifiedByUserID = dt.LastModifiedByUserId,", " "),  new Array(1,"UserAuthentication.LastModifiedOnDate	= GETDATE()", " "),  new Array(1,"FROM dbo.UserAuthentication AS UserAuthentication", " "),  new Array(1,"INNER JOIN #UserAuthenticationUpdatesDataTable AS dt ON UserAuthentication.UserAuthenticationID=dt.UserAuthenticationID", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #UserAuthenticationUpdatesDataTable;", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"--Insert new UserAuthentication", " "),  new Array(1,"SELECT", " "),  new Array(1,"Users.UserID", " "),  new Array(1,",dt.AuthenticationType", " "),  new Array(1,",dt.AuthenticationToken", " "),  new Array(1,",dt.CreatedByUserId", " "),  new Array(1,",dt.LastModifiedByUserId", " "),  new Array(1,"INTO #UserAuthenticationInsertsDataTable", " "),  new Array(1,"FROM @DataTable dt INNER JOIN dbo.Users Users ON Users.Username=dt.Username", " "),  new Array(1,"INNER JOIN dbo.UserPortals UP ON UP.UserId=Users.UserID AND UP.PortalId=dt.PortalId", " "),  new Array(1,"LEFT JOIN dbo.UserAuthentication UserAuthentication ON UserAuthentication.UserID=Users.UserID AND LTRIM(RTRIM(UserAuthentication.AuthenticationType)) = LTRIM(RTRIM(dt.AuthenticationType))", " "),  new Array(1,"WHERE Users.UserID IS NOT NULL AND UP.UserPortalId IS NOT NULL AND UP.PortalId=dt.PortalId AND UserAuthentication.UserAuthenticationID IS NULL AND dt.IsSuperUser=0  AND ISNULL(Users.IsSuperUser, 0)=0", " "),  new Array(1,"AND dt.AuthenticationToken IS NOT NULL AND dt.AuthenticationType IS NOT NULL", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.[UserAuthentication](", " "),  new Array(1,"UserID", " "),  new Array(1,",AuthenticationType", " "),  new Array(1,",AuthenticationToken", " "),  new Array(1,",CreatedByUserID", " "),  new Array(1,",CreatedOnDate", " "),  new Array(1,",LastModifiedByUserID", " "),  new Array(1,",LastModifiedOnDate", " "),  new Array(1,")", " "),  new Array(1,"SELECT", " "),  new Array(1,"dt.UserID,", " "),  new Array(1,"dt.AuthenticationType,", " "),  new Array(1,"dt.AuthenticationToken,", " "),  new Array(1,"dt.CreatedByUserId,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"dt.LastModifiedByUserId,", " "),  new Array(1,"GETDATE()", " "),  new Array(1,"FROM", " "),  new Array(1,"#UserAuthenticationInsertsDataTable dt", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #UserAuthenticationInsertsDataTable;", " "),  new Array(1,"", " "),  new Array(1,"--Update\/Insert aspnet_Users", " "),  new Array(1,"IF @Overwrite = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--Update aspnet_Users", " "),  new Array(1,"SELECT", " "),  new Array(1,"AspUsers.UserId", " "),  new Array(1,",dt.Username", " "),  new Array(1,",dt.[ApplicationId]", " "),  new Array(1,",dt.[MobileAlias]", " "),  new Array(1,",dt.[IsAnonymous]", " "),  new Array(1,"INTO #AspNetUserUpdatesDataTable", " "),  new Array(1,"FROM @DataTable dt INNER JOIN dbo.aspnet_Users AspUsers ON AspUsers.Username= dt.Username", " "),  new Array(1,"INNER JOIN dbo.Users Users ON Users.Username=dt.Username", " "),  new Array(1,"WHERE AspUsers.UserId IS NOT NULL AND dt.AspUserId <> @EmptyGuid AND dt.[IsAnonymous] IS NOT NULL AND dt.[ApplicationId] IS NOT NULL AND dt.IsSuperUser=0 AND Users.IsSuperUser=0", " "),  new Array(1,"", " "),  new Array(1,"UPDATE Users", " "),  new Array(1,"SET", " "),  new Array(1,"Users.UserName 					= dt.Username,", " "),  new Array(1,"Users.[LoweredUserName]			= LOWER(dt.Username),", " "),  new Array(1,"Users.[MobileAlias] 			= dt.[MobileAlias],", " "),  new Array(1,"Users.[IsAnonymous] 			= dt.[IsAnonymous],", " "),  new Array(1,"Users.[LastActivityDate] 		= GETUTCDATE()", " "),  new Array(1,"FROM dbo.aspnet_Users AS Users", " "),  new Array(1,"INNER JOIN #AspNetUserUpdatesDataTable AS dt", " "),  new Array(1,"ON Users.UserID=dt.UserID AND Users.ApplicationId=dt.[ApplicationId]", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #AspNetUserUpdatesDataTable", " "),  new Array(1,"END", " "),  new Array(1,"--Insert aspnet_Users", " "),  new Array(1,"SELECT", " "),  new Array(1,"dt.Username", " "),  new Array(1,",dt.[ApplicationId]", " "),  new Array(1,",dt.[MobileAlias]", " "),  new Array(1,",dt.[IsAnonymous]", " "),  new Array(1,"", " "),  new Array(1,"INTO #AspNetUserInsertsDataTable", " "),  new Array(1,"FROM @DataTable dt", " "),  new Array(1,"LEFT JOIN dbo.aspnet_Users AspUsers ON AspUsers.Username= dt.Username", " "),  new Array(1,"INNER JOIN dbo.Users Users ON Users.Username=dt.Username", " "),  new Array(1,"WHERE AspUsers.UserId IS NULL AND dt.AspUserId <> @EmptyGuid AND dt.[IsAnonymous] IS NOT NULL AND dt.[ApplicationId] IS NOT NULL AND dt.IsSuperUser=0  AND ISNULL(Users.IsSuperUser, 0)=0", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.[aspnet_Users]", " "),  new Array(1,"([ApplicationId]", " "),  new Array(1,",[UserName]", " "),  new Array(1,",[LoweredUserName]", " "),  new Array(1,",[MobileAlias]", " "),  new Array(1,",[IsAnonymous]", " "),  new Array(1,",[LastActivityDate])", " "),  new Array(1,"SELECT", " "),  new Array(1,"dt.[ApplicationId]", " "),  new Array(1,",dt.[Username]", " "),  new Array(1,",LOWER(dt.[Username])", " "),  new Array(1,",dt.[MobileAlias]", " "),  new Array(1,",dt.[IsAnonymous]", " "),  new Array(1,",GETUTCDATE()", " "),  new Array(1,"FROM #AspNetUserInsertsDataTable dt", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #AspNetUserInsertsDataTable", " "),  new Array(1,"", " "),  new Array(1,"--Update\/Insert aspnet_Membership", " "),  new Array(1,"IF @Overwrite = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--Update aspnet_Membership", " "),  new Array(1,"SELECT", " "),  new Array(1,"dt.[ApplicationId]", " "),  new Array(1,",AspUsers.UserId", " "),  new Array(1,",dt.[Password]", " "),  new Array(1,",dt.[PasswordFormat]", " "),  new Array(1,",dt.[PasswordSalt]", " "),  new Array(1,",dt.[MobilePIN]", " "),  new Array(1,",dt.[Email]", " "),  new Array(1,",dt.[PasswordQuestion]", " "),  new Array(1,",dt.[PasswordAnswer]", " "),  new Array(1,",dt.[IsApproved]", " "),  new Array(1,",dt.[IsLockedOut]", " "),  new Array(1,",dt.[FailedPasswordAttemptCount]", " "),  new Array(1,",dt.[FailedPasswordAnswerAttemptCount]", " "),  new Array(1,",dt.[Comment]", " "),  new Array(1,"INTO #AspNetMembershipUpdatesDataTable", " "),  new Array(1,"FROM @DataTable dt INNER JOIN dbo.aspnet_Users AspUsers ON AspUsers.Username= dt.Username", " "),  new Array(1,"INNER JOIN dbo.Users Users ON Users.Username=dt.Username", " "),  new Array(1,"INNER JOIN dbo.aspnet_Membership Membership ON Membership.UserId= AspUsers.UserID AND Membership.ApplicationId=AspUsers.ApplicationId", " "),  new Array(1,"WHERE AspUsers.UserId IS NOT NULL AND Membership.UserId IS NOT NULL AND dt.AspUserId <> @EmptyGuid AND dt.Password IS NOT NULL", " "),  new Array(1,"AND dt.[PasswordFormat] IS NOT NULL AND dt.[PasswordSalt] IS NOT NULL AND dt.[IsApproved] IS NOT NULL AND dt.[IsLockedOut] IS NOT NULL", " "),  new Array(1,"AND dt.[FailedPasswordAttemptCount] IS NOT NULL AND dt.[FailedPasswordAnswerAttemptCount] IS NOT NULL AND dt.IsSuperUser=0 AND Users.IsSuperUser=0", " "),  new Array(1,"", " "),  new Array(1,"UPDATE Membership", " "),  new Array(1,"SET", " "),  new Array(1,"[Password]							=dt.[Password]", " "),  new Array(1,",[PasswordFormat]					=dt.[PasswordFormat]", " "),  new Array(1,",[PasswordSalt] 					=dt.[PasswordSalt]", " "),  new Array(1,",[MobilePIN]						=dt.[MobilePIN]", " "),  new Array(1,",[Email]							=dt.[Email]", " "),  new Array(1,",[PasswordQuestion]					=dt.[PasswordQuestion]", " "),  new Array(1,",[PasswordAnswer]					=dt.[PasswordAnswer]", " "),  new Array(1,",[IsApproved]						=dt.[IsApproved]", " "),  new Array(1,",[IsLockedOut]						=dt.[IsLockedOut]", " "),  new Array(1,",[FailedPasswordAttemptCount]		=dt.[FailedPasswordAttemptCount]", " "),  new Array(1,",[FailedPasswordAnswerAttemptCount]	=dt.[FailedPasswordAnswerAttemptCount]", " "),  new Array(1,",[Comment]							=dt.[Comment]", " "),  new Array(1,"FROM dbo.aspnet_Membership AS Membership", " "),  new Array(1,"INNER JOIN #AspNetMembershipUpdatesDataTable AS dt ON Membership.UserId=dt.UserId AND Membership.[ApplicationId]=dt.[ApplicationId]", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #AspNetMembershipUpdatesDataTable", " "),  new Array(1,"END", " "),  new Array(1,"--Insert aspnet_Membership", " "),  new Array(1,"SELECT", " "),  new Array(1,"dt.[ApplicationId]", " "),  new Array(1,",AspUsers.UserId", " "),  new Array(1,",dt.[Password]", " "),  new Array(1,",dt.[PasswordFormat]", " "),  new Array(1,",dt.[PasswordSalt]", " "),  new Array(1,",dt.[MobilePIN]", " "),  new Array(1,",dt.[Email]", " "),  new Array(1,",dt.[PasswordQuestion]", " "),  new Array(1,",dt.[PasswordAnswer]", " "),  new Array(1,",dt.[IsApproved]", " "),  new Array(1,",dt.[IsLockedOut]", " "),  new Array(1,",dt.[FailedPasswordAttemptCount]", " "),  new Array(1,",dt.[FailedPasswordAnswerAttemptCount]", " "),  new Array(1,",dt.[Comment]", " "),  new Array(1,"INTO #AspNetMembershipInsertsDataTable", " "),  new Array(1,"FROM @DataTable dt INNER JOIN dbo.aspnet_Users AspUsers ON AspUsers.Username= dt.Username", " "),  new Array(1,"INNER JOIN dbo.Users Users ON Users.Username=dt.Username", " "),  new Array(1,"LEFT JOIN dbo.aspnet_Membership Membership ON Membership.UserId= AspUsers.UserID AND Membership.ApplicationId=AspUsers.ApplicationId", " "),  new Array(1,"WHERE AspUsers.UserId IS NOT NULL AND Membership.UserId IS NULL AND dt.AspUserId <> @EmptyGuid AND dt.Password IS NOT NULL", " "),  new Array(1,"AND dt.[PasswordFormat] IS NOT NULL AND dt.[PasswordSalt] IS NOT NULL AND dt.[IsApproved] IS NOT NULL AND dt.[IsLockedOut] IS NOT NULL", " "),  new Array(1,"AND dt.[FailedPasswordAttemptCount] IS NOT NULL AND dt.[FailedPasswordAnswerAttemptCount] IS NOT NULL AND dt.IsSuperUser=0  AND ISNULL(Users.IsSuperUser, 0)=0", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.[aspnet_Membership]", " "),  new Array(1,"([ApplicationId]", " "),  new Array(1,",[UserId]", " "),  new Array(1,",[Password]", " "),  new Array(1,",[PasswordFormat]", " "),  new Array(1,",[PasswordSalt]", " "),  new Array(1,",[MobilePIN]", " "),  new Array(1,",[Email]", " "),  new Array(1,",[LoweredEmail]", " "),  new Array(1,",[PasswordQuestion]", " "),  new Array(1,",[PasswordAnswer]", " "),  new Array(1,",[IsApproved]", " "),  new Array(1,",[IsLockedOut]", " "),  new Array(1,",[CreateDate]", " "),  new Array(1,",[LastLoginDate]", " "),  new Array(1,",[LastPasswordChangedDate]", " "),  new Array(1,",[LastLockoutDate]", " "),  new Array(1,",[FailedPasswordAttemptCount]", " "),  new Array(1,",[FailedPasswordAttemptWindowStart]", " "),  new Array(1,",[FailedPasswordAnswerAttemptCount]", " "),  new Array(1,",[FailedPasswordAnswerAttemptWindowStart]", " "),  new Array(1,",[Comment])", " "),  new Array(1,"SELECT", " "),  new Array(1,"dt.[ApplicationId]", " "),  new Array(1,",dt.[UserId]", " "),  new Array(1,",dt.[Password]", " "),  new Array(1,",dt.[PasswordFormat]", " "),  new Array(1,",dt.[PasswordSalt]", " "),  new Array(1,",dt.[MobilePIN]", " "),  new Array(1,",dt.[Email]", " "),  new Array(1,",LOWER(dt.[Email])", " "),  new Array(1,",dt.[PasswordQuestion]", " "),  new Array(1,",dt.[PasswordAnswer]", " "),  new Array(1,",dt.[IsApproved]", " "),  new Array(1,",dt.[IsLockedOut]", " "),  new Array(1,",GETUTCDATE()", " "),  new Array(1,",@MinDate", " "),  new Array(1,",@MinDate", " "),  new Array(1,",@MinDate", " "),  new Array(1,",dt.[FailedPasswordAttemptCount]", " "),  new Array(1,",@MinDate", " "),  new Array(1,",dt.[FailedPasswordAnswerAttemptCount]", " "),  new Array(1,",@MinDate", " "),  new Array(1,",dt.[Comment]", " "),  new Array(1,"FROM #AspNetMembershipInsertsDataTable dt", " "),  new Array(1,"DROP TABLE #AspNetMembershipInsertsDataTable", " "),  new Array(1,"", " "),  new Array(1,"COMMIT TRANSACTION [UsersInsert]", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImport_AddUpdateUsersProfilesBulk]", " "),  new Array(1,"@DataTable dbo.ExportImportUserProfileType READONLY,", " "),  new Array(1,"@Overwrite bit = 1", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"BEGIN TRANSACTION [UserProfilesInsert]", " "),  new Array(1,"----Update\/Insert User Profile", " "),  new Array(1,"IF @Overwrite = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"UserProfile.ProfileID", " "),  new Array(1,",dt.PropertyValue", " "),  new Array(1,",dt.PropertyText", " "),  new Array(1,",dt.Visibility", " "),  new Array(1,",dt.ExtendedVisibility", " "),  new Array(1,"INTO #UserProfileUpdatesDataTable", " "),  new Array(1,"FROM @DataTable dt INNER JOIN dbo.Users Users ON Users.UserID=dt.UserId", " "),  new Array(1,"INNER JOIN dbo.UserPortals UP ON UP.UserId=Users.UserID AND UP.PortalId=dt.PortalId", " "),  new Array(1,"INNER JOIN dbo.UserProfile UserProfile ON UserProfile.UserID=Users.UserID AND UserProfile.PropertyDefinitionID = dt.PropertyDefinitionId", " "),  new Array(1,"WHERE UP.UserPortalId IS NOT NULL AND UP.PortalId=dt.PortalId AND UserProfile.ProfileID IS NOT NULL AND dt.IsSuperUser=0 AND Users.IsSuperUser=0", " "),  new Array(1,"", " "),  new Array(1,"UPDATE UserProfile", " "),  new Array(1,"SET", " "),  new Array(1,"UserProfile.PropertyValue 			= dt.PropertyValue,", " "),  new Array(1,"UserProfile.PropertyText 			= dt.PropertyText,", " "),  new Array(1,"UserProfile.Visibility 				= dt.Visibility,", " "),  new Array(1,"UserProfile.ExtendedVisibility 		= dt.ExtendedVisibility,", " "),  new Array(1,"UserProfile.LastUpdatedDate			= GETDATE()", " "),  new Array(1,"FROM dbo.UserProfile AS UserProfile", " "),  new Array(1,"INNER JOIN #UserProfileUpdatesDataTable AS dt ON UserProfile.ProfileID=dt.ProfileID", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #UserProfileUpdatesDataTable;", " "),  new Array(1,"", " "),  new Array(1,"--Insert new User Profile", " "),  new Array(1,"SELECT", " "),  new Array(1,"Users.UserID", " "),  new Array(1,",dt.PropertyDefinitionId", " "),  new Array(1,",dt.PropertyValue", " "),  new Array(1,",dt.PropertyText", " "),  new Array(1,",dt.Visibility", " "),  new Array(1,",dt.ExtendedVisibility", " "),  new Array(1,"INTO #UserProfileInsertsDataTable", " "),  new Array(1,"FROM @DataTable dt INNER JOIN dbo.Users Users ON Users.UserID=dt.UserId", " "),  new Array(1,"INNER JOIN dbo.UserPortals UP ON UP.UserId=Users.UserID AND UP.PortalId=dt.PortalId", " "),  new Array(1,"LEFT JOIN dbo.UserProfile UserProfile ON UserProfile.UserID=Users.UserID AND UserProfile.PropertyDefinitionID = dt.PropertyDefinitionId", " "),  new Array(1,"WHERE UP.UserPortalId IS NOT NULL AND UP.PortalId=dt.PortalId AND UserProfile.ProfileID IS NULL AND dt.IsSuperUser=0  AND ISNULL(Users.IsSuperUser, 0)=0", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.UserProfile(", " "),  new Array(1,"[UserID]", " "),  new Array(1,",[PropertyDefinitionID]", " "),  new Array(1,",[PropertyValue]", " "),  new Array(1,",[PropertyText]", " "),  new Array(1,",[Visibility]", " "),  new Array(1,",[LastUpdatedDate]", " "),  new Array(1,",[ExtendedVisibility]", " "),  new Array(1,")", " "),  new Array(1,"SELECT", " "),  new Array(1,"dt.UserId,", " "),  new Array(1,"dt.PropertyDefinitionId,", " "),  new Array(1,"dt.PropertyValue,", " "),  new Array(1,"dt.PropertyText,", " "),  new Array(1,"dt.Visibility,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"dt.ExtendedVisibility", " "),  new Array(1,"FROM", " "),  new Array(1,"#UserProfileInsertsDataTable dt", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #UserProfileInsertsDataTable;", " "),  new Array(1,"END", " "),  new Array(1,"COMMIT TRANSACTION [UserProfilesInsert]", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImport_CheckTabModuleUniqueIdExists]", " "),  new Array(1,"@UniqueId uniqueidentifier", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT TOP 1 TabModuleId FROM dbo.[TabModules]", " "),  new Array(1,"WHERE UniqueId = @UniqueId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImport_GetJobsCount]", " "),  new Array(1,"@PortalID  int,", " "),  new Array(1,"@JobType   int = NULL,", " "),  new Array(1,"@Keywords  nvarchar(100) = NULL", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"Count(*)", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.ExportImportJobs J", " "),  new Array(1,"INNER JOIN dbo.Portals Portals ON Portals.PortalID=J.PortalId", " "),  new Array(1,"WHERE", " "),  new Array(1,"(J.PortalID = @PortalID OR @PortalID=-1)", " "),  new Array(1,"AND", " "),  new Array(1,"(@JobType IS NULL OR JobType = @JobType)", " "),  new Array(1,"AND", " "),  new Array(1,"(   @Keywords IS NULL", " "),  new Array(1,"OR [Name] LIKE (\'%\' + @Keywords + \'%\')", " "),  new Array(1,"OR [Description] LIKE (\'%\' + @Keywords + \'%\') )", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImport_Settings]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT * FROM dbo.[ExportImportSettings]", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportCheckpoints_GetByJob]", " "),  new Array(1,"@JobId		int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"*", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[ExportImportCheckpoints]", " "),  new Array(1,"WHERE", " "),  new Array(1,"JobId = @JobId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportCheckpoints_Upsert]", " "),  new Array(1,"@JobId			int,", " "),  new Array(1,"@AssemblyName	nvarchar(200),", " "),  new Array(1,"@Category		nvarchar(50),", " "),  new Array(1,"@Stage			int,", " "),  new Array(1,"@StageData		nvarchar(max),", " "),  new Array(1,"@Progress		int,", " "),  new Array(1,"@TotalItems		int,", " "),  new Array(1,"@ProcessedItems int,", " "),  new Array(1,"@StartDate		DateTime = NULL,", " "),  new Array(1,"@Completed		bit = 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"MERGE INTO dbo.[ExportImportCheckpoints] target", " "),  new Array(1,"USING (SELECT @JobId, @AssemblyName, @Category, @Progress, @TotalItems, @ProcessedItems, @Completed) AS source (JobId, AssemblyName, Category, Progress, TotalItems, ProcessedItems, Completed)", " "),  new Array(1,"ON (target.JobId = source.JobId AND target.Category = source.Category AND target.AssemblyName = source.AssemblyName)", " "),  new Array(1,"WHEN MATCHED THEN", " "),  new Array(1,"UPDATE SET [Stage] = @Stage, [StageData] = @StageData, [Progress] = @Progress, [TotalItems] = @TotalItems, [ProcessedItems] = @ProcessedItems, StartDate=(CASE WHEN StartDate IS NULL THEN @StartDate ELSE StartDate END),  LastUpdateDate= GetUtcDate(), Completed=@Completed", " "),  new Array(1,"WHEN NOT MATCHED THEN", " "),  new Array(1,"INSERT ([JobId], [AssemblyName], [Category], [Stage], [StageData], [Progress], [TotalItems], [ProcessedItems])", " "),  new Array(1,"VALUES (@JobId, @AssemblyName, @Category,  @Stage,  @StageData, @Progress, @TotalItems, @ProcessedItems);", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportJobLogs_AddBulk]", " "),  new Array(1,"@DataTable dbo.[ExportImportJobLogsType] READONLY", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.ExportImportJobLogs (", " "),  new Array(1,"[JobId],", " "),  new Array(1,"[Name],", " "),  new Array(1,"[Value],", " "),  new Array(1,"[Level],", " "),  new Array(1,"[CreatedOnDate] )", " "),  new Array(1,"SELECT", " "),  new Array(1,"dt.[JobId],", " "),  new Array(1,"dt.[Name],", " "),  new Array(1,"dt.[Value],", " "),  new Array(1,"dt.[Level],", " "),  new Array(1,"dt.[CreatedOnDate]", " "),  new Array(1,"FROM", " "),  new Array(1,"@DataTable dt", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportJobLogs_Full]", " "),  new Array(1,"@JobId  int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"*", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[ExportImportJobLogs]", " "),  new Array(1,"WHERE", " "),  new Array(1,"JobId = @JobId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportJobLogs_LastJobTime]", " "),  new Array(1,"@PortalId  int,", " "),  new Array(1,"@JobType int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"TOP 1 CreatedOnDate AS LastExportTime", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[ExportImportJobs]", " "),  new Array(1,"WHERE", " "),  new Array(1,"PortalId=@PortalId AND JobType = @JobType AND JobStatus=2", " "),  new Array(1,"ORDER BY CreatedOnDate DESC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportJobLogs_Summary]", " "),  new Array(1,"@JobId  int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"*", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[ExportImportJobLogs]", " "),  new Array(1,"WHERE", " "),  new Array(1,"JobId = @JobId", " "),  new Array(1,"AND", " "),  new Array(1,"Level >= 1", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportJobs_Add]", " "),  new Array(1,"@PortalId    int,", " "),  new Array(1,"@JobType     int,", " "),  new Array(1,"@CreatedBy   int,", " "),  new Array(1,"@JobName     nvarchar(100),", " "),  new Array(1,"@Description nvarchar(250),", " "),  new Array(1,"@Directory   nvarchar(100),", " "),  new Array(1,"@JobObject   nvarchar(max)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO", " "),  new Array(1,"dbo.[ExportImportJobs]", " "),  new Array(1,"(", " "),  new Array(1,"[PortalId],", " "),  new Array(1,"[JobType],", " "),  new Array(1,"[Name],", " "),  new Array(1,"[Description],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[Directory],", " "),  new Array(1,"[JobObject]", " "),  new Array(1,")", " "),  new Array(1,"VALUES", " "),  new Array(1,"(", " "),  new Array(1,"IsNull(@PortalId, -1),", " "),  new Array(1,"@JobType,", " "),  new Array(1,"@JobName,", " "),  new Array(1,"@Description,", " "),  new Array(1,"IsNull(@CreatedBy, -1),", " "),  new Array(1,"@Directory,", " "),  new Array(1,"@JobObject", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportJobs_FirstActive]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"TOP(1) Jobs.*", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[ExportImportJobs] Jobs", " "),  new Array(1,"INNER JOIN dbo.[Portals] Portals ON Portals.PortalID=Jobs.PortalId", " "),  new Array(1,"WHERE", " "),  new Array(1,"JobStatus in (0, 1) -- 0=Submitted, 1=InProgress", " "),  new Array(1,"ORDER BY", " "),  new Array(1,"JobId ASC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportJobs_GetAll]", " "),  new Array(1,"@PortalID  int = -1, -- might be null or -1 for all portals", " "),  new Array(1,"@PageSize  int = 10, -- number of items per page", " "),  new Array(1,"@PageIndex int =  0, -- page number starting at 0", " "),  new Array(1,"@JobType   int = NULL,", " "),  new Array(1,"@Keywords  nvarchar(100) = NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @PortalId = IsNull(@PortalId, -1)", " "),  new Array(1,"SET @PageSize = IsNull(@PageSize, 10)", " "),  new Array(1,"SET @PageIndex = IsNull(@PageIndex, 0)", " "),  new Array(1,"", " "),  new Array(1,"; WITH AllJobs AS (", " "),  new Array(1,"SELECT", " "),  new Array(1,"ROW_NUMBER() OVER (ORDER BY JobId DESC) AS RowNum, Jobs.*", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.ExportImportJobs Jobs", " "),  new Array(1,"INNER JOIN dbo.Portals Portals ON Portals.PortalID=Jobs.PortalId", " "),  new Array(1,"WHERE", " "),  new Array(1,"(Jobs.PortalID = @PortalID OR @PortalID=-1)", " "),  new Array(1,"AND", " "),  new Array(1,"(@JobType IS NULL OR JobType = @JobType)", " "),  new Array(1,"AND", " "),  new Array(1,"(   @Keywords IS NULL", " "),  new Array(1,"OR [Name] LIKE (\'%\' + @Keywords + \'%\')", " "),  new Array(1,"OR [Description] LIKE (\'%\' + @Keywords + \'%\') )", " "),  new Array(1,")", " "),  new Array(1,"SELECT", " "),  new Array(1,"TOP(@PageSize) *", " "),  new Array(1,"FROM", " "),  new Array(1,"AllJobs", " "),  new Array(1,"WHERE", " "),  new Array(1,"RowNum >= (@PageIndex * @PageSize + 1)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportJobs_GetById]", " "),  new Array(1,"@JobId  int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"*", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[ExportImportJobs]", " "),  new Array(1,"WHERE", " "),  new Array(1,"JobId = @JobId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportJobs_Remove]", " "),  new Array(1,"@JobId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- deletion of logs will be cascaded", " "),  new Array(1,"DELETE FROM", " "),  new Array(1,"dbo.[ExportImportJobs]", " "),  new Array(1,"WHERE", " "),  new Array(1,"JobId = @JobId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportJobs_SetCancelled]", " "),  new Array(1,"@JobId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE", " "),  new Array(1,"dbo.[ExportImportJobs]", " "),  new Array(1,"SET", " "),  new Array(1,"IsCancelled = 1,", " "),  new Array(1,"LastModifiedOnDate = GetUtcDate()", " "),  new Array(1,"WHERE", " "),  new Array(1,"JobId = @JobId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportJobs_UpdateInfo]", " "),  new Array(1,"@JobId       int,", " "),  new Array(1,"@JobName     nvarchar(100),", " "),  new Array(1,"@Description nvarchar(250)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE", " "),  new Array(1,"dbo.[ExportImportJobs]", " "),  new Array(1,"SET", " "),  new Array(1,"[Name] = @JobName,", " "),  new Array(1,"[Description] = GetUtcDate()", " "),  new Array(1,"WHERE", " "),  new Array(1,"JobId = @JobId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportImportJobs_UpdateStatus]", " "),  new Array(1,"@JobId int,", " "),  new Array(1,"@JobStatus int,", " "),  new Array(1,"@CompletedOn datetime = NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE", " "),  new Array(1,"dbo.[ExportImportJobs]", " "),  new Array(1,"SET", " "),  new Array(1,"JobStatus = @JobStatus,", " "),  new Array(1,"LastModifiedOnDate = GetUtcDate(),", " "),  new Array(1,"CompletedOnDate = @CompletedOn", " "),  new Array(1,"WHERE", " "),  new Array(1,"JobId = @JobId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportTaxonomy_ScopeTypes]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"*", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.Taxonomy_ScopeTypes", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportTaxonomy_Terms]", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@ToDate   datetime,", " "),  new Array(1,"@FromDate	datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"SELECT", " "),  new Array(1,"t.*, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.Taxonomy_Terms AS t", " "),  new Array(1,"INNER JOIN dbo.Taxonomy_Vocabularies v ON v.VocabularyID = t.VocabularyID", " "),  new Array(1,"INNER JOIN dbo.Taxonomy_ScopeTypes st ON st.ScopeTypeID = v.ScopeTypeID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u1 ON t.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u2 ON t.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE (st.ScopeType = \'Application\' OR (st.ScopeType = \'Portal\' AND v.ScopeID = @PortalId))", " "),  new Array(1,"AND (COALESCE(t.LastModifiedOnDate, t.CreatedOnDate, @Now) <= @ToDate AND (@FromDate IS NULL OR ISNULL(t.LastModifiedOnDate, t.CreatedOnDate) >= @FromDate))", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportTaxonomy_Vocabularies]", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@ToDate   datetime,", " "),  new Array(1,"@FromDate	datetime=NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Now datetime = GETDATE()", " "),  new Array(1,"SELECT DISTINCT", " "),  new Array(1,"v.*, u1.Username AS CreatedByUserName, u2.Username AS LastModifiedByUserName", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.Taxonomy_Vocabularies AS v", " "),  new Array(1,"INNER JOIN dbo.Taxonomy_ScopeTypes st ON st.ScopeTypeID = v.ScopeTypeID", " "),  new Array(1,"INNER JOIN dbo.Taxonomy_Terms t ON v.VocabularyID = t.VocabularyID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u1 ON v.CreatedByUserID = u1.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS u2 ON v.LastModifiedByUserID = u2.UserID", " "),  new Array(1,"WHERE (st.ScopeType = \'Application\' OR (st.ScopeType = \'Portal\' AND v.ScopeID = @PortalId))", " "),  new Array(1,"AND (", " "),  new Array(1,"(COALESCE(v.LastModifiedOnDate, v.CreatedOnDate, @Now) <= @ToDate AND (@FromDate IS NULL OR ISNULL(v.LastModifiedOnDate, v.CreatedOnDate) >= @FromDate))", " "),  new Array(1,"OR", " "),  new Array(1,"(COALESCE(t.LastModifiedOnDate, t.CreatedOnDate, @Now) <= @ToDate AND (@FromDate IS NULL OR ISNULL(t.LastModifiedOnDate, t.CreatedOnDate) >= @FromDate))", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ExportTaxonomy_VocabularyTypes]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"*", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.Taxonomy_VocabularyTypes", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[FindDatabaseVersion]", " "),  new Array(1,"", " "),  new Array(1,"@Major  int,", " "),  new Array(1,"@Minor  int,", " "),  new Array(1,"@Build  int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select 1", " "),  new Array(1,"from   dbo.Version", " "),  new Array(1,"where  Major = @Major", " "),  new Array(1,"and    Minor = @Minor", " "),  new Array(1,"and    Build = @Build", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetAllFiles]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"FileId,", " "),  new Array(1,"PortalId,", " "),  new Array(1,"[FileName],", " "),  new Array(1,"Extension,", " "),  new Array(1,"Size,", " "),  new Array(1,"Width,", " "),  new Array(1,"Height,", " "),  new Array(1,"ContentType,", " "),  new Array(1,"FolderID,", " "),  new Array(1,"Folder,", " "),  new Array(1,"StorageLocation,", " "),  new Array(1,"IsCached,", " "),  new Array(1,"UniqueId,", " "),  new Array(1,"VersionGuid,", " "),  new Array(1,"SHA1Hash,", " "),  new Array(1,"FolderMappingID,", " "),  new Array(1,"LastModificationTime,", " "),  new Array(1,"Title,", " "),  new Array(1,"Description,", " "),  new Array(1,"EnablePublishPeriod,", " "),  new Array(1,"StartDate,", " "),  new Array(1,"EndDate,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate,", " "),  new Array(1,"PublishedVersion,", " "),  new Array(1,"ContentItemID,", " "),  new Array(1,"HasBeenPublished", " "),  new Array(1,"FROM dbo.[vw_Files]", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetAllHtmlText]", " "),  new Array(1,"", " "),  new Array(1,"@ModuleID int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select dbo.HtmlText.*,", " "),  new Array(1,"dbo.WorkflowStates.*,", " "),  new Array(1,"dbo.Workflow.WorkflowName,", " "),  new Array(1,"dbo.Users.DisplayName,", " "),  new Array(1,"dbo.Modules.PortalID", " "),  new Array(1,"from   dbo.HtmlText", " "),  new Array(1,"inner join dbo.Modules on dbo.Modules.ModuleID = dbo.HtmlText.ModuleID", " "),  new Array(1,"inner join dbo.WorkflowStates on dbo.WorkflowStates.StateID = dbo.HtmlText.StateID", " "),  new Array(1,"inner join dbo.Workflow on dbo.WorkflowStates.WorkflowID = dbo.Workflow.WorkflowID", " "),  new Array(1,"left outer join dbo.Users on dbo.HtmlText.LastModifiedByUserID = dbo.Users.UserID", " "),  new Array(1,"where  dbo.HtmlText.ModuleID = @ModuleID", " "),  new Array(1,"order by dbo.HtmlText.LastModifiedOnDate desc", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetAllModules]", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM dbo.vw_Modules", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetAllProfiles]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.Profile", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetAllRelationshipTypes]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  RelationshipTypeID,", " "),  new Array(1,"Direction,", " "),  new Array(1,"Name ,", " "),  new Array(1,"Description,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.RelationshipTypes", " "),  new Array(1,"ORDER BY RelationshipTypeID ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetAllSynonymsGroups]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@CultureCode nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"[SynonymsGroupID],", " "),  new Array(1,"[SynonymsTags],", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,"FROM dbo.SynonymsGroups", " "),  new Array(1,"WHERE [PortalID] = @PortalID", " "),  new Array(1,"AND [CultureCode] = @CultureCode", " "),  new Array(1,"ORDER BY LastModifiedOnDate DESC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetAllTabs]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_Tabs", " "),  new Array(1,"ORDER BY Level, ParentID, TabOrder", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[GetAllTabsModules]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@AllTabs bit", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM dbo.vw_Modules M", " "),  new Array(1,"WHERE  M.PortalID = @PortalID", " "),  new Array(1,"AND M.IsDeleted = 0", " "),  new Array(1,"AND M.AllTabs = @AllTabs", " "),  new Array(1,"AND M.TabModuleID =(SELECT min(TabModuleID)", " "),  new Array(1,"FROM dbo.TabModules", " "),  new Array(1,"WHERE ModuleID = M.ModuleID)", " "),  new Array(1,"ORDER BY M.ModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetAllTabsModulesByModuleID]", " "),  new Array(1,"@ModuleID	int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM dbo.vw_Modules", " "),  new Array(1,"WHERE  ModuleID = @ModuleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetAllUsers]", " "),  new Array(1,"@PortalID        int,", " "),  new Array(1,"@PageIndex       int,", " "),  new Array(1,"@PageSize        INT,", " "),  new Array(1,"@IncludeDeleted  bit,", " "),  new Array(1,"@SuperUsersOnly  bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Set the page bounds", " "),  new Array(1,"DECLARE", " "),  new Array(1,"@PageLowerBound INT,", " "),  new Array(1,"@PageUpperBound INT,", " "),  new Array(1,"@RowsToReturn int", " "),  new Array(1,"", " "),  new Array(1,"EXEC dbo.CalculatePagingInformation @PageIndex, @PageSize, @RowsToReturn output, @PageLowerBound output, @PageUpperBound output", " "),  new Array(1,"", " "),  new Array(1,"IF @PortalID IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"WITH [tmpUsers] AS (", " "),  new Array(1,"SELECT U.*, row_number() over (ORDER BY U.UserName) AS rowid", " "),  new Array(1,"FROM dbo.vw_Users u", " "),  new Array(1,"WHERE U.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"--less than equal done to cover IsDeleted in (1,0) for IncludeDeleted...else just IsDeleted = 0", " "),  new Array(1,"AND U.IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,")", " "),  new Array(1,"SELECT * FROM [tmpUsers]", " "),  new Array(1,"WHERE rowid > @PageLowerBound AND rowid < @PageUpperBound", " "),  new Array(1,"ORDER BY rowid", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"WITH [tmpUsers] AS (", " "),  new Array(1,"SELECT U.*, row_number() over (order by U.UserName) AS rowid", " "),  new Array(1,"FROM dbo.vw_Users u", " "),  new Array(1,"WHERE U.PortalID = @PortalID AND U.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND U.IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,")", " "),  new Array(1,"SELECT * FROM [tmpUsers]", " "),  new Array(1,"WHERE rowid > @PageLowerBound AND rowid < @PageUpperBound", " "),  new Array(1,"ORDER by rowid", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SET ROWCOUNT 0", " "),  new Array(1,"", " "),  new Array(1,"IF @PortalId IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(*) as TotalRecords", " "),  new Array(1,"FROM   dbo.vw_Users as U", " "),  new Array(1,"WHERE U.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND U.IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(*) as TotalRecords", " "),  new Array(1,"FROM   dbo.vw_Users U", " "),  new Array(1,"WHERE U.PortalId = @PortalId", " "),  new Array(1,"AND U.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND U.IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetAuthenticationService]", " "),  new Array(1,"", " "),  new Array(1,"@AuthenticationID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.Authentication", " "),  new Array(1,"WHERE AuthenticationID = @AuthenticationID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetAuthenticationServiceByPackageID]", " "),  new Array(1,"", " "),  new Array(1,"@PackageID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM  dbo.Authentication", " "),  new Array(1,"WHERE PackageID = @PackageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetAuthenticationServiceByType]", " "),  new Array(1,"", " "),  new Array(1,"@AuthenticationType nvarchar(100)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM  dbo.Authentication", " "),  new Array(1,"WHERE AuthenticationType = @AuthenticationType", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetAuthenticationServices]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.Authentication", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetAvailableUsersForIndex]", " "),  new Array(1,"@PortalId INT ,", " "),  new Array(1,"@StartDate DATETIME ,", " "),  new Array(1,"@startUserId INT = 0,", " "),  new Array(1,"@numberOfUsers INT = 500", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @PivotSql NVARCHAR(MAX)", " "),  new Array(1,"", " "),  new Array(1,"SELECT @PivotSql = COALESCE(@PivotSql + \',\',\'\') + \'[\' + PropertyName + \']\'", " "),  new Array(1,"FROM dbo.[ProfilePropertyDefinition] pd", " "),  new Array(1,"INNER JOIN dbo.[Lists] l ON ListName = \'DataType\' AND SystemList = 1 AND Value IN ( \'Text\', \'RichText\' ) AND l.EntryID = pd.DataType", " "),  new Array(1,"WHERE ISNULL(pd.PortalID, -1) = ISNULL(@PortalId, -1)", " "),  new Array(1,"AND Deleted = 0", " "),  new Array(1,"ORDER BY ViewOrder", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @Sql NVARCHAR(MAX)", " "),  new Array(1,"", " "),  new Array(1,"SELECT @Sql = \'", " "),  new Array(1,"WITH    ValidDataType", " "),  new Array(1,"AS ( SELECT   EntryID", " "),  new Array(1,"FROM     dbo.[Lists]", " "),  new Array(1,"WHERE    ListName = \'\'DataType\'\'", " "),  new Array(1,"AND SystemList = 1", " "),  new Array(1,"AND Value IN ( \'\'Text\'\', \'\'RichText\'\' )", " "),  new Array(1,"),", " "),  new Array(1,"ValidUsers AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT UserId FROM ( SELECT   UserId, ROW_NUMBER() OVER(ORDER BY UserId ASC) AS rownumber", " "),  new Array(1,"FROM ( SELECT DISTINCT", " "),  new Array(1,"( u.UserID )", " "),  new Array(1,"FROM      dbo.[Users] u", " "),  new Array(1,"INNER JOIN dbo.[UserPortals] up ON up.UserId = u.UserID", " "),  new Array(1,"INNER JOIN dbo.[vw_Profile] p ON p.UserID = u.UserID", " "),  new Array(1,"INNER JOIN dbo.[ProfilePropertyDefinition] pd ON pd.PropertyDefinitionID = p.PropertyDefinitionID AND pd.Visible = 1 AND pd.PortalID = @PortalId", " "),  new Array(1,"INNER JOIN ValidDataType dt ON dt.EntryID = pd.DataType", " "),  new Array(1,"WHERE     (up.PortalId = @PortalId OR up.PortalId IS NULL)", " "),  new Array(1,"AND (u.LastModifiedOnDate > @StartDate OR (p.LastUpdatedDate IS NOT NULL AND (p.LastUpdatedDate > @StartDate OR pd.LastModifiedOnDate > @StartDate)))", " "),  new Array(1,"AND ((p.PropertyValue IS NOT NULL AND p.PropertyValue <> \'\'\'\') OR u.LastModifiedOnDate > @StartDate OR p.LastUpdatedDate IS NULL OR p.LastUpdatedDate > @StartDate)", " "),  new Array(1,") AS T WHERE UserID > @startUserId) AS T", " "),  new Array(1,"WHERE rownumber <= @numberOfUsers", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM (", " "),  new Array(1,"SELECT  u.UserID ,", " "),  new Array(1,"u.DisplayName,", " "),  new Array(1,"u.LastModifiedOnDate,", " "),  new Array(1,"u.Username,", " "),  new Array(1,"u.IsSuperUser,", " "),  new Array(1,"u.Email,", " "),  new Array(1,"u.CreatedOnDate,", " "),  new Array(1,"p.PropertyName,", " "),  new Array(1,"REPLACE(p.PropertyValue, \'\'$\'\', \'\'[$]\'\') + \'\'$$$\'\' +", " "),  new Array(1,"CAST(CASE WHEN (p.Visibility IS NULL) THEN 0 ELSE p.Visibility END AS VARCHAR(10)) + \'\'$$$\'\' + p.ExtendedVisibility + \'\'$$$\'\' +", " "),  new Array(1,"CONVERT(VARCHAR(20), CASE WHEN u.LastModifiedOnDate > p.LastUpdatedDate OR p.LastUpdatedDate IS NULL THEN u.LastModifiedOnDate ELSE p.LastUpdatedDate END, 20)", " "),  new Array(1,"AS [PropertyValue]", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.[Users] u", " "),  new Array(1,"INNER JOIN ValidUsers vu on vu.UserId = u.UserID", " "),  new Array(1,"INNER JOIN dbo.[vw_Profile] p ON p.UserID = u.UserID", " "),  new Array(1,"INNER JOIN dbo.[ProfilePropertyDefinition] pd ON pd.PropertyDefinitionID = p.PropertyDefinitionID AND pd.Visible = 1 AND pd.PortalID = @PortalID", " "),  new Array(1,"INNER JOIN ValidDataType dt ON dt.EntryID = pd.DataType", " "),  new Array(1,") AS T", " "),  new Array(1,"PIVOT (MAX(PropertyValue) for PropertyName in (\' + @PivotSql + \')) AS T", " "),  new Array(1,"ORDER BY UserId", " "),  new Array(1,"\'", " "),  new Array(1,"EXECUTE sp_executesql @Sql,", " "),  new Array(1,"N\'@PortalId INT, @StartDate DATETIME, @startUserId INT, @numberOfUsers INT\',", " "),  new Array(1,"@PortalId, @StartDate, @startUserId, @numberOfUsers", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentItem]", " "),  new Array(1,"@ContentItemId			int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.ContentItems", " "),  new Array(1,"WHERE ContentItemId = @ContentItemId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentItems]", " "),  new Array(1,"@ContentTypeId	int,", " "),  new Array(1,"@TabId			int,", " "),  new Array(1,"@ModuleId		int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.ContentItems", " "),  new Array(1,"WHERE (ContentTypeId = @ContentTypeId OR @ContentTypeId IS NULL)", " "),  new Array(1,"AND (TabId = @TabId OR @TabId IS NULL)", " "),  new Array(1,"AND (ModuleId = @ModuleId OR @ModuleId IS NULL)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentItemsByContentType]", " "),  new Array(1,"@ContentTypeId int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.ContentItems WHERE ContentTypeID = @ContentTypeId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentItemsByModuleId]", " "),  new Array(1,"@ModuleId int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.ContentItems WHERE ModuleID = @ModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentItemsByTabId]", " "),  new Array(1,"@TabId int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.ContentItems WHERE TabID = @TabId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentItemsByTerm]", " "),  new Array(1,"@Term nvarchar(250)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @TermID int", " "),  new Array(1,", @TermLeft int", " "),  new Array(1,", @TermRight int", " "),  new Array(1,", @VocabularyID int", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"@TermID = TermID", " "),  new Array(1,", @TermLeft = TermLeft", " "),  new Array(1,", @TermRight = TermRight", " "),  new Array(1,", @VocabularyID = VocabularyID", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.Taxonomy_Terms", " "),  new Array(1,"WHERE", " "),  new Array(1,"Name = @Term", " "),  new Array(1,"", " "),  new Array(1,"IF @TermLeft = 0 AND @TermRight = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Simple Term", " "),  new Array(1,"SELECT c.*", " "),  new Array(1,"FROM dbo.ContentItems As c", " "),  new Array(1,"INNER JOIN dbo.ContentItems_Tags ct ON ct.ContentItemID = c.ContentItemID", " "),  new Array(1,"INNER JOIN dbo.Taxonomy_Terms t ON t.TermID = ct.TermID", " "),  new Array(1,"WHERE t.TermID = @TermID", " "),  new Array(1,"END ELSE BEGIN", " "),  new Array(1,"-- Hierarchical Term", " "),  new Array(1,"SELECT c.*", " "),  new Array(1,"FROM dbo.ContentItems As c", " "),  new Array(1,"INNER JOIN dbo.ContentItems_Tags ct ON ct.ContentItemID = c.ContentItemID", " "),  new Array(1,"INNER JOIN dbo.Taxonomy_Terms t ON t.TermID = ct.TermID", " "),  new Array(1,"WHERE t.TermLeft >= @TermLeft", " "),  new Array(1,"AND t.TermRight <= @TermRight", " "),  new Array(1,"AND t.VocabularyID = @VocabularyID", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentItemsByVocabularyId]", " "),  new Array(1,"@VocabularyID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT c.*", " "),  new Array(1,"FROM dbo.ContentItems As c", " "),  new Array(1,"INNER JOIN dbo.ContentItems_Tags ct ON ct.ContentItemID = c.ContentItemID", " "),  new Array(1,"INNER JOIN dbo.Taxonomy_Terms t ON t.TermID = ct.TermID", " "),  new Array(1,"WHERE t.VocabularyID = @VocabularyID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentTypes]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.ContentTypes", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentWorkflow]", " "),  new Array(1,"@WorkflowID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"[WorkflowID],", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[WorkflowName],", " "),  new Array(1,"[Description],", " "),  new Array(1,"[IsDeleted],", " "),  new Array(1,"[StartAfterCreating],", " "),  new Array(1,"[StartAfterEditing],", " "),  new Array(1,"[DispositionEnabled]", " "),  new Array(1,"FROM dbo.ContentWorkflows", " "),  new Array(1,"WHERE WorkflowID = @WorkflowID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentWorkflowLogs]", " "),  new Array(1,"@ContentItemID int,", " "),  new Array(1,"@WorkflowID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[ContentWorkflowLogs]", " "),  new Array(1,"WHERE ContentItemID = @ContentItemID AND WorkflowID = @WorkflowID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentWorkflows]", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"[WorkflowID],", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[WorkflowName],", " "),  new Array(1,"[Description],", " "),  new Array(1,"[IsDeleted],", " "),  new Array(1,"[StartAfterCreating],", " "),  new Array(1,"[StartAfterEditing],", " "),  new Array(1,"[DispositionEnabled]", " "),  new Array(1,"FROM dbo.ContentWorkflows", " "),  new Array(1,"WHERE (PortalID = @PortalID OR PortalID IS null)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentWorkflowSource]", " "),  new Array(1,"@WorkflowID INT,", " "),  new Array(1,"@SourceName NVARCHAR(20)", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"[SourceID],", " "),  new Array(1,"[WorkflowID],", " "),  new Array(1,"[SourceName],", " "),  new Array(1,"[SourceType]", " "),  new Array(1,"FROM dbo.ContentWorkflowSources", " "),  new Array(1,"WHERE WorkflowID = @WorkflowID AND SourceName = @SourceName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentWorkflowState]", " "),  new Array(1,"@StateID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"[StateID],", " "),  new Array(1,"[WorkflowID],", " "),  new Array(1,"[StateName],", " "),  new Array(1,"[Order],", " "),  new Array(1,"[IsActive],", " "),  new Array(1,"[SendEmail],", " "),  new Array(1,"[SendMessage],", " "),  new Array(1,"[IsDisposalState],", " "),  new Array(1,"[OnCompleteMessageSubject],", " "),  new Array(1,"[OnCompleteMessageBody],", " "),  new Array(1,"[OnDiscardMessageSubject],", " "),  new Array(1,"[OnDiscardMessageBody]", " "),  new Array(1,"FROM dbo.ContentWorkflowStates", " "),  new Array(1,"WHERE StateID = @StateID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentWorkflowStatePermission]", " "),  new Array(1,"@WorkflowStatePermissionID	int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_ContentWorkflowStatePermissions", " "),  new Array(1,"WHERE WorkflowStatePermissionID = @WorkflowStatePermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentWorkflowStatePermissions]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_ContentWorkflowStatePermissions", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentWorkflowStatePermissionsByStateID]", " "),  new Array(1,"@StateID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_ContentWorkflowStatePermissions", " "),  new Array(1,"WHERE StateID = @StateID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentWorkflowStates]", " "),  new Array(1,"@WorkflowID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"[StateID],", " "),  new Array(1,"[WorkflowID],", " "),  new Array(1,"[StateName],", " "),  new Array(1,"[Order],", " "),  new Array(1,"[IsActive],", " "),  new Array(1,"[SendEmail],", " "),  new Array(1,"[SendMessage],", " "),  new Array(1,"[IsDisposalState],", " "),  new Array(1,"[OnCompleteMessageSubject],", " "),  new Array(1,"[OnCompleteMessageBody],", " "),  new Array(1,"[OnDiscardMessageSubject],", " "),  new Array(1,"[OnDiscardMessageBody]", " "),  new Array(1,"FROM dbo.ContentWorkflowStates", " "),  new Array(1,"WHERE WorkflowID = @WorkflowID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentWorkflowStateUsageCount]", " "),  new Array(1,"@StateId INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT COUNT(ci.ContentItemID)", " "),  new Array(1,"FROM dbo.[ContentItems] ci", " "),  new Array(1,"WHERE ci.StateId = @StateId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentWorkflowUsage]", " "),  new Array(1,"@WorkflowId INT,", " "),  new Array(1,"@PageIndex INT,", " "),  new Array(1,"@PageSize INT", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @StartIndex INT = ((@PageIndex - 1) * @PageSize) + 1", " "),  new Array(1,"DECLARE @EndIndex INT = (@PageIndex * @PageSize)", " "),  new Array(1,"", " "),  new Array(1,";WITH ContenResourcesSet AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT wu.*, ROW_NUMBER() OVER (Order BY wu.ContentType, wu.ContentName) AS [Index]", " "),  new Array(1,"FROM dbo.[vw_ContentWorkflowUsage] wu", " "),  new Array(1,"WHERE wu.WorkflowID = @WorkflowId", " "),  new Array(1,")", " "),  new Array(1,"SELECT * FROM ContenResourcesSet WHERE [Index] BETWEEN @StartIndex AND @EndIndex", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetContentWorkflowUsageCount]", " "),  new Array(1,"@WorkflowId INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT COUNT(*)", " "),  new Array(1,"FROM dbo.[vw_ContentWorkflowUsage] wu", " "),  new Array(1,"WHERE wu.WorkflowID = @WorkflowId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetCustomAliasesForTabs]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT HttpAlias", " "),  new Array(1,"FROM  dbo.[PortalAlias] pa", " "),  new Array(1,"WHERE PortalAliasId IN (SELECT PortalAliasId FROM dbo.[TabUrls])", " "),  new Array(1,"ORDER BY HttpAlias", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[GetDatabaseInstallVersion]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  TOP 1 Major ,", " "),  new Array(1,"Minor ,", " "),  new Array(1,"Build", " "),  new Array(1,"FROM    dbo.Version V", " "),  new Array(1,"WHERE   VersionId IN ( SELECT   MAX(VersionId) AS VersionID", " "),  new Array(1,"FROM     dbo.[Version]", " "),  new Array(1,"GROUP BY CONVERT(NVARCHAR(8), CreatedDate, 112) )", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetDatabaseServer]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT ServerProperty(\'Edition\') AS ProductName,", " "),  new Array(1,"ServerProperty(\'ProductVersion\') AS Version", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetDatabaseTime]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT GETDATE()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetDatabaseTimeUtc]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT GETUTCDATE()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetDatabaseVersion]", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select Major,", " "),  new Array(1,"Minor,", " "),  new Array(1,"Build", " "),  new Array(1,"from   dbo.Version", " "),  new Array(1,"where  VersionId = ( select max(VersionId) from dbo.Version )", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetDefaultLanguageByModule]", " "),  new Array(1,"(", " "),  new Array(1,"@ModuleList NVARCHAR(4000)", " "),  new Array(1,")", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET NOCOUNT ON", " "),  new Array(1,"", " "),  new Array(1,"SELECT DISTINCT m.ModuleID, p.DefaultLanguage", " "),  new Array(1,"FROM            dbo.[Modules]  m", " "),  new Array(1,"INNER JOIN      dbo.[Portals] p ON p.PortalID = m.PortalID", " "),  new Array(1,"Inner Join		dbo.[SplitStrings_CTE](@ModuleList,\',\') ML ON M.ModuleID = ML.item", " "),  new Array(1,"ORDER BY        m.ModuleID", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetDeletedUsers]", " "),  new Array(1,"@PortalID			int", " "),  new Array(1,"AS", " "),  new Array(1,"IF @PortalID is null", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT  *", " "),  new Array(1,"FROM	dbo.vw_Users", " "),  new Array(1,"WHERE  PortalId IS Null", " "),  new Array(1,"AND IsDeleted = 1", " "),  new Array(1,"ORDER BY UserName", " "),  new Array(1,"END ELSE BEGIN", " "),  new Array(1,"SELECT  *", " "),  new Array(1,"FROM	dbo.vw_Users", " "),  new Array(1,"WHERE  PortalId = @PortalID", " "),  new Array(1,"AND IsDeleted = 1", " "),  new Array(1,"ORDER BY UserName", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetDesktopModulePermission]", " "),  new Array(1,"@DesktopModulePermissionID	int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_DesktopModulePermissions", " "),  new Array(1,"WHERE DesktopModulePermissionID = @DesktopModulePermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetDesktopModulePermissions]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_DesktopModulePermissions", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetDesktopModulePermissionsByPortalDesktopModuleID]", " "),  new Array(1,"@PortalDesktopModuleID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_DesktopModulePermissions", " "),  new Array(1,"WHERE   PortalDesktopModuleID = @PortalDesktopModuleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetDesktopModules]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM  dbo.vw_DesktopModules", " "),  new Array(1,"ORDER BY FriendlyName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetDesktopModulesByPortal]", " "),  new Array(1,"@PortalId int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT DISTINCT DM.*", " "),  new Array(1,"FROM dbo.vw_DesktopModules DM", " "),  new Array(1,"WHERE ( IsPremium = 0 )", " "),  new Array(1,"OR  ( DesktopModuleID IN (", " "),  new Array(1,"SELECT DesktopModuleID", " "),  new Array(1,"FROM dbo.PortalDesktopModules PDM", " "),  new Array(1,"WHERE PDM.PortalId = @PortalId ) )", " "),  new Array(1,"ORDER BY FriendlyName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetDuplicateEmailCount]", " "),  new Array(1,"@PortalId INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT ISNULL((SELECT COUNT(*) TotalCount FROM dbo.[Users] U Inner Join dbo.[UserPortals] UP on UP.[UserId] = U.[UserId] WHERE UP.PortalId = @PortalId  GROUP BY U.[Email] HAVING COUNT(*) > 1), 0)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetEnabledAuthenticationServices]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.Authentication", " "),  new Array(1,"WHERE  IsEnabled = 1", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetEventLog]", " "),  new Array(1,"@PortalID   Int,            -- Might be Null for all sites", " "),  new Array(1,"@LogTypeKey nVarChar(35),   -- Key of log type or Null for all", " "),  new Array(1,"@PageSize   Int,            -- Number of items per page", " "),  new Array(1,"@PageIndex  Int             -- Page number starting with 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"WITH [eLog] AS (", " "),  new Array(1,"SELECT ROW_NUMBER() OVER (ORDER BY E.LogCreateDate Desc) AS RowNumber, e.*", " "),  new Array(1,"FROM dbo.vw_EventLog e", " "),  new Array(1,"WHERE (e.LogPortalID = @PortalID     OR IsNull(@PortalID,   -1) = -1)", " "),  new Array(1,"AND (e.LogTypeKey LIKE @LogTypeKey OR IsNull(@LogTypeKey, \'\') = \'\')", " "),  new Array(1,")", " "),  new Array(1,"SELECT * FROM [eLog]", " "),  new Array(1,"WHERE RowNumber >= dbo.PageLowerBound(@PageIndex, @PageSize)", " "),  new Array(1,"AND RowNumber <= dbo.PageUpperBound(@PageIndex, @PageSize)", " "),  new Array(1,"ORDER BY RowNumber", " "),  new Array(1,"", " "),  new Array(1,"SELECT COUNT(1) AS TotalRecords", " "),  new Array(1,"FROM dbo.vw_EventLog e", " "),  new Array(1,"WHERE (e.LogPortalID = @PortalID     OR IsNull(@PortalID,   -1) = -1)", " "),  new Array(1,"AND (e.LogTypeKey Like @LogTypeKey OR IsNull(@LogTypeKey, \'\') = \'\')", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetEventLogByLogGUID]", " "),  new Array(1,"@LogGUID varchar(36)", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_EventLog", " "),  new Array(1,"WHERE (LogGUID = @LogGUID)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetEventLogConfig]", " "),  new Array(1,"@ID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT c.*, t.LogTypeFriendlyName", " "),  new Array(1,"FROM dbo.EventLogConfig AS c", " "),  new Array(1,"INNER JOIN dbo.EventLogTypes AS t ON t.LogTypeKey = c.LogTypeKey", " "),  new Array(1,"WHERE (ID = @ID or @ID IS NULL)", " "),  new Array(1,"ORDER BY t.LogTypeFriendlyName ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetEventLogPendingNotif]", " "),  new Array(1,"@LogConfigID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_EventLog", " "),  new Array(1,"WHERE LogNotificationPending = 1", " "),  new Array(1,"AND LogConfigID = @LogConfigID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetEventLogPendingNotifConfig]", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"SELECT 	COUNT(*) as PendingNotifs,", " "),  new Array(1,"elc.ID,", " "),  new Array(1,"elc.LogTypeKey,", " "),  new Array(1,"elc.LogTypePortalID,", " "),  new Array(1,"elc.LoggingIsActive,", " "),  new Array(1,"elc.KeepMostRecent,", " "),  new Array(1,"elc.EmailNotificationIsActive,", " "),  new Array(1,"elc.NotificationThreshold,", " "),  new Array(1,"elc.NotificationThresholdTime,", " "),  new Array(1,"elc.NotificationThresholdTimeType,", " "),  new Array(1,"elc.MailToAddress,", " "),  new Array(1,"elc.MailFromAddress", " "),  new Array(1,"FROM dbo.EventLogConfig elc", " "),  new Array(1,"INNER JOIN dbo.EventLog", " "),  new Array(1,"ON dbo.EventLog.LogConfigID = elc.ID", " "),  new Array(1,"WHERE dbo.EventLog.LogNotificationPending = 1", " "),  new Array(1,"GROUP BY elc.ID,", " "),  new Array(1,"elc.LogTypeKey,", " "),  new Array(1,"elc.LogTypePortalID,", " "),  new Array(1,"elc.LoggingIsActive,", " "),  new Array(1,"elc.KeepMostRecent,", " "),  new Array(1,"elc.EmailNotificationIsActive,", " "),  new Array(1,"elc.NotificationThreshold,", " "),  new Array(1,"elc.NotificationThresholdTime,", " "),  new Array(1,"elc.NotificationThresholdTimeType,", " "),  new Array(1,"elc.MailToAddress,", " "),  new Array(1,"elc.MailFromAddress", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetEventLogType]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.EventLogTypes", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetEventMessages]", " "),  new Array(1,"", " "),  new Array(1,"@EventName nvarchar(100)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.EventQueue", " "),  new Array(1,"WHERE EventName = @EventName", " "),  new Array(1,"AND IsComplete = 0", " "),  new Array(1,"ORDER BY SentDate", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetEventMessagesBySubscriber]", " "),  new Array(1,"", " "),  new Array(1,"@EventName nvarchar(100),", " "),  new Array(1,"@Subscriber nvarchar(100)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.EventQueue", " "),  new Array(1,"WHERE EventName = @EventName", " "),  new Array(1,"AND Subscriber = @Subscriber", " "),  new Array(1,"AND IsComplete = 0", " "),  new Array(1,"ORDER BY SentDate", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetExpiredPortals]", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.vw_Portals", " "),  new Array(1,"WHERE ExpiryDate < getDate()", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetExtensionUrlProviders]", " "),  new Array(1,"@PortalID	int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"p.*,", " "),  new Array(1,"pc.PortalID", " "),  new Array(1,"FROM  dbo.ExtensionUrlProviderConfiguration pc", " "),  new Array(1,"RIGHT OUTER JOIN dbo.ExtensionUrlProviders p", " "),  new Array(1,"ON pc.ExtensionUrlProviderID = p.ExtensionUrlProviderID", " "),  new Array(1,"WHERE pc.PortalID = @PortalID OR pc.PortalID IS Null", " "),  new Array(1,"", " "),  new Array(1,"SELECT ExtensionUrlProviderID,", " "),  new Array(1,"PortalID,", " "),  new Array(1,"SettingName,", " "),  new Array(1,"SettingValue", " "),  new Array(1,"FROM dbo.ExtensionUrlProviderSetting", " "),  new Array(1,"WHERE PortalID = PortalID", " "),  new Array(1,"", " "),  new Array(1,"SELECT DISTINCT", " "),  new Array(1,"P.ExtensionUrlProviderID,", " "),  new Array(1,"TM.TabID", " "),  new Array(1,"FROM dbo.DesktopModules DM", " "),  new Array(1,"INNER JOIN dbo.ModuleDefinitions MD ON DM.DesktopModuleID = MD.DesktopModuleID", " "),  new Array(1,"INNER JOIN dbo.Modules M ON MD.ModuleDefID = M.ModuleDefID", " "),  new Array(1,"INNER JOIN dbo.TabModules TM ON M.ModuleID = TM.ModuleID", " "),  new Array(1,"INNER JOIN dbo.vw_ExtensionUrlProviders P ON DM.DesktopModuleID = P.DesktopModuleId", " "),  new Array(1,"WHERE     (P.PortalID = @PortalID) OR (P.PortalID IS NULL)", " "),  new Array(1,"", " "),  new Array(1,"UNION", " "),  new Array(1,"SELECT", " "),  new Array(1,"P.ExtensionUrlProviderID,", " "),  new Array(1,"PT.TabId", " "),  new Array(1,"FROM    dbo.ExtensionUrlProviderTab PT", " "),  new Array(1,"INNER JOIN dbo.ExtensionUrlProviders P ON P.ExtensionUrlProviderID = PT.ExtensionUrlProviderID", " "),  new Array(1,"WHERE   (PT.IsActive = 1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFile]", " "),  new Array(1,"@FileName nvarchar(246),", " "),  new Array(1,"@FolderID int,", " "),  new Array(1,"@RetrieveUnpublishedFiles bit = 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @RetrieveUnpublishedFiles = 0 BEGIN", " "),  new Array(1,"SELECT FileId,", " "),  new Array(1,"PortalId,", " "),  new Array(1,"[FileName],", " "),  new Array(1,"Extension,", " "),  new Array(1,"Size,", " "),  new Array(1,"Width,", " "),  new Array(1,"Height,", " "),  new Array(1,"ContentType,", " "),  new Array(1,"FolderID,", " "),  new Array(1,"Folder,", " "),  new Array(1,"StorageLocation,", " "),  new Array(1,"IsCached,", " "),  new Array(1,"UniqueId,", " "),  new Array(1,"VersionGuid,", " "),  new Array(1,"SHA1Hash,", " "),  new Array(1,"FolderMappingID,", " "),  new Array(1,"LastModificationTime,", " "),  new Array(1,"Title,", " "),  new Array(1,"Description,", " "),  new Array(1,"EnablePublishPeriod,", " "),  new Array(1,"StartDate,", " "),  new Array(1,"EndDate,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate,", " "),  new Array(1,"ContentItemID,", " "),  new Array(1,"PublishedVersion,", " "),  new Array(1,"HasBeenPublished", " "),  new Array(1,"FROM dbo.[vw_PublishedFiles]", " "),  new Array(1,"WHERE [FileName] = @FileName AND FolderID = @FolderID", " "),  new Array(1,"END", " "),  new Array(1,"ELSE BEGIN", " "),  new Array(1,"SELECT FileId,", " "),  new Array(1,"PortalId,", " "),  new Array(1,"[FileName],", " "),  new Array(1,"Extension,", " "),  new Array(1,"Size,", " "),  new Array(1,"Width,", " "),  new Array(1,"Height,", " "),  new Array(1,"ContentType,", " "),  new Array(1,"FolderID,", " "),  new Array(1,"Folder,", " "),  new Array(1,"StorageLocation,", " "),  new Array(1,"IsCached,", " "),  new Array(1,"UniqueId,", " "),  new Array(1,"VersionGuid,", " "),  new Array(1,"SHA1Hash,", " "),  new Array(1,"FolderMappingID,", " "),  new Array(1,"LastModificationTime,", " "),  new Array(1,"Title,", " "),  new Array(1,"Description,", " "),  new Array(1,"EnablePublishPeriod,", " "),  new Array(1,"StartDate,", " "),  new Array(1,"EndDate,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate,", " "),  new Array(1,"ContentItemID,", " "),  new Array(1,"PublishedVersion,", " "),  new Array(1,"HasBeenPublished", " "),  new Array(1,"FROM dbo.[vw_Files]", " "),  new Array(1,"WHERE [FileName] = @FileName AND FolderID = @FolderID", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFileById]", " "),  new Array(1,"@FileId int    ,", " "),  new Array(1,"@RetrieveUnpublishedFiles bit = 0", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @RetrieveUnpublishedFiles = 0 BEGIN", " "),  new Array(1,"SELECT FileId,", " "),  new Array(1,"PortalId,", " "),  new Array(1,"[FileName],", " "),  new Array(1,"Extension,", " "),  new Array(1,"Size,", " "),  new Array(1,"Width,", " "),  new Array(1,"Height,", " "),  new Array(1,"ContentType,", " "),  new Array(1,"FolderID,", " "),  new Array(1,"Folder,", " "),  new Array(1,"StorageLocation,", " "),  new Array(1,"IsCached,", " "),  new Array(1,"UniqueId,", " "),  new Array(1,"VersionGuid,", " "),  new Array(1,"SHA1Hash,", " "),  new Array(1,"FolderMappingID,", " "),  new Array(1,"LastModificationTime,", " "),  new Array(1,"Title,", " "),  new Array(1,"Description,", " "),  new Array(1,"EnablePublishPeriod,", " "),  new Array(1,"StartDate,", " "),  new Array(1,"EndDate,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate,", " "),  new Array(1,"PublishedVersion,", " "),  new Array(1,"ContentItemID,", " "),  new Array(1,"HasBeenPublished", " "),  new Array(1,"FROM dbo.[vw_PublishedFiles]", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"END", " "),  new Array(1,"ELSE BEGIN", " "),  new Array(1,"SELECT FileId,", " "),  new Array(1,"PortalId,", " "),  new Array(1,"[FileName],", " "),  new Array(1,"Extension,", " "),  new Array(1,"Size,", " "),  new Array(1,"Width,", " "),  new Array(1,"Height,", " "),  new Array(1,"ContentType,", " "),  new Array(1,"FolderID,", " "),  new Array(1,"Folder,", " "),  new Array(1,"StorageLocation,", " "),  new Array(1,"IsCached,", " "),  new Array(1,"[UniqueId],", " "),  new Array(1,"[VersionGuid],", " "),  new Array(1,"SHA1Hash,", " "),  new Array(1,"FolderMappingID,", " "),  new Array(1,"LastModificationTime,", " "),  new Array(1,"Title,", " "),  new Array(1,"Description,", " "),  new Array(1,"EnablePublishPeriod,", " "),  new Array(1,"StartDate,", " "),  new Array(1,"EndDate,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate,", " "),  new Array(1,"PublishedVersion,", " "),  new Array(1,"ContentItemID,", " "),  new Array(1,"HasBeenPublished", " "),  new Array(1,"FROM dbo.[vw_Files]", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFileByUniqueID]", " "),  new Array(1,"@UniqueID   uniqueidentifier", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM	dbo.Files", " "),  new Array(1,"WHERE	UniqueID = @UniqueID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFileContent]", " "),  new Array(1,"@FileId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT Content", " "),  new Array(1,"FROM dbo.[Files]", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFiles]", " "),  new Array(1,"@FolderID Int,                      -- not null!", " "),  new Array(1,"@RetrieveUnpublishedFiles Bit = 0   -- include files, hidden by status or date?", " "),  new Array(1,"AS", " "),  new Array(1,"IF @RetrieveUnpublishedFiles = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"F.FileId,", " "),  new Array(1,"F.PortalId,", " "),  new Array(1,"F.[FileName],", " "),  new Array(1,"F.Extension,", " "),  new Array(1,"F.[Size],", " "),  new Array(1,"F.Width,", " "),  new Array(1,"F.Height,", " "),  new Array(1,"F.ContentType,", " "),  new Array(1,"F.FolderID,", " "),  new Array(1,"F.Folder,", " "),  new Array(1,"F.StorageLocation,", " "),  new Array(1,"F.IsCached,", " "),  new Array(1,"F.FolderMappingID,", " "),  new Array(1,"F.UniqueId,", " "),  new Array(1,"F.VersionGuid,", " "),  new Array(1,"F.SHA1Hash,", " "),  new Array(1,"F.LastModificationTime,", " "),  new Array(1,"F.Title,", " "),  new Array(1,"F.Description,", " "),  new Array(1,"F.EnablePublishPeriod,", " "),  new Array(1,"F.StartDate,", " "),  new Array(1,"F.EndDate,", " "),  new Array(1,"F.CreatedByUserID,", " "),  new Array(1,"F.CreatedOnDate,", " "),  new Array(1,"F.LastModifiedByUserID,", " "),  new Array(1,"F.LastModifiedOnDate,", " "),  new Array(1,"F.PublishedVersion,", " "),  new Array(1,"F.ContentItemID,", " "),  new Array(1,"F.HasBeenPublished", " "),  new Array(1,"FROM dbo.[vw_PublishedFiles] F", " "),  new Array(1,"WHERE F.FolderID = @FolderID", " "),  new Array(1,"ORDER BY [FolderID], [FileName]", " "),  new Array(1,"END", " "),  new Array(1,"ELSE BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"F.FileId,", " "),  new Array(1,"F.PortalId,", " "),  new Array(1,"F.[FileName],", " "),  new Array(1,"F.Extension,", " "),  new Array(1,"F.[Size],", " "),  new Array(1,"F.Width,", " "),  new Array(1,"F.Height,", " "),  new Array(1,"F.ContentType,", " "),  new Array(1,"F.FolderID,", " "),  new Array(1,"F.Folder,", " "),  new Array(1,"F.StorageLocation,", " "),  new Array(1,"F.IsCached,", " "),  new Array(1,"F.FolderMappingID,", " "),  new Array(1,"F.UniqueId,", " "),  new Array(1,"F.VersionGuid,", " "),  new Array(1,"F.SHA1Hash,", " "),  new Array(1,"F.LastModificationTime,", " "),  new Array(1,"F.Title,", " "),  new Array(1,"F.Description,", " "),  new Array(1,"F.EnablePublishPeriod,", " "),  new Array(1,"F.StartDate,", " "),  new Array(1,"F.EndDate,", " "),  new Array(1,"F.CreatedByUserID,", " "),  new Array(1,"F.CreatedOnDate,", " "),  new Array(1,"F.LastModifiedByUserID,", " "),  new Array(1,"F.LastModifiedOnDate,", " "),  new Array(1,"F.PublishedVersion,", " "),  new Array(1,"F.ContentItemID,", " "),  new Array(1,"F.HasBeenPublished", " "),  new Array(1,"FROM dbo.[vw_Files] F", " "),  new Array(1,"WHERE F.FolderID = @FolderID", " "),  new Array(1,"ORDER BY [FolderID], [FileName]", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFileVersion]", " "),  new Array(1,"@FileId int,", " "),  new Array(1,"@Version int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"[FileId]", " "),  new Array(1,",[Version]", " "),  new Array(1,",[FileName]", " "),  new Array(1,",[Extension]", " "),  new Array(1,",[Size]", " "),  new Array(1,",[Width]", " "),  new Array(1,",[Height]", " "),  new Array(1,",[ContentType]", " "),  new Array(1,",[CreatedByUserID]", " "),  new Array(1,",[CreatedOnDate]", " "),  new Array(1,",[LastModifiedByUserID]", " "),  new Array(1,",[LastModifiedOnDate]", " "),  new Array(1,",[SHA1Hash]", " "),  new Array(1,"FROM dbo.FileVersions fv", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"AND Version = @Version", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFileVersionContent]", " "),  new Array(1,"", " "),  new Array(1,"@FileId		int,", " "),  new Array(1,"@Version	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT Content", " "),  new Array(1,"FROM dbo.[FileVersions]", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"AND Version = @Version", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFileVersions]", " "),  new Array(1,"@FileId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"[FileId]", " "),  new Array(1,",[Version]", " "),  new Array(1,",[FileName]", " "),  new Array(1,",[Extension]", " "),  new Array(1,",[Size]", " "),  new Array(1,",[Width]", " "),  new Array(1,",[Height]", " "),  new Array(1,",[ContentType]", " "),  new Array(1,",[CreatedByUserID]", " "),  new Array(1,",[CreatedOnDate]", " "),  new Array(1,",[LastModifiedByUserID]", " "),  new Array(1,",[LastModifiedOnDate]", " "),  new Array(1,",[SHA1Hash]", " "),  new Array(1,"FROM dbo.FileVersions fv", " "),  new Array(1,"WHERE fv.FileId = @FileId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFileVersionsInFolder]", " "),  new Array(1,"@FolderId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"fv.[FileId]", " "),  new Array(1,",fv.[Version]", " "),  new Array(1,",fv.[FileName]", " "),  new Array(1,",fv.[Extension]", " "),  new Array(1,",fv.[Size]", " "),  new Array(1,",fv.[Width]", " "),  new Array(1,",fv.[Height]", " "),  new Array(1,",fv.[ContentType]", " "),  new Array(1,",fv.[CreatedByUserID]", " "),  new Array(1,",fv.[CreatedOnDate]", " "),  new Array(1,",fv.[LastModifiedByUserID]", " "),  new Array(1,",fv.[LastModifiedOnDate]", " "),  new Array(1,",fv.[SHA1Hash]", " "),  new Array(1,"FROM dbo.FileVersions fv, dbo.Files f", " "),  new Array(1,"WHERE fv.FileId = f.FileId and f.FolderId = @FolderId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolderByFolderID]", " "),  new Array(1,"@FolderID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[Folders]", " "),  new Array(1,"WHERE FolderID = @FolderID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolderByFolderPath]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@FolderPath nvarchar(300)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"if @PortalID is not null", " "),  new Array(1,"begin", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.Folders", " "),  new Array(1,"WHERE PortalID = @PortalID AND FolderPath = @FolderPath", " "),  new Array(1,"end else begin", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.Folders", " "),  new Array(1,"WHERE PortalID is null AND  FolderPath = @FolderPath", " "),  new Array(1,"end", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolderByUniqueID]", " "),  new Array(1,"@UniqueID   uniqueidentifier", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM	dbo.Folders", " "),  new Array(1,"WHERE	UniqueID = @UniqueID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolderMapping]", " "),  new Array(1,"@FolderMappingID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[FolderMappings]", " "),  new Array(1,"WHERE FolderMappingID = @FolderMappingID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolderMappingByMappingName]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@MappingName nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[FolderMappings]", " "),  new Array(1,"WHERE ISNULL(PortalID, -1) = ISNULL(@PortalID, -1) AND MappingName = @MappingName", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolderMappings]", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[FolderMappings]", " "),  new Array(1,"WHERE ISNULL(PortalID, -1) = ISNULL(@PortalID, -1)", " "),  new Array(1,"ORDER BY Priority", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolderMappingsSetting]", " "),  new Array(1,"@FolderMappingID int,", " "),  new Array(1,"@SettingName nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[FolderMappingsSettings]", " "),  new Array(1,"WHERE FolderMappingID = @FolderMappingID AND SettingName = @SettingName", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolderMappingsSettings]", " "),  new Array(1,"@FolderMappingID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT SettingName, SettingValue", " "),  new Array(1,"FROM dbo.[FolderMappingsSettings]", " "),  new Array(1,"WHERE FolderMappingID = @FolderMappingID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolderPermission]", " "),  new Array(1,"", " "),  new Array(1,"@FolderPermissionID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_FolderPermissions", " "),  new Array(1,"WHERE FolderPermissionID = @FolderPermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolderPermissionsByFolderPath]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@FolderPath nvarchar(300),", " "),  new Array(1,"@PermissionID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_FolderPermissions", " "),  new Array(1,"", " "),  new Array(1,"WHERE	((FolderPath = @FolderPath", " "),  new Array(1,"AND ((PortalID = @PortalID) OR (PortalID IS NULL AND @PortalID IS NULL)))", " "),  new Array(1,"OR (FolderPath IS NULL AND PermissionCode = \'SYSTEM_FOLDER\'))", " "),  new Array(1,"AND	(PermissionID = @PermissionID OR @PermissionID = -1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolderPermissionsByPortal]", " "),  new Array(1,"@PortalId Int   -- Null|-1 for Host menu tabs", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[vw_FolderPermissions]", " "),  new Array(1,"WHERE IsNull(PortalID, -1) = IsNull(@PortalId, -1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolderPermissionsByPortalAndPath]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@FolderPath nvarchar(300)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @PortalId = IsNull(@PortalId, -1)", " "),  new Array(1,"", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.[vw_FolderPermissions]", " "),  new Array(1,"WHERE  PortalID = @PortalId AND (FolderPath = @FolderPath OR @FolderPath IS NULL)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFolders]", " "),  new Array(1,"@PortalID int -- Null|-1: Host Portal", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.Folders", " "),  new Array(1,"WHERE IsNull(PortalID, -1) = IsNull(@PortalID, -1)", " "),  new Array(1,"ORDER BY PortalID, FolderPath -- include portalId to use proper index", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetFoldersByPermissions]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@Permissions nvarchar(300),", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@FolderID int,", " "),  new Array(1,"@FolderPath nvarchar(300)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @IsSuperUser BIT", " "),  new Array(1,"DECLARE @Admin BIT", " "),  new Array(1,"DECLARE @Read INT", " "),  new Array(1,"DECLARE @Write INT", " "),  new Array(1,"DECLARE @Browse INT", " "),  new Array(1,"DECLARE @Add INT", " "),  new Array(1,"", " "),  new Array(1,"--Determine Admin or SuperUser", " "),  new Array(1,"IF @UserId IN (", " "),  new Array(1,"SELECT UserId", " "),  new Array(1,"FROM dbo.[UserRoles]", " "),  new Array(1,"WHERE RoleId IN (", " "),  new Array(1,"SELECT RoleId", " "),  new Array(1,"FROM dbo.[Roles]", " "),  new Array(1,"WHERE PortalId = @PortalId", " "),  new Array(1,"AND RoleName = \'Administrators\'))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @Admin = 1", " "),  new Array(1,"END;", " "),  new Array(1,"", " "),  new Array(1,"SELECT @IsSuperUser = IsSuperUser", " "),  new Array(1,"FROM dbo.[Users]", " "),  new Array(1,"WHERE UserId = @UserId;", " "),  new Array(1,"", " "),  new Array(1,"--Retrieve Permission Ids", " "),  new Array(1,"IF @Permissions LIKE \'%READ%\' BEGIN SELECT TOP 1 @Read = PermissionID FROM dbo.[Permission] WHERE PermissionCode = \'SYSTEM_FOLDER\' AND PermissionKey = \'READ\' END;", " "),  new Array(1,"IF @Permissions LIKE \'%WRITE%\' BEGIN SELECT TOP 1 @Write = PermissionID FROM dbo.[Permission] WHERE PermissionCode = \'SYSTEM_FOLDER\' AND PermissionKey = \'WRITE\' END;", " "),  new Array(1,"IF @Permissions LIKE \'%BROWSE%\' BEGIN SELECT TOP 1 @Browse = PermissionID FROM dbo.[Permission] WHERE PermissionCode = \'SYSTEM_FOLDER\' AND PermissionKey = \'BROWSE\' END;", " "),  new Array(1,"IF @Permissions LIKE \'%ADD%\' BEGIN SELECT TOP 1 @Add = PermissionID FROM dbo.[Permission] WHERE PermissionCode = \'SYSTEM_FOLDER\' AND PermissionKey = \'ADD\' END;", " "),  new Array(1,"", " "),  new Array(1,"IF @PortalID IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT DISTINCT F.*", " "),  new Array(1,"FROM dbo.[Folders] F", " "),  new Array(1,"WHERE F.PortalID IS NULL", " "),  new Array(1,"AND (F.FolderID = @FolderID OR @FolderID = -1)", " "),  new Array(1,"AND (F.FolderPath = @FolderPath OR @FolderPath = \'\')", " "),  new Array(1,"", " "),  new Array(1,"ORDER BY F.FolderPath", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"CREATE TABLE #Skip_Folders(folderid INT PRIMARY KEY(folderid))", " "),  new Array(1,"INSERT INTO #Skip_Folders", " "),  new Array(1,"SELECT DISTINCT folderid FROM dbo.[FolderPermission] FP", " "),  new Array(1,"JOIN dbo.[Permission] P ON FP.PermissionID = P.PermissionID", " "),  new Array(1,"WHERE", " "),  new Array(1,"((P.PermissionKey = \'WRITE\' OR @IsSuperUser=1 OR @Admin=1) OR", " "),  new Array(1,"FP.PermissionID = CASE WHEN @Read > 0 THEN @Read END OR", " "),  new Array(1,"FP.PermissionID = CASE WHEN @Write > 0 THEN @Write END OR", " "),  new Array(1,"FP.PermissionID = CASE WHEN @Browse > 0 THEN @Browse END OR", " "),  new Array(1,"FP.PermissionID = CASE WHEN @Add > 0 THEN @Add END)", " "),  new Array(1,"AND FP.FolderID NOT IN (SELECT DISTINCT folderid FROM dbo.[FolderPermission] WHERE allowaccess=0 AND (userid=@UserId OR roleid=-1 OR roleid IN (SELECT roleid FROM dbo.[UserRoles] WHERE UserID=@UserId)))", " "),  new Array(1,"", " "),  new Array(1,"SELECT DISTINCT F.*", " "),  new Array(1,"FROM dbo.[Folders] F", " "),  new Array(1,"JOIN dbo.[FolderPermission] FP ON F.FolderId = FP.FolderID", " "),  new Array(1,"JOIN dbo.[Permission] P ON FP.PermissionID = P.PermissionID", " "),  new Array(1,"JOIN #Skip_Folders sf ON sf.folderid=f.folderid", " "),  new Array(1,"WHERE ((F.PortalID = @PortalID) OR (F.PortalID IS NULL AND @PortalID IS NULL))", " "),  new Array(1,"AND (F.FolderID = @FolderID OR @FolderID = -1)", " "),  new Array(1,"AND (F.FolderPath = @FolderPath OR @FolderPath = \'\')", " "),  new Array(1,"AND", " "),  new Array(1,"((P.PermissionKey = \'WRITE\' OR @IsSuperUser=1 OR @Admin=1) OR", " "),  new Array(1,"FP.PermissionID = CASE WHEN @Read > 0 THEN @Read END OR", " "),  new Array(1,"FP.PermissionID = CASE WHEN @Write > 0 THEN @Write END OR", " "),  new Array(1,"FP.PermissionID = CASE WHEN @Browse > 0 THEN @Browse END OR", " "),  new Array(1,"FP.PermissionID = CASE WHEN @Add > 0 THEN @Add END)", " "),  new Array(1,"AND FP.AllowAccess = 1", " "),  new Array(1,"ORDER BY F.FolderPath", " "),  new Array(1,"", " "),  new Array(1,"DROP TABLE #Skip_Folders", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetHostSetting]", " "),  new Array(1,"@SettingName nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT CASE WHEN Lower(SettingValue) Like N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](SettingValue)", " "),  new Array(1,"ELSE SettingValue", " "),  new Array(1,"END   AS SettingValue", " "),  new Array(1,"FROM  dbo.[HostSettings]", " "),  new Array(1,"WHERE SettingName = @SettingName;", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetHostSettings]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT SettingName,", " "),  new Array(1,"CASE WHEN Lower(SettingValue) Like N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](SettingValue)", " "),  new Array(1,"ELSE SettingValue", " "),  new Array(1,"END   AS SettingValue,", " "),  new Array(1,"SettingIsSecure,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM  dbo.[HostSettings];", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetHtmlText]", " "),  new Array(1,"", " "),  new Array(1,"@ModuleID int,", " "),  new Array(1,"@ItemID int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select dbo.HtmlText.*,", " "),  new Array(1,"dbo.WorkflowStates.*,", " "),  new Array(1,"dbo.Workflow.WorkflowName,", " "),  new Array(1,"dbo.Users.DisplayName,", " "),  new Array(1,"dbo.Modules.PortalID", " "),  new Array(1,"from   dbo.HtmlText", " "),  new Array(1,"inner join dbo.Modules on dbo.Modules.ModuleID = dbo.HtmlText.ModuleID", " "),  new Array(1,"inner join dbo.WorkflowStates on dbo.WorkflowStates.StateID = dbo.HtmlText.StateID", " "),  new Array(1,"inner join dbo.Workflow on dbo.WorkflowStates.WorkflowID = dbo.Workflow.WorkflowID", " "),  new Array(1,"left outer join dbo.Users on dbo.HtmlText.LastModifiedByUserID = dbo.Users.UserID", " "),  new Array(1,"where  dbo.HtmlText.ModuleID = @ModuleID", " "),  new Array(1,"and ItemID = @ItemID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetHtmlTextLog]", " "),  new Array(1,"", " "),  new Array(1,"@ItemID int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select HtmlTextLog.ItemID,", " "),  new Array(1,"HtmlTextLog.StateID,", " "),  new Array(1,"WorkflowStates.StateName,", " "),  new Array(1,"HtmlTextLog.Comment,", " "),  new Array(1,"HtmlTextLog.Approved,", " "),  new Array(1,"HtmlTextLog.CreatedByUserID,", " "),  new Array(1,"Users.DisplayName,", " "),  new Array(1,"HtmlTextLog.CreatedOnDate", " "),  new Array(1,"from dbo.HtmlTextLog", " "),  new Array(1,"inner join dbo.WorkflowStates on dbo.HtmlTextLog.StateID = dbo.WorkflowStates.StateID", " "),  new Array(1,"left outer join dbo.Users on dbo.HtmlTextLog.CreatedByUserID = dbo.Users.UserID", " "),  new Array(1,"where ItemID = @ItemID", " "),  new Array(1,"order by HtmlTextLog.CreatedOnDate desc", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetHtmlTextUser]", " "),  new Array(1,"", " "),  new Array(1,"@UserID int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select HtmlTextUsers.*,", " "),  new Array(1,"WorkflowStates.StateName", " "),  new Array(1,"from   dbo.HtmlTextUsers", " "),  new Array(1,"inner join dbo.WorkflowStates on dbo.HtmlTextUsers.StateID = dbo.WorkflowStates.StateID", " "),  new Array(1,"where  HtmlTextUsers.UserID = @UserID", " "),  new Array(1,"order by HtmlTextUsers.CreatedOnDate asc", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetInstalledModules]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"DM.DesktopModuleID,", " "),  new Array(1,"DM.ModuleName,", " "),  new Array(1,"DM.FriendlyName,", " "),  new Array(1,"DM.Version,", " "),  new Array(1,"--Left Joined nulls will not add to the count", " "),  new Array(1,"COUNT(MDEF.DesktopModuleID) as Instances", " "),  new Array(1,"FROM dbo.[DesktopModules] AS DM", " "),  new Array(1,"--Paren\'s Will enforce inner join first before left outer joining", " "),  new Array(1,"LEFT JOIN (dbo.[ModuleDefinitions] MDEF", " "),  new Array(1,"INNER JOIN dbo.[Modules] MODS ON MDEF.ModuleDefID = MODS.ModuleDefID)", " "),  new Array(1,"ON dm.DesktopModuleID = MDEF.DesktopModuleID", " "),  new Array(1,"WHERE (IsAdmin = 0)", " "),  new Array(1,"GROUP BY DM.DesktopModuleID, DM.ModuleName, DM.FriendlyName, DM.Version", " "),  new Array(1,"ORDER BY DM.[FriendlyName] ASC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetIPFilter]", " "),  new Array(1,"@InputFilter int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.IPFilter where IPFilterID=@InputFilter", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetIPFilters]", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.IPFilter", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetJavaScriptLibraries]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.JavaScriptLibraries", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetLanguagePackByPackage]", " "),  new Array(1,"", " "),  new Array(1,"@PackageID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.LanguagePacks", " "),  new Array(1,"WHERE  PackageID = @PackageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetLanguages]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.Languages", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetLanguagesByPortal]", " "),  new Array(1,"@PortalId			int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"L.*,", " "),  new Array(1,"PL.PortalId,", " "),  new Array(1,"PL.IsPublished", " "),  new Array(1,"FROM   dbo.Languages L", " "),  new Array(1,"INNER JOIN dbo.PortalLanguages PL On L.LanguageID = PL.LanguageID", " "),  new Array(1,"WHERE PL.PortalID = @PortalID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetLastAppliedIteration]", " "),  new Array(1,"", " "),  new Array(1,"@Major  int,", " "),  new Array(1,"@Minor  int,", " "),  new Array(1,"@Build  int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"SELECT ISNULL(MAX(Increment),0) from dbo.Version WHERE Major=@Major AND Minor=@Minor AND Build=@Build", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetLegacyFolderCount]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT COUNT(*)", " "),  new Array(1,"FROM dbo.Folders", " "),  new Array(1,"WHERE ParentID IS NULL AND FolderPath <> \'\'", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[GetList]", " "),  new Array(1,"@ListName nvarchar(50),", " "),  new Array(1,"@ParentKey nvarchar(150),", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT DISTINCT", " "),  new Array(1,"ListName,", " "),  new Array(1,"[Level],", " "),  new Array(1,"DefinitionID,", " "),  new Array(1,"PortalID,", " "),  new Array(1,"SystemList,", " "),  new Array(1,"EntryCount,", " "),  new Array(1,"ParentID,", " "),  new Array(1,"ParentKey,", " "),  new Array(1,"Parent,", " "),  new Array(1,"ParentList,", " "),  new Array(1,"MaxSortOrder", " "),  new Array(1,"FROM dbo.vw_Lists", " "),  new Array(1,"WHERE ListName = @ListName", " "),  new Array(1,"AND ParentKey = @ParentKey", " "),  new Array(1,"AND PortalID = @PortalID", " "),  new Array(1,"ORDER BY [Level], ListName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetListEntries]", " "),  new Array(1,"@ListName nvarchar(50),", " "),  new Array(1,"@ParentKey nvarchar(150),", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_Lists", " "),  new Array(1,"WHERE (ListName = @ListName OR @ListName=\'\')", " "),  new Array(1,"AND (ParentKey = @ParentKey OR @ParentKey = \'\')", " "),  new Array(1,"AND (PortalID = @PortalID OR PortalID = -1 OR @PortalID IS NULL or SystemList=1)", " "),  new Array(1,"ORDER BY [Level], ListName, SortOrder, Text", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetListEntry]", " "),  new Array(1,"", " "),  new Array(1,"@ListName nvarchar(50),", " "),  new Array(1,"@Value nvarchar(200),", " "),  new Array(1,"@EntryID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_Lists", " "),  new Array(1,"WHERE ([ListName] = @ListName OR @ListName=\'\')", " "),  new Array(1,"AND ([EntryID]=@EntryID OR @EntryID = -1)", " "),  new Array(1,"AND ([Value]=@Value OR @Value = \'\')", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[GetLists]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT DISTINCT", " "),  new Array(1,"ListName,", " "),  new Array(1,"[Level],", " "),  new Array(1,"DefinitionID,", " "),  new Array(1,"PortalID,", " "),  new Array(1,"SystemList,", " "),  new Array(1,"EntryCount,", " "),  new Array(1,"ParentID,", " "),  new Array(1,"ParentKey,", " "),  new Array(1,"Parent,", " "),  new Array(1,"ParentList,", " "),  new Array(1,"MaxSortOrder", " "),  new Array(1,"FROM dbo.vw_Lists", " "),  new Array(1,"WHERE PortalID = @PortalID", " "),  new Array(1,"ORDER BY [Level], ListName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetMetaData]", " "),  new Array(1,"@ContentItemId   int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT md.MetaDataName, cmd.MetaDataValue", " "),  new Array(1,"FROM dbo.[ContentItems_MetaData] cmd", " "),  new Array(1,"JOIN dbo.[MetaData] md on (cmd.MetaDataID = md.MetaDataID)", " "),  new Array(1,"WHERE ContentItemId = @ContentItemId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModule]", " "),  new Array(1,"", " "),  new Array(1,"@ModuleId int,", " "),  new Array(1,"@TabId    int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM dbo.vw_Modules", " "),  new Array(1,"WHERE   ModuleId = @ModuleId", " "),  new Array(1,"AND     (TabId = @TabId or @TabId is null)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModuleByDefinition]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@DefinitionName nvarchar(128)", " "),  new Array(1,"AS", " "),  new Array(1,"IF(@PortalId IS NULL)", " "),  new Array(1,"SELECT M.*", " "),  new Array(1,"FROM dbo.vw_Modules M", " "),  new Array(1,"WHERE M.PortalId IS NULL", " "),  new Array(1,"AND M.DefinitionName = @DefinitionName", " "),  new Array(1,"AND M.IsDeleted = 0", " "),  new Array(1,"AND M.IsTabDeleted = 0", " "),  new Array(1,"ELSE", " "),  new Array(1,"SELECT M.*", " "),  new Array(1,"FROM dbo.vw_Modules M", " "),  new Array(1,"WHERE M.PortalId = @PortalId", " "),  new Array(1,"AND M.DefinitionName = @DefinitionName", " "),  new Array(1,"AND M.IsDeleted = 0", " "),  new Array(1,"AND M.IsTabDeleted = 0", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModuleByUniqueID]", " "),  new Array(1,"@UniqueID   uniqueidentifier", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM	dbo.vw_Modules", " "),  new Array(1,"WHERE	UniqueID = @UniqueID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModuleControls]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.ModuleControls", " "),  new Array(1,"ORDER BY  ControlKey, ViewOrder", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModuleDefinitions]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.ModuleDefinitions", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModulePackagesInUse]", " "),  new Array(1,"@PortalID INT,", " "),  new Array(1,"@ForHost BIT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Create a temp table to store the select results", " "),  new Array(1,"CREATE TABLE #TabsLatestPublished", " "),  new Array(1,"(", " "),  new Array(1,"IndexId int IDENTITY (0, 1) NOT NULL,", " "),  new Array(1,"TabId int,", " "),  new Array(1,"ModuleId int", " "),  new Array(1,");", " "),  new Array(1,"", " "),  new Array(1,"WITH Temp AS (", " "),  new Array(1,"SELECT ROW_NUMBER() OVER (PARTITION BY TabId ORDER BY Version DESC) AS RowNumber, TabVersionId, TabId", " "),  new Array(1,"FROM dbo.TabVersions", " "),  new Array(1,"WHERE IsPublished = 1", " "),  new Array(1,")", " "),  new Array(1,"-- Insert into our temp table", " "),  new Array(1,"INSERT INTO #TabsLatestPublished (TabId, ModuleId)", " "),  new Array(1,"SELECT TLP.TabId, TVD.ModuleId", " "),  new Array(1,"FROM Temp TLP", " "),  new Array(1,"INNER JOIN dbo.TabVersionDetails TVD ON TLP.TabVersionId = TVD.TabVersionId", " "),  new Array(1,"WHERE RowNumber = 1 AND TVD.Action <> 2", " "),  new Array(1,"", " "),  new Array(1,"IF (@ForHost = 1)", " "),  new Array(1,"-- Get in use for all host pages and portal pages", " "),  new Array(1,"SELECT AllPackages.*", " "),  new Array(1,"FROM dbo.Packages AS AllPackages", " "),  new Array(1,"INNER JOIN (", " "),  new Array(1,"SELECT DISTINCT P.PackageID", " "),  new Array(1,"FROM         dbo.Packages       P", " "),  new Array(1,"INNER JOIN dbo.vw_Modules     M   ON P.PackageID=M.PackageID", " "),  new Array(1,"INNER JOIN dbo.tabs           T   ON T.TabID=M.TabID", " "),  new Array(1,"LEFT  JOIN #TabsLatestPublished                           TLP ON TLP.TabId = M.TabId AND TLP.ModuleId = M.ModuleID", " "),  new Array(1,"WHERE T.IsDeleted=0 AND (M.IsDeleted=0 OR (TLP.TabId IS NOT NULL AND TLP.ModuleId IS NOT NULL))", " "),  new Array(1,") AS InUsePackages", " "),  new Array(1,"ON AllPackages.PackageID = InUsePackages.PackageID", " "),  new Array(1,"ORDER BY AllPackages.FriendlyName", " "),  new Array(1,"ELSE", " "),  new Array(1,"-- Get in use for portal or host only", " "),  new Array(1,"SELECT AllPackages.* FROM dbo.Packages AS AllPackages", " "),  new Array(1,"INNER JOIN (", " "),  new Array(1,"SELECT DISTINCT P.PackageID", " "),  new Array(1,"FROM         dbo.Packages       P", " "),  new Array(1,"INNER JOIN dbo.vw_Modules     M   ON P.PackageID=M.PackageID", " "),  new Array(1,"INNER JOIN dbo.tabs           T   ON T.TabID=M.TabID", " "),  new Array(1,"LEFT  JOIN #TabsLatestPublished                           TLP ON TLP.TabId = M.TabId AND TLP.ModuleId = M.ModuleID", " "),  new Array(1,"WHERE ((@PortalID IS NULL AND T.PortalID IS NULL) OR T.PortalID = @PortalID)", " "),  new Array(1,"AND T.IsDeleted=0", " "),  new Array(1,"AND (M.IsDeleted=0 OR (TLP.TabId IS NOT NULL AND TLP.ModuleId IS NOT NULL))) AS InUsePackages", " "),  new Array(1,"ON AllPackages.PackageID = InUsePackages.PackageID", " "),  new Array(1,"ORDER BY AllPackages.FriendlyName", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModulePermission]", " "),  new Array(1,"", " "),  new Array(1,"@ModulePermissionID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_ModulePermissions", " "),  new Array(1,"WHERE ModulePermissionID = @ModulePermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModulePermissionsByModuleID]", " "),  new Array(1,"@ModuleId       Int,   -- Null|-1 for all modules", " "),  new Array(1,"@PermissionId   Int    -- Null|-1 for all permissions", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (IsNull(@ModuleId, -1) = -1) -- separate branches with individual query optimization", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[vw_ModulePermissions]", " "),  new Array(1,"WHERE (PermissionID = @PermissionId OR IsNull(@PermissionId, -1) = -1)", " "),  new Array(1,"ELSE", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[vw_ModulePermissions]", " "),  new Array(1,"WHERE ((ModuleID = @ModuleId) OR (ModuleID IS NULL AND PermissionCode = \'SYSTEM_MODULE_DEFINITION\'))", " "),  new Array(1,"AND (PermissionID = @PermissionId OR IsNull(@PermissionId, -1) = -1)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModulePermissionsByPortal]", " "),  new Array(1,"@PortalId Int -- Not Null!", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[vw_ModulePermissions]", " "),  new Array(1,"WHERE PortalID = @PortalID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModulePermissionsByTabID]", " "),  new Array(1,"@TabId Int -- Not Null!", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT MP.*", " "),  new Array(1,"FROM        dbo.[Tabs]                 AS T", " "),  new Array(1,"INNER JOIN  dbo.[TabModules]           AS TM ON TM.TabID    = T.TabID", " "),  new Array(1,"INNER JOIN  dbo.[vw_ModulePermissions] AS MP ON TM.ModuleID = MP.ModuleID AND T.PortalID = MP.PortalID", " "),  new Array(1,"WHERE T.TabID = @TabId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModules]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM dbo.vw_Modules", " "),  new Array(1,"WHERE  PortalId = @PortalID", " "),  new Array(1,"ORDER BY ModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModuleSetting]", " "),  new Array(1,"@ModuleId      Int,          -- not null!", " "),  new Array(1,"@SettingName   nVarChar(50)  -- not null or empty!", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT SettingName,", " "),  new Array(1,"CASE WHEN Lower(SettingValue) LIKE N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](SettingValue)", " "),  new Array(1,"ELSE SettingValue", " "),  new Array(1,"END AS SettingValue", " "),  new Array(1,"FROM  dbo.[ModuleSettings]", " "),  new Array(1,"WHERE ModuleID    = @ModuleId", " "),  new Array(1,"AND SettingName = @SettingName;", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModuleSettings]", " "),  new Array(1,"@ModuleId Int -- Null: settings from all modules", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT SettingName,", " "),  new Array(1,"CASE WHEN Lower(SettingValue) LIKE N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](SettingValue)", " "),  new Array(1,"ELSE SettingValue", " "),  new Array(1,"END       AS SettingValue", " "),  new Array(1,"FROM  dbo.[ModuleSettings]", " "),  new Array(1,"WHERE ModuleID = @ModuleId OR IsNull(@ModuleId, -1) = -1", " "),  new Array(1,"OPTION (OPTIMIZE FOR (@ModuleId UNKNOWN))", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetModuleSettingsByTab]", " "),  new Array(1,"@TabId Int -- Not Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT S.ModuleID,", " "),  new Array(1,"S.SettingName,", " "),  new Array(1,"CASE WHEN Lower(S.SettingValue) LIKE N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](S.SettingValue)", " "),  new Array(1,"ELSE S.SettingValue", " "),  new Array(1,"END		 AS SettingValue", " "),  new Array(1,"FROM  dbo.[ModuleSettings] S", " "),  new Array(1,"JOIN  dbo.[TabModules]     M ON S.ModuleID = M.ModuleID", " "),  new Array(1,"WHERE M.TabID = @TabId", " "),  new Array(1,"ORDER BY S.ModuleID", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetNonExpiredUsersByRoleName]", " "),  new Array(1,"@PortalID	INT,", " "),  new Array(1,"@Rolename	NVARCHAR(50)", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @UserPortalId INT", " "),  new Array(1,"DECLARE @PortalGroupId INT", " "),  new Array(1,"SELECT @PortalGroupId = PortalGroupId FROM dbo.[Portals] WHERE PortalID = @PortalID", " "),  new Array(1,"IF EXISTS(SELECT PortalGroupID FROM dbo.[PortalGroups] WHERE PortalGroupID = @PortalGroupId)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT @UserPortalId = MasterPortalID FROM dbo.[PortalGroups] WHERE PortalGroupID = @PortalGroupId", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT @UserPortalId = @PortalID", " "),  new Array(1,"END", " "),  new Array(1,"SELECT", " "),  new Array(1,"U.*,", " "),  new Array(1,"UP.PortalId,", " "),  new Array(1,"UP.Authorised,", " "),  new Array(1,"UP.IsDeleted,", " "),  new Array(1,"UP.RefreshRoles,", " "),  new Array(1,"UP.VanityUrl", " "),  new Array(1,"FROM dbo.UserPortals AS UP", " "),  new Array(1,"RIGHT OUTER JOIN dbo.UserRoles  UR", " "),  new Array(1,"INNER JOIN dbo.Roles R ON UR.RoleID = R.RoleID", " "),  new Array(1,"RIGHT OUTER JOIN dbo.Users AS U ON UR.UserID = U.UserID", " "),  new Array(1,"ON UP.UserId = U.UserID", " "),  new Array(1,"WHERE ( UP.PortalId = @UserPortalId OR @UserPortalId IS Null )", " "),  new Array(1,"AND (UP.IsDeleted = 0 OR UP.IsDeleted Is NULL)", " "),  new Array(1,"AND (R.RoleName = @Rolename)", " "),  new Array(1,"AND (R.PortalId = @PortalID OR @PortalID IS Null )", " "),  new Array(1,"AND (UR.ExpiryDate >= GETDATE() OR UR.ExpiryDate IS NULL)", " "),  new Array(1,"ORDER BY U.FirstName + \' \' + U.LastName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetOnlineUser]", " "),  new Array(1,"@UserID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"U.UserID,", " "),  new Array(1,"U.UserName", " "),  new Array(1,"FROM dbo.Users U", " "),  new Array(1,"WHERE U.UserID = @UserID", " "),  new Array(1,"AND EXISTS (", " "),  new Array(1,"select 1 from dbo.UsersOnline UO where UO.UserID = U.UserID", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetOnlineUsers]", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.UsersOnline UO", " "),  new Array(1,"INNER JOIN dbo.vw_Users U ON UO.UserID = U.UserID", " "),  new Array(1,"INNER JOIN dbo.UserPortals UP ON U.UserID = UP.UserId", " "),  new Array(1,"WHERE  UP.PortalID = @PortalID AND U.PortalID = @PortalID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPackageDependencies]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.[PackageDependencies]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPackages]", " "),  new Array(1,"@PortalID	int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.Packages", " "),  new Array(1,"WHERE (PortalID = @PortalID OR @PortalID IS NULL OR PortalID IS NULL)", " "),  new Array(1,"ORDER BY PackageType ASC, [FriendlyName] ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPackageTypes]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.PackageTypes", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPasswordHistory]", " "),  new Array(1,"@UserID			int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * from dbo.PasswordHistory where UserID=@UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPermissions]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.Permission", " "),  new Array(1,"ORDER BY ViewOrder", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortalAliases]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.PortalAlias", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortalByPortalAliasID]", " "),  new Array(1,"", " "),  new Array(1,"@PortalAliasId  int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT P.*", " "),  new Array(1,"FROM dbo.vw_Portals P", " "),  new Array(1,"INNER JOIN dbo.PortalAlias PA ON P.PortalID = PA.PortalID", " "),  new Array(1,"WHERE PA.PortalAliasId = @PortalAliasId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortalDefaultLanguage]", " "),  new Array(1,"", " "),  new Array(1,"@PortalId            int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT defaultlanguage", " "),  new Array(1,"FROM dbo.Portals", " "),  new Array(1,"where portalid=@PortalId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortalDesktopModules]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@DesktopModuleId int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT PortalDesktopModules.*,", " "),  new Array(1,"PortalName,", " "),  new Array(1,"FriendlyName", " "),  new Array(1,"FROM   PortalDesktopModules", " "),  new Array(1,"INNER JOIN vw_Portals ON PortalDesktopModules.PortalId = vw_Portals.PortalId", " "),  new Array(1,"INNER JOIN DesktopModules ON PortalDesktopModules.DesktopModuleId = DesktopModules.DesktopModuleId", " "),  new Array(1,"WHERE  ((PortalDesktopModules.PortalId = @PortalId) OR @PortalId is null)", " "),  new Array(1,"AND    ((PortalDesktopModules.DesktopModuleId = @DesktopModuleId) OR @DesktopModuleId is null)", " "),  new Array(1,"ORDER BY PortalDesktopModules.PortalId, PortalDesktopModules.DesktopModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortalGroups]", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.PortalGroups", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortalLocalizations]", " "),  new Array(1,"@PortalId			int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.[PortalLocalization] WHERE PortalId = @PortalId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortalRoles]", " "),  new Array(1,"@PortalId     Int -- Null: Host Roles", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT R.*,", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.[UserRoles] U", " "),  new Array(1,"WHERE U.RoleID = R.RoleID", " "),  new Array(1,"AND U.Status = 1", " "),  new Array(1,"AND (U.EffectiveDate < GETDATE() OR U.EffectiveDate IS NULL)", " "),  new Array(1,"AND (U.ExpiryDate > GETDATE() OR U.ExpiryDate IS NULL)) AS UserCount", " "),  new Array(1,"FROM dbo.[Roles] R", " "),  new Array(1,"WHERE (R.PortalId = @PortalId OR R.PortalId is null)", " "),  new Array(1,"AND (R.RoleId >= 0) -- DNN-4288: hide system role atm to prevent duplicates. Might be removed, after API has been adopt", " "),  new Array(1,"ORDER BY R.RoleName", " "),  new Array(1,"OPTION (OPTIMIZE FOR (@PortalId UNKNOWN))", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortals]", " "),  new Array(1,"@CultureCode	nVarChar(50) -- pass Null | \'\' to return portal default language", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM  dbo.[vw_Portals]", " "),  new Array(1,"WHERE CultureCode =", " "),  new Array(1,"CASE", " "),  new Array(1,"WHEN IsNull(@CultureCode, N\'\') = N\'\' THEN DefaultLanguage", " "),  new Array(1,"ELSE @CultureCode", " "),  new Array(1,"END", " "),  new Array(1,"ORDER BY PortalName;", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortalsByName]", " "),  new Array(1,"", " "),  new Array(1,"@NameToMatch	nvarchar(256),", " "),  new Array(1,"@PageIndex			int,", " "),  new Array(1,"@PageSize			int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Set the page bounds", " "),  new Array(1,"DECLARE @PageLowerBound INT", " "),  new Array(1,"DECLARE @PageUpperBound INT", " "),  new Array(1,"SET @PageLowerBound = @PageSize * @PageIndex", " "),  new Array(1,"SET @PageUpperBound = @PageSize - 1 + @PageLowerBound", " "),  new Array(1,"", " "),  new Array(1,"-- Create a temp table TO store the select results", " "),  new Array(1,"CREATE TABLE #PageIndexForPortals", " "),  new Array(1,"(", " "),  new Array(1,"IndexId int IDENTITY (0, 1) NOT NULL,", " "),  new Array(1,"PortalId int", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"-- Insert into our temp table", " "),  new Array(1,"INSERT INTO #PageIndexForPortals (PortalId)", " "),  new Array(1,"SELECT PortalId FROM	dbo.vw_PortalsDefaultLanguage", " "),  new Array(1,"WHERE  PortalName LIKE @NameToMatch", " "),  new Array(1,"ORDER BY PortalName", " "),  new Array(1,"", " "),  new Array(1,"SELECT  *", " "),  new Array(1,"FROM	dbo.vw_PortalsDefaultLanguage p,", " "),  new Array(1,"#PageIndexForPortals i", " "),  new Array(1,"WHERE  p.PortalId = i.PortalId", " "),  new Array(1,"AND i.IndexId >= @PageLowerBound AND i.IndexId <= @PageUpperBound", " "),  new Array(1,"ORDER BY p.PortalName", " "),  new Array(1,"", " "),  new Array(1,"SELECT  TotalRecords = COUNT(*)", " "),  new Array(1,"FROM    #PageIndexForPortals", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortalsByUser]", " "),  new Array(1,"@userID		int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"SELECT     dbo.vw_Portals.*", " "),  new Array(1,"FROM         dbo.UserPortals INNER JOIN", " "),  new Array(1,"dbo.vw_Portals ON", " "),  new Array(1,"dbo.UserPortals.PortalId = dbo.vw_Portals.PortalID", " "),  new Array(1,"WHERE     (dbo.UserPortals.UserId = @userID)", " "),  new Array(1,"AND (dbo.vw_Portals.DefaultLanguage = dbo.vw_Portals.CultureCode)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortalSetting]", " "),  new Array(1,"@PortalID    Int,		    -- Not Null", " "),  new Array(1,"@SettingName nVarChar(50),	-- Not Null", " "),  new Array(1,"@CultureCode nVarChar(50)	-- Null|-1 for neutral language", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT TOP (1)", " "),  new Array(1,"SettingName,", " "),  new Array(1,"CASE WHEN Lower(SettingValue) Like N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](SettingValue)", " "),  new Array(1,"ELSE SettingValue", " "),  new Array(1,"END   AS SettingValue,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate,", " "),  new Array(1,"CultureCode", " "),  new Array(1,"FROM  dbo.[PortalSettings]", " "),  new Array(1,"WHERE PortalID    = @PortalID", " "),  new Array(1,"AND SettingName = @SettingName", " "),  new Array(1,"AND COALESCE(CultureCode, @CultureCode, N\'\') = IsNull(@CultureCode, N\'\')", " "),  new Array(1,"ORDER BY IsNull(CultureCode, N\'\') DESC", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortalSettings]", " "),  new Array(1,"@PortalId    Int,            -- not Null!", " "),  new Array(1,"@CultureCode nVarChar(20)    -- Null|\'\' for neutral language", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @DefaultLanguage nVarChar(20) = N\'\';", " "),  new Array(1,"", " "),  new Array(1,"IF EXISTS (SELECT *", " "),  new Array(1,"FROM  dbo.[PortalLocalization] L", " "),  new Array(1,"JOIN  dbo.[Portals] P ON L.PortalID = P.PortalID AND L.CultureCode = P.DefaultLanguage", " "),  new Array(1,"WHERE P.PortalID = @PortalID)", " "),  new Array(1,"SELECT @DefaultLanguage = DefaultLanguage", " "),  new Array(1,"FROM  dbo.[Portals]", " "),  new Array(1,"WHERE PortalID = @PortalID;", " "),  new Array(1,"", " "),  new Array(1,"SELECT PS.SettingName,", " "),  new Array(1,"CASE WHEN Lower(PS.SettingValue) LIKE N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](PS.SettingValue)", " "),  new Array(1,"ELSE PS.SettingValue", " "),  new Array(1,"END   AS SettingValue,", " "),  new Array(1,"PS.CreatedByUserID,", " "),  new Array(1,"PS.CreatedOnDate,", " "),  new Array(1,"PS.LastModifiedByUserID,", " "),  new Array(1,"PS.LastModifiedOnDate,", " "),  new Array(1,"PS.CultureCode", " "),  new Array(1,"FROM  dbo.[PortalSettings] PS", " "),  new Array(1,"WHERE PortalSettingID = (SELECT Top(1) PortalSettingID FROM dbo.[PortalSettings] S", " "),  new Array(1,"WHERE PS.PortalID = S.PortalID AND PS.SettingName = S.SettingName", " "),  new Array(1,"ORDER BY CASE CultureCode WHEN @CultureCode THEN 2 WHEN Null THEN 1 ELSE 0 END DESC)", " "),  new Array(1,"AND PortalID = @PortalID", " "),  new Array(1,"ORDER BY SettingName;", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPortalSpaceUsed]", " "),  new Array(1,"@PortalId INT     -- Null|-1: Host files", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT SUM(CAST(Size as bigint)) AS SpaceUsed", " "),  new Array(1,"FROM dbo.Files", " "),  new Array(1,"WHERE (IsNull(PortalID, -1) = IsNull(@PortalId, -1))", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetProfile]", " "),  new Array(1,"", " "),  new Array(1,"@UserID    int,", " "),  new Array(1,"@PortalID  int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select *", " "),  new Array(1,"from   dbo.Profile", " "),  new Array(1,"where  UserId = @UserID", " "),  new Array(1,"and    PortalId = @PortalID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPropertyDefinition]", " "),  new Array(1,"", " "),  new Array(1,"@PropertyDefinitionID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	dbo.ProfilePropertyDefinition.*", " "),  new Array(1,"FROM	dbo.ProfilePropertyDefinition", " "),  new Array(1,"WHERE PropertyDefinitionID = @PropertyDefinitionID", " "),  new Array(1,"AND Deleted = 0", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPropertyDefinitionByName]", " "),  new Array(1,"@PortalID	int,", " "),  new Array(1,"@Name		nvarchar(50)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM	dbo.ProfilePropertyDefinition", " "),  new Array(1,"WHERE  (PortalId = @PortalID OR (PortalId IS NULL AND @PortalID IS NULL))", " "),  new Array(1,"AND PropertyName = @Name", " "),  new Array(1,"ORDER BY ViewOrder", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPropertyDefinitionsByCategory]", " "),  new Array(1,"@PortalID	int,", " "),  new Array(1,"@Category	nvarchar(50)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM	dbo.ProfilePropertyDefinition", " "),  new Array(1,"WHERE  (PortalId = @PortalID OR (PortalId IS NULL AND @PortalID IS NULL))", " "),  new Array(1,"AND PropertyCategory = @Category", " "),  new Array(1,"ORDER BY ViewOrder", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetPropertyDefinitionsByPortal]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	dbo.ProfilePropertyDefinition.*", " "),  new Array(1,"FROM	dbo.ProfilePropertyDefinition", " "),  new Array(1,"WHERE  (PortalId = @PortalID OR (PortalId IS NULL AND @PortalID IS NULL))", " "),  new Array(1,"ORDER BY ViewOrder", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetRedirectMessage]", " "),  new Array(1,"@guid [UniqueIdentifier]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT MessageText", " "),  new Array(1,"FROM dbo.RedirectMessages", " "),  new Array(1,"WHERE MessageId = @guid", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetRelationship] @RelationshipID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  RelationshipID,", " "),  new Array(1,"RelationshipTypeID,", " "),  new Array(1,"Name,", " "),  new Array(1,"Description,", " "),  new Array(1,"UserID,", " "),  new Array(1,"PortalID,", " "),  new Array(1,"DefaultResponse,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.Relationships", " "),  new Array(1,"WHERE RelationshipID = @RelationshipID", " "),  new Array(1,"ORDER BY RelationshipID ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetRelationshipsByPortalID] @PortalID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  RelationshipID,", " "),  new Array(1,"RelationshipTypeID,", " "),  new Array(1,"Name,", " "),  new Array(1,"Description,", " "),  new Array(1,"UserID,", " "),  new Array(1,"PortalID,", " "),  new Array(1,"DefaultResponse,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.Relationships", " "),  new Array(1,"WHERE PortalID = @PortalID AND UserID IS NULL", " "),  new Array(1,"ORDER BY RelationshipID ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetRelationshipsByUserID] @UserID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  RelationshipID,", " "),  new Array(1,"RelationshipTypeID,", " "),  new Array(1,"Name,", " "),  new Array(1,"Description,", " "),  new Array(1,"UserID,", " "),  new Array(1,"PortalID,", " "),  new Array(1,"DefaultResponse,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.Relationships", " "),  new Array(1,"WHERE UserID = @UserID", " "),  new Array(1,"ORDER BY RelationshipID ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetRelationshipType] @RelationshipTypeID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  RelationshipTypeID,", " "),  new Array(1,"Direction,", " "),  new Array(1,"Name ,", " "),  new Array(1,"Description,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.RelationshipTypes", " "),  new Array(1,"WHERE RelationshipTypeID = @RelationshipTypeID", " "),  new Array(1,"ORDER BY RelationshipTypeID ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetRoleGroup]", " "),  new Array(1,"@PortalID		int,", " "),  new Array(1,"@RoleGroupId    int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.RoleGroups", " "),  new Array(1,"WHERE  (RoleGroupId = @RoleGroupId OR RoleGroupId IS NULL AND @RoleGroupId IS NULL)", " "),  new Array(1,"AND    PortalId = @PortalID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetRoleGroupByName]", " "),  new Array(1,"@PortalID		int,", " "),  new Array(1,"@RoleGroupName	nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.RoleGroups", " "),  new Array(1,"WHERE  PortalId = @PortalID", " "),  new Array(1,"AND RoleGroupName = @RoleGroupName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetRoleGroups]", " "),  new Array(1,"@PortalID		int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.RoleGroups", " "),  new Array(1,"WHERE  PortalId = @PortalID", " "),  new Array(1,"ORDER BY RoleGroupName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetRoles]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT R.*,", " "),  new Array(1,"(SELECT COUNT(*) FROM dbo.[UserRoles] U", " "),  new Array(1,"WHERE U.RoleID = R.RoleID", " "),  new Array(1,"AND U.Status = 1", " "),  new Array(1,"AND (U.EffectiveDate < GETDATE() OR U.EffectiveDate IS NULL)", " "),  new Array(1,"AND (U.ExpiryDate > GETDATE() OR U.ExpiryDate IS NULL)) AS UserCount", " "),  new Array(1,"FROM dbo.[Roles] AS R", " "),  new Array(1,"WHERE RoleID >= 0 -- ignore virtual roles. Note: might be removed, after controller has been adjusted", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetRolesBasicSearch]", " "),  new Array(1,"@PortalID           Int,                    -- might be null for all portals", " "),  new Array(1,"@PageIndex          Int,                    -- page number starting at 0", " "),  new Array(1,"@PageSize           Int,                    -- number of items per page", " "),  new Array(1,"@FilterBy           nVarChar(100)           -- pattern for role name, do not use preceding or trailing wildcards", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF IsNull(@FilterBy, \'\') <> \'\' BEGIN", " "),  new Array(1,"IF Substring(@FilterBy, 1, 1) = \'%\'", " "),  new Array(1,"SET @FilterBy = Substring(@FilterBy, 2, Len(@FilterBy) - 1)", " "),  new Array(1,"IF Substring(@FilterBy, Len(@FilterBy), 1) = \'%\'", " "),  new Array(1,"SET @FilterBy = Substring(@FilterBy, 1, Len(@FilterBy) - 1)", " "),  new Array(1,"END;", " "),  new Array(1,"", " "),  new Array(1,"IF IsNull(@PageIndex,-1) >= 0 AND IsNull(@PageSize, 0) > 0 AND IsNull(@PageSize, 0) < Cast(0x7fffffff AS Int)", " "),  new Array(1,"WITH OrderedRoles AS (", " "),  new Array(1,"SELECT RoleID, PortalID, RoleName, [Description], ServiceFee, BillingFrequency, TrialPeriod, TrialFrequency, BillingPeriod, TrialFee,", " "),  new Array(1,"IsPublic, AutoAssignment, RoleGroupID, RSVPCode, dbo.FilePath(IconFile) AS IconFile, Status, SecurityMode,", " "),  new Array(1,"CreatedByUserID,CreatedOnDate,LastModifiedByUserID,LastModifiedOnDate,", " "),  new Array(1,"ROW_NUMBER() OVER (ORDER BY RoleName ASC, PortalID DESC) AS RowNum", " "),  new Array(1,"FROM dbo.[Roles]", " "),  new Array(1,"WHERE (RoleName LIKE \'%\' + @FilterBy + \'%\' OR IsNull(@FilterBy,\'\') = \'\')", " "),  new Array(1,"AND (PortalID = @PortalID OR IsNull(@PortalID, -1)  = -1)", " "),  new Array(1,"AND (RoleId  >= 0) -- DNN-4288: ignore virtual roles", " "),  new Array(1,")", " "),  new Array(1,"SELECT * FROM OrderedRoles WHERE RowNum >= dbo.PageLowerBound(@PageIndex, @Pagesize)", " "),  new Array(1,"AND RowNum <= dbo.PageUpperBound(@PageIndex, @Pagesize) ORDER BY RowNum", " "),  new Array(1,"OPTION (OPTIMIZE FOR (@PortalId UNKNOWN));", " "),  new Array(1,"ELSE -- no paging", " "),  new Array(1,"SELECT RoleID, PortalID, RoleName, [Description], ServiceFee, BillingFrequency, TrialPeriod, TrialFrequency, BillingPeriod, TrialFee,", " "),  new Array(1,"IsPublic, AutoAssignment, RoleGroupID, RSVPCode, dbo.FilePath(IconFile) AS IconFile, Status, SecurityMode,", " "),  new Array(1,"CreatedByUserID,CreatedOnDate,LastModifiedByUserID,LastModifiedOnDate,", " "),  new Array(1,"ROW_NUMBER() OVER (ORDER BY RoleName ASC, PortalID DESC) AS RowNum", " "),  new Array(1,"FROM dbo.[Roles]", " "),  new Array(1,"WHERE (RoleName LIKE \'%\' + @FilterBy + \'%\' OR IsNull(@FilterBy,\'\') = \'\')", " "),  new Array(1,"AND (PortalID = @PortalID OR IsNull(@PortalID, -1)  = -1)", " "),  new Array(1,"AND (RoleId  >= 0) -- DNN-4288: ignore virtual roles", " "),  new Array(1,"OPTION (OPTIMIZE FOR (@PortalId UNKNOWN))", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetRoleSettings]", " "),  new Array(1,"@RoleId     int -- Not Null|-1", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT RoleSettingID,", " "),  new Array(1,"RoleID,", " "),  new Array(1,"SettingName,", " "),  new Array(1,"CASE WHEN Lower(SettingValue) LIKE N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](SettingValue)", " "),  new Array(1,"ELSE SettingValue", " "),  new Array(1,"END    AS SettingValue,", " "),  new Array(1,"CreatedByUserID,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM  dbo.[RoleSettings]", " "),  new Array(1,"WHERE RoleID = @RoleId", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSchedule]", " "),  new Array(1,"@Server varchar(150)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"S.*", " "),  new Array(1,", (SELECT max(S1.NextStart)", " "),  new Array(1,"FROM dbo.ScheduleHistory S1", " "),  new Array(1,"WHERE S1.ScheduleID = S.ScheduleID) as NextStart", " "),  new Array(1,"FROM dbo.Schedule S", " "),  new Array(1,"WHERE", " "),  new Array(1,"(", " "),  new Array(1,"@Server IS NULL OR", " "),  new Array(1,"S.Servers LIKE \'%,\' + @Server + \',%\' OR", " "),  new Array(1,"S.Servers LIKE @Server + \',%\' OR", " "),  new Array(1,"S.Servers LIKE \'%,\' + @Server OR", " "),  new Array(1,"S.Servers = @Server OR", " "),  new Array(1,"S.Servers IS NULL)", " "),  new Array(1,"ORDER BY FriendlyName ASC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetScheduleByEvent]", " "),  new Array(1,"@EventName	varchar(50),", " "),  new Array(1,"@Server		varchar(150)", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT S.*", " "),  new Array(1,"FROM dbo.[Schedule] S", " "),  new Array(1,"WHERE S.AttachToEvent = @EventName", " "),  new Array(1,"AND (@Server IS NULL OR ISNULL(s.Servers, \'\') = \'\' OR \',\' + s.Servers + \',\' LIKE \'%,\' + @Server + \',%\')", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetScheduleByScheduleID]", " "),  new Array(1,"@ScheduleID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT S.*", " "),  new Array(1,"FROM dbo.Schedule S", " "),  new Array(1,"WHERE S.ScheduleID = @ScheduleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetScheduleByTypeFullName]", " "),  new Array(1,"@TypeFullName	varchar(200),", " "),  new Array(1,"@Server			varchar(150)", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT S.*", " "),  new Array(1,"FROM dbo.[Schedule] S", " "),  new Array(1,"WHERE S.TypeFullName = @TypeFullName", " "),  new Array(1,"AND (@Server IS NULL OR ISNULL(s.Servers, \'\') = \'\' OR \',\' + s.Servers + \',\' LIKE \'%,\' + @Server + \',%\')", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetScheduleHistory] @ScheduleID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  S.* ,", " "),  new Array(1,"SH.*", " "),  new Array(1,"FROM    dbo.Schedule S", " "),  new Array(1,"INNER JOIN dbo.ScheduleHistory SH ON S.ScheduleID = SH.ScheduleID", " "),  new Array(1,"WHERE   S.ScheduleID = @ScheduleID", " "),  new Array(1,"OR @ScheduleID = -1", " "),  new Array(1,"ORDER BY SH.StartDate DESC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetScheduleItemSettings]", " "),  new Array(1,"@ScheduleID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.ScheduleItemSettings", " "),  new Array(1,"WHERE ScheduleID = @ScheduleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetScheduleNextTask]", " "),  new Array(1,"@Server varchar(150)", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT TOP 1", " "),  new Array(1,"S.[ScheduleID] ,", " "),  new Array(1,"S.[TypeFullName] ,", " "),  new Array(1,"S.[TimeLapse] ,", " "),  new Array(1,"S.[TimeLapseMeasurement] ,", " "),  new Array(1,"S.[RetryTimeLapse] ,", " "),  new Array(1,"S.[RetryTimeLapseMeasurement] ,", " "),  new Array(1,"S.[RetainHistoryNum] ,", " "),  new Array(1,"S.[AttachToEvent] ,", " "),  new Array(1,"S.[CatchUpEnabled] ,", " "),  new Array(1,"S.[Enabled] ,", " "),  new Array(1,"S.[ObjectDependencies] ,", " "),  new Array(1,"S.[Servers] ,", " "),  new Array(1,"S.[CreatedByUserID] ,", " "),  new Array(1,"S.[CreatedOnDate] ,", " "),  new Array(1,"S.[LastModifiedByUserID] ,", " "),  new Array(1,"S.[LastModifiedOnDate] ,", " "),  new Array(1,"S.[FriendlyName] ,", " "),  new Array(1,"H.[NextStart]", " "),  new Array(1,"FROM    dbo.[Schedule] S", " "),  new Array(1,"CROSS APPLY ( SELECT TOP 1", " "),  new Array(1,"[NextStart]", " "),  new Array(1,"FROM      dbo.[ScheduleHistory]", " "),  new Array(1,"WHERE     ( [ScheduleID] = S.[ScheduleID] )", " "),  new Array(1,"ORDER BY  [NextStart] DESC", " "),  new Array(1,") AS H ( [NextStart] )", " "),  new Array(1,"WHERE   ( S.[Enabled] = 1 )", " "),  new Array(1,"AND ( ( S.[Servers] LIKE ( \',%\' + @Server + \'%,\' ) )", " "),  new Array(1,"OR ( S.[Servers] IS NULL )", " "),  new Array(1,")", " "),  new Array(1,"ORDER BY H.[NextStart] ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetScopeTypes]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.Taxonomy_ScopeTypes", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSearchCommonWordByID]", " "),  new Array(1,"@CommonWordID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"[CommonWordID],", " "),  new Array(1,"[CommonWord],", " "),  new Array(1,"[Locale]", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.SearchCommonWords", " "),  new Array(1,"WHERE", " "),  new Array(1,"[CommonWordID] = @CommonWordID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSearchCommonWordsByLocale]", " "),  new Array(1,"@Locale nvarchar(10)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"[CommonWordID],", " "),  new Array(1,"[CommonWord],", " "),  new Array(1,"[Locale]", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.SearchCommonWords", " "),  new Array(1,"WHERE", " "),  new Array(1,"[Locale] = @Locale", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetSearchIndexers]", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select dbo.SearchIndexer.*", " "),  new Array(1,"from dbo.SearchIndexer", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSearchModules]", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @currentDate AS [DATETIME] = GETDATE();", " "),  new Array(1,"", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_Modules", " "),  new Array(1,"WHERE IsDeleted = 0", " "),  new Array(1,"AND IsTabDeleted = 0", " "),  new Array(1,"AND IsAdmin = 0", " "),  new Array(1,"AND (SupportedFeatures & 2) = 2", " "),  new Array(1,"AND (StartDate <= @currentDate OR StartDate IS NULL)", " "),  new Array(1,"AND (EndDate > @currentDate OR EndDate IS NULL)", " "),  new Array(1,"AND (TabEndDate > @currentDate OR TabEndDate IS NULL)", " "),  new Array(1,"AND (TabStartDate <= @currentDate OR TabStartDate IS NULL)", " "),  new Array(1,"AND (NOT (BusinessControllerClass IS NULL))", " "),  new Array(1,"AND (PortalID = @PortalID OR (PortalID IS NULL AND @PortalID Is NULL))", " "),  new Array(1,"ORDER BY ModuleOrder", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[GetSearchResultModules]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"TM.TabID,", " "),  new Array(1,"T.TabName  AS SearchTabName", " "),  new Array(1,"FROM	dbo.Modules M", " "),  new Array(1,"INNER JOIN	dbo.ModuleDefinitions MD ON MD.ModuleDefID = M.ModuleDefID", " "),  new Array(1,"INNER JOIN	dbo.TabModules TM ON TM.ModuleID = M.ModuleID", " "),  new Array(1,"INNER JOIN	dbo.Tabs T ON T.TabID = TM.TabID", " "),  new Array(1,"WHERE	MD.FriendlyName = N\'Search Results\'", " "),  new Array(1,"AND T.PortalID = @PortalID", " "),  new Array(1,"AND T.IsDeleted = 0", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSearchSettings]", " "),  new Array(1,"", " "),  new Array(1,"@ModuleID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT     	settings.SettingName,", " "),  new Array(1,"settings.SettingValue", " "),  new Array(1,"FROM	dbo.Modules m", " "),  new Array(1,"INNER JOIN dbo.Portals p ON m.PortalID = p.PortalID", " "),  new Array(1,"INNER JOIN dbo.PortalSettings settings ON p.PortalID = settings.PortalID", " "),  new Array(1,"WHERE   m.ModuleID = @ModuleID", " "),  new Array(1,"AND settings.SettingName LIKE \'Search%\'", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSearchStopWords]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@CultureCode nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"[StopWordsID],", " "),  new Array(1,"[StopWords],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate],", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[CultureCode]", " "),  new Array(1,"FROM dbo.SearchStopWords", " "),  new Array(1,"WHERE [PortalID] = @PortalID AND [CultureCode] = @CultureCode", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetServers]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.WebServers", " "),  new Array(1,"ORDER BY ServerName, IISAppName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetServices]", " "),  new Array(1,"@PortalId  Int, -- pass Null for roles of all sites", " "),  new Array(1,"@UserId    Int  -- not null!", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"R.*,", " "),  new Array(1,"UR.IsOwner,", " "),  new Array(1,"UR.UserRoleID,", " "),  new Array(1,"UR.UserID,", " "),  new Array(1,"UR.ExpiryDate,", " "),  new Array(1,"UR.IsTrialUsed,", " "),  new Array(1,"UR.EffectiveDate,", " "),  new Array(1,"U.DisplayName,", " "),  new Array(1,"U.Email", " "),  new Array(1,"FROM         dbo.[Users]      U", " "),  new Array(1,"INNER JOIN  dbo.[UserRoles] UR ON UR.UserID = U.UserID", " "),  new Array(1,"RIGHT JOIN  dbo.[Roles]      R ON UR.RoleID = R.RoleID  AND UR.UserID = @UserId", " "),  new Array(1,"WHERE (R.PortalId = @PortalId OR IsNull(@PortalId, -1) = -1)", " "),  new Array(1,"AND  R.IsPublic = 1", " "),  new Array(1,"AND  R.RoleId  >= 0", " "),  new Array(1,"AND U.UserID = @UserId", " "),  new Array(1,"ORDER BY R.RoleName", " "),  new Array(1,"OPTION (OPTIMIZE FOR (@PortalId UNKNOWN))", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSharedModulesByPortal]", " "),  new Array(1,"@Portald int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.vw_TabModules tb", " "),  new Array(1,"WHERE tb.PortalID != tb.OwnerPortalID", " "),  new Array(1,"AND tb.OwnerPortalID = @Portald", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSharedModulesWithPortal]", " "),  new Array(1,"@Portald int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.vw_TabModules tb", " "),  new Array(1,"WHERE tb.PortalID != tb.OwnerPortalID", " "),  new Array(1,"AND tb.PortalID = @Portald", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSingleUserByEmail]", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@Email nvarchar(255)", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT ISNULL((SELECT TOP 1 U.UserId from dbo.[Users] U Inner Join dbo.[UserPortals] UP on UP.[UserId] = U.[UserId] Where U.Email = @Email and UP.[PortalId] = @PortalId), -1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSkinControl]", " "),  new Array(1,"@SkinControlID	int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.SkinControls", " "),  new Array(1,"WHERE SkinControlID = @SkinControlID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSkinControlByKey]", " "),  new Array(1,"@ControlKey	nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.SkinControls", " "),  new Array(1,"WHERE ControlKey = @ControlKey", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSkinControlByPackageID]", " "),  new Array(1,"@PackageID	int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.SkinControls", " "),  new Array(1,"WHERE PackageID = @PackageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSkinControls]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.SkinControls", " "),  new Array(1,"ORDER BY  ControlKey", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSkinPackage]", " "),  new Array(1,"@PortalID   int,", " "),  new Array(1,"@SkinName   nvarchar(50),", " "),  new Array(1,"@SkinType   nvarchar(50)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM  dbo.SkinPackages", " "),  new Array(1,"WHERE (PortalID = @PortalID OR @PortalID IS NULL Or PortalID IS Null)", " "),  new Array(1,"AND SkinName = @SkinName", " "),  new Array(1,"AND SkinType = @SkinType", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSkinPackageByPackageID]", " "),  new Array(1,"@PackageID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT SP.*", " "),  new Array(1,"FROM  dbo.SkinPackages SP", " "),  new Array(1,"WHERE SP.PackageID = @PackageID", " "),  new Array(1,"", " "),  new Array(1,"SELECT I.*", " "),  new Array(1,"FROM  dbo.Skins I", " "),  new Array(1,"INNER JOIN dbo.SkinPackages S ON S.SkinPackageID = I.SkinPackageID", " "),  new Array(1,"WHERE S.PackageID = @PackageID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetSystemMessage]", " "),  new Array(1,"@PortalID     int,", " "),  new Array(1,"@MessageName  nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"if @PortalID is null", " "),  new Array(1,"begin", " "),  new Array(1,"select MessageValue", " "),  new Array(1,"from   dbo.SystemMessages", " "),  new Array(1,"where  PortalID is null and MessageName = @MessageName", " "),  new Array(1,"end else begin", " "),  new Array(1,"select MessageValue", " "),  new Array(1,"from   dbo.SystemMessages", " "),  new Array(1,"where  PortalID = @PortalID and MessageName = @MessageName", " "),  new Array(1,"end", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetSystemMessages]", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select MessageName", " "),  new Array(1,"from   dbo.SystemMessages", " "),  new Array(1,"where  PortalID is null", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTab]", " "),  new Array(1,"", " "),  new Array(1,"@TabId    int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.vw_Tabs", " "),  new Array(1,"WHERE  TabId = @TabId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabAliasSkins]", " "),  new Array(1,"(", " "),  new Array(1,"@PortalID		int", " "),  new Array(1,")", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"t.TabId,", " "),  new Array(1,"pa.PortalAliasId,", " "),  new Array(1,"pa.HttpAlias,", " "),  new Array(1,"t.SkinSrc,", " "),  new Array(1,"t.CreatedByUserId,", " "),  new Array(1,"t.CreatedOnDate,", " "),  new Array(1,"t.LastModifiedByUserId,", " "),  new Array(1,"t.LastModifiedOnDate", " "),  new Array(1,"FROM dbo.TabAliasSkins t", " "),  new Array(1,"INNER JOIN dbo.PortalAlias pa ON t.PortalAliasId = pa.PortalAliasId", " "),  new Array(1,"WHERE pa.PortalID = @PortalID OR @PortalID = -1", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabByUniqueID]", " "),  new Array(1,"@UniqueID   uniqueidentifier", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM	dbo.vw_Tabs", " "),  new Array(1,"WHERE	UniqueID = @UniqueID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabCustomAliases]", " "),  new Array(1,"(", " "),  new Array(1,"@PortalID		int", " "),  new Array(1,")", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"t.TabId,", " "),  new Array(1,"Coalesce(trp.CultureCode, \'\') as CultureCode,", " "),  new Array(1,"pa.HttpAlias", " "),  new Array(1,"FROM dbo.Tabs t", " "),  new Array(1,"INNER JOIN dbo.TabUrls trp ON trp.TabId = t.ParentId", " "),  new Array(1,"INNER JOIN dbo.PortalAlias pa ON trp.PortalAliasId = pa.PortalAliasId", " "),  new Array(1,"WHERE trp.PortalAliasUsage = 1 \/* child tabs inherit *\/", " "),  new Array(1,"AND (@portalId = t.PortalId OR @portalId = -1)", " "),  new Array(1,"AND NOT EXISTS (SELECT tr2.TabId", " "),  new Array(1,"FROM dbo.TabUrls tr2", " "),  new Array(1,"WHERE tr2.TabId = t.TabId", " "),  new Array(1,"AND tr2.CultureCode = trp.CultureCode", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabModule]", " "),  new Array(1,"@TabModuleID	int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_TabModules", " "),  new Array(1,"WHERE  TabModuleID = @TabModuleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabModuleIdsBySettingNameAndValue]", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@SettingName NVARCHAR(50),", " "),  new Array(1,"@SettingValue NVARCHAR(max)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT DISTINCT tms.TabModuleID", " "),  new Array(1,"FROM dbo.[TabModuleSettings] tms", " "),  new Array(1,"INNER JOIN dbo.[TabModules] tm ON tms.TabModuleID = tm.TabModuleID", " "),  new Array(1,"INNER JOIN dbo.[Tabs] t ON tm.TabID = t.TabID AND (t.PortalID = @PortalID OR t.PortalID IS NULL)", " "),  new Array(1,"WHERE tms.SettingName = @SettingName", " "),  new Array(1,"AND tms.SettingValue = @SettingValue", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabModuleOrder]", " "),  new Array(1,"@TabId    int, 			-- Not Null", " "),  new Array(1,"@PaneName nvarchar(50)  -- Not Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM TabModules", " "),  new Array(1,"WHERE TabId    = @TabId", " "),  new Array(1,"AND PaneName = @PaneName", " "),  new Array(1,"ORDER BY TabId, PaneName, ModuleOrder -- optimized for index used", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabModules]", " "),  new Array(1,"@TabId int -- not null!", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM dbo.vw_TabModules", " "),  new Array(1,"WHERE  TabId = @TabId", " "),  new Array(1,"ORDER BY TabId, PaneName, ModuleOrder -- optimized for index used", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabModuleSetting]", " "),  new Array(1,"@TabModuleId   Int,              -- not null!", " "),  new Array(1,"@SettingName   nVarChar(50)      -- not null or empty!", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT S.SettingName,", " "),  new Array(1,"CASE WHEN S.SettingValue LIKE N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](S.SettingValue)", " "),  new Array(1,"ELSE S.SettingValue", " "),  new Array(1,"END AS SettingValue", " "),  new Array(1,"FROM  dbo.[TabModuleSettings] S", " "),  new Array(1,"WHERE TabModuleID = @TabModuleId", " "),  new Array(1,"AND SettingName = @SettingName;", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabModuleSettings]", " "),  new Array(1,"@TabModuleId Int -- Null: all tabmodules", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT SettingName,", " "),  new Array(1,"CASE WHEN Lower(SettingValue) LIKE N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](SettingValue)", " "),  new Array(1,"ELSE SettingValue", " "),  new Array(1,"END  AS SettingValue", " "),  new Array(1,"FROM  dbo.[TabModuleSettings]", " "),  new Array(1,"WHERE TabModuleID = @TabModuleId OR IsNull(@TabModuleId, -1) = -1", " "),  new Array(1,"OPTION (OPTIMIZE FOR (@TabModuleId UNKNOWN))", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabModuleSettingsByName]", " "),  new Array(1,"@PortalId    Int,         -- Not Null", " "),  new Array(1,"@SettingName NVarChar(50) -- Not Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT S.TabModuleID,", " "),  new Array(1,"CASE WHEN Lower(S.SettingValue) LIKE N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](S.SettingValue)", " "),  new Array(1,"ELSE S.SettingValue", " "),  new Array(1,"END	AS SettingValue", " "),  new Array(1,"FROM  dbo.[TabModuleSettings] S", " "),  new Array(1,"JOIN  dbo.[TabModules]        M ON S.TabModuleID = M.TabModuleID", " "),  new Array(1,"JOIN dbo.[Tabs]               T ON M.TabID       = T.TabID AND (T.PortalID = @PortalID OR T.PortalID IS NULL)", " "),  new Array(1,"WHERE S.SettingName = @SettingName", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabModuleSettingsByTab]", " "),  new Array(1,"@TabId Int -- Not Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT S.TabModuleID,", " "),  new Array(1,"S.SettingName,", " "),  new Array(1,"CASE WHEN Lower(S.SettingValue) LIKE N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](S.SettingValue)", " "),  new Array(1,"ELSE S.SettingValue", " "),  new Array(1,"END	AS SettingValue", " "),  new Array(1,"FROM  dbo.[TabModuleSettings] S", " "),  new Array(1,"JOIN  dbo.[TabModules]        M ON S.TabModuleID = M.TabModuleID", " "),  new Array(1,"WHERE M.TabID = @TabId", " "),  new Array(1,"ORDER BY S.TabModuleID", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetTabPanes]", " "),  new Array(1,"", " "),  new Array(1,"@TabId    int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select distinct(PaneName) as PaneName", " "),  new Array(1,"from   dbo.TabModules", " "),  new Array(1,"where  TabId = @TabId", " "),  new Array(1,"order by PaneName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabPaths]", " "),  new Array(1,"@PortalID		INT,", " "),  new Array(1,"@CultureCode	NVARCHAR(10)", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"TabID,", " "),  new Array(1,"PortalID,", " "),  new Array(1,"TabPath", " "),  new Array(1,"FROM dbo.vw_Tabs", " "),  new Array(1,"WHERE (PortalID = @PortalID AND (CultureCode = @CultureCode OR CultureCode Is NULL OR ISNULL(@CultureCode, \'\') = \'\'))", " "),  new Array(1,"OR @PortalID Is NULL", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabPermission]", " "),  new Array(1,"", " "),  new Array(1,"@TabPermissionID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_TabPermissions", " "),  new Array(1,"WHERE TabPermissionID = @TabPermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[GetTabPermissionsByPortal]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"IF @portalid is not null", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_TabPermissions", " "),  new Array(1,"WHERE PortalID = @PortalID", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_TabPermissions", " "),  new Array(1,"WHERE PortalID IS NULL", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabPermissionsByTabID]", " "),  new Array(1,"@TabID int,", " "),  new Array(1,"@PermissionID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"SELECT  *", " "),  new Array(1,"FROM    dbo.vw_TabPermissions", " "),  new Array(1,"WHERE   (TabID = @TabID OR (TabID IS NULL AND PermissionCode = \'SYSTEM_TAB\'))", " "),  new Array(1,"AND	(PermissionID = @PermissionID OR @PermissionID = -1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabs]", " "),  new Array(1,"@PortalID Int  -- Null|-1 for host pages", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM   dbo.[vw_Tabs]", " "),  new Array(1,"WHERE  IsNull(PortalId, -1) = IsNull(@PortalID, -1)", " "),  new Array(1,"ORDER BY PortalId, [Level], ParentID, TabOrder -- PortalId added for query optimization", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabsByModuleID]", " "),  new Array(1,"@ModuleID Int -- NOT Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT * FROM dbo.[vw_Tabs] T", " "),  new Array(1,"WHERE IsDeleted = 0", " "),  new Array(1,"AND TabID IN (SELECT TabID FROM dbo.[TabModules]", " "),  new Array(1,"WHERE ModuleID = @ModuleID AND IsDeleted = 0)", " "),  new Array(1,"ORDER BY PortalId, Level, ParentID, TabOrder -- PortalId added for query optimization", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabsByPackageID]", " "),  new Array(1,"@PortalId  Int, -- Null for Host menu items", " "),  new Array(1,"@PackageId Int, -- Not Null!", " "),  new Array(1,"@ForHost   Bit  -- 0: Get pages for a specific portal (OR host pages only)", " "),  new Array(1,"-- 1: Get all host pages and portal pages", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Create a temp table to store the select results", " "),  new Array(1,"CREATE TABLE #TabsLatestPublished", " "),  new Array(1,"(", " "),  new Array(1,"IndexId int IDENTITY (0, 1) NOT NULL,", " "),  new Array(1,"TabId int,", " "),  new Array(1,"ModuleId int", " "),  new Array(1,");", " "),  new Array(1,"", " "),  new Array(1,"WITH Temp AS (", " "),  new Array(1,"SELECT ROW_NUMBER() OVER (PARTITION BY TabId ORDER BY Version DESC) AS RowNumber, TabVersionId, TabId", " "),  new Array(1,"FROM dbo.TabVersions", " "),  new Array(1,"WHERE IsPublished = 1", " "),  new Array(1,")", " "),  new Array(1,"-- Insert into our temp table", " "),  new Array(1,"INSERT INTO #TabsLatestPublished (TabId, ModuleId)", " "),  new Array(1,"SELECT TLP.TabId, TVD.ModuleId", " "),  new Array(1,"FROM Temp TLP", " "),  new Array(1,"INNER JOIN dbo.TabVersionDetails TVD ON TLP.TabVersionId = TVD.TabVersionId", " "),  new Array(1,"WHERE RowNumber = 1 AND TVD.Action <> 2", " "),  new Array(1,"", " "),  new Array(1,"SELECT * FROM dbo.[vw_Tabs]", " "),  new Array(1,"WHERE (IsNull(PortalId, -1) = IsNull(@PortalId, -1) Or @ForHost = 1)", " "),  new Array(1,"AND IsDeleted = 0", " "),  new Array(1,"AND TabId IN (SELECT M.TabId FROM dbo.[vw_Modules] M", " "),  new Array(1,"LEFT JOIN #TabsLatestPublished TLP ON TLP.TabId = M.TabId AND TLP.ModuleId = M.ModuleID", " "),  new Array(1,"WHERE M.PackageID = @PackageId AND (M.IsDeleted = 0 OR (TLP.TabId IS NOT NULL AND TLP.ModuleId IS NOT NULL)))", " "),  new Array(1,"ORDER BY PortalID, TabName", " "),  new Array(1,"OPTION (OPTIMIZE FOR (@PortalId UNKNOWN, @PackageId UNKNOWN, @ForHost UNKNOWN));", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabsByTabModuleID]", " "),  new Array(1,"@TabModuleID Int -- NOT Null", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT * FROM dbo.[vw_Tabs] T", " "),  new Array(1,"WHERE IsDeleted = 0", " "),  new Array(1,"AND TabID IN (SELECT TabID FROM dbo.[TabModules]", " "),  new Array(1,"WHERE TabModuleID = @TabModuleID AND IsDeleted = 0)", " "),  new Array(1,"ORDER BY PortalId, Level, ParentID, TabOrder -- PortalId added for query optimization", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabSetting]", " "),  new Array(1,"@TabId         Int,         -- not null!", " "),  new Array(1,"@SettingName   nVarChar(50) -- not null or empty!", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT SettingName,", " "),  new Array(1,"CASE WHEN SettingValue LIKE N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](SettingValue)", " "),  new Array(1,"ELSE SettingValue", " "),  new Array(1,"END AS SettingValue", " "),  new Array(1,"FROM  dbo.[TabSettings]", " "),  new Array(1,"WHERE TabID = @TabId", " "),  new Array(1,"AND SettingName = @SettingName;", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabSettings]", " "),  new Array(1,"@PortalId Int -- Null|-1 for Host Pages", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT S.TabID,", " "),  new Array(1,"S.SettingName,", " "),  new Array(1,"CASE WHEN Lower(S.SettingValue) LIKE N\'fileid=%\'", " "),  new Array(1,"THEN dbo.[FilePath](S.SettingValue)", " "),  new Array(1,"ELSE S.SettingValue", " "),  new Array(1,"END AS SettingValue", " "),  new Array(1,"FROM  dbo.[TabSettings] S", " "),  new Array(1,"JOIN  dbo.[Tabs]        T ON t.TabID = S.TabID", " "),  new Array(1,"WHERE  ISNull(PortalId, -1) = isNull(@PortalId, -1)", " "),  new Array(1,"ORDER BY S.TabID;", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabUrls]", " "),  new Array(1,"(", " "),  new Array(1,"@PortalId		int", " "),  new Array(1,")", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"tu.TabId,", " "),  new Array(1,"tu.SeqNum,", " "),  new Array(1,"tu.Url,", " "),  new Array(1,"tu.QueryString,", " "),  new Array(1,"tu.HttpStatus,", " "),  new Array(1,"tu.CultureCode,", " "),  new Array(1,"tu.IsSystem,", " "),  new Array(1,"tu.CreatedByUserId,", " "),  new Array(1,"tu.LastModifiedByUserId,", " "),  new Array(1,"case when parentTu.PortalAliasUsage = 1 \/* parent is set to \'child pages inherit\' so get parent portal alias id *\/", " "),  new Array(1,"then", " "),  new Array(1,"case when Coalesce(tu.PortalAliasId, 0) < 1 \/* if this page has no specific alias id, then use parent*\/", " "),  new Array(1,"then parentTu.PortalAliasId", " "),  new Array(1,"else tu.PortalAliasId", " "),  new Array(1,"END \/* otherwise, use this page alias id *\/", " "),  new Array(1,"else tu.PortalALiasId", " "),  new Array(1,"END as PortalAliasId,", " "),  new Array(1,"", " "),  new Array(1,"case when Coalesce(tu.PortalAliasUsage,0) = 0 and coalesce(tu.PortalALiasId,0) < 1 \/* default value and no specific alias *\/", " "),  new Array(1,"then \/* check for inheritance from parent *\/", " "),  new Array(1,"case when Coalesce(parentTu.PortalALiasUsage,0) = 1 and Coalesce(parentTu.PortalAliasId, 0) > 0 \/* parent specifies an alias *\/", " "),  new Array(1,"then 3 \/* inherited from parent *\/", " "),  new Array(1,"else 0", " "),  new Array(1,"END \/* default value *\/", " "),  new Array(1,"when Coalesce(tu.PortalAliasId,0) > 0 \/*specific alias for this tab *\/", " "),  new Array(1,"then", " "),  new Array(1,"case when coalesce(tu.PortalALiasUsage,0) < 1", " "),  new Array(1,"then 1 \/* if not set, default to \'child pages inherit\'*\/", " "),  new Array(1,"else tu.PortalAliasUsage", " "),  new Array(1,"END", " "),  new Array(1,"else", " "),  new Array(1,"0 \/* default - fall through value *\/", " "),  new Array(1,"END as PortalAliasUsage", " "),  new Array(1,"FROM dbo.TabUrls tu", " "),  new Array(1,"INNER JOIN dbo.Tabs t on t.TabId = tu.TabId", " "),  new Array(1,"LEFT JOIN dbo.TabUrls parentTu on t.ParentId = parentTu.TabId", " "),  new Array(1,"AND parentTu.CultureCode = tu.CultureCode", " "),  new Array(1,"and parentTu.PortalAliasUsage > 0", " "),  new Array(1,"WHERE (@portalId = PortalId OR @portalId = -1)", " "),  new Array(1,"ORDER BY PortalId, TabOrder, tu.SeqNum", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabVersionDetails]", " "),  new Array(1,"@TabVersionId INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"[TabVersionDetailId] ,", " "),  new Array(1,"[TabVersionId] ,", " "),  new Array(1,"[ModuleId] ,", " "),  new Array(1,"[ModuleVersion] ,", " "),  new Array(1,"[PaneName] ,", " "),  new Array(1,"[ModuleOrder] ,", " "),  new Array(1,"[Action],", " "),  new Array(1,"[CreatedByUserID] ,", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,"FROM dbo.[TabVersionDetails]", " "),  new Array(1,"WHERE [TabVersionId] = @TabVersionId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabVersionDetailsHistory]", " "),  new Array(1,"@TabID iNT,", " "),  new Array(1,"@Version INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT tvd.[TabVersionDetailId]", " "),  new Array(1,",tvd.[TabVersionId]", " "),  new Array(1,",tvd.[ModuleId]", " "),  new Array(1,",tvd.[ModuleVersion]", " "),  new Array(1,",tvd.[PaneName]", " "),  new Array(1,",tvd.[ModuleOrder]", " "),  new Array(1,",tvd.[Action]", " "),  new Array(1,",tvd.[CreatedByUserID]", " "),  new Array(1,",tvd.[CreatedOnDate]", " "),  new Array(1,",tvd.[LastModifiedByUserID]", " "),  new Array(1,",tvd.[LastModifiedOnDate]", " "),  new Array(1,"FROM dbo.[TabVersionDetails] tvd", " "),  new Array(1,"INNER JOIN dbo.[TabVersions] tv ON tvd.TabVersionId = tv.TabVersionId", " "),  new Array(1,"WHERE tv.Version <= @Version", " "),  new Array(1,"AND tv.TabId = @TabID", " "),  new Array(1,"ORDER BY tvd.CreatedOnDate", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTabVersions]", " "),  new Array(1,"@TabId INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"[TabVersionId],", " "),  new Array(1,"[TabId],", " "),  new Array(1,"[Version],", " "),  new Array(1,"[TimeStamp],", " "),  new Array(1,"[IsPublished],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,"FROM dbo.[TabVersions]", " "),  new Array(1,"WHERE [TabId] = @TabId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTerm]", " "),  new Array(1,"@TermId			int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT TT.*,", " "),  new Array(1,"(SELECT    COUNT(CI.ContentItemID)", " "),  new Array(1,"FROM      dbo.[ContentItems_Tags] T", " "),  new Array(1,"INNER JOIN dbo.[ContentItems] CI ON CI.ContentItemID = T.ContentItemID", " "),  new Array(1,"WHERE     T.TermID = TT.TermID", " "),  new Array(1,") AS TotalTermUsage ,", " "),  new Array(1,"(SELECT    COUNT(CI.ContentItemID)", " "),  new Array(1,"FROM      dbo.[ContentItems_Tags] T", " "),  new Array(1,"INNER JOIN dbo.[ContentItems] CI ON CI.ContentItemID = T.ContentItemID", " "),  new Array(1,"WHERE     T.TermID = TT.TermID", " "),  new Array(1,"AND	    CI.CreatedOnDate > DATEADD(day, -30, GETDATE())", " "),  new Array(1,") AS MonthTermUsage ,", " "),  new Array(1,"(SELECT    COUNT(CI.ContentItemID)", " "),  new Array(1,"FROM      dbo.[ContentItems_Tags] T", " "),  new Array(1,"INNER JOIN dbo.[ContentItems] CI ON CI.ContentItemID = T.ContentItemID", " "),  new Array(1,"WHERE     T.TermID = TT.TermID", " "),  new Array(1,"AND	    CI.CreatedOnDate > DATEADD(day, -7, GETDATE())", " "),  new Array(1,") AS WeekTermUsage ,", " "),  new Array(1,"(SELECT    COUNT(CI.ContentItemID)", " "),  new Array(1,"FROM      dbo.[ContentItems_Tags] T", " "),  new Array(1,"INNER JOIN dbo.[ContentItems] CI ON CI.ContentItemID = T.ContentItemID", " "),  new Array(1,"WHERE     T.TermID = TT.TermID", " "),  new Array(1,"AND	    CI.CreatedOnDate > DATEADD(day, -1, GETDATE())", " "),  new Array(1,") AS DayTermUsage", " "),  new Array(1,"FROM dbo.Taxonomy_Terms TT", " "),  new Array(1,"WHERE TT.TermId = @TermId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTermsByContent]", " "),  new Array(1,"@ContentItemID			int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT TT.*", " "),  new Array(1,"FROM dbo.ContentItems_Tags TG", " "),  new Array(1,"INNER JOIN dbo.Taxonomy_Terms TT ON TG.TermID = TT.TermID", " "),  new Array(1,"WHERE TG.ContentItemID = @ContentItemID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTermsByVocabulary]", " "),  new Array(1,"@VocabularyID			int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT TT.*", " "),  new Array(1,"FROM dbo.Taxonomy_Terms TT", " "),  new Array(1,"WHERE VocabularyID = @VocabularyID", " "),  new Array(1,"ORDER BY TT.TermLeft Asc, TT.Weight Asc, TT.Name Asc", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetTermUsage]", " "),  new Array(1,"@TermId int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"(SELECT    COUNT(CI.ContentItemID)", " "),  new Array(1,"FROM      dbo.[ContentItems_Tags] T", " "),  new Array(1,"INNER JOIN dbo.[ContentItems] CI ON CI.ContentItemID = T.ContentItemID", " "),  new Array(1,"WHERE     T.TermID = @TermId", " "),  new Array(1,") AS TotalTermUsage ,", " "),  new Array(1,"(SELECT    COUNT(CI.ContentItemID)", " "),  new Array(1,"FROM      dbo.[ContentItems_Tags] T", " "),  new Array(1,"INNER JOIN dbo.[ContentItems] CI ON CI.ContentItemID = T.ContentItemID", " "),  new Array(1,"WHERE     T.TermID = @TermId", " "),  new Array(1,"AND	    CI.CreatedOnDate > DATEADD(day, -30, GETDATE())", " "),  new Array(1,") AS MonthTermUsage ,", " "),  new Array(1,"(SELECT    COUNT(CI.ContentItemID)", " "),  new Array(1,"FROM      dbo.[ContentItems_Tags] T", " "),  new Array(1,"INNER JOIN dbo.[ContentItems] CI ON CI.ContentItemID = T.ContentItemID", " "),  new Array(1,"WHERE     T.TermID = @TermId", " "),  new Array(1,"AND	    CI.CreatedOnDate > DATEADD(day, -7, GETDATE())", " "),  new Array(1,") AS WeekTermUsage ,", " "),  new Array(1,"(SELECT    COUNT(CI.ContentItemID)", " "),  new Array(1,"FROM      dbo.[ContentItems_Tags] T", " "),  new Array(1,"INNER JOIN dbo.[ContentItems] CI ON CI.ContentItemID = T.ContentItemID", " "),  new Array(1,"WHERE     T.TermID = @TermId", " "),  new Array(1,"AND	    CI.CreatedOnDate > DATEADD(day, -1, GETDATE())", " "),  new Array(1,") AS DayTermUsage", " "),  new Array(1,"FROM dbo.Taxonomy_Terms TT", " "),  new Array(1,"WHERE TermID = @TermId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetTopHtmlText]", " "),  new Array(1,"", " "),  new Array(1,"@ModuleID    int,", " "),  new Array(1,"@IsPublished bit", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select top 1 dbo.HtmlText.*,", " "),  new Array(1,"dbo.WorkflowStates.*,", " "),  new Array(1,"dbo.Workflow.WorkflowName,", " "),  new Array(1,"dbo.Users.DisplayName,", " "),  new Array(1,"dbo.Modules.PortalID", " "),  new Array(1,"from   dbo.HtmlText", " "),  new Array(1,"inner join dbo.Modules on dbo.Modules.ModuleID = dbo.HtmlText.ModuleID", " "),  new Array(1,"inner join dbo.WorkflowStates on dbo.WorkflowStates.StateID = dbo.HtmlText.StateID", " "),  new Array(1,"inner join dbo.Workflow on dbo.WorkflowStates.WorkflowID = dbo.Workflow.WorkflowID", " "),  new Array(1,"left outer join dbo.Users on dbo.HtmlText.LastModifiedByUserID = dbo.Users.UserID", " "),  new Array(1,"where  dbo.HtmlText.ModuleID = @ModuleID", " "),  new Array(1,"and    (IsPublished = @IsPublished or @IsPublished = 0)", " "),  new Array(1,"order by dbo.HtmlText.LastModifiedOnDate desc", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUnAuthorizedUsers]", " "),  new Array(1,"@PortalID       int,", " "),  new Array(1,"@IncludeDeleted bit,", " "),  new Array(1,"@SuperUsersOnly bit", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  *", " "),  new Array(1,"FROM	dbo.vw_Users", " "),  new Array(1,"WHERE  PortalId = @PortalID", " "),  new Array(1,"AND Authorised = 0", " "),  new Array(1,"AND IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"--less than equal done to cover IsDeleted in (1,0) for IncludeDeleted...else just IsDeleted = 0", " "),  new Array(1,"AND IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"ORDER BY UserName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUnIndexedContentItems]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.ContentItems", " "),  new Array(1,"WHERE Indexed = 0", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetUrl]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID     int,", " "),  new Array(1,"@Url          nvarchar(255)", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select *", " "),  new Array(1,"from   dbo.Urls", " "),  new Array(1,"where  PortalID = @PortalID", " "),  new Array(1,"and    Url = @Url", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUrlLog]", " "),  new Array(1,"@URLTrackingID Int,", " "),  new Array(1,"@StartDate DateTime,", " "),  new Array(1,"@EndDate DateTime", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"L.*,", " "),  new Array(1,"dbo.[UserDisplayname](L.UserId) AS \'FullName\'", " "),  new Array(1,"FROM dbo.UrlLog L", " "),  new Array(1,"INNER JOIN dbo. UrlTracking T ON L.UrlTrackingId = T.UrlTrackingId", " "),  new Array(1,"WHERE L.UrlTrackingID = @UrlTrackingID", " "),  new Array(1,"AND ((ClickDate >= @StartDate) OR @StartDate Is Null)", " "),  new Array(1,"AND ((ClickDate <= @EndDate ) OR @EndDate Is Null)", " "),  new Array(1,"ORDER BY ClickDate", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetUrls]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID     int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select *", " "),  new Array(1,"from   dbo.Urls", " "),  new Array(1,"where  PortalID = @PortalID", " "),  new Array(1,"order by Url", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetUrlTracking]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID     int,", " "),  new Array(1,"@Url          nvarchar(255),", " "),  new Array(1,"@ModuleId     int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select *", " "),  new Array(1,"from   dbo.UrlTracking", " "),  new Array(1,"where  PortalID = @PortalID", " "),  new Array(1,"and    Url = @Url", " "),  new Array(1,"and    ((ModuleId = @ModuleId) or (ModuleId is null and @ModuleId is null))", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUser]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@UserID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.vw_Users U", " "),  new Array(1,"WHERE  UserId = @UserID", " "),  new Array(1,"AND    (PortalId = @PortalID or IsSuperUser = 1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserAuthentication]", " "),  new Array(1,"@UserID          int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"select * from dbo.UserAuthentication", " "),  new Array(1,"where UserId = @UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserByAuthToken]", " "),  new Array(1,"", " "),  new Array(1,"@PortalId	int,", " "),  new Array(1,"@UserToken	nvarchar(1000),", " "),  new Array(1,"@AuthType	nvarchar(100)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT u.*", " "),  new Array(1,"FROM dbo.vw_Users u", " "),  new Array(1,"INNER JOIN dbo.UserAuthentication ua ON u.UserID = ua.UserID", " "),  new Array(1,"WHERE  ua.AuthenticationToken = @UserToken", " "),  new Array(1,"AND ua.AuthenticationType = @AuthType", " "),  new Array(1,"AND    (PortalId = @PortalId OR IsSuperUser = 1 OR @PortalId is null)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserByDisplayName]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@DisplayName nvarchar(128)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.vw_Users", " "),  new Array(1,"WHERE  DisplayName = @DisplayName", " "),  new Array(1,"AND  ((@PortalId IS NULL) OR (PortalId = @PortalID) OR IsSuperUser = 1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserByPasswordResetToken]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@PasswordResetToken UNIQUEIDENTIFIER", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.vw_Users", " "),  new Array(1,"WHERE  PasswordResetToken = @PasswordResetToken", " "),  new Array(1,"AND  ((@PortalId IS NULL) OR (PortalId = @PortalID) OR IsSuperUser = 1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserByUsername]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@Username nvarchar(100)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.vw_Users", " "),  new Array(1,"WHERE  Username = @Username", " "),  new Array(1,"AND  ((@PortalId IS NULL) OR (PortalId = @PortalID) OR IsSuperUser = 1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserByVanityUrl]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@VanityUrl nvarchar(100)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.vw_Users", " "),  new Array(1,"WHERE  VanityUrl = @VanityUrl", " "),  new Array(1,"AND  ((@PortalId IS NULL) OR (PortalId = @PortalID) OR IsSuperUser = 1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserCountByPortal]", " "),  new Array(1,"@PortalId int", " "),  new Array(1,"AS", " "),  new Array(1,"begin", " "),  new Array(1,"SELECT count(*)", " "),  new Array(1,"FROM dbo.UserPortals AS UP", " "),  new Array(1,"WHERE UP.IsDeleted = 0 AND UP.PortalID = @PortalID", " "),  new Array(1,"end", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROC [dbo].[GetUserProfile]", " "),  new Array(1,"@UserID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"ProfileID,", " "),  new Array(1,"UserID,", " "),  new Array(1,"PropertyDefinitionID,", " "),  new Array(1,"CASE WHEN (PropertyValue Is Null) THEN PropertyText ELSE PropertyValue END AS \'PropertyValue\',", " "),  new Array(1,"Visibility,", " "),  new Array(1,"ExtendedVisibility,", " "),  new Array(1,"LastUpdatedDate", " "),  new Array(1,"FROM	dbo.UserProfile", " "),  new Array(1,"WHERE   UserId = @UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserRelationship] @UserRelationshipID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  UserRelationshipID,", " "),  new Array(1,"UserID,", " "),  new Array(1,"RelatedUserID,", " "),  new Array(1,"RelationshipID,", " "),  new Array(1,"Status,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.UserRelationships", " "),  new Array(1,"WHERE UserRelationshipID = @UserRelationshipID", " "),  new Array(1,"ORDER BY UserRelationshipID ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserRelationshipPreference]", " "),  new Array(1,"@UserID INT,", " "),  new Array(1,"@RelationshipID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  PreferenceID,", " "),  new Array(1,"UserID,", " "),  new Array(1,"RelationshipID,", " "),  new Array(1,"DefaultResponse,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.UserRelationshipPreferences", " "),  new Array(1,"WHERE UserID = @UserID", " "),  new Array(1,"AND RelationshipID = @RelationshipID", " "),  new Array(1,"ORDER BY UserID ASC, RelationshipID ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserRelationshipPreferenceByID]", " "),  new Array(1,"@PreferenceID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  PreferenceID,", " "),  new Array(1,"UserID,", " "),  new Array(1,"RelationshipID,", " "),  new Array(1,"DefaultResponse,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.UserRelationshipPreferences", " "),  new Array(1,"WHERE @PreferenceID = @PreferenceID", " "),  new Array(1,"ORDER BY PreferenceID ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserRelationships]", " "),  new Array(1,"@UserID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  UserRelationshipID,", " "),  new Array(1,"UserID,", " "),  new Array(1,"RelatedUserID,", " "),  new Array(1,"RelationshipID,", " "),  new Array(1,"Status,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.UserRelationships", " "),  new Array(1,"WHERE UserID = @UserID OR RelatedUserID = @UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserRelationshipsByMultipleIDs]", " "),  new Array(1,"@UserID INT,", " "),  new Array(1,"@RelatedUserID INT,", " "),  new Array(1,"@RelationshipID INT,", " "),  new Array(1,"@Direction INT", " "),  new Array(1,"AS", " "),  new Array(1,"IF ( @Direction = 1 ) --OneWay", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT  UserRelationshipID,", " "),  new Array(1,"UserID,", " "),  new Array(1,"RelatedUserID,", " "),  new Array(1,"RelationshipID,", " "),  new Array(1,"Status,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.UserRelationships", " "),  new Array(1,"WHERE UserID = @UserID", " "),  new Array(1,"AND   RelatedUserID = @RelatedUserID", " "),  new Array(1,"AND   RelationshipID = @RelationshipID", " "),  new Array(1,"ORDER BY UserRelationshipID ASC", " "),  new Array(1,"END", " "),  new Array(1,"ELSE IF ( @Direction = 2 ) --TwoWay", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT  UserRelationshipID,", " "),  new Array(1,"UserID,", " "),  new Array(1,"RelatedUserID,", " "),  new Array(1,"RelationshipID,", " "),  new Array(1,"Status,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.UserRelationships", " "),  new Array(1,"WHERE (  (UserID = @UserID AND RelatedUserID = @RelatedUserID)", " "),  new Array(1,"OR (RelatedUserID = @UserID AND UserID = @RelatedUserID) --swap userids and check", " "),  new Array(1,")", " "),  new Array(1,"AND   RelationshipID = @RelationshipID", " "),  new Array(1,"ORDER BY UserRelationshipID ASC", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserRole]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@RoleId int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM	dbo.vw_UserRoles", " "),  new Array(1,"WHERE   UserId = @UserID", " "),  new Array(1,"AND  PortalId = @PortalID", " "),  new Array(1,"AND  RoleId = @RoleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserRoles]", " "),  new Array(1,"@PortalId  int,", " "),  new Array(1,"@UserId    int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.vw_UserRoles", " "),  new Array(1,"WHERE UserID = @UserId AND PortalID = @PortalId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUserRolesByUsername]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@Username nvarchar(100),", " "),  new Array(1,"@Rolename nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"IF @UserName Is Null", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM dbo.vw_UserRoles", " "),  new Array(1,"WHERE PortalId = @PortalID AND (Rolename = @Rolename or @RoleName is NULL)", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @RoleName Is NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM dbo.vw_UserRoles", " "),  new Array(1,"WHERE PortalId = @PortalID AND (Username = @Username or @Username is NULL)", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT	*", " "),  new Array(1,"FROM dbo.vw_UserRoles", " "),  new Array(1,"WHERE PortalId = @PortalID", " "),  new Array(1,"AND (Rolename = @Rolename or @RoleName is NULL)", " "),  new Array(1,"AND (Username = @Username or @Username is NULL)", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUsersAdvancedSearch]", " "),  new Array(1,"(", " "),  new Array(1,"@PortalID int,                          -- portal", " "),  new Array(1,"@UserId int,                            -- for determining correct visibility permissions", " "),  new Array(1,"@FilterUserId int,                      -- for filtering relationships on", " "),  new Array(1,"@FilterRoleId int,                      -- for filtering by roles", " "),  new Array(1,"@RelationshipTypeId int,                -- for filtering by relationships", " "),  new Array(1,"@IsAdmin bit,                           -- determines visibility", " "),  new Array(1,"@PageSize int,                          -- page size", " "),  new Array(1,"@PageIndex int,                         -- 0 based page index", " "),  new Array(1,"@SortBy nvarchar(100),                  -- sort field", " "),  new Array(1,"@SortAscending bit,                     -- sort flag indicating whether sort is asc or desc", " "),  new Array(1,"@PropertyNames nvarchar(max),           -- list of property names to filter", " "),  new Array(1,"@PropertyValues nvarchar(max)           -- list of property values to filter", " "),  new Array(1,")", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Setup Top XX", " "),  new Array(1,"DECLARE @topSql nvarchar(20) SET @topSql = \'\'", " "),  new Array(1,"IF @PageSize > -1 BEGIN SET @topSql = \' TOP \' + CONVERT(nvarchar(20), @PageSize) END", " "),  new Array(1,"", " "),  new Array(1,"-- Setup Specific Page", " "),  new Array(1,"DECLARE @minRowNumberSql nvarchar(20) SET @minRowNumberSql =  CONVERT(nvarchar(20), ((@PageIndex * @PageSize) + 1))", " "),  new Array(1,"-- Setup Pivot Field List", " "),  new Array(1,"DECLARE @pivotSql nvarchar(max) SELECT @pivotSql = dbo.GetProfileFieldSql(@PortalID, \'\')", " "),  new Array(1,"", " "),  new Array(1,"-- Get User specific columns", " "),  new Array(1,"DECLARE @UserColumns TABLE(ColumnName NVARCHAR(100))", " "),  new Array(1,"INSERT INTO @UserColumns SELECT COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = \'vw_Users\' AND TABLE_SCHEMA = REPLACE(\'dbo.\', \'.\', \'\')", " "),  new Array(1,"", " "),  new Array(1,"-- Lists Filters names and values into tables", " "),  new Array(1,"DECLARE @PropertyNamesTable TABLE (RowNumber INT, RowValue nvarchar(MAX))", " "),  new Array(1,"DECLARE @PropertyValuesTable TABLE (RowNumber INT, RowValue nvarchar(MAX))", " "),  new Array(1,"INSERT INTO @PropertyNamesTable SELECT * FROM dbo.ConvertListToTable(\',\', @PropertyNames)", " "),  new Array(1,"INSERT INTO @PropertyValuesTable SELECT * FROM dbo.ConvertListToTable(\',\', @PropertyValues)", " "),  new Array(1,"", " "),  new Array(1,"-- Gets filters that are on the User rather than Profile Properties", " "),  new Array(1,"DECLARE @UserFiltersTable TABLE (RowNumber Int, RowValue NVARCHAR(MAX))", " "),  new Array(1,"INSERT INTO @UserFiltersTable SELECT * FROM dbo.ConvertListToTable(\',\',@PropertyNames) WHERE RowValue IN (SELECT * FROM @UserColumns)", " "),  new Array(1,"", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @sql nvarchar(max) SET @sql = \'\'", " "),  new Array(1,"DECLARE @filterSql nvarchar(max)SET @filterSql = \'\'", " "),  new Array(1,"", " "),  new Array(1,"-- \/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/", " "),  new Array(1,"-- FILTERING by PROFILE PROPERTY or USER PROPERTY", " "),  new Array(1,"-- \/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/", " "),  new Array(1,"--IF @PropertyNames IS NOT NULL AND @PropertyNames <> \'\'", " "),  new Array(1,"IF ((SELECT COUNT(*) FROM @PropertyNamesTable) > 0) AND ((SELECT COUNT(*) FROM @PropertyValuesTable)> 0)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @propertyFilter nvarchar(max)", " "),  new Array(1,"DECLARE @userFilter nvarchar(max)", " "),  new Array(1,"DECLARE @userFilterJoin nvarchar(max) SET @userFilterJoin = \'\'", " "),  new Array(1,"DECLARE @profilePropertyCount INT", " "),  new Array(1,"DECLARE @userFilterCount INT", " "),  new Array(1,"DECLARE @propertyAndUserFilter nvarchar(10) SET @propertyAndUserFilter = \'\'", " "),  new Array(1,"DECLARE @groupBy NVARCHAR(300)", " "),  new Array(1,"", " "),  new Array(1,"-- Filters on Profile Properties", " "),  new Array(1,";WITH CTE_PropertyNames(RowNumber, RowValue) AS", " "),  new Array(1,"(              SELECT * FROM @PropertyNamesTable", " "),  new Array(1,"WHERE RowValue NOT IN (SELECT ColumnName FROM @UserColumns)),", " "),  new Array(1,"CTE_PropertyValues(RowNumber, RowValue) AS", " "),  new Array(1,"(              SELECT * FROM @PropertyValuesTable", " "),  new Array(1,"WHERE RowValue NOT IN (SELECT ColumnName FROM @UserColumns))", " "),  new Array(1,"", " "),  new Array(1,"SELECT @propertyFilter = COALESCE(@propertyFilter + \' OR \' , \' \')", " "),  new Array(1,"+ \' (PropertyName=\'\'\' + N.RowValue", " "),  new Array(1,"+ \'\'\' AND ((PropertyValue LIKE \'\'\' + V.RowValue +\'%\'\') OR (PropertyValue LIKE \'\'% \' + V.RowValue +\'%\'\')))\'", " "),  new Array(1,"FROM CTE_PropertyNames AS N INNER JOIN CTE_PropertyValues AS V ON N.RowNumber = V.RowNumber", " "),  new Array(1,"", " "),  new Array(1,"-- Filters on User Property", " "),  new Array(1,"SELECT @userFilter = COALESCE(@userFilter + \' AND \', \' \')", " "),  new Array(1,"+ \' ((u.\' + N.RowValue + \' LIKE \'\'\' + V.RowValue +\'%\'\') OR (u.\' + N.RowValue + \' LIKE \'\'% \' + V.RowValue +\'%\'\')) \'", " "),  new Array(1,"FROM @UserFiltersTable AS N  INNER JOIN @PropertyValuesTable AS V ON N.RowNumber = V.RowNumber", " "),  new Array(1,"", " "),  new Array(1,"SELECT @userFilterCount = COUNT(*) FROM @UserFiltersTable", " "),  new Array(1,"IF @userFilterCount > 0 BEGIN SET @userFilterJoin = \' INNER JOIN vw_Users u ON u.UserId = p.UserId \' END", " "),  new Array(1,"", " "),  new Array(1,"-- Determining the Group By Clause -- dependant on types of filters used", " "),  new Array(1,"SELECT @profilePropertyCount = COUNT(*) FROM dbo.ConvertListToTable(\',\', @PropertyNames)", " "),  new Array(1,"WHERE RowValue IN (SELECT PropertyName FROM dbo.ProfilePropertyDefinition WHERE PortalID = @PortalId)", " "),  new Array(1,"AND RowValue NOT IN (SELECT ColumnName FROM @UserColumns)", " "),  new Array(1,"", " "),  new Array(1,"IF @profilePropertyCount > 0", " "),  new Array(1,"BEGIN SET @groupBy = \' GROUP BY p.UserId HAVING COUNT(*) = \' + CONVERT(nvarchar(20),@profilePropertyCount ) END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN SET @groupBy = \' GROUP BY p.UserId HAVING COUNT(*) > 0 \'     END", " "),  new Array(1,"", " "),  new Array(1,"IF ( @profilePropertyCount > 0 AND @userFilterCount > 0)", " "),  new Array(1,"BEGIN SET @propertyAndUserFilter = \' AND \' END", " "),  new Array(1,"", " "),  new Array(1,"-- CREATE FINAL FILTER", " "),  new Array(1,"SET @filterSql = \' CREATE TABLE #MatchingUsers (UserId int, occurances int) INSERT INTO #MatchingUsers SELECT p.UserID, COUNT(*) AS occurances\'", " "),  new Array(1,"+ \' FROM dbo.vw_profile p \' + @userFilterJoin", " "),  new Array(1,"+ \' WHERE \' + COALESCE(\' ( \' + @propertyFilter + \') \', \' \') + @propertyAndUserFilter + COALESCE(@userFilter, \' \')", " "),  new Array(1,"+ \' AND ((Visibility = 0) OR (Visibility = 1 AND \' + CONVERT(nvarchar(20), @UserId) + \' > 0) OR (Visibility = 2 AND \' + CONVERT(nvarchar(20), @IsAdmin) + \' = 1))\'", " "),  new Array(1,"+ @groupBy", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- \/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/", " "),  new Array(1,"-- SETUP ROLE AND RELATIONSHIP FILTERS", " "),  new Array(1,"-- \/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/", " "),  new Array(1,"DECLARE @roleAndRelationshipFilter nvarchar(1000)", " "),  new Array(1,"DECLARE @roleFilter nvarchar(500) SET @roleFilter = \'\'", " "),  new Array(1,"DECLARE @relationshipFilter nvarchar(1000) SET @relationshipFilter = \'\'", " "),  new Array(1,"DECLARE @roleAndRelationshipFlag bit SET @roleAndRelationshipFlag  = 0", " "),  new Array(1,"DECLARE @RoleAndRelationshipSelect nvarchar(100) SET @RoleAndRelationshipSelect = \'\'", " "),  new Array(1,"", " "),  new Array(1,"-- Filter by Role", " "),  new Array(1,"IF @FilterRoleId <> -1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @roleAndRelationshipFlag = 1", " "),  new Array(1,"SET @roleFilter = \' JOIN dbo.UserRoles UR ON U.UserID = UR.UserID AND UR.Status = 1 \'", " "),  new Array(1,"+ \' AND (UR.EffectiveDate < GETDATE() OR UR.EffectiveDate IS NULL) \'", " "),  new Array(1,"+ \' AND (UR.ExpiryDate > GETDATE() OR UR.ExpiryDate IS NULL) AND UR.RoleID = \' + CONVERT(nvarchar(20), @FilterRoleId)", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Filter by Relationship", " "),  new Array(1,"IF @RelationshipTypeId <> -1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @roleAndRelationshipFlag = 1", " "),  new Array(1,"SET @relationshipFilter = \' JOIN dbo.Relationships REL ON REL.PortalID = \' + CONVERT(nvarchar(20), @PortalID)", " "),  new Array(1,"+ \' AND RelationshipTypeID = \' + CONVERT(nvarchar(20), @RelationshipTypeId)", " "),  new Array(1,"+ \' JOIN dbo.UserRelationships UREL ON REL.RelationshipID = UREL.RelationshipID AND", " "),  new Array(1,"((UREL.UserID = \' + CONVERT(nvarchar(20), @FilterUserId) + \' AND UREL.RelatedUserID = U.UserID) OR", " "),  new Array(1,"(UREL.UserID = U.UserID AND UREL.RelatedUserID = \' + CONVERT(nvarchar(20), @FilterUserId) + \'))\'", " "),  new Array(1,"+ \' WHERE UREL.Status = 2\'", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF @roleAndRelationshipFlag = 1 BEGIN SET @RoleAndRelationshipSelect = \' AND s.UserId IN (SELECT userID FROM  RoleAndRelationUsers) \' END", " "),  new Array(1,"", " "),  new Array(1,"SET @roleAndRelationshipFilter =  \', RoleAndRelationUsers AS ( SELECT U.userId FROM dbo.vw_Users U \' + @roleFilter + @relationshipFilter + \' )\'", " "),  new Array(1,"", " "),  new Array(1,"-- \/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/", " "),  new Array(1,"-- SET UP SORT", " "),  new Array(1,"-- \/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/", " "),  new Array(1,"DECLARE @sortSql nvarchar(1000) SET @sortSql = \'\'", " "),  new Array(1,"DECLARE @propertySort nvarchar(1000) SET @propertySort = \'\'", " "),  new Array(1,"DECLARE @filterJoin nvarchar(100) SET @filterJoin = \'\'", " "),  new Array(1,"DECLARE @filterSortSql nvarchar(1000) SET @filterSortSql = \'\'", " "),  new Array(1,"DECLARE @sortByUserProperty BIT", " "),  new Array(1,"SELECT @sortByUserProperty = COUNT(*) FROM @UserColumns WHERE ColumnName = @SortBy", " "),  new Array(1,"", " "),  new Array(1,"IF ( @profilePropertyCount > 0 OR @userFilterCount > 0)", " "),  new Array(1,"BEGIN SET @filterJoin = \' INNER JOIN #MatchingUsers m ON m.UserID = s.UserID \' END", " "),  new Array(1,"", " "),  new Array(1,"-- Determine the Type of Sort", " "),  new Array(1,"IF (@SortBy IS NOT NULL AND @SortBy <> \'\') AND @sortByUserProperty <> 1", " "),  new Array(1,"BEGIN -- Sort By Profile Property", " "),  new Array(1,"SET @sortSql = dbo.GetSortSql(@SortBy,@SortAscending,\'UserID\')", " "),  new Array(1,"SET @propertySort = dbo.GetSortSql(\'PropertyValue\',@SortAscending,\'UserID\')", " "),  new Array(1,"SET @filterSortSql = \' ;WITH SortedUsers AS ( SELECT ROW_NUMBER() OVER( \' + @propertySort + \' ) AS RowNumber, *  \'", " "),  new Array(1,"+ \' FROM dbo.vw_Profile WHERE PortalId = \' + CONVERT(nvarchar(20), @PortalID) + \' AND PropertyName = \'\'\' + @SortBy + \'\'\' )\'", " "),  new Array(1,"+ \' , MatchingSorted AS ( SELECT ROW_NUMBER() OVER(ORDER BY [RowNumber]) AS RowNumber, s.UserId FROM SortedUsers s \'", " "),  new Array(1,"+ @filterJoin + \' ) \'", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Sort By User Property", " "),  new Array(1,"IF @sortByUserProperty = 1 BEGIN SET @sortSql = dbo.GetSortSql(@SortBy,@SortAscending,\'UserID\')END", " "),  new Array(1,"", " "),  new Array(1,"-- Default: Sort By UserID", " "),  new Array(1,"ELSE BEGIN SET @sortSql = dbo.GetSortSql(\'UserID\',@SortAscending,\'UserID\') END", " "),  new Array(1,"SET @filterSortSql = \' ;WITH SortedUsers AS ( SELECT ROW_NUMBER() OVER( \' + @sortSql + \' ) AS RowNumber, * \'", " "),  new Array(1,"+ \' FROM dbo.vw_Users WHERE (PortalID = \' + CONVERT(nvarchar(20), @PortalID) + \' OR PortalID Is NULL) AND IsDeleted = 0)\'", " "),  new Array(1,"+ \' , MatchingSorted AS ( SELECT ROW_NUMBER() OVER(ORDER BY [RowNumber]) AS RowNumber, s.UserId FROM SortedUsers s \'", " "),  new Array(1,"+ @filterJoin + \' ) \'", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Check if any Profile Property Definitions exist for this portal", " "),  new Array(1,"IF @pivotSql is not null", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- SELECT with PIVOT", " "),  new Array(1,"SET @pivotSql = \'SELECT * FROM (SELECT * FROM PivotedUsers PIVOT (MAX(PropertyValue) for PropertyName in (\' + @pivotSql + \') ) as pivotTable) T \'", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- SELECT with DISTINCT", " "),  new Array(1,"SET @pivotSql = \'SELECT distinct UserID, PortalID, Username, Email, DisplayName, IsSuperUser, IsDeleted, AffiliateID, UpdatePassword, Authorised FROM PivotedUsers \'", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- \/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/", " "),  new Array(1,"-- CREATE FINAL QUERY", " "),  new Array(1,"-- \/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/", " "),  new Array(1,"SET @sql = @filterSql", " "),  new Array(1,"+ \' DECLARE @TempUsers TABLE (SortOrder INT, UserID INT) \'", " "),  new Array(1,"+ @filterSortSql", " "),  new Array(1,"+ @roleAndRelationshipFilter", " "),  new Array(1,"+ \' INSERT INTO @TempUsers SELECT \' + @topSql + \' * FROM (SELECT \'", " "),  new Array(1,"+ \' ROW_NUMBER() OVER ( ORDER BY [RowNumber] ) AS RowNumber, s.UserId FROM MatchingSorted s \'", " "),  new Array(1,"+ \' WHERE 1=1 \' + @roleAndRelationshipSelect", " "),  new Array(1,"+ \') t WHERE RowNumber >= \'+ @minRowNumberSql", " "),  new Array(1,"+ \' ;WITH PivotedUsers AS ( SELECT U.UserID, U.PortalID, U.Username, U.Email, U.DisplayName, U.IsSuperUser, U.IsDeleted, U.CreatedOnDate,", " "),  new Array(1,"U.AffiliateID, U.UpdatePassword, U.Authorised, Prop.PropertyName,", " "),  new Array(1,"CASE", " "),  new Array(1,"WHEN (P.Visibility = 0) THEN P.PropertyValue", " "),  new Array(1,"WHEN (P.Visibility = 1 AND \' + CONVERT(nvarchar(20), @IsAdmin) + \' = 1) THEN P.PropertyValue", " "),  new Array(1,"WHEN (P.Visibility = 1 AND \' + CONVERT(nvarchar(20), @IsAdmin) + \' = 0 AND \' + CONVERT(nvarchar(20), @UserId) + \' > 0) THEN P.PropertyValue", " "),  new Array(1,"WHEN U.UserID = \' + CONVERT(nvarchar(20), @UserId) + \' OR (P.Visibility = 2 AND \' + CONVERT(nvarchar(20), @IsAdmin) + \' = 1) THEN P.PropertyValue", " "),  new Array(1,"ELSE NULL", " "),  new Array(1,"END AS PropertyValue", " "),  new Array(1,"FROM   dbo.vw_Users AS U", " "),  new Array(1,"INNER JOIN dbo.UserProfile AS P ON U.UserID = P.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.ProfilePropertyDefinition AS Prop ON", " "),  new Array(1,"(Prop.PropertyDefinitionID = P.PropertyDefinitionID and Prop.Deleted = 0 and Prop.PortalID = \' + CONVERT(nvarchar(20), @PortalID) + \')", " "),  new Array(1,"WHERE U.UserId IN (SELECT UserId FROM @TempUsers) AND (U.PortalId = \' + CONVERT(nvarchar(20), @PortalID) + \' OR U.PortalId IS NULL)", " "),  new Array(1,")\' +", " "),  new Array(1,"@pivotSql + @sortSql + \' DROP TABLE #MatchingUsers\'", " "),  new Array(1,"", " "),  new Array(1,"EXEC(@sql)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUsersBasicSearch]", " "),  new Array(1,"(", " "),  new Array(1,"@PortalID int,					-- portal", " "),  new Array(1,"@PageSize int,					-- page size", " "),  new Array(1,"@PageIndex int,					-- 0 based page index", " "),  new Array(1,"@SortBy nvarchar(100),			-- sort field", " "),  new Array(1,"@SortAscending bit,				-- sort flag indicating whether sort is asc or desc", " "),  new Array(1,"@PropertyName nvarchar(256),    -- property to filter by (username, diaplayname, email)", " "),  new Array(1,"@PropertyValue nvarchar(256)	-- value of property", " "),  new Array(1,")", " "),  new Array(1,"AS", " "),  new Array(1,"-- Set up Top XX", " "),  new Array(1,"DECLARE @topSql nvarchar(20)", " "),  new Array(1,"SET @topSql = CONVERT(nvarchar(20), @PageSize)", " "),  new Array(1,"", " "),  new Array(1,"--Set up Count", " "),  new Array(1,"DECLARE @minRowNumberSql nvarchar(20)", " "),  new Array(1,"SET @minRowNumberSql =  CONVERT(nvarchar(20), ((@PageIndex * @PageSize) + 1))", " "),  new Array(1,"", " "),  new Array(1,"-- Set up Sort", " "),  new Array(1,"DECLARE @sortSql nvarchar(1000)", " "),  new Array(1,"SET @sortSql = dbo.GetSortSql(@SortBy, @SortAscending, \'UserID\')", " "),  new Array(1,"", " "),  new Array(1,"-- Setup Pivot Field List", " "),  new Array(1,"DECLARE @pivotSql nvarchar(max)", " "),  new Array(1,"SELECT @pivotSql = dbo.GetProfileFieldSql(@PortalID, \'\')", " "),  new Array(1,"", " "),  new Array(1,"-- Setup FieldName Field List for temporary table", " "),  new Array(1,"DECLARE @fieldNames nvarchar(max)", " "),  new Array(1,"SELECT @fieldNames = dbo.GetProfileFieldSql(@PortalID, \' nvarchar(max)\')", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @sql nvarchar(max)", " "),  new Array(1,"SELECT @sql=", " "),  new Array(1,"\'", " "),  new Array(1,"DECLARE @pivotedUsers TABLE", " "),  new Array(1,"(", " "),  new Array(1,"RowNumber int,", " "),  new Array(1,"UserID int,", " "),  new Array(1,"PortalID int,", " "),  new Array(1,"Username nvarchar(100),", " "),  new Array(1,"Email nvarchar(256),", " "),  new Array(1,"DisplayName nvarchar(128),", " "),  new Array(1,"IsSuperUser bit,", " "),  new Array(1,"IsDeleted bit,", " "),  new Array(1,"AffiliateID int,", " "),  new Array(1,"UpdatePassword bit,", " "),  new Array(1,"Authorised bit,", " "),  new Array(1,"\' + @fieldNames + \'", " "),  new Array(1,");", " "),  new Array(1,"", " "),  new Array(1,"WITH TempUsers", " "),  new Array(1,"AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT TOP \' + @topSql + \' * FROM (", " "),  new Array(1,"SELECT", " "),  new Array(1,"ROW_NUMBER() OVER(\' + @sortSql + \') AS RowNumber,", " "),  new Array(1,"U.UserID,", " "),  new Array(1,"U.PortalID,", " "),  new Array(1,"U.Username,", " "),  new Array(1,"U.Email,", " "),  new Array(1,"U.DisplayName,", " "),  new Array(1,"U.IsSuperUser,", " "),  new Array(1,"U.IsDeleted,", " "),  new Array(1,"U.AffiliateID,", " "),  new Array(1,"U.UpdatePassword,", " "),  new Array(1,"U.Authorised", " "),  new Array(1,"FROM dbo.vw_Users AS U", " "),  new Array(1,"WHERE (U.PortalID = \' + CONVERT(nvarchar(20), @PortalID) + \' OR U.PortalID Is NULL )", " "),  new Array(1,"AND ((U.\' + @PropertyName + \' LIKE N\'\'\' + @PropertyValue + \'%\'\')", " "),  new Array(1,"OR (U.\' + @PropertyName + \' LIKE N\'\'% \' + @PropertyValue + \'%\'\'))", " "),  new Array(1,"AND U.IsDeleted = 0", " "),  new Array(1,") AS U", " "),  new Array(1,"WHERE RowNumber >= \' + @minRowNumberSql + \'", " "),  new Array(1,"),", " "),  new Array(1,"TempUsersWithProfile", " "),  new Array(1,"AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT", " "),  new Array(1,"U.UserID,", " "),  new Array(1,"U.PortalID,", " "),  new Array(1,"U.Username,", " "),  new Array(1,"U.Email,", " "),  new Array(1,"U.DisplayName,", " "),  new Array(1,"U.IsSuperUser,", " "),  new Array(1,"U.IsDeleted,", " "),  new Array(1,"U.AffiliateID,", " "),  new Array(1,"U.UpdatePassword,", " "),  new Array(1,"U.Authorised,", " "),  new Array(1,"P.PropertyName,", " "),  new Array(1,"P.PropertyValue", " "),  new Array(1,"FROM TempUsers U", " "),  new Array(1,"INNER JOIN dbo.vw_Profile P ON P.UserID = U.UserID", " "),  new Array(1,")", " "),  new Array(1,"SELECT  * FROM (", " "),  new Array(1,"SELECT  * FROM TempUsersWithProfile", " "),  new Array(1,"PIVOT", " "),  new Array(1,"(", " "),  new Array(1,"MAX(PropertyValue) for PropertyName in (\' + @pivotSql + \')", " "),  new Array(1,") as pivotTable", " "),  new Array(1,") T", " "),  new Array(1,"\' + @sortSql", " "),  new Array(1,"EXEC(@sql)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUsersByDisplayName]", " "),  new Array(1,"@PortalID		int,", " "),  new Array(1,"@NameToMatch	nvarchar(256),", " "),  new Array(1,"@PageIndex		int,", " "),  new Array(1,"@PageSize		INT,", " "),  new Array(1,"@IncludeDeleted     bit,", " "),  new Array(1,"@SuperUsersOnly     bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Set the page bounds", " "),  new Array(1,"DECLARE @PageLowerBound INT", " "),  new Array(1,"DECLARE @PageUpperBound INT", " "),  new Array(1,"SET @PageLowerBound = @PageSize * @PageIndex", " "),  new Array(1,"SET @PageUpperBound = @PageSize - 1 + @PageLowerBound", " "),  new Array(1,"", " "),  new Array(1,"-- Create a temp table TO store the select results", " "),  new Array(1,"CREATE TABLE #PageIndexForUsers", " "),  new Array(1,"(", " "),  new Array(1,"IndexId int IDENTITY (0, 1) NOT NULL,", " "),  new Array(1,"UserId int", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"-- Insert into our temp table", " "),  new Array(1,"INSERT INTO #PageIndexForUsers (UserId)", " "),  new Array(1,"SELECT UserId FROM	dbo.vw_Users", " "),  new Array(1,"WHERE  DisplayName LIKE @NameToMatch", " "),  new Array(1,"AND (IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"--less than equal done to cover IsDeleted in (1,0) for IncludeDeleted...else just IsDeleted = 0", " "),  new Array(1,"OR IsDeleted Is NULL)", " "),  new Array(1,"AND IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"AND ( PortalId = @PortalID OR (@PortalID is null ))", " "),  new Array(1,"ORDER BY DisplayName", " "),  new Array(1,"", " "),  new Array(1,"SELECT  *", " "),  new Array(1,"FROM	dbo.vw_Users u,", " "),  new Array(1,"#PageIndexForUsers p", " "),  new Array(1,"WHERE  u.UserId = p.UserId", " "),  new Array(1,"AND (IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"--less than equal done to cover IsDeleted in (1,0) for IncludeDeleted...else just IsDeleted = 0", " "),  new Array(1,"OR IsDeleted Is NULL)", " "),  new Array(1,"AND IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"AND ( PortalId = @PortalID OR (@PortalID is null ))", " "),  new Array(1,"AND p.IndexId >= @PageLowerBound AND p.IndexId <= @PageUpperBound", " "),  new Array(1,"ORDER BY u.DisplayName", " "),  new Array(1,"", " "),  new Array(1,"SELECT  TotalRecords = COUNT(*)", " "),  new Array(1,"FROM    #PageIndexForUsers", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUsersByEmail]", " "),  new Array(1,"@PortalID  int,", " "),  new Array(1,"@EmailToMatch   nvarchar(256),", " "),  new Array(1,"@PageIndex      int,", " "),  new Array(1,"@PageSize       INT,", " "),  new Array(1,"@IncludeDeleted bit,", " "),  new Array(1,"@SuperUsersOnly bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Set the page bounds", " "),  new Array(1,"DECLARE", " "),  new Array(1,"@PageLowerBound INT,", " "),  new Array(1,"@PageUpperBound INT,", " "),  new Array(1,"@RowsToReturn int,", " "),  new Array(1,"@TotalRecords int", " "),  new Array(1,"", " "),  new Array(1,"exec dbo.CalculatePagingInformation @PageIndex, @PageSize, @RowsToReturn output, @PageLowerBound output, @PageUpperBound output", " "),  new Array(1,"", " "),  new Array(1,"declare @tblPageIndex table (", " "),  new Array(1,"IndexId int IDENTITY (0, 1) NOT NULL primary key,", " "),  new Array(1,"UserId int", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"if @PortalId is null and @EmailToMatch IS NULL", " "),  new Array(1,"begin", " "),  new Array(1,"with [UsersByEmail] as (", " "),  new Array(1,"SELECT U.*, ROW_NUMBER() OVER (ORDER BY Email ASC) AS ROWID", " "),  new Array(1,"FROM    dbo.vw_Users U", " "),  new Array(1,"WHERE U.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"--less than equal done to cover IsDeleted in (1,0) for IncludeDeleted...else just IsDeleted = 0", " "),  new Array(1,"AND U.IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,")", " "),  new Array(1,"select *, ROWID - 1 AS IndexID, UserID", " "),  new Array(1,"from [UsersByEmail]", " "),  new Array(1,"where ROWID > @PageLowerBound AND ROWID < @PageUpperBound", " "),  new Array(1,"end", " "),  new Array(1,"else if @PortalId is null and @EmailToMatch IS NOT NULL", " "),  new Array(1,"begin", " "),  new Array(1,"with [UsersByEmail] as (", " "),  new Array(1,"SELECT U.*, ROW_NUMBER() OVER (ORDER BY Email ASC) AS ROWID", " "),  new Array(1,"FROM    dbo.vw_Users U", " "),  new Array(1,"WHERE LOWER(U.Email) LIKE LOWER(@EmailToMatch)", " "),  new Array(1,"AND U.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND U.IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,")", " "),  new Array(1,"select *, ROWID - 1 AS IndexID, UserID", " "),  new Array(1,"from [UsersByEmail]", " "),  new Array(1,"where ROWID > @PageLowerBound AND ROWID < @PageUpperBound", " "),  new Array(1,"end", " "),  new Array(1,"else if @EmailToMatch IS NULL", " "),  new Array(1,"begin", " "),  new Array(1,"with [UsersByEmail] as (", " "),  new Array(1,"SELECT U.*, ROW_NUMBER() OVER (ORDER BY Email ASC) AS ROWID", " "),  new Array(1,"FROM    dbo.vw_Users U", " "),  new Array(1,"WHERE U.PortalId = @PortalID", " "),  new Array(1,"AND U.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND U.IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,")", " "),  new Array(1,"select *, ROWID - 1 AS IndexID, UserID", " "),  new Array(1,"from [UsersByEmail]", " "),  new Array(1,"where ROWID > @PageLowerBound AND ROWID < @PageUpperBound", " "),  new Array(1,"end", " "),  new Array(1,"else", " "),  new Array(1,"begin", " "),  new Array(1,"with [UsersByEmail] as (", " "),  new Array(1,"SELECT U.*, ROW_NUMBER() OVER (ORDER BY Email ASC) AS ROWID", " "),  new Array(1,"FROM    dbo.vw_Users U", " "),  new Array(1,"WHERE U.PortalId = @PortalID", " "),  new Array(1,"AND LOWER(U.Email) LIKE LOWER(@EmailToMatch)", " "),  new Array(1,"AND U.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND U.IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,")", " "),  new Array(1,"select *, ROWID - 1 AS IndexID, UserID", " "),  new Array(1,"from [UsersByEmail]", " "),  new Array(1,"where ROWID > @PageLowerBound AND ROWID < @PageUpperBound", " "),  new Array(1,"end", " "),  new Array(1,"", " "),  new Array(1,"if @PortalId is null and @EmailToMatch IS NULL", " "),  new Array(1,"begin", " "),  new Array(1,"SELECT count(*) as TotalRecords", " "),  new Array(1,"FROM    dbo.vw_Users U", " "),  new Array(1,"WHERE U.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND U.IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"end", " "),  new Array(1,"else if @PortalId is null and @EmailToMatch IS NOT NULL", " "),  new Array(1,"begin", " "),  new Array(1,"SELECT count(*) as TotalRecords", " "),  new Array(1,"FROM    dbo.vw_Users U", " "),  new Array(1,"WHERE LOWER(U.Email) LIKE LOWER(@EmailToMatch)", " "),  new Array(1,"AND U.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND U.IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"end", " "),  new Array(1,"else if @EmailToMatch IS NULL", " "),  new Array(1,"begin", " "),  new Array(1,"SELECT count(*) as TotalRecords", " "),  new Array(1,"FROM    dbo.vw_Users U", " "),  new Array(1,"WHERE U.PortalId = @PortalID", " "),  new Array(1,"AND U.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND U.IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"end", " "),  new Array(1,"else", " "),  new Array(1,"begin", " "),  new Array(1,"SELECT count(*) as TotalRecords", " "),  new Array(1,"FROM    dbo.vw_Users U", " "),  new Array(1,"WHERE U.PortalId = @PortalID", " "),  new Array(1,"AND LOWER(U.Email) LIKE LOWER(@EmailToMatch)", " "),  new Array(1,"AND U.IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"AND U.IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"end", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUsersByProfileProperty]", " "),  new Array(1,"@PortalID		int,", " "),  new Array(1,"@PropertyName   nvarchar(256),", " "),  new Array(1,"@PropertyValue  nvarchar(256),", " "),  new Array(1,"@PageIndex      int,", " "),  new Array(1,"@PageSize       INT,", " "),  new Array(1,"@IncludeDeleted bit,", " "),  new Array(1,"@SuperUsersOnly bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Set the page bounds", " "),  new Array(1,"DECLARE @PageLowerBound INT", " "),  new Array(1,"DECLARE @PageUpperBound INT", " "),  new Array(1,"SET @PageLowerBound = @PageSize * @PageIndex", " "),  new Array(1,"SET @PageUpperBound = @PageSize - 1 + @PageLowerBound", " "),  new Array(1,"", " "),  new Array(1,"-- Create a temp table TO store the select results", " "),  new Array(1,"CREATE TABLE #PageIndexForUsers", " "),  new Array(1,"(", " "),  new Array(1,"IndexId int IDENTITY (0, 1) NOT NULL,", " "),  new Array(1,"UserId int,", " "),  new Array(1,"DisplayName varchar(512)", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"-- Insert into our temp table", " "),  new Array(1,"INSERT INTO #PageIndexForUsers (UserId,DisplayName)", " "),  new Array(1,"SELECT DISTINCT U.UserId, U.DisplayName", " "),  new Array(1,"FROM dbo.ProfilePropertyDefinition P", " "),  new Array(1,"INNER JOIN dbo.UserProfile     UP ON P.PropertyDefinitionID = UP.PropertyDefinitionID", " "),  new Array(1,"INNER JOIN dbo.Users           U  ON UP.UserID = U.UserID", " "),  new Array(1,"INNER JOIN dbo.Lists           DT ON DT.EntryID = P.DataType", " "),  new Array(1,"LEFT  JOIN dbo.Lists           L  ON L.ListName = @PropertyName AND L.Value = UP.PropertyValue AND L.Text LIKE @PropertyValue", " "),  new Array(1,"WHERE (PropertyName = @PropertyName)", " "),  new Array(1,"AND (PropertyValue LIKE @PropertyValue OR PropertyText LIKE @PropertyValue OR (DT.Value = \'List\' AND L.EntryID IS NOT NULL ))", " "),  new Array(1,"AND (IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"--less than equal done to cover IsDeleted in (1,0) for IncludeDeleted...else just IsDeleted = 0", " "),  new Array(1,"OR IsDeleted Is NULL)", " "),  new Array(1,"AND IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"AND (P.Portalid = @PortalID OR (@PortalID is null ))", " "),  new Array(1,"ORDER BY U.DisplayName", " "),  new Array(1,"", " "),  new Array(1,"SELECT  *", " "),  new Array(1,"FROM	dbo.vw_Users u,", " "),  new Array(1,"#PageIndexForUsers p", " "),  new Array(1,"WHERE  u.UserId = p.UserId", " "),  new Array(1,"AND (IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"--less than equal done to cover IsDeleted in (1,0) for IncludeDeleted...else just IsDeleted = 0", " "),  new Array(1,"OR IsDeleted Is NULL)", " "),  new Array(1,"AND IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"AND ( PortalId = @PortalID OR (@PortalID is null ))", " "),  new Array(1,"AND p.IndexId >= @PageLowerBound AND p.IndexId <= @PageUpperBound", " "),  new Array(1,"ORDER BY U.DisplayName", " "),  new Array(1,"", " "),  new Array(1,"SELECT  TotalRecords = COUNT(*)", " "),  new Array(1,"FROM    #PageIndexForUsers", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUsersByRolename]", " "),  new Array(1,"@PortalID	INT,", " "),  new Array(1,"@Rolename	NVARCHAR(50)", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @UserPortalId INT", " "),  new Array(1,"DECLARE @PortalGroupId INT", " "),  new Array(1,"SELECT @PortalGroupId = PortalGroupId FROM dbo.[Portals] WHERE PortalID = @PortalID", " "),  new Array(1,"IF EXISTS(SELECT PortalGroupID FROM dbo.[PortalGroups] WHERE PortalGroupID = @PortalGroupId)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT @UserPortalId = MasterPortalID FROM dbo.[PortalGroups] WHERE PortalGroupID = @PortalGroupId", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT @UserPortalId = @PortalID", " "),  new Array(1,"END", " "),  new Array(1,"SELECT", " "),  new Array(1,"U.*,", " "),  new Array(1,"UP.PortalId,", " "),  new Array(1,"UP.Authorised,", " "),  new Array(1,"UP.IsDeleted,", " "),  new Array(1,"UP.RefreshRoles,", " "),  new Array(1,"UP.VanityUrl", " "),  new Array(1,"FROM dbo.UserPortals AS UP", " "),  new Array(1,"RIGHT OUTER JOIN dbo.UserRoles  UR", " "),  new Array(1,"INNER JOIN dbo.Roles R ON UR.RoleID = R.RoleID", " "),  new Array(1,"RIGHT OUTER JOIN dbo.Users AS U ON UR.UserID = U.UserID", " "),  new Array(1,"ON UP.UserId = U.UserID", " "),  new Array(1,"WHERE ( UP.PortalId = @UserPortalId OR @UserPortalId IS Null )", " "),  new Array(1,"AND (UP.IsDeleted = 0 OR UP.IsDeleted Is NULL)", " "),  new Array(1,"AND (R.RoleName = @Rolename)", " "),  new Array(1,"AND (R.PortalId = @PortalID OR @PortalID IS Null )", " "),  new Array(1,"ORDER BY U.FirstName + \' \' + U.LastName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetUsersByUserName]", " "),  new Array(1,"@PortalID		int,", " "),  new Array(1,"@UserNameToMatch	nvarchar(256),", " "),  new Array(1,"@PageIndex		int,", " "),  new Array(1,"@PageSize		INT,", " "),  new Array(1,"@IncludeDeleted     bit,", " "),  new Array(1,"@SuperUsersOnly     bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Set the page bounds", " "),  new Array(1,"DECLARE @PageLowerBound INT", " "),  new Array(1,"DECLARE @PageUpperBound INT", " "),  new Array(1,"SET @PageLowerBound = @PageSize * @PageIndex", " "),  new Array(1,"SET @PageUpperBound = @PageSize - 1 + @PageLowerBound", " "),  new Array(1,"", " "),  new Array(1,"-- Create a temp table TO store the select results", " "),  new Array(1,"CREATE TABLE #PageIndexForUsers", " "),  new Array(1,"(", " "),  new Array(1,"IndexId int IDENTITY (0, 1) NOT NULL,", " "),  new Array(1,"UserId int", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"-- Insert into our temp table", " "),  new Array(1,"INSERT INTO #PageIndexForUsers (UserId)", " "),  new Array(1,"SELECT UserId FROM	dbo.vw_Users", " "),  new Array(1,"WHERE  Username LIKE @UserNameToMatch", " "),  new Array(1,"AND (IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"--less than equal done to cover IsDeleted in (1,0) for IncludeDeleted...else just IsDeleted = 0", " "),  new Array(1,"OR IsDeleted Is NULL)", " "),  new Array(1,"AND IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"AND ( PortalId = @PortalID OR (@PortalID is null ))", " "),  new Array(1,"ORDER BY UserName", " "),  new Array(1,"", " "),  new Array(1,"SELECT  *", " "),  new Array(1,"FROM	dbo.vw_Users u,", " "),  new Array(1,"#PageIndexForUsers p", " "),  new Array(1,"WHERE  u.UserId = p.UserId", " "),  new Array(1,"AND (IsDeleted <= CASE @IncludeDeleted WHEN 0 THEN 0 ELSE 1 END", " "),  new Array(1,"--less than equal done to cover IsDeleted in (1,0) for IncludeDeleted...else just IsDeleted = 0", " "),  new Array(1,"OR IsDeleted Is NULL)", " "),  new Array(1,"AND IsSuperUser >= CASE @SuperUsersOnly WHEN 1 THEN 1 ELSE 0 END", " "),  new Array(1,"AND ( PortalId = @PortalID OR (@PortalID is null ))", " "),  new Array(1,"AND p.IndexId >= @PageLowerBound AND p.IndexId <= @PageUpperBound", " "),  new Array(1,"ORDER BY u.UserName", " "),  new Array(1,"", " "),  new Array(1,"SELECT  TotalRecords = COUNT(*)", " "),  new Array(1,"FROM    #PageIndexForUsers", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[GetVocabularies]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.Taxonomy_Vocabularies", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetWorkflows]", " "),  new Array(1,"@PortalID int", " "),  new Array(1,"as", " "),  new Array(1,"select *", " "),  new Array(1,"from   dbo.Workflow", " "),  new Array(1,"where (PortalID = @PortalID or PortalID is null)", " "),  new Array(1,"order by WorkflowName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[GetWorkflowStates]", " "),  new Array(1,"@WorkflowID int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select *", " "),  new Array(1,"from   dbo.WorkflowStates", " "),  new Array(1,"inner join dbo.Workflow on dbo.WorkflowStates.WorkflowID = dbo.Workflow.WorkflowID", " "),  new Array(1,"where dbo.WorkflowStates.WorkflowID = @WorkflowID", " "),  new Array(1,"order by [Order]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ImportDocumentLibraryCategories]", " "),  new Array(1,"@VocabularyID 				int", " "),  new Array(1,"AS", " "),  new Array(1,"IF EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N\'dbo.[dlfp_Category]\') AND type in (N\'U\'))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.Taxonomy_Terms([Name],[VocabularyID])", " "),  new Array(1,"SELECT DISTINCT CategoryName,VID=@VocabularyID", " "),  new Array(1,"FROM         dbo.dlfp_Category where CategoryName NOT IN (SELECT [name] from dbo.Taxonomy_Terms)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ImportDocumentLibraryCategoryAssoc]", " "),  new Array(1,"AS", " "),  new Array(1,"IF EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N\'dbo.[dlfp_Category]\') AND type in (N\'U\'))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT     dlc.CategoryName, dbo.Files.FileId", " "),  new Array(1,"FROM         dbo.dlfp_Category AS dlc INNER JOIN", " "),  new Array(1,"dbo.dlfp_DocumentCategoryAssoc AS dlca ON dlc.CategoryID = dlca.CategoryID INNER JOIN", " "),  new Array(1,"dbo.dlfp_Document AS dld ON dlca.DocumentID = dld.ID INNER JOIN", " "),  new Array(1,"dbo.Files ON dld.ID = dbo.Files.FileId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[InsertPortalLocalization]", " "),  new Array(1,"@PortalID           int,", " "),  new Array(1,"@CultureCode nvarchar(10),", " "),  new Array(1,"@PortalName         nvarchar(128),", " "),  new Array(1,"@LogoFile           nvarchar(50),", " "),  new Array(1,"@FooterText         nvarchar(100),", " "),  new Array(1,"@Description        nvarchar(500),", " "),  new Array(1,"@KeyWords           nvarchar(500),", " "),  new Array(1,"@BackgroundFile     nvarchar(50),", " "),  new Array(1,"@HomeTabId          int,", " "),  new Array(1,"@LoginTabId         int,", " "),  new Array(1,"@UserTabId          int,", " "),  new Array(1,"@AdminTabid			int,", " "),  new Array(1,"@SplashTabId          int,", " "),  new Array(1,"@CreatedByUserID  int", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.[PortalLocalization]", " "),  new Array(1,"([PortalID]", " "),  new Array(1,",[CultureCode]", " "),  new Array(1,",[PortalName]", " "),  new Array(1,",[LogoFile]", " "),  new Array(1,",[FooterText]", " "),  new Array(1,",[Description]", " "),  new Array(1,",[KeyWords]", " "),  new Array(1,",[BackgroundFile]", " "),  new Array(1,",[HomeTabId]", " "),  new Array(1,",[LoginTabId]", " "),  new Array(1,",[UserTabId]", " "),  new Array(1,",[AdminTabId]", " "),  new Array(1,",[SplashTabId]", " "),  new Array(1,",[CreatedByUserID]", " "),  new Array(1,",[CreatedOnDate]", " "),  new Array(1,",[LastModifiedByUserID]", " "),  new Array(1,",[LastModifiedOnDate])", " "),  new Array(1,"VALUES", " "),  new Array(1,"(", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"@PortalName,", " "),  new Array(1,"@LogoFile,", " "),  new Array(1,"@FooterText,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@KeyWords,", " "),  new Array(1,"@BackgroundFile,", " "),  new Array(1,"@HomeTabId ,", " "),  new Array(1,"@LoginTabId ,", " "),  new Array(1,"@UserTabId,", " "),  new Array(1,"@AdminTabid,", " "),  new Array(1,"@SplashTabId  ,", " "),  new Array(1,"-1,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"-1,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[InsertSearchStopWords]", " "),  new Array(1,"@StopWords 			nvarchar(MAX),", " "),  new Array(1,"@CreatedByUserID 		int,", " "),  new Array(1,"@PortalID				int,", " "),  new Array(1,"@CultureCode		nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[SearchStopWords](", " "),  new Array(1,"[StopWords],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate],", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[CultureCode]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@StopWords,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"GETUTCDATE(),", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"GETUTCDATE(),", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@CultureCode", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[IsUserInRole]", " "),  new Array(1,"", " "),  new Array(1,"@UserID        int,", " "),  new Array(1,"@RoleId        int,", " "),  new Array(1,"@PortalID      int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"select dbo.UserRoles.UserId,", " "),  new Array(1,"dbo.UserRoles.RoleId", " "),  new Array(1,"from dbo.UserRoles", " "),  new Array(1,"inner join dbo.Roles on dbo.UserRoles.RoleId = dbo.Roles.RoleId", " "),  new Array(1,"where  dbo.UserRoles.UserId = @UserID", " "),  new Array(1,"and    dbo.UserRoles.RoleId = @RoleId", " "),  new Array(1,"and    dbo.Roles.PortalId = @PortalID", " "),  new Array(1,"and    (dbo.UserRoles.ExpiryDate >= getdate() or dbo.UserRoles.ExpiryDate is null)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Comment_Delete]", " "),  new Array(1,"@JournalId int,", " "),  new Array(1,"@CommentId int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.[Journal_Comments]", " "),  new Array(1,"WHERE", " "),  new Array(1,"(JournalId = @JournalId AND CommentId = @CommentId)", " "),  new Array(1,"OR", " "),  new Array(1,"(JournalId = @JournalId AND CommentId = -1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Comment_Get]", " "),  new Array(1,"@CommentId int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT jc.*, u.* FROM dbo.[Journal_Comments] as jc", " "),  new Array(1,"INNER JOIN dbo.[Users] as u ON jc.UserId = u.UserId", " "),  new Array(1,"WHERE jc.CommentId = @CommentId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Comment_Like]", " "),  new Array(1,"@JournalId int,", " "),  new Array(1,"@CommentId int,", " "),  new Array(1,"@UserId int,", " "),  new Array(1,"@UserName nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @cxml xml", " "),  new Array(1,"SET @cxml = (SELECT CommentXML FROM dbo.Journal_Comments WHERE CommentId = @CommentId AND JournalId = @JournalId)", " "),  new Array(1,"IF @cxml IS NULL OR @cxml.exist(\'\/root\') = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @x xml", " "),  new Array(1,"SET @x = \'<root><\/root>\';", " "),  new Array(1,"UPDATE dbo.Journal_Comments", " "),  new Array(1,"SET CommentXML = @x", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentId", " "),  new Array(1,"END", " "),  new Array(1,"IF EXISTS(SELECT CommentId", " "),  new Array(1,"FROM dbo.Journal_Comments", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentId", " "),  new Array(1,"AND CommentXML.exist(\'\/root\/likes\/u[@uid=sql:variable(\"@userid\")]\') = 1)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Journal_Comments", " "),  new Array(1,"SET CommentXML.modify(\'delete (\/root\/likes\/u[@uid=sql:variable(\"@UserId\")])\')", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentId", " "),  new Array(1,"AND CommentXML.exist(\'\/root\/likes\/u[@uid=sql:variable(\"@UserId\")]\') = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF NOT EXISTS(SELECT CommentId FROM dbo.Journal_Comments", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentID", " "),  new Array(1,"AND CommentXML.exist(\'\/root\/likes\') = 1)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Journal_Comments", " "),  new Array(1,"SET CommentXML.modify(\'insert <likes \/> as last into (\/root)[1]\')", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentId AND CommentXML.exist(\'\/root\') = 1", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Journal_Comments", " "),  new Array(1,"SET CommentXML.modify(\'insert <u uid=\"{xs:string(sql:variable(\"@UserId\"))}\" un=\"{xs:string(sql:variable(\"@UserName\"))}\" \/> as last into (\/root\/likes)[1]\')", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentId AND CommentXML.exist(\'\/root\/likes\') = 1", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Comment_List]", " "),  new Array(1,"@JournalId int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT jc.*, u.* FROM dbo.[Journal_Comments] as jc", " "),  new Array(1,"INNER JOIN dbo.[Users] as u ON jc.UserId = u.UserId", " "),  new Array(1,"WHERE jc.JournalId = @JournalId", " "),  new Array(1,"ORDER BY jc.CommentId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Comment_ListByJournalIds]", " "),  new Array(1,"@JounalIds nvarchar(max) = \'\'", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT jc.*, u.* FROM dbo.[Journal_Comments] as jc", " "),  new Array(1,"INNER JOIN dbo.[Users] as u ON jc.UserId = u.UserId", " "),  new Array(1,"INNER JOIN dbo.[Journal_Split](@JounalIds,\';\') as j ON j.id = jc.JournalId", " "),  new Array(1,"ORDER BY jc.CommentId ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Comment_Save]", " "),  new Array(1,"@JournalId int,", " "),  new Array(1,"@CommentId int,", " "),  new Array(1,"@UserId int,", " "),  new Array(1,"@Comment nvarchar(max),", " "),  new Array(1,"@CommentXML xml,", " "),  new Array(1,"@DateUpdated datetime", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @cxml xml", " "),  new Array(1,"DECLARE @xml xml", " "),  new Array(1,"DECLARE @cdataComment nvarchar(max)", " "),  new Array(1,"", " "),  new Array(1,"IF EXISTS(SELECT * FROM dbo.[Journal_Comments] WHERE JournalId = @JournalId AND CommentId = @CommentId)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (LEN(@Comment) < 2000)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[Journal_Comments]", " "),  new Array(1,"SET Comment = @Comment,", " "),  new Array(1,"CommentXML = @CommentXML,", " "),  new Array(1,"DateUpdated = IsNull(@DateUpdated, GETUTCDATE())", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentId", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @cxml = (SELECT CommentXML FROM dbo.[Journal_Comments] WHERE CommentId = @CommentId AND JournalId = @JournalId)", " "),  new Array(1,"IF @cxml IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @xml = \'<root><\/root>\';", " "),  new Array(1,"UPDATE dbo.[Journal_Comments]", " "),  new Array(1,"SET CommentXML = @xml", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentId", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF NOT EXISTS(SELECT CommentId FROM dbo.[Journal_Comments] WHERE JournalId = @JournalId AND CommentId = @CommentID AND CommentXML.exist(\'\/root\/comment\') = 1)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[Journal_Comments]", " "),  new Array(1,"SET CommentXML.modify(\'insert <comment>NULL<\/comment> as last into (\/root)[1]\')", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentId AND CommentXML.exist(\'\/root\') = 1", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SET @cdataComment = \'<![CDATA[\' + @Comment + \']]>\'", " "),  new Array(1,"UPDATE dbo.[Journal_Comments]", " "),  new Array(1,"SET CommentXML.modify(\'replace value of (\/root\/comment[1]\/text())[1] with sql:variable(\"@cdataComment\")\'),", " "),  new Array(1,"Comment = NULL,", " "),  new Array(1,"DateUpdated = IsNull(@DateUpdated, GETUTCDATE())", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentId AND CommentXML.exist(\'\/root\/comment\') = 1", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (LEN(@Comment) < 2000)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[Journal_Comments]", " "),  new Array(1,"(JournalId, UserId, Comment, CommentXML, DateCreated, DateUpdated)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@JournalId, @UserId, @Comment, @CommentXML, GETUTCDATE(), GETUTCDATE())", " "),  new Array(1,"SET @CommentId = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[Journal_Comments]", " "),  new Array(1,"(JournalId, UserId, Comment, CommentXML, DateCreated, DateUpdated)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@JournalId, @UserId, NULL, NULL, GETUTCDATE(), GETUTCDATE())", " "),  new Array(1,"SET @CommentId = SCOPE_IDENTITY()", " "),  new Array(1,"", " "),  new Array(1,"SET @cxml = (SELECT CommentXML FROM dbo.[Journal_Comments] WHERE CommentId = @CommentId AND JournalId = @JournalId)", " "),  new Array(1,"IF @cxml IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @xml = \'<root><\/root>\';", " "),  new Array(1,"UPDATE dbo.[Journal_Comments]", " "),  new Array(1,"SET CommentXML = @xml", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentId", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF NOT EXISTS(SELECT CommentId FROM dbo.[Journal_Comments] WHERE JournalId = @JournalId AND CommentId = @CommentID AND CommentXML.exist(\'\/root\/comment\') = 1)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[Journal_Comments]", " "),  new Array(1,"SET CommentXML.modify(\'insert <comment>NULL<\/comment> as last into (\/root)[1]\')", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentId AND CommentXML.exist(\'\/root\') = 1", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SET @cdataComment = \'<![CDATA[\' + @Comment + \']]>\'", " "),  new Array(1,"UPDATE dbo.[Journal_Comments]", " "),  new Array(1,"SET CommentXML.modify(\'replace value of (\/root\/comment[1]\/text())[1] with sql:variable(\"@cdataComment\")\'),", " "),  new Array(1,"Comment = NULL", " "),  new Array(1,"WHERE JournalId = @JournalId AND CommentId = @CommentId AND CommentXML.exist(\'\/root\/comment\') = 1", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"SELECT @CommentId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Comments_ToggleDisable]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@JournalId int,", " "),  new Array(1,"@Disabled bit", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.[Journal]", " "),  new Array(1,"SET CommentsDisabled = @Disabled", " "),  new Array(1,"WHERE PortalId = @PortalId AND JournalId = @JournalId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Comments_ToggleHidden]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@JournalId int,", " "),  new Array(1,"@Hidden bit", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.[Journal]", " "),  new Array(1,"SET CommentsHidden = @Hidden", " "),  new Array(1,"WHERE PortalId = @PortalId AND JournalId = @JournalId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Delete]", " "),  new Array(1,"@JournalId int,", " "),  new Array(1,"@SoftDelete int = 0", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"-- Hard Delete", " "),  new Array(1,"IF @SoftDelete <> 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[Journal_Security] WHERE JournalId = @JournalId", " "),  new Array(1,"DELETE FROM dbo.[Journal_Comments] WHERE JournalId = @JournalId", " "),  new Array(1,"DELETE FROM dbo.[Journal] WHERE JournalId = @JournalId", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Soft Delete", " "),  new Array(1,"IF @SoftDelete = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[Journal] SET IsDeleted = 1 WHERE JournalId = @JournalId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_DeleteByGroupId]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@GroupId int,", " "),  new Array(1,"@SoftDelete int = 0", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"-- Hard Delete", " "),  new Array(1,"IF @SoftDelete <> 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE dbo.[Journal_Security]", " "),  new Array(1,"FROM dbo.[Journal_Security] as js  INNER JOIN dbo.[Journal] as j", " "),  new Array(1,"ON js.JournalId = j.JournalId", " "),  new Array(1,"WHERE j.PortalId = @PortalId AND j.GroupId = @GroupId AND @GroupId > 0 AND j.GroupId IS NOT NULL", " "),  new Array(1,"", " "),  new Array(1,"DELETE dbo.[Journal_Comments]", " "),  new Array(1,"FROM dbo.[Journal_Comments] as jc  INNER JOIN dbo.[Journal] as j", " "),  new Array(1,"ON jc.JournalId = j.JournalId", " "),  new Array(1,"WHERE j.PortalId = @PortalId AND j.GroupId = @GroupId AND @GroupId > 0 AND j.GroupId IS NOT NULL", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.[Journal] WHERE PortalId = @PortalId AND GroupId = @GroupId AND @GroupId > 0 AND GroupId IS NOT NULL", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Soft Delete", " "),  new Array(1,"IF @SoftDelete = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[Journal] SET IsDeleted = 1 WHERE PortalId = @PortalId AND GroupId = @GroupId AND @GroupId > 0 AND GroupId IS NOT NULL", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_DeleteByKey]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@ObjectKey nvarchar(255),", " "),  new Array(1,"@SoftDelete int = 0", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @JournalId int", " "),  new Array(1,"SET @JournalId = (SELECT JournalId FROM dbo.[Journal] WHERE PortalId = @PortalId AND ObjectKey = @ObjectKey AND @ObjectKey <> \'\' AND ObjectKey IS NOT NULL)", " "),  new Array(1,"", " "),  new Array(1,"-- Hard Delete", " "),  new Array(1,"IF @JournalId > 0 AND @SoftDelete <> 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[Journal_Security] WHERE JournalId = @JournalId", " "),  new Array(1,"DELETE FROM dbo.[Journal_Comments] WHERE JournalId = @JournalId", " "),  new Array(1,"DELETE FROM dbo.[Journal] WHERE JournalId = @JournalId", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"-- Soft Delete", " "),  new Array(1,"IF @JournalId > 0 AND @SoftDelete = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[Journal] SET IsDeleted = 1 WHERE JournalId = @JournalId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Get]", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@CurrentUserId INT,", " "),  new Array(1,"@JournalId INT,", " "),  new Array(1,"@IncludeAllItems INT = 0,", " "),  new Array(1,"@IsDeleted INT = 0,", " "),  new Array(1,"@SecurityCheck BIT = 0", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @RegisteredRoleId INT", " "),  new Array(1,"SELECT @RegisteredRoleId = RegisteredRoleId FROM dbo.[Portals] WHERE PortalID = @PortalId", " "),  new Array(1,"SELECT     j.JournalId, j.JournalTypeId, j.Title, j.Summary, j.UserId, j.DateCreated, j.DateUpdated, j.PortalId,", " "),  new Array(1,"j.ProfileId, j.GroupId, j.ObjectKey, j.AccessKey,", " "),  new Array(1,"\"JournalOwner\" = \'<entity><id>\' + CAST(p.UserId as nvarchar(150)) + \'<\/id><name><![CDATA[\' + p.DisplayName + \']]><\/name><\/entity>\',", " "),  new Array(1,"\"JournalAuthor\" = CASE WHEN ISNULL(a.UserId,-1) >0 THEN \'<entity><id>\' + CAST(a.UserId as nvarchar(150)) + \'<\/id><name><![CDATA[\' + a.DisplayName + \']]><\/name><\/entity>\' ELSE \'\' END,", " "),  new Array(1,"\"JournalOwnerId\" = ISNULL(j.ProfileId,j.UserId),", " "),  new Array(1,"jt.Icon, jt.JournalType,", " "),  new Array(1,"\"Profile\" = CASE WHEN j.ProfileId > 0 THEN \'<entity><id>\' + CAST(p.UserID as nvarchar(150)) + \'<\/id><name><![CDATA[\' + p.DisplayName + \']]><\/name><vanity><\/vanity><\/entity>\' ELSE \'\' END,", " "),  new Array(1,"\"SimilarCount\" = (SELECT COUNT(JournalId) FROM dbo.Journal WHERE ContentItemId = j.ContentItemId AND JournalTypeId = j.JournalTypeId),", " "),  new Array(1,"jd.JournalXML, ContentItemId, j.ItemData, j.IsDeleted, j.CommentsDisabled, j.CommentsHidden", " "),  new Array(1,"FROM        dbo.[Journal] AS j", " "),  new Array(1,"INNER JOIN dbo.[Journal_Types] as jt ON jt.JournalTypeId = j.JournalTypeId", " "),  new Array(1,"INNER JOIN dbo.[Journal_Security] AS js ON js.JournalId = j.JournalId", " "),  new Array(1,"INNER JOIN dbo.[Journal_User_Permissions](@PortalId,@CurrentUserId, @RegisteredRoleId) as t ON t.seckey = js.SecurityKey OR @SecurityCheck = 0", " "),  new Array(1,"LEFT OUTER JOIN dbo.[Journal_Data] as jd on jd.JournalId = j.JournalId", " "),  new Array(1,"LEFT OUTER JOIN dbo.[Users] AS p ON j.ProfileId = p.UserID", " "),  new Array(1,"LEFT OUTER JOIN dbo.[Users] AS a ON j.UserId = a.UserID", " "),  new Array(1,"WHERE       ((@IncludeAllItems = 0) AND (j.JournalId = @JournalId AND j.IsDeleted = @IsDeleted))", " "),  new Array(1,"OR", " "),  new Array(1,"((@IncludeAllItems = 1) AND (j.JournalId = @JournalId))", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_GetByKey]", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@ObjectKey NVARCHAR(255),", " "),  new Array(1,"@IncludeAllItems INT = 0,", " "),  new Array(1,"@IsDeleted INT = 0", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT     j.JournalId, j.JournalTypeId, j.Title, j.Summary, j.UserId, j.DateCreated, j.DateUpdated, j.PortalId,", " "),  new Array(1,"j.ProfileId, j.GroupId, j.ObjectKey, j.AccessKey,", " "),  new Array(1,"\"JournalOwner\" = \'<entity><id>\' + CAST(p.UserId as nvarchar(150)) + \'<\/id><name><![CDATA[\' + p.DisplayName + \']]><\/name><\/entity>\',", " "),  new Array(1,"\"JournalAuthor\" = CASE WHEN ISNULL(a.UserId,-1) >0 THEN \'<entity><id>\' + CAST(a.UserId as nvarchar(150)) + \'<\/id><name><![CDATA[\' + a.DisplayName + \']]><\/name><\/entity>\' ELSE \'\' END,", " "),  new Array(1,"\"JournalOwnerId\" = ISNULL(j.ProfileId,j.UserId),", " "),  new Array(1,"jt.Icon, jt.JournalType,", " "),  new Array(1,"\"Profile\" = CASE WHEN j.ProfileId > 0 THEN \'<entity><id>\' + CAST(p.UserID as nvarchar(150)) + \'<\/id><name><![CDATA[\' + p.DisplayName + \']]><\/name><vanity><\/vanity><\/entity>\' ELSE \'\' END,", " "),  new Array(1,"\"SimilarCount\" = (SELECT COUNT(JournalId) FROM dbo.Journal WHERE ContentItemId = j.ContentItemId AND JournalTypeId = j.JournalTypeId),", " "),  new Array(1,"jd.JournalXML, ContentItemId, j.ItemData, j.IsDeleted, j.CommentsDisabled, j.CommentsHidden", " "),  new Array(1,"FROM       	dbo.[Journal] AS j INNER JOIN", " "),  new Array(1,"dbo.[Journal_Types] as jt ON jt.JournalTypeId = j.JournalTypeId LEFT OUTER JOIN", " "),  new Array(1,"dbo.[Journal_Data] as jd on jd.JournalId = j.JournalId LEFT OUTER JOIN", " "),  new Array(1,"dbo.[Users] AS p ON j.ProfileId = p.UserID LEFT OUTER JOIN", " "),  new Array(1,"dbo.[Users] AS a ON j.UserId = a.UserID", " "),  new Array(1,"WHERE		((@IncludeAllItems = 0) AND (j.ObjectKey = @ObjectKey AND j.ObjectKey IS NOT NULL AND @ObjectKey <> \'\' AND j.IsDeleted = @IsDeleted))", " "),  new Array(1,"OR", " "),  new Array(1,"((@IncludeAllItems = 1) AND (j.ObjectKey = @ObjectKey AND j.ObjectKey IS NOT NULL AND @ObjectKey <> \'\'))", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_GetSearchItems]", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@ModuleId INT,", " "),  new Array(1,"@StartDate DATETIME,", " "),  new Array(1,"@StartJournalId INT,", " "),  new Array(1,"@NumbersOfResult INT = 500", " "),  new Array(1,"AS", " "),  new Array(1,"WITH ValidJournals AS (", " "),  new Array(1,"SELECT	JournalId", " "),  new Array(1,"FROM (", " "),  new Array(1,"SELECT *, ROW_NUMBER() OVER (ORDER BY JournalId) rownumber FROM (", " "),  new Array(1,"SELECT  DISTINCT(j.JournalId)", " "),  new Array(1,"", " "),  new Array(1,"FROM dbo.Journal j", " "),  new Array(1,"INNER JOIN dbo.Journal_Security js ON js.JournalId = j.JournalId", " "),  new Array(1,"INNER JOIN dbo.Users u ON u.UserID = j.UserId", " "),  new Array(1,"INNER JOIN dbo.ContentItems ci ON ci.ContentItemID = j.ContentItemId", " "),  new Array(1,"LEFT JOIN dbo.Journal_Comments jc ON jc.JournalId = j.JournalId", " "),  new Array(1,"WHERE ci.ModuleID = @ModuleId", " "),  new Array(1,"AND (j.DateUpdated > @StartDate OR jc.DateUpdated > @StartDate) --check the update time both for journal item and journal comment", " "),  new Array(1,"AND j.JournalId > @StartJournalId", " "),  new Array(1,"AND j.JournalTypeId IN (1,2,3,4)) AS T", " "),  new Array(1,") AS T WHERE rownumber <= @NumbersOfResult )", " "),  new Array(1,"", " "),  new Array(1,"SELECT  j.JournalId,", " "),  new Array(1,"JournalTypeId,", " "),  new Array(1,"j.UserId,", " "),  new Array(1,"DateUpdated,", " "),  new Array(1,"ProfileId,", " "),  new Array(1,"GroupId,", " "),  new Array(1,"u.DisplayName AS Title,", " "),  new Array(1,"Summary,", " "),  new Array(1,"js.SecurityKey,", " "),  new Array(1,"ci.TabID,", " "),  new Array(1,"ci.ModuleID", " "),  new Array(1,"FROM dbo.Journal j", " "),  new Array(1,"INNER JOIN dbo.Journal_Security js ON js.JournalId = j.JournalId", " "),  new Array(1,"INNER JOIN ValidJournals vj ON vj.JournalId = j.JournalId", " "),  new Array(1,"INNER JOIN dbo.Users u ON u.UserID = j.UserId", " "),  new Array(1,"INNER JOIN dbo.ContentItems ci ON ci.ContentItemID = j.ContentItemId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_GetStatsForGroup]", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@GroupId INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT Count(j.JournalTypeId) as JournalTypeCount,", " "),  new Array(1,"jt.JournalType", " "),  new Array(1,"FROM dbo.[Journal] AS j", " "),  new Array(1,"INNER JOIN dbo.[Journal_Types] AS jt ON jt.JournalTypeId = j.JournalTypeId", " "),  new Array(1,"WHERE j.GroupId = @GroupId AND j.PortalId = @PortalId AND j.IsDeleted = 0", " "),  new Array(1,"Group BY j.JournalTypeId, jt.JournalType", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Like]", " "),  new Array(1,"@JournalId int,", " "),  new Array(1,"@UserId int,", " "),  new Array(1,"@UserName nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"IF NOT EXISTS (SELECT JournalId from dbo.[Journal_Data] WHERE JournalId = @JournalId)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @x xml", " "),  new Array(1,"SET @x = \'<items><item \/><\/items>\';", " "),  new Array(1,"INSERT INTO dbo.[Journal_Data]", " "),  new Array(1,"(JournalId, JournalXML)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@JournalId, @x)", " "),  new Array(1,"END", " "),  new Array(1,"IF EXISTS(SELECT j.JournalId", " "),  new Array(1,"FROM dbo.Journal as j INNER JOIN", " "),  new Array(1,"dbo.Journal_Data as jx ON j.JournalId = jx.JournalId", " "),  new Array(1,"WHERE j.JournalId = @JournalId", " "),  new Array(1,"AND", " "),  new Array(1,"jx.journalxml.exist(\'\/items\/likes\/u[@uid=sql:variable(\"@userid\")]\') = 1)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Journal_Data", " "),  new Array(1,"SET JournalXML.modify(\'delete (\/items\/likes\/u[@uid=sql:variable(\"@UserId\")])\')", " "),  new Array(1,"WHERE JournalId = @JournalId", " "),  new Array(1,"AND journalxml.exist(\'\/items\/likes\/u[@uid=sql:variable(\"@UserId\")]\') = 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF NOT EXISTS(SELECT JournalId FROM dbo.Journal_Data", " "),  new Array(1,"WHERE JournalId = @JournalId", " "),  new Array(1,"AND", " "),  new Array(1,"journalxml.exist(\'\/items\/likes\') = 1)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Journal_Data", " "),  new Array(1,"SET JournalXML.modify(\'insert <likes \/> as last into (\/items)[1]\')", " "),  new Array(1,"WHERE JournalId = @JournalId AND journalxml.exist(\'\/items\') = 1", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Journal_Data", " "),  new Array(1,"SET JournalXML.modify(\'insert <u uid=\"{xs:string(sql:variable(\"@UserId\"))}\" un=\"{xs:string(sql:variable(\"@UserName\"))}\" \/> as last into (\/items\/likes)[1]\')", " "),  new Array(1,"Where JournalId = @JournalId AND journalxml.exist(\'\/items\/likes\') = 1", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_LikeList]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@JournalId int", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @xdoc xml", " "),  new Array(1,"set @xdoc = (SELECT journalxml.query(\'\/\/likes\')", " "),  new Array(1,"from dbo.[Journal_Data] as jd", " "),  new Array(1,"INNER JOIN dbo.[Journal] as j ON j.JournalId = jd.JournalId", " "),  new Array(1,"WHERE j.JournalId = @JournalId AND j.PortalId = @PortalId)", " "),  new Array(1,"Select u.UserId, u.DisplayName,u.FirstName,u.LastName,u.Email,u.Username", " "),  new Array(1,"FROM @xdoc.nodes(\'\/likes\/\/u\') as e(x)", " "),  new Array(1,"CROSS APPLY dbo.[Users] as u", " "),  new Array(1,"WHERE u.UserID = x.value(\'@uid[1]\',\'int\')", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_ListForGroup]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@ModuleId int,", " "),  new Array(1,"@CurrentUserId int,", " "),  new Array(1,"@GroupId int,", " "),  new Array(1,"@RowIndex int,", " "),  new Array(1,"@MaxRows int,", " "),  new Array(1,"@IncludeAllItems int = 0,", " "),  new Array(1,"@IsDeleted int = 0", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @EndRow int", " "),  new Array(1,"SET @EndRow = @RowIndex + @MaxRows;", " "),  new Array(1,"DECLARE @j TABLE(id int IDENTITY, journalid int, datecreated datetime)", " "),  new Array(1,"IF EXISTS(SELECT * from dbo.[Journal_TypeFilters] WHERE ModuleId = @ModuleId)", " "),  new Array(1,"INSERT INTO @j", " "),  new Array(1,"SELECT j.journalid, jt.datecreated from (", " "),  new Array(1,"SELECT DISTINCT js.JournalId from dbo.[Journal] as j", " "),  new Array(1,"INNER JOIN dbo.[Journal_Security] as js ON js.JournalId = j.JournalId", " "),  new Array(1,"INNER JOIN dbo.[Journal_User_Permissions](@PortalId,@CurrentUserId ,1) as t", " "),  new Array(1,"ON t.seckey = js.SecurityKey AND (js.SecurityKey = \'R\' + CAST(@GroupId as nvarchar(100)) OR js.SecurityKey = \'E\')", " "),  new Array(1,"WHERE j.PortalId = @PortalId", " "),  new Array(1,") as j INNER JOIN dbo.[Journal] jt ON jt.JournalId = j.JournalId AND jt.PortalId = @PortalId AND jt.GroupId = @GroupId", " "),  new Array(1,"INNER JOIN dbo.[Journal_TypeFilters] as jf ON jf.JournalTypeId = jt.JournalTypeId AND jf.ModuleId = @ModuleId", " "),  new Array(1,"ORDER BY jt.DateCreated DESC, jt.JournalId DESC;", " "),  new Array(1,"ELSE", " "),  new Array(1,"INSERT INTO @j", " "),  new Array(1,"SELECT j.journalid, jt.datecreated from (", " "),  new Array(1,"SELECT DISTINCT js.JournalId from dbo.[Journal] as j", " "),  new Array(1,"INNER JOIN dbo.[Journal_Security] as js ON js.JournalId = j.JournalId", " "),  new Array(1,"INNER JOIN dbo.[Journal_User_Permissions](@PortalId,@CurrentUserId ,1) as t", " "),  new Array(1,"ON t.seckey = js.SecurityKey AND (js.SecurityKey = \'R\' + CAST(@GroupId as nvarchar(100)) OR js.SecurityKey = \'E\')", " "),  new Array(1,"WHERE j.PortalId = @PortalId", " "),  new Array(1,") as j INNER JOIN dbo.[Journal] jt ON jt.JournalId = j.JournalId AND jt.PortalId = @PortalId AND jt.GroupId = @GroupId", " "),  new Array(1,"ORDER BY jt.DateCreated DESC, jt.JournalId DESC;", " "),  new Array(1,"WITH journalItems  AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT	j.JournalId,", " "),  new Array(1,"ROW_NUMBER() OVER (ORDER BY j.JournalId DESC) AS RowNumber", " "),  new Array(1,"FROM	dbo.[Journal] as j INNER JOIN @j as jtmp ON jtmp.JournalId = j.JournalId", " "),  new Array(1,"WHERE j.PortalId = @PortalId", " "),  new Array(1,")", " "),  new Array(1,"SELECT	j.JournalId, j.JournalTypeId, j.Title, j.Summary, j.UserId, j.DateCreated, j.DateUpdated, j.PortalId,", " "),  new Array(1,"j.ProfileId, j.GroupId, j.ObjectKey, j.AccessKey,", " "),  new Array(1,"\"JournalOwner\" = \'<entity><id>\' + CAST(r.RoleId as nvarchar(150)) + \'<\/id><name><![CDATA[\' + r.RoleName + \']]><\/name><\/entity>\',", " "),  new Array(1,"\"JournalAuthor\" = CASE WHEN ISNULL(a.UserId,-1) >0 THEN \'<entity><id>\' + CAST(a.UserId as nvarchar(150)) + \'<\/id><name><![CDATA[\' + a.DisplayName + \']]><\/name><\/entity>\' ELSE \'\' END,", " "),  new Array(1,"\"JournalOwnerId\" = ISNULL(j.ProfileId,j.UserId),", " "),  new Array(1,"jt.Icon, jt.JournalType,", " "),  new Array(1,"\"Profile\" = CASE WHEN j.ProfileId > 0 THEN \'<entity><id>\' + CAST(p.UserID as nvarchar(150)) + \'<\/id><name><![CDATA[\' + p.DisplayName + \']]><\/name><vanity><\/vanity><\/entity>\' ELSE \'\' END,", " "),  new Array(1,"\"SimilarCount\" = (SELECT COUNT(JournalId) FROM dbo.Journal WHERE ContentItemId = j.ContentItemId AND JournalTypeId = j.JournalTypeId),", " "),  new Array(1,"jd.JournalXML, j.ContentItemId, j.ItemData, RowNumber, j.IsDeleted, j.CommentsDisabled, j.CommentsHidden", " "),  new Array(1,"FROM	journalItems as ji INNER JOIN", " "),  new Array(1,"dbo.[Journal] as j ON j.JournalId = ji.JournalId INNER JOIN", " "),  new Array(1,"dbo.[Journal_Types] as jt ON jt.JournalTypeId = j.JournalTypeId INNER JOIN", " "),  new Array(1,"dbo.[Roles] as r ON j.GroupId = r.RoleId LEFT OUTER JOIN", " "),  new Array(1,"dbo.[Journal_Data] as jd on jd.JournalId = j.JournalId LEFT OUTER JOIN", " "),  new Array(1,"dbo.[Users] AS p ON j.ProfileId = p.UserID LEFT OUTER JOIN", " "),  new Array(1,"dbo.[Users] AS a ON j.UserId = a.UserID", " "),  new Array(1,"WHERE		((@IncludeAllItems = 0) AND (RowNumber BETWEEN @RowIndex AND @EndRow AND j.IsDeleted = @IsDeleted))", " "),  new Array(1,"OR", " "),  new Array(1,"((@IncludeAllItems = 1) AND (RowNumber BETWEEN @RowIndex AND @EndRow))", " "),  new Array(1,"ORDER BY RowNumber ASC;", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_ListForProfile]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@ModuleId int,", " "),  new Array(1,"@CurrentUserId int,", " "),  new Array(1,"@ProfileId int,", " "),  new Array(1,"@RowIndex int,", " "),  new Array(1,"@MaxRows int,", " "),  new Array(1,"@IncludeAllItems int = 0,", " "),  new Array(1,"@IsDeleted int = 0", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @EndRow int", " "),  new Array(1,"SET @EndRow = @RowIndex + @MaxRows;", " "),  new Array(1,"DECLARE @j TABLE(id int IDENTITY, journalid int, datecreated datetime)", " "),  new Array(1,"IF EXISTS(SELECT * from dbo.[Journal_TypeFilters] WHERE ModuleId = @ModuleId)", " "),  new Array(1,"INSERT INTO @j", " "),  new Array(1,"SELECT j.journalid, jt.datecreated from (", " "),  new Array(1,"SELECT DISTINCT js.JournalId from dbo.[Journal] as j", " "),  new Array(1,"INNER JOIN dbo.[Journal_Security] as js ON js.JournalId = j.JournalId", " "),  new Array(1,"INNER JOIN dbo.[Journal_User_Permissions](@PortalId,@CurrentUserId ,1) as t ON t.seckey = js.SecurityKey", " "),  new Array(1,"WHERE j.ProfileId = @ProfileId AND j.PortalId = @PortalId", " "),  new Array(1,") as j INNER JOIN dbo.[Journal] jt ON jt.JournalId = j.JournalId AND jt.PortalId = @PortalId", " "),  new Array(1,"INNER JOIN dbo.[Journal_TypeFilters] as jf ON jf.JournalTypeId = jt.JournalTypeId AND jf.ModuleId = @ModuleId", " "),  new Array(1,"ORDER BY jt.DateCreated DESC, jt.JournalId DESC;", " "),  new Array(1,"ELSE", " "),  new Array(1,"INSERT INTO @j", " "),  new Array(1,"SELECT j.journalid, jt.datecreated from (", " "),  new Array(1,"SELECT DISTINCT js.JournalId from dbo.[Journal] as j", " "),  new Array(1,"INNER JOIN dbo.[Journal_Security] as js ON js.JournalId = j.JournalId", " "),  new Array(1,"INNER JOIN dbo.[Journal_User_Permissions](@PortalId,@CurrentUserId ,1) as t ON t.seckey = js.SecurityKey", " "),  new Array(1,"WHERE j.ProfileId = @ProfileId AND j.PortalId = @PortalId", " "),  new Array(1,") as j INNER JOIN dbo.[Journal] jt ON jt.JournalId = j.JournalId AND jt.PortalId = @PortalId", " "),  new Array(1,"ORDER BY jt.DateCreated DESC, jt.JournalId DESC;", " "),  new Array(1,"WITH journalItems  AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT	j.JournalId,", " "),  new Array(1,"ROW_NUMBER() OVER (ORDER BY j.JournalId DESC) AS RowNumber", " "),  new Array(1,"FROM	dbo.[Journal] as j INNER JOIN @j as jtmp ON jtmp.JournalId = j.JournalId", " "),  new Array(1,"WHERE j.PortalId = @PortalId AND j.ProfileId = @ProfileId", " "),  new Array(1,")", " "),  new Array(1,"SELECT	j.JournalId, j.JournalTypeId, j.Title, j.Summary, j.UserId, j.DateCreated, j.DateUpdated, j.PortalId,", " "),  new Array(1,"j.ProfileId, j.GroupId, j.ObjectKey, j.AccessKey,", " "),  new Array(1,"\"JournalOwner\" = \'<entity><id>\' + CAST(p.UserId as nvarchar(150)) + \'<\/id><name><![CDATA[\' + p.DisplayName + \']]><\/name><\/entity>\',", " "),  new Array(1,"\"JournalAuthor\" = CASE WHEN ISNULL(a.UserId,-1) >0 THEN \'<entity><id>\' + CAST(a.UserId as nvarchar(150)) + \'<\/id><name><![CDATA[\' + a.DisplayName + \']]><\/name><\/entity>\' ELSE \'\' END,", " "),  new Array(1,"\"JournalOwnerId\" = ISNULL(j.ProfileId,j.UserId),", " "),  new Array(1,"jt.Icon, jt.JournalType,", " "),  new Array(1,"\"Profile\" = CASE WHEN j.ProfileId > 0 THEN \'<entity><id>\' + CAST(p.UserID as nvarchar(150)) + \'<\/id><name><![CDATA[\' + p.DisplayName + \']]><\/name><vanity><\/vanity><\/entity>\' ELSE \'\' END,", " "),  new Array(1,"\"SimilarCount\" = (SELECT COUNT(JournalId) FROM dbo.Journal WHERE ContentItemId = j.ContentItemId AND JournalTypeId = j.JournalTypeId),", " "),  new Array(1,"jd.JournalXML, j.ContentItemId, j.ItemData, RowNumber, j.IsDeleted, j.CommentsDisabled, j.CommentsHidden", " "),  new Array(1,"FROM	journalItems as ji INNER JOIN", " "),  new Array(1,"dbo.[Journal] as j ON j.JournalId = ji.JournalId INNER JOIN", " "),  new Array(1,"dbo.[Journal_Types] as jt ON jt.JournalTypeId = j.JournalTypeId LEFT OUTER JOIN", " "),  new Array(1,"dbo.[Journal_Data] as jd on jd.JournalId = j.JournalId LEFT OUTER JOIN", " "),  new Array(1,"dbo.[Users] AS p ON j.ProfileId = p.UserID LEFT OUTER JOIN", " "),  new Array(1,"dbo.[Users] AS a ON j.UserId = a.UserID", " "),  new Array(1,"WHERE	((@IncludeAllItems = 0) AND (RowNumber BETWEEN @RowIndex AND @EndRow AND j.IsDeleted = @IsDeleted))", " "),  new Array(1,"OR", " "),  new Array(1,"((@IncludeAllItems = 1) AND (RowNumber BETWEEN @RowIndex AND @EndRow))", " "),  new Array(1,"ORDER BY RowNumber ASC;", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_ListForSummary]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@ModuleId int,", " "),  new Array(1,"@CurrentUserId int,", " "),  new Array(1,"@RowIndex int,", " "),  new Array(1,"@MaxRows int,", " "),  new Array(1,"@IncludeAllItems int = 0,", " "),  new Array(1,"@IsDeleted int = 0", " "),  new Array(1,"AS", " "),  new Array(1,"IF @RowIndex = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @RowIndex = 1", " "),  new Array(1,"END", " "),  new Array(1,"DECLARE @EndRow int", " "),  new Array(1,"SET @EndRow = @RowIndex + @MaxRows - 1;", " "),  new Array(1,"DECLARE @j TABLE(id int IDENTITY, journalid int, datecreated datetime)", " "),  new Array(1,"IF EXISTS(SELECT * from dbo.[Journal_TypeFilters] WHERE ModuleId = @ModuleId)", " "),  new Array(1,"INSERT INTO @j", " "),  new Array(1,"SELECT j.journalid, jt.datecreated from (", " "),  new Array(1,"SELECT DISTINCT js.JournalId from dbo.[Journal] as j", " "),  new Array(1,"INNER JOIN dbo.[Journal_Security] as js ON js.JournalId = j.JournalId", " "),  new Array(1,"INNER JOIN dbo.[Journal_User_Permissions](@PortalId,@CurrentUserId ,1) as t ON t.seckey = js.SecurityKey", " "),  new Array(1,"WHERE j.PortalId = @PortalId", " "),  new Array(1,") as j INNER JOIN dbo.[Journal] jt ON jt.JournalId = j.JournalId AND jt.PortalId = @PortalId", " "),  new Array(1,"INNER JOIN dbo.[Journal_TypeFilters] as jf ON jf.JournalTypeId = jt.JournalTypeId AND jf.ModuleId = @ModuleId", " "),  new Array(1,"ORDER BY jt.DateCreated DESC, jt.JournalId DESC;", " "),  new Array(1,"ELSE", " "),  new Array(1,"INSERT INTO @j", " "),  new Array(1,"SELECT j.journalid, jt.datecreated from (", " "),  new Array(1,"SELECT DISTINCT js.JournalId from dbo.[Journal] as j", " "),  new Array(1,"INNER JOIN dbo.[Journal_Security] as js ON js.JournalId = j.JournalId", " "),  new Array(1,"INNER JOIN dbo.[Journal_User_Permissions](@PortalId,@CurrentUserId ,1) as t ON t.seckey = js.SecurityKey", " "),  new Array(1,"WHERE j.PortalId = @PortalId", " "),  new Array(1,") as j INNER JOIN dbo.[Journal] jt ON jt.JournalId = j.JournalId AND jt.PortalId = @PortalId", " "),  new Array(1,"ORDER BY jt.DateCreated DESC, jt.JournalId DESC;", " "),  new Array(1,"WITH journalItems  AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT	j.JournalId,", " "),  new Array(1,"ROW_NUMBER() OVER (ORDER BY j.JournalId DESC) AS RowNumber", " "),  new Array(1,"FROM	dbo.[Journal] as j INNER JOIN @j as jtmp ON jtmp.JournalId = j.JournalId", " "),  new Array(1,"WHERE j.PortalId = @PortalId", " "),  new Array(1,")", " "),  new Array(1,"SELECT	j.JournalId, j.JournalTypeId, j.Title, j.Summary, j.UserId, j.DateCreated, j.DateUpdated, j.PortalId,", " "),  new Array(1,"j.ProfileId, j.GroupId, j.ObjectKey, j.AccessKey,", " "),  new Array(1,"\"JournalOwner\" = \'<entity><id>\' + CAST(p.UserId as nvarchar(150)) + \'<\/id><name><![CDATA[\' + p.DisplayName + \']]><\/name><\/entity>\',", " "),  new Array(1,"\"JournalAuthor\" = CASE WHEN ISNULL(a.UserId,-1) >0 THEN \'<entity><id>\' + CAST(a.UserId as nvarchar(150)) + \'<\/id><name><![CDATA[\' + a.DisplayName + \']]><\/name><\/entity>\' ELSE \'\' END,", " "),  new Array(1,"\"JournalOwnerId\" = ISNULL(j.ProfileId,j.UserId),", " "),  new Array(1,"jt.Icon, jt.JournalType,", " "),  new Array(1,"\"Profile\" = CASE WHEN j.ProfileId > 0 THEN \'<entity><id>\' + CAST(p.UserID as nvarchar(150)) + \'<\/id><name><![CDATA[\' + p.DisplayName + \']]><\/name><vanity><\/vanity><\/entity>\' ELSE \'\' END,", " "),  new Array(1,"\"SimilarCount\" = (SELECT COUNT(JournalId) FROM dbo.Journal WHERE ContentItemId = j.ContentItemId AND JournalTypeId = j.JournalTypeId),", " "),  new Array(1,"jd.JournalXML, j.ContentItemId, j.ItemData, RowNumber, j.IsDeleted, j.CommentsDisabled, j.CommentsHidden", " "),  new Array(1,"FROM	journalItems as ji INNER JOIN", " "),  new Array(1,"dbo.[Journal] as j ON j.JournalId = ji.JournalId INNER JOIN", " "),  new Array(1,"dbo.[Journal_Types] as jt ON jt.JournalTypeId = j.JournalTypeId LEFT OUTER JOIN", " "),  new Array(1,"dbo.[Journal_Data] as jd on jd.JournalId = j.JournalId LEFT OUTER JOIN", " "),  new Array(1,"dbo.[Users] AS p ON j.ProfileId = p.UserID LEFT OUTER JOIN", " "),  new Array(1,"dbo.[Users] AS a ON j.UserId = a.UserID", " "),  new Array(1,"WHERE	((@IncludeAllItems = 0) AND (RowNumber BETWEEN @RowIndex AND @EndRow AND j.IsDeleted = @IsDeleted))", " "),  new Array(1,"OR", " "),  new Array(1,"((@IncludeAllItems = 1) AND (RowNumber BETWEEN @RowIndex AND @EndRow ))", " "),  new Array(1,"ORDER BY RowNumber ASC;", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Save]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@JournalId int,", " "),  new Array(1,"@JournalTypeId int,", " "),  new Array(1,"@UserId int,", " "),  new Array(1,"@ProfileId int,", " "),  new Array(1,"@GroupId int,", " "),  new Array(1,"@Title nvarchar(255),", " "),  new Array(1,"@Summary nvarchar(2000),", " "),  new Array(1,"@ItemData nvarchar(2000),", " "),  new Array(1,"@JournalXML xml,", " "),  new Array(1,"@ObjectKey nvarchar(255),", " "),  new Array(1,"@AccessKey uniqueidentifier,", " "),  new Array(1,"@SecuritySet nvarchar(2000),", " "),  new Array(1,"@CommentsDisabled bit,", " "),  new Array(1,"@CommentsHidden bit", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.[Journal]", " "),  new Array(1,"(JournalTypeId, UserId, DateCreated, DateUpdated, PortalId, ProfileId, GroupId,Title,Summary, ObjectKey, AccessKey, ItemData, CommentsHidden, CommentsDisabled)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@JournalTypeId, @UserId, GETUTCDATE(), GETUTCDATE(), @PortalId, @ProfileId, @GroupId, @Title, @Summary, @ObjectKey, @AccessKey, @ItemData, @CommentsHidden, @CommentsDisabled)", " "),  new Array(1,"SET @JournalId = SCOPE_IDENTITY()", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[Journal_Security]", " "),  new Array(1,"(JournalId, SecurityKey)", " "),  new Array(1,"SELECT @JournalId, string from dbo.[Journal_SplitText](@SecuritySet,\',\')", " "),  new Array(1,"END", " "),  new Array(1,"IF @JournalXML IS NOT NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[Journal_Data]", " "),  new Array(1,"(JournalId, JournalXML)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@JournalId, @JournalXML)", " "),  new Array(1,"END", " "),  new Array(1,"SELECT @JournalId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_TypeFilters_Delete]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@ModuleId int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.[Journal_TypeFilters] WHERE PortalId = @PortalId AND ModuleId=@ModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_TypeFilters_List]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@ModuleId int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT jt.JournalTypeId, jt.JournalType from dbo.[Journal_Types] as jt INNER JOIN", " "),  new Array(1,"dbo.[Journal_TypeFilters] as jf ON jf.JournalTypeId = jt.JournalTypeId", " "),  new Array(1,"WHERE jt.PortalId = @PortalId AND jf.ModuleId = @ModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_TypeFilters_Save]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@ModuleId int,", " "),  new Array(1,"@JournalTypeId int", " "),  new Array(1,"AS", " "),  new Array(1,"INSERT INTO dbo.[Journal_TypeFilters]", " "),  new Array(1,"(PortalId, ModuleId, JournalTypeId)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@PortalId, @ModuleId, @JournalTypeId)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Types_Delete]", " "),  new Array(1,"@JournalTypeId int,", " "),  new Array(1,"@PortalId int", " "),  new Array(1,"AS", " "),  new Array(1,"IF @JournalTypeId > 200", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[Journal_Security]", " "),  new Array(1,"WHERE JournalId IN (SELECT JournalId FROM dbo.[Journal] WHERE JournalTypeId=@JournalTypeId AND PortalId=@PortalId)", " "),  new Array(1,"DELETE FROM dbo.[Journal]", " "),  new Array(1,"WHERE", " "),  new Array(1,"JournalTypeId = @JournalTypeId", " "),  new Array(1,"AND", " "),  new Array(1,"PortalId = @PortalId", " "),  new Array(1,"DELETE FROM dbo.[Journal_TypeFilters]", " "),  new Array(1,"WHERE", " "),  new Array(1,"JournalTypeId = @JournalTypeId", " "),  new Array(1,"AND", " "),  new Array(1,"PortalId = @PortalId", " "),  new Array(1,"DELETE FROM dbo.[Journal_Types]", " "),  new Array(1,"WHERE", " "),  new Array(1,"JournalTypeId = @JournalTypeId", " "),  new Array(1,"AND", " "),  new Array(1,"PortalId = @PortalId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Types_Get]", " "),  new Array(1,"@JournalType nvarchar(25)", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * from dbo.[Journal_Types] WHERE JournalType = @JournalType", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Types_GetById]", " "),  new Array(1,"@JournalTypeId int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * from dbo.[Journal_Types] WHERE JournalTypeId = @JournalTypeId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Types_List]", " "),  new Array(1,"@PortalId int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[Journal_Types]", " "),  new Array(1,"WHERE (PortalId = -1 OR PortalId = @PortalId)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Types_Save]", " "),  new Array(1,"@JournalTypeId int,", " "),  new Array(1,"@JournalType nvarchar(25),", " "),  new Array(1,"@icon nvarchar(25),", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@IsEnabled bit,", " "),  new Array(1,"@AppliesToProfile bit,", " "),  new Array(1,"@AppliesToGroup bit,", " "),  new Array(1,"@AppliesToStream bit,", " "),  new Array(1,"@options nvarchar(max),", " "),  new Array(1,"@SupportsNotify bit", " "),  new Array(1,"AS", " "),  new Array(1,"IF EXISTS(SELECT JournalTypeId from dbo.[Journal_Types] WHERE JournalTypeId=@JournalTypeId AND PortalId = @PortalId)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[Journal_Types]", " "),  new Array(1,"SET", " "),  new Array(1,"JournalType=@JournalType,", " "),  new Array(1,"icon=@icon,", " "),  new Array(1,"IsEnabled = @IsEnabled,", " "),  new Array(1,"AppliesToProfile = @AppliesToProfile,", " "),  new Array(1,"AppliesToGroup = @AppliesToGroup,", " "),  new Array(1,"AppliesToStream = @AppliesToStream,", " "),  new Array(1,"Options = @options,", " "),  new Array(1,"SupportsNotify = @SupportsNotify", " "),  new Array(1,"WHERE", " "),  new Array(1,"PortalId = @PortalId AND JournalTypeId = @JournalTypeId", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @JournalTypeId = (SELECT MAX(JournalTypeId)+1 FROM dbo.[Journal_Types])", " "),  new Array(1,"INSERT INTO dbo.[Journal_Types]", " "),  new Array(1,"(JournalTypeId, JournalType, icon, PortalId, IsEnabled, AppliesToProfile, AppliesToGroup, AppliesToStream, Options, SupportsNotify)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@JournalTypeId, @JournalType, @icon, @PortalId, @IsEnabled, @AppliesToProfile, @AppliesToGroup, @AppliesToStream, @options, @SupportsNotify)", " "),  new Array(1,"END", " "),  new Array(1,"SELECT @JournalTypeId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_Update]", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@JournalId int,", " "),  new Array(1,"@JournalTypeId int,", " "),  new Array(1,"@UserId int,", " "),  new Array(1,"@ProfileId int,", " "),  new Array(1,"@GroupId int,", " "),  new Array(1,"@Title nvarchar(255),", " "),  new Array(1,"@Summary nvarchar(2000),", " "),  new Array(1,"@ItemData nvarchar(2000),", " "),  new Array(1,"@JournalXML xml,", " "),  new Array(1,"@ObjectKey nvarchar(255),", " "),  new Array(1,"@AccessKey uniqueidentifier,", " "),  new Array(1,"@SecuritySet nvarchar(2000),", " "),  new Array(1,"@CommentsDisabled bit,", " "),  new Array(1,"@CommentsHidden bit", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.[Journal]", " "),  new Array(1,"SET", " "),  new Array(1,"JournalTypeId = @JournalTypeId,", " "),  new Array(1,"UserId = @UserId,", " "),  new Array(1,"DateUpdated = GETUTCDATE(),", " "),  new Array(1,"PortalId = @PortalId,", " "),  new Array(1,"ProfileId = @ProfileId,", " "),  new Array(1,"GroupId = @GroupId,", " "),  new Array(1,"Title = @Title,", " "),  new Array(1,"Summary = @Summary,", " "),  new Array(1,"ObjectKey = @ObjectKey,", " "),  new Array(1,"AccessKey = @AccessKey,", " "),  new Array(1,"ItemData = @ItemData,", " "),  new Array(1,"CommentsHidden = @CommentsHidden,", " "),  new Array(1,"CommentsDisabled = @CommentsDisabled", " "),  new Array(1,"WHERE JournalId = @JournalId", " "),  new Array(1,"IF @SecuritySet IS NOT NULL AND @SecuritySet <> \'\'", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.[Journal_Security] WHERE JournalId = @JournalId", " "),  new Array(1,"INSERT INTO dbo.[Journal_Security]", " "),  new Array(1,"(JournalId, SecurityKey)", " "),  new Array(1,"SELECT @JournalId, string from dbo.[Journal_SplitText](@SecuritySet,\',\')", " "),  new Array(1,"END", " "),  new Array(1,"SELECT @JournalId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Journal_UpdateContentItemId]", " "),  new Array(1,"@JournalId int,", " "),  new Array(1,"@ContentItemId int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.[Journal]", " "),  new Array(1,"SET ContentItemId = @ContentItemId", " "),  new Array(1,"WHERE JournalId = @JournalId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[LocalizeTab]", " "),  new Array(1,"@TabId					int,", " "),  new Array(1,"@CultureCode			nvarchar(10),", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET", " "),  new Array(1,"CultureCode				= @CultureCode,", " "),  new Array(1,"LastModifiedByUserID	= @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= getdate()", " "),  new Array(1,"WHERE TabID = @TabId", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.TabModules", " "),  new Array(1,"SET", " "),  new Array(1,"CultureCode				= @CultureCode,", " "),  new Array(1,"LastModifiedByUserID	= @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= getdate()", " "),  new Array(1,"WHERE TabID = @TabId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Messaging_GetInbox]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@PageNumber int,", " "),  new Array(1,"@PageSize int", " "),  new Array(1,"AS", " "),  new Array(1,"-- Set the page bounds", " "),  new Array(1,"DECLARE", " "),  new Array(1,"@PageLowerBound INT,", " "),  new Array(1,"@PageUpperBound INT,", " "),  new Array(1,"@RowsToReturn int,", " "),  new Array(1,"@PageIndex int", " "),  new Array(1,"", " "),  new Array(1,"\/* this is 1-based rather than 0-based indexing. Accomodating so that we are consistent with paging *\/", " "),  new Array(1,"SET @PageIndex = @PageNumber - 1", " "),  new Array(1,"", " "),  new Array(1,"exec dbo.[CalculatePagingInformation] @PageIndex, @PageSize, @RowsToReturn output, @PageLowerBound output, @PageUpperBound output", " "),  new Array(1,"", " "),  new Array(1,"begin", " "),  new Array(1,"with UserInbox as (", " "),  new Array(1,"select * , ROW_NUMBER() over (order by Date desc) as RowNumber", " "),  new Array(1,"from dbo.Messaging_Messages", " "),  new Array(1,"where (ToUserID = @UserID AND Status IN (1,2) AND SkipPortal = \'0\')", " "),  new Array(1,"OR (FromUserID = @UserID AND Status = 0)", " "),  new Array(1,")", " "),  new Array(1,"select * from UserInbox", " "),  new Array(1,"where RowNumber > @PageLowerBound AND RowNumber < @PageUpperBound", " "),  new Array(1,"order by RowNumber", " "),  new Array(1,"end", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Messaging_GetInboxCount]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@UserID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"SELECT COUNT (*)[Body]", " "),  new Array(1,"FROM dbo.Messaging_Messages", " "),  new Array(1,"WHERE (ToUserID= @UserID AND Status in (1,2) AND SkipPortal = \'0\')", " "),  new Array(1,"OR (FromUserID = @UserID AND Status = 0)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Messaging_GetMessage]", " "),  new Array(1,"@MessageID bigint", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM Messaging_Messages WHERE MessageID = @MessageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Messaging_GetNewMessageCount]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@UserID int", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT count(*) FROM Messaging_Messages WHERE ToUserID = @UserID AND Status = 1", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Messaging_GetNextMessageForDispatch]", " "),  new Array(1,"@SchedulerInstance uniqueidentifier", " "),  new Array(1,"AS", " "),  new Array(1,"Declare  @target_messageID int", " "),  new Array(1,"", " "),  new Array(1,"SELECT @target_messageID =  MessageID FROM Messaging_Messages WHERE EmailSent = 0  AND", " "),  new Array(1,"(EmailSchedulerInstance is NULL or EmailSchedulerInstance= \'00000000-0000-0000-0000-000000000000\')", " "),  new Array(1,"AND status not in  (0,3) ORDER BY Date DESC", " "),  new Array(1,"", " "),  new Array(1,"Update Messaging_Messages set EmailSchedulerInstance = @SchedulerInstance  where MessageID = @target_messageID", " "),  new Array(1,"select * from Messaging_Messages where MessageID = @target_messageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Messaging_MarkMessageAsDispatched]", " "),  new Array(1,"@MessageId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"Update Messaging_Messages set EmailSent = 1, EmailSentDate =GETDATE()   where MessageID =@MessageId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Messaging_Save_Message]", " "),  new Array(1,"@PortalID int,", " "),  new Array(1,"@FromUserID int,", " "),  new Array(1,"@ToUserID int,", " "),  new Array(1,"@ToRoleID int,", " "),  new Array(1,"@Status int,", " "),  new Array(1,"@Subject nvarchar(max),", " "),  new Array(1,"@Body nvarchar(max),", " "),  new Array(1,"@Date datetime,", " "),  new Array(1,"@Conversation uniqueidentifier,", " "),  new Array(1,"@ReplyTo bigint,", " "),  new Array(1,"@AllowReply bit,", " "),  new Array(1,"@SkipPortal bit", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.Messaging_Messages", " "),  new Array(1,"([PortalID]", " "),  new Array(1,",[FromUserID]", " "),  new Array(1,",[FromUserName]", " "),  new Array(1,",[ToUserID]", " "),  new Array(1,",[ToRoleID]", " "),  new Array(1,",[ToUserName]", " "),  new Array(1,",[Status]", " "),  new Array(1,",[Subject]", " "),  new Array(1,",[Body]", " "),  new Array(1,",[Date]", " "),  new Array(1,",[Conversation]", " "),  new Array(1,",[ReplyTo]", " "),  new Array(1,",[AllowReply]", " "),  new Array(1,",[SkipPortal]", " "),  new Array(1,",[EmailSent])", " "),  new Array(1,"SELECT", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@FromUserID,", " "),  new Array(1,"(SELECT UserName FROM Users WHERE UserID = @FromUserID) as FromUserName,", " "),  new Array(1,"@ToUserID,", " "),  new Array(1,"@ToRoleID,", " "),  new Array(1,"(SELECT UserName FROM Users WHERE UserID = @ToUserID) as ToUserName,", " "),  new Array(1,"@Status,", " "),  new Array(1,"@Subject,", " "),  new Array(1,"@Body,", " "),  new Array(1,"@Date,", " "),  new Array(1,"@Conversation,", " "),  new Array(1,"@ReplyTo,", " "),  new Array(1,"@AllowReply,", " "),  new Array(1,"@SkipPortal,", " "),  new Array(1,"\'0\'", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Messaging_UpdateMessage]", " "),  new Array(1,"@MessageID bigint,", " "),  new Array(1,"@ToUserID int,", " "),  new Array(1,"@ToRoleID int,", " "),  new Array(1,"@Status int,", " "),  new Array(1,"@Subject nvarchar(max),", " "),  new Array(1,"@Body nvarchar(max),", " "),  new Array(1,"@Date datetime,", " "),  new Array(1,"@ReplyTo bigint,", " "),  new Array(1,"@AllowReply bit,", " "),  new Array(1,"@SkipPortal bit", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Messaging_Messages", " "),  new Array(1,"SET ToUserID=@ToUserID,", " "),  new Array(1,"ToRoleID=@ToRoleID,", " "),  new Array(1,"Status=@Status,", " "),  new Array(1,"Subject=@Subject,", " "),  new Array(1,"Body=@Body,", " "),  new Array(1,"Date= @Date,", " "),  new Array(1,"ReplyTo= @ReplyTo,", " "),  new Array(1,"AllowReply = @AllowReply,", " "),  new Array(1,"SkipPortal = @SkipPortal", " "),  new Array(1,"WHERE MessageID=@MessageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Mobile_DeletePreviewProfile] @Id INT", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DELETE  FROM dbo.Mobile_PreviewProfiles", " "),  new Array(1,"WHERE   Id = @Id", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Mobile_DeleteRedirection] @Id INT", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE  FROM dbo.Mobile_RedirectionRules", " "),  new Array(1,"WHERE   RedirectionId = @id", " "),  new Array(1,"", " "),  new Array(1,"DELETE  FROM dbo.Mobile_Redirections", " "),  new Array(1,"WHERE   Id = @Id", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Mobile_DeleteRedirectionRule] @Id INT", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE  FROM dbo.Mobile_RedirectionRules", " "),  new Array(1,"WHERE   Id = @id", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Mobile_GetAllRedirections]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  Id ,", " "),  new Array(1,"PortalId ,", " "),  new Array(1,"Name ,", " "),  new Array(1,"[Type] ,", " "),  new Array(1,"SortOrder ,", " "),  new Array(1,"SourceTabId ,", " "),  new Array(1,"IncludeChildTabs ,", " "),  new Array(1,"TargetType ,", " "),  new Array(1,"TargetValue ,", " "),  new Array(1,"Enabled ,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.Mobile_Redirections", " "),  new Array(1,"ORDER BY PortalId ASC, SortOrder ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Mobile_GetPreviewProfiles] @PortalId INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  Id, PortalId, Name, Width, Height, UserAgent, SortOrder, CreatedByUserID, CreatedOnDate, LastModifiedByUserID, LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.Mobile_PreviewProfiles", " "),  new Array(1,"WHERE   PortalId = @PortalId", " "),  new Array(1,"ORDER BY SortOrder ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Mobile_GetRedirectionRules] @RedirectionId INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  Id ,", " "),  new Array(1,"RedirectionId ,", " "),  new Array(1,"Capability ,", " "),  new Array(1,"Expression", " "),  new Array(1,"FROM    Mobile_RedirectionRules", " "),  new Array(1,"WHERE RedirectionId = @RedirectionId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Mobile_GetRedirections] @PortalId INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  Id ,", " "),  new Array(1,"PortalId ,", " "),  new Array(1,"Name ,", " "),  new Array(1,"[Type] ,", " "),  new Array(1,"SortOrder ,", " "),  new Array(1,"SourceTabId ,", " "),  new Array(1,"IncludeChildTabs ,", " "),  new Array(1,"TargetType ,", " "),  new Array(1,"TargetValue ,", " "),  new Array(1,"Enabled ,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.Mobile_Redirections", " "),  new Array(1,"WHERE   PortalId = @PortalId", " "),  new Array(1,"ORDER BY SortOrder ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Mobile_SavePreviewProfile]", " "),  new Array(1,"@Id INT ,", " "),  new Array(1,"@PortalId INT ,", " "),  new Array(1,"@Name NVARCHAR(50) ,", " "),  new Array(1,"@Width INT ,", " "),  new Array(1,"@Height INT ,", " "),  new Array(1,"@UserAgent NVARCHAR(260) ,", " "),  new Array(1,"@SortOrder INT ,", " "),  new Array(1,"@UserId INT", " "),  new Array(1,"AS", " "),  new Array(1,"IF ( @Id = -1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT  dbo.Mobile_PreviewProfiles", " "),  new Array(1,"( PortalId ,", " "),  new Array(1,"Name ,", " "),  new Array(1,"Width ,", " "),  new Array(1,"Height ,", " "),  new Array(1,"UserAgent ,", " "),  new Array(1,"SortOrder ,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @PortalId , -- PortalId - int", " "),  new Array(1,"@Name , -- Name - nvarchar(50)", " "),  new Array(1,"@Width , -- Width - int", " "),  new Array(1,"@Height , -- Height - int", " "),  new Array(1,"@UserAgent ,", " "),  new Array(1,"@SortOrder ,", " "),  new Array(1,"@UserId , -- CreatedBy - int", " "),  new Array(1,"GETDATE() , -- CreatedOn - datetime", " "),  new Array(1,"@UserId , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @Id = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.Mobile_PreviewProfiles", " "),  new Array(1,"SET     Name = @Name ,", " "),  new Array(1,"Width = @Width ,", " "),  new Array(1,"Height = @Height ,", " "),  new Array(1,"UserAgent = @UserAgent ,", " "),  new Array(1,"SortOrder = @SortOrder ,", " "),  new Array(1,"LastModifiedByUserID = @UserId ,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE   Id = @Id", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @Id", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Mobile_SaveRedirection]", " "),  new Array(1,"@Id INT ,", " "),  new Array(1,"@PortalId INT ,", " "),  new Array(1,"@Name NVARCHAR(50) ,", " "),  new Array(1,"@Type INT ,", " "),  new Array(1,"@SortOrder INT ,", " "),  new Array(1,"@SourceTabId INT ,", " "),  new Array(1,"@IncludeChildTabs BIT ,", " "),  new Array(1,"@TargetType INT ,", " "),  new Array(1,"@TargetValue NVARCHAR(260) ,", " "),  new Array(1,"@Enabled BIT,", " "),  new Array(1,"@UserId INT", " "),  new Array(1,"AS", " "),  new Array(1,"IF ( @Id = -1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT  dbo.Mobile_Redirections", " "),  new Array(1,"( PortalId ,", " "),  new Array(1,"Name ,", " "),  new Array(1,"Type ,", " "),  new Array(1,"SortOrder ,", " "),  new Array(1,"SourceTabId ,", " "),  new Array(1,"IncludeChildTabs ,", " "),  new Array(1,"TargetType ,", " "),  new Array(1,"TargetValue ,", " "),  new Array(1,"Enabled ,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @PortalId , -- PortalId - int", " "),  new Array(1,"@Name , -- Name - nvarchar(50)", " "),  new Array(1,"@Type , -- Type - int", " "),  new Array(1,"@SortOrder , -- SortOrder - int", " "),  new Array(1,"@SourceTabId , -- SourceTabId - int", " "),  new Array(1,"@IncludeChildTabs ,", " "),  new Array(1,"@TargetType ,", " "),  new Array(1,"@TargetValue ,", " "),  new Array(1,"@Enabled ,", " "),  new Array(1,"@UserId , -- CreatedBy - int", " "),  new Array(1,"GETDATE() , -- CreatedOn - datetime", " "),  new Array(1,"@UserId , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"SELECT  SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.Mobile_Redirections", " "),  new Array(1,"SET     Name = @Name ,", " "),  new Array(1,"[Type] = @Type ,", " "),  new Array(1,"SortOrder = @SortOrder ,", " "),  new Array(1,"SourceTabId = @SourceTabId ,", " "),  new Array(1,"IncludeChildTabs = @IncludeChildTabs ,", " "),  new Array(1,"TargetType = @TargetType ,", " "),  new Array(1,"TargetValue = @TargetValue ,", " "),  new Array(1,"Enabled = @Enabled ,", " "),  new Array(1,"LastModifiedByUserID = @UserId ,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE   Id = @Id", " "),  new Array(1,"SELECT @Id", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROC [dbo].[Mobile_SaveRedirectionRule]", " "),  new Array(1,"@Id INT ,", " "),  new Array(1,"@RedirectionId INT ,", " "),  new Array(1,"@Capbility NVARCHAR(50) ,", " "),  new Array(1,"@Expression NVARCHAR(50)", " "),  new Array(1,"AS", " "),  new Array(1,"IF @Id = -1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT  INTO dbo.Mobile_RedirectionRules", " "),  new Array(1,"( RedirectionId ,", " "),  new Array(1,"Capability ,", " "),  new Array(1,"Expression", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @RedirectionId , -- RedirectionId - int", " "),  new Array(1,"@Capbility , -- Capability - nvarchar(50)", " "),  new Array(1,"@Expression  -- Expression - nvarchar(50)", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.Mobile_RedirectionRules", " "),  new Array(1,"SET     Capability = @Capbility ,", " "),  new Array(1,"Expression = @Expression", " "),  new Array(1,"WHERE   Id = @Id", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[MoveTabAfter]", " "),  new Array(1,"@TabId					int,", " "),  new Array(1,"@AfterTabId				int,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @OldParentId int", " "),  new Array(1,"DECLARE @NewParentId int", " "),  new Array(1,"DECLARE @PortalId int", " "),  new Array(1,"", " "),  new Array(1,"SET @OldParentId = (SELECT ParentId FROM dbo.Tabs WHERE TabID = @TabId)", " "),  new Array(1,"SET @NewParentId = (SELECT ParentId FROM dbo.Tabs WHERE TabID = @AfterTabId)", " "),  new Array(1,"SET @PortalId = (SELECT PortalId FROM dbo.Tabs WHERE TabID = @TabId)", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @TabOrder int", " "),  new Array(1,"SET @TabOrder = (SELECT TabOrder FROM dbo.Tabs WHERE TabID = @TabId)", " "),  new Array(1,"", " "),  new Array(1,"IF (@OldParentId <> @NewParentId OR NOT (@OldParentId IS NULL AND @NewParentId IS NULL))", " "),  new Array(1,"-- Parent has changed", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- update TabOrder of Tabs with same original Parent", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = TabOrder - 2", " "),  new Array(1,"WHERE (ParentId = @OldParentId OR (ParentId IS NULL AND @OldParentId IS NULL))", " "),  new Array(1,"AND TabOrder > @TabOrder", " "),  new Array(1,"AND (PortalId = @PortalId OR (PortalId IS NULL AND @PortalId IS NULL))", " "),  new Array(1,"", " "),  new Array(1,"-- Get TabOrder of AfterTab", " "),  new Array(1,"SET @TabOrder = (SELECT TabOrder FROM dbo.Tabs WHERE TabID = @AfterTabId)", " "),  new Array(1,"", " "),  new Array(1,"-- update TabOrder of Tabs with same new Parent", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = TabOrder + 2", " "),  new Array(1,"WHERE (ParentId = @NewParentId OR (ParentId IS NULL AND @NewParentId IS NULL))", " "),  new Array(1,"AND TabOrder > @TabOrder", " "),  new Array(1,"AND (PortalId = @PortalId OR (PortalId IS NULL AND @PortalId IS NULL))", " "),  new Array(1,"", " "),  new Array(1,"-- Update Tab with new TabOrder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET", " "),  new Array(1,"ParentId				= @NewParentId,", " "),  new Array(1,"TabOrder				= @TabOrder + 2,", " "),  new Array(1,"LastModifiedByUserID	= @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= GETDATE()", " "),  new Array(1,"WHERE TabID = @TabId", " "),  new Array(1,"EXEC dbo.BuildTabLevelAndPath @TabId, 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"-- Parent has not changed", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Remove Tab from TabOrder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = -1", " "),  new Array(1,"WHERE TabID = @TabId", " "),  new Array(1,"", " "),  new Array(1,"-- Reorder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = TabOrder - 2", " "),  new Array(1,"WHERE (ParentId = @OldParentId OR (ParentId IS NULL AND @OldParentId IS NULL))", " "),  new Array(1,"AND TabOrder > @TabOrder", " "),  new Array(1,"AND TabId <> @TabId", " "),  new Array(1,"AND (PortalId = @PortalId OR (PortalId IS NULL AND @PortalId IS NULL))", " "),  new Array(1,"", " "),  new Array(1,"-- Get TabOrder of AfterTab", " "),  new Array(1,"SET @TabOrder = (SELECT TabOrder FROM dbo.Tabs WHERE TabID = @AfterTabId)", " "),  new Array(1,"", " "),  new Array(1,"-- Reorder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = TabOrder + 2", " "),  new Array(1,"WHERE (ParentId = @OldParentId OR (ParentId IS NULL AND @OldParentId IS NULL))", " "),  new Array(1,"AND TabOrder > @TabOrder", " "),  new Array(1,"AND (PortalId = @PortalId OR (PortalId IS NULL AND @PortalId IS NULL))", " "),  new Array(1,"", " "),  new Array(1,"-- Update Tab with new TabOrder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET", " "),  new Array(1,"TabOrder				= @TabOrder + 2,", " "),  new Array(1,"LastModifiedByUserID	= @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= GETDATE()", " "),  new Array(1,"WHERE TabID = @TabId", " "),  new Array(1,"EXEC dbo.BuildTabLevelAndPath @TabId", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[MoveTabBefore]", " "),  new Array(1,"@TabId					int,", " "),  new Array(1,"@BeforeTabId			int,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @OldParentId int", " "),  new Array(1,"DECLARE @NewParentId int", " "),  new Array(1,"DECLARE @PortalId int", " "),  new Array(1,"", " "),  new Array(1,"SET @OldParentId = (SELECT ParentId FROM dbo.Tabs WHERE TabID = @TabId)", " "),  new Array(1,"SET @NewParentId = (SELECT ParentId FROM dbo.Tabs WHERE TabID = @BeforeTabId)", " "),  new Array(1,"SET @PortalId = (SELECT PortalId FROM dbo.Tabs WHERE TabID = @TabId)", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @TabOrder int", " "),  new Array(1,"SET @TabOrder = (SELECT TabOrder FROM dbo.Tabs WHERE TabID = @TabId)", " "),  new Array(1,"", " "),  new Array(1,"IF (@OldParentId <> @NewParentId OR NOT (@OldParentId IS NULL AND @NewParentId IS NULL))", " "),  new Array(1,"-- Parent has changed", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- update TabOrder of Tabs with same original Parent", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = TabOrder - 2", " "),  new Array(1,"WHERE (ParentId = @OldParentId OR (ParentId IS NULL AND @OldParentId IS NULL))", " "),  new Array(1,"AND TabOrder > @TabOrder", " "),  new Array(1,"AND (PortalId = @PortalId OR (PortalId IS NULL AND @PortalId IS NULL))", " "),  new Array(1,"", " "),  new Array(1,"-- Get TabOrder of AfterTab", " "),  new Array(1,"SET @TabOrder = (SELECT TabOrder FROM dbo.Tabs WHERE TabID = @BeforeTabId)", " "),  new Array(1,"", " "),  new Array(1,"-- update TabOrder of Tabs with same new Parent", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = TabOrder + 2", " "),  new Array(1,"WHERE (ParentId = @NewParentId OR (ParentId IS NULL AND @NewParentId IS NULL))", " "),  new Array(1,"AND TabOrder >= @TabOrder", " "),  new Array(1,"AND (PortalId = @PortalId OR (PortalId IS NULL AND @PortalId IS NULL))", " "),  new Array(1,"", " "),  new Array(1,"-- Update Tab with new TabOrder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET", " "),  new Array(1,"ParentId				= @NewParentId,", " "),  new Array(1,"TabOrder				= @TabOrder,", " "),  new Array(1,"LastModifiedByUserID	= @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= GETDATE()", " "),  new Array(1,"WHERE TabID = @TabId", " "),  new Array(1,"EXEC dbo.BuildTabLevelAndPath @TabId, 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"-- Parent has not changed", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Remove Tab from TabOrder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = -1", " "),  new Array(1,"WHERE TabID = @TabId", " "),  new Array(1,"", " "),  new Array(1,"-- Reorder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = TabOrder - 2", " "),  new Array(1,"WHERE (ParentId = @OldParentId OR (ParentId IS NULL AND @OldParentId IS NULL))", " "),  new Array(1,"AND TabOrder > @TabOrder", " "),  new Array(1,"AND TabId <> @TabId", " "),  new Array(1,"AND (PortalId = @PortalId OR (PortalId IS NULL AND @PortalId IS NULL))", " "),  new Array(1,"", " "),  new Array(1,"-- Get TabOrder of BeforeTab", " "),  new Array(1,"SET @TabOrder = (SELECT TabOrder FROM dbo.Tabs WHERE TabID = @BeforeTabId)", " "),  new Array(1,"", " "),  new Array(1,"-- Reorder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = TabOrder + 2", " "),  new Array(1,"WHERE (ParentId = @OldParentId OR (ParentId IS NULL AND @OldParentId IS NULL))", " "),  new Array(1,"AND TabOrder >= @TabOrder", " "),  new Array(1,"AND (PortalId = @PortalId OR (PortalId IS NULL AND @PortalId IS NULL))", " "),  new Array(1,"", " "),  new Array(1,"-- Update Tab with new TabOrder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET", " "),  new Array(1,"TabOrder				= @TabOrder,", " "),  new Array(1,"LastModifiedByUserID	= @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= GETDATE()", " "),  new Array(1,"WHERE TabID = @TabId", " "),  new Array(1,"EXEC dbo.BuildTabLevelAndPath @TabId", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[MoveTabModule]", " "),  new Array(1,"@FromTabId				int,", " "),  new Array(1,"@ModuleId				int,", " "),  new Array(1,"@ToTabId				int,", " "),  new Array(1,"@PaneName				nvarchar(50),", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.TabModules", " "),  new Array(1,"SET", " "),  new Array(1,"TabId = @ToTabId,", " "),  new Array(1,"ModuleOrder = -1,", " "),  new Array(1,"PaneName = @PaneName,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE  TabId = @FromTabId", " "),  new Array(1,"AND    ModuleId = @ModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[MoveTabToParent]", " "),  new Array(1,"@TabId					int,", " "),  new Array(1,"@NewParentId			int,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @PortalId int", " "),  new Array(1,"SET @PortalId = (SELECT PortalId FROM dbo.Tabs WHERE TabID = @TabId)", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @OldParentId int", " "),  new Array(1,"SET @OldParentId = (SELECT ParentId FROM dbo.Tabs WHERE TabID = @TabId)", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @TabOrder int", " "),  new Array(1,"SET @TabOrder = (SELECT TabOrder FROM dbo.Tabs WHERE TabID = @TabId)", " "),  new Array(1,"", " "),  new Array(1,"-- Get New TabOrder", " "),  new Array(1,"DECLARE @NewTabOrder int", " "),  new Array(1,"SET @NewTabOrder = (SELECT MAX(TabOrder) FROM dbo.Tabs", " "),  new Array(1,"WHERE (PortalId = @PortalID OR (PortalId IS NULL AND @PortalID IS NULL)) AND", " "),  new Array(1,"(ParentId = @NewParentId OR (ParentId IS NULL AND @NewParentId IS NULL))", " "),  new Array(1,")", " "),  new Array(1,"IF @NewTabOrder IS NULL", " "),  new Array(1,"SET @NewTabOrder = 1", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @NewTabOrder = @NewTabOrder + 2", " "),  new Array(1,"", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- update TabOrder of Tabs with same original Parent", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET TabOrder = TabOrder - 2", " "),  new Array(1,"WHERE (ParentId = @OldParentId OR (ParentId IS NULL AND @OldParentId IS NULL))", " "),  new Array(1,"AND TabOrder > @TabOrder", " "),  new Array(1,"AND (PortalId = @PortalId OR (PortalId IS NULL AND @PortalId IS NULL))", " "),  new Array(1,"", " "),  new Array(1,"-- Update Tab with new TabOrder", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET", " "),  new Array(1,"ParentId				= @NewParentId,", " "),  new Array(1,"TabOrder				= @NewTabOrder,", " "),  new Array(1,"LastModifiedByUserID	= @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= GETDATE()", " "),  new Array(1,"WHERE TabID = @TabId", " "),  new Array(1,"END", " "),  new Array(1,"IF (@OldParentId <> @NewParentId) OR (@OldParentId IS NULL AND @NewParentId IS NOT NULL) OR (@OldParentId IS NOT NULL AND @NewParentId IS NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC dbo.BuildTabLevelAndPath @TabId, 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC dbo.BuildTabLevelAndPath @TabId", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[OutputCacheAddItem]", " "),  new Array(1,"@ItemId     Int,", " "),  new Array(1,"@CacheKey   VarChar ( 36),", " "),  new Array(1,"@Data	    nVarChar(Max),", " "),  new Array(1,"@Expiration DateTime", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.OutputCache", " "),  new Array(1,"(	ItemId,", " "),  new Array(1,"CacheKey,", " "),  new Array(1,"Data,", " "),  new Array(1,"Expiration", " "),  new Array(1,") VALUES", " "),  new Array(1,"(   @ItemId,", " "),  new Array(1,"@CacheKey,", " "),  new Array(1,"@Data,", " "),  new Array(1,"@Expiration", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[OutputCacheGetItem]", " "),  new Array(1,"@CacheKey VarChar (36)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM  dbo.OutputCache", " "),  new Array(1,"WHERE CacheKey = @CacheKey", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[OutputCacheGetItemCount]", " "),  new Array(1,"@ItemId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(*) N", " "),  new Array(1,"FROM  dbo.OutputCache", " "),  new Array(1,"WHERE ItemId = @ItemId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[OutputCacheGetKeys]", " "),  new Array(1,"@ItemId Int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT CacheKey", " "),  new Array(1,"FROM  dbo.OutputCache", " "),  new Array(1,"WHERE ItemId = @ItemId OR @ItemId IS NULL", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[OutputCachePurgeCache]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM  dbo.OutputCache", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[OutputCachePurgeExpiredItems]", " "),  new Array(1,"@CurrentUtcDateTime DateTime", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM  dbo.OutputCache", " "),  new Array(1,"WHERE Expiration <= @CurrentUtcDateTime", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[OutputCacheRemoveItem]", " "),  new Array(1,"@ItemId Int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE", " "),  new Array(1,"FROM  dbo.OutputCache", " "),  new Array(1,"WHERE ItemId = @ItemId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_DeletePersonaBarExtension]", " "),  new Array(1,"@Identifier NVARCHAR(50)", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.[PersonaBarExtensions] WHERE Identifier = @Identifier", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_DeletePersonaBarMenuByIdentifier]", " "),  new Array(1,"@Identifier  NVARCHAR(50)", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE p FROM dbo.[PersonaBarPermission] p", " "),  new Array(1,"INNER JOIN dbo.[PersonaBarMenu] m ON m.MenuId = p.MenuId", " "),  new Array(1,"WHERE m.Identifier = @Identifier", " "),  new Array(1,"", " "),  new Array(1,"DELETE FROM dbo.[PersonaBarMenu]", " "),  new Array(1,"WHERE Identifier = @Identifier", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_DeletePersonaBarMenuPermissionById]", " "),  new Array(1,"@MenuPermissionId INT", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.[PersonaBarMenuPermission]", " "),  new Array(1,"WHERE", " "),  new Array(1,"[MenuPermissionId] = @MenuPermissionId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_DeletePersonaBarMenuPermissionsByMenuId]", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@MenuId INT", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.[PersonaBarMenuPermission]", " "),  new Array(1,"WHERE", " "),  new Array(1,"[MenuId] = @MenuId AND (PortalId = @PortalId OR @PortalId IS NULL AND PortalId IS NULL)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_DeletePersonaBarPermission]", " "),  new Array(1,"@PermissionId           INT", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE FROM dbo.[PersonaBarPermission]", " "),  new Array(1,"WHERE PermissionId = @PermissionId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_GetDbBackups]", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @ProductEdition INT", " "),  new Array(1,"SET @ProductEdition = CAST(SERVERPROPERTY(\'EngineEdition\') AS INT)", " "),  new Array(1,"", " "),  new Array(1,"IF (@ProductEdition = 5) --Check for SQL Azure", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT", " "),  new Array(1,"\'Unsupported\' AS name,", " "),  new Array(1,"NULL AS StartDate,", " "),  new Array(1,"NULL AS FinishDate,", " "),  new Array(1,"0 AS size,", " "),  new Array(1,"NULL AS database_name,", " "),  new Array(1,"\'UNKNOWN\' AS BackupType", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC(\'SELECT TOP 20", " "),  new Array(1,"name,", " "),  new Array(1,"backup_start_date as StartDate,", " "),  new Array(1,"backup_finish_date as FinishDate,", " "),  new Array(1,"backup_size\/1024 as size,", " "),  new Array(1,"database_name,", " "),  new Array(1,"CASE type", " "),  new Array(1,"WHEN \'\'D\'\' THEN \'\'Database\'\'", " "),  new Array(1,"WHEN \'\'I\'\' THEN \'\'Differential database\'\'", " "),  new Array(1,"WHEN \'\'L\'\' THEN \'\'Log\'\'", " "),  new Array(1,"WHEN \'\'F\'\' THEN \'\'File or filegroup\'\'", " "),  new Array(1,"WHEN \'\'G\'\' THEN \'\'Differential file\'\'", " "),  new Array(1,"WHEN \'\'P\'\' THEN \'\'Partial\'\'", " "),  new Array(1,"WHEN \'\'Q\'\' THEN \'\'Differential partial\'\'", " "),  new Array(1,"END AS BackupType", " "),  new Array(1,"FROM", " "),  new Array(1,"msdb..backupset", " "),  new Array(1,"WHERE", " "),  new Array(1,"database_name = DB_NAME()", " "),  new Array(1,"ORDER BY backup_start_date DESC\')", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_GetDbFileInfo]", " "),  new Array(1,"AS", " "),  new Array(1,"IF OBJECT_ID(\'sys.database_files\') IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT \'Total Size\' AS FileType,", " "),  new Array(1,"\'Total\' AS Name,", " "),  new Array(1,"SUM(reserved_page_count)*8 AS Size,", " "),  new Array(1,"\'n\/a\' AS FileName", " "),  new Array(1,"FROM sys.dm_db_partition_stats", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT	CASE LOWER(RIGHT(physical_name,3))", " "),  new Array(1,"WHEN \'mdf\' THEN \'DATA\'", " "),  new Array(1,"WHEN \'ldf\' THEN \'LOG\'", " "),  new Array(1,"ELSE \'UNKNOWN\'", " "),  new Array(1,"END AS FileType,", " "),  new Array(1,"name AS Name,", " "),  new Array(1,"size*8 AS Size,", " "),  new Array(1,"physical_name AS FileName", " "),  new Array(1,"FROM sys.database_files", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_GetDbInfo]", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"SELECT", " "),  new Array(1,"SERVERPROPERTY(\'ProductVersion\') AS ProductVersion,", " "),  new Array(1,"SERVERPROPERTY(\'ProductLevel\') AS ServicePack,", " "),  new Array(1,"SERVERPROPERTY(\'Edition\') AS ProductEdition,", " "),  new Array(1,"@@VERSION AS SoftwarePlatform", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_GetPersonaBarExtensions]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"ExtensionId,", " "),  new Array(1,"Identifier,", " "),  new Array(1,"MenuId,", " "),  new Array(1,"FolderName,", " "),  new Array(1,"Controller,", " "),  new Array(1,"Container,", " "),  new Array(1,"Path,", " "),  new Array(1,"[Order],", " "),  new Array(1,"Enabled,", " "),  new Array(1,"CreatedByUserId,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserId,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM dbo.[PersonaBarExtensions]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_GetPersonaBarMenu]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"MenuId,", " "),  new Array(1,"Identifier,", " "),  new Array(1,"ModuleName,", " "),  new Array(1,"FolderName,", " "),  new Array(1,"Controller,", " "),  new Array(1,"ResourceKey,", " "),  new Array(1,"Path,", " "),  new Array(1,"Link,", " "),  new Array(1,"CssClass,", " "),  new Array(1,"IconFile,", " "),  new Array(1,"ParentId,", " "),  new Array(1,"[Order],", " "),  new Array(1,"AllowHost,", " "),  new Array(1,"Enabled,", " "),  new Array(1,"CreatedByUserId,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserId,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"", " "),  new Array(1,"FROM dbo.[PersonaBarMenu]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_GetPersonaBarMenuDefaultPermissions]", " "),  new Array(1,"@MenuId INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT RoleNames FROM dbo.[PersonaBarMenuDefaultPermissions] WHERE MenuId = @MenuId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_GetPersonaBarMenuPermissionsByPortal]", " "),  new Array(1,"@PortalID INT", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"MenuPermissionId,", " "),  new Array(1,"MenuId,", " "),  new Array(1,"PortalId,", " "),  new Array(1,"PermissionId,", " "),  new Array(1,"RoleID,", " "),  new Array(1,"RoleName,", " "),  new Array(1,"AllowAccess,", " "),  new Array(1,"UserId,", " "),  new Array(1,"Username,", " "),  new Array(1,"DisplayName,", " "),  new Array(1,"PermissionKey,", " "),  new Array(1,"PermissionName,", " "),  new Array(1,"ModuleDefID,", " "),  new Array(1,"PermissionCode,", " "),  new Array(1,"CreatedByUserId,", " "),  new Array(1,"CreatedOnDate,", " "),  new Array(1,"LastModifiedByUserId,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM dbo.[vw_PersonaBarMenuPermissions]", " "),  new Array(1,"WHERE PortalId = @PortalId OR PortalId IS NULL", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_GetPersonaBarPermissions]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"[PermissionId],", " "),  new Array(1,"[MenuId],", " "),  new Array(1,"[PermissionKey],", " "),  new Array(1,"[PermissionName],", " "),  new Array(1,"[ViewOrder],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,"FROM dbo.[PersonaBarPermission] ORDER BY ViewOrder ASC", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Personabar_GetUsers] (", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@SortColumn NVARCHAR(32),", " "),  new Array(1,"@SortAscending BIT,", " "),  new Array(1,"@PageIndex int = 0,", " "),  new Array(1,"@PageSize int = 10", " "),  new Array(1,") AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT COUNT(*) AS TotalRecords", " "),  new Array(1,"FROM dbo.UserPortals UP WITH (NOLOCK)", " "),  new Array(1,"INNER JOIN dbo.vw_Users U WITH (NOLOCK) ON UP.UserId = U.UserID AND U.PortalId = @PortalId", " "),  new Array(1,"WHERE UP.PortalId = @PortalId", " "),  new Array(1,"AND IsSuperUser = 0 AND U.Authorised=1 AND U.IsDeleted=0", " "),  new Array(1,"", " "),  new Array(1,";WITH UsersCTE", " "),  new Array(1,"AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT U.UserID, U.Username, U.DisplayName, U.Email, U.CreatedOnDate, U.IsDeleted, U.Authorised,", " "),  new Array(1,"ROW_NUMBER() OVER ( ORDER BY CASE WHEN @SortColumn = \'Joined\' AND @SortAscending = 1 THEN U.UserID END ASC,", " "),  new Array(1,"CASE WHEN @SortColumn = \'Joined\' AND @SortAscending = 0 THEN U.UserID END DESC,", " "),  new Array(1,"CASE WHEN @SortColumn = \'Email\' AND @SortAscending = 1 THEN U.Email END ASC,", " "),  new Array(1,"CASE WHEN @SortColumn = \'Email\' AND @SortAscending = 0 THEN U.Email END DESC,", " "),  new Array(1,"CASE WHEN @SortColumn = \'DisplayName\' AND @SortAscending = 1 THEN U.DisplayName END ASC,", " "),  new Array(1,"CASE WHEN @SortColumn = \'DisplayName\' AND @SortAscending = 0 THEN U.DisplayName END DESC) AS RowNumber", " "),  new Array(1,"FROM dbo.vw_Users U WITH (NOLOCK)", " "),  new Array(1,"INNER JOIN dbo.UserPortals UP WITH (NOLOCK)", " "),  new Array(1,"ON U.UserID = UP.UserId", " "),  new Array(1,"AND U.PortalId = @PortalId", " "),  new Array(1,"WHERE UP.PortalId = @PortalId", " "),  new Array(1,"AND IsSuperUser = 0 AND U.Authorised=1 AND U.IsDeleted=0", " "),  new Array(1,")", " "),  new Array(1,"SELECT * FROM UsersCTE", " "),  new Array(1,"WHERE	RowNumber BETWEEN (@PageIndex * @PageSize + 1) AND ((@PageIndex + 1) * @PageSize);", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[Personabar_GetUsersByUserIds] (", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@UserIds nvarchar(max) -- comma separated list of UserIds", " "),  new Array(1,") AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT DISTINCT U.UserID, U.Username, U.DisplayName, U.Email, U.CreatedOnDate, U.IsDeleted, U.Authorised", " "),  new Array(1,"FROM dbo.vw_Users U WITH (NOLOCK)", " "),  new Array(1,"INNER JOIN (Select RowValue FROM dbo.ConvertListToTable(\',\',@UserIds)) UserIds", " "),  new Array(1,"ON U.UserID = UserIds.RowValue", " "),  new Array(1,"INNER JOIN dbo.UserPortals UP WITH (NOLOCK)", " "),  new Array(1,"ON U.UserID = UP.UserId", " "),  new Array(1,"WHERE UP.PortalId = @PortalId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_SavePersonaBarExtension]", " "),  new Array(1,"@Identifier                 NVARCHAR(50),", " "),  new Array(1,"@MenuId                     INT,", " "),  new Array(1,"@FolderName                 NVARCHAR(50),", " "),  new Array(1,"@Controller                 NVARCHAR(260),", " "),  new Array(1,"@Container                  NVARCHAR(50),", " "),  new Array(1,"@Path                       NVARCHAR(260),", " "),  new Array(1,"@Order                      INT,", " "),  new Array(1,"@Enabled                    BIT,", " "),  new Array(1,"@CurrentUserId              INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF EXISTS(SELECT ExtensionId FROM dbo.[PersonaBarExtensions] WHERE Identifier = @Identifier)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[PersonaBarExtensions]", " "),  new Array(1,"SET", " "),  new Array(1,"MenuId = @MenuId,", " "),  new Array(1,"FolderName = @FolderName,", " "),  new Array(1,"Controller = @Controller,", " "),  new Array(1,"Container = @Container,", " "),  new Array(1,"Path = @Path,", " "),  new Array(1,"[Order] = @Order,", " "),  new Array(1,"Enabled = @Enabled", " "),  new Array(1,"WHERE Identifier = @Identifier", " "),  new Array(1,"", " "),  new Array(1,"SELECT ExtensionId FROM dbo.[PersonaBarExtensions] WHERE Identifier = @Identifier", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[PersonaBarExtensions] (", " "),  new Array(1,"[Identifier],", " "),  new Array(1,"[MenuId],", " "),  new Array(1,"[FolderName],", " "),  new Array(1,"[Controller],", " "),  new Array(1,"[Container],", " "),  new Array(1,"[Path],", " "),  new Array(1,"[Order],", " "),  new Array(1,"[Enabled]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@Identifier,", " "),  new Array(1,"@MenuId,", " "),  new Array(1,"@FolderName,", " "),  new Array(1,"@Controller,", " "),  new Array(1,"@Container,", " "),  new Array(1,"@Path,", " "),  new Array(1,"@Order,", " "),  new Array(1,"@Enabled", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_SavePersonaBarMenu]", " "),  new Array(1,"@Identifier                 NVARCHAR(50),", " "),  new Array(1,"@ModuleName                 NVARCHAR(50),", " "),  new Array(1,"@FolderName               NVARCHAR(50),", " "),  new Array(1,"@Controller                 NVARCHAR(260),", " "),  new Array(1,"@ResourceKey                NVARCHAR(50),", " "),  new Array(1,"@Path                       NVARCHAR(260),", " "),  new Array(1,"@Link                       NVARCHAR(260),", " "),  new Array(1,"@CssClass                   NVARCHAR(50),", " "),  new Array(1,"@ParentId                   INT,", " "),  new Array(1,"@Order                      INT,", " "),  new Array(1,"@AllowHost                  BIT,", " "),  new Array(1,"@Enabled                    BIT,", " "),  new Array(1,"@CurrentUserId              INT,", " "),  new Array(1,"@IconFile                   NVARCHAR(260) = \'\'", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF EXISTS(SELECT Identifier FROM dbo.[PersonaBarMenu] WHERE Identifier = @Identifier)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[PersonaBarMenu]", " "),  new Array(1,"SET", " "),  new Array(1,"ModuleName = @ModuleName,", " "),  new Array(1,"FolderName = @FolderName,", " "),  new Array(1,"ResourceKey = @ResourceKey,", " "),  new Array(1,"Path = @Path,", " "),  new Array(1,"Link = @Link,", " "),  new Array(1,"CssClass = @CssClass,", " "),  new Array(1,"IconFile = @IconFile,", " "),  new Array(1,"ParentId = @ParentId,", " "),  new Array(1,"[Order] = @Order,", " "),  new Array(1,"AllowHost = @AllowHost,", " "),  new Array(1,"Enabled = @Enabled,", " "),  new Array(1,"LastModifiedByUserId = CASE WHEN @CurrentUserId = -1 THEN NULL ELSE @CurrentUserId END,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE Identifier = @Identifier", " "),  new Array(1,"", " "),  new Array(1,"SELECT MenuId FROM dbo.[PersonaBarMenu] WHERE Identifier = @Identifier", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[PersonaBarMenu] (", " "),  new Array(1,"[Identifier],", " "),  new Array(1,"[ModuleName],", " "),  new Array(1,"[FolderName],", " "),  new Array(1,"[Controller],", " "),  new Array(1,"[ResourceKey],", " "),  new Array(1,"[Path],", " "),  new Array(1,"[Link],", " "),  new Array(1,"[CssClass],", " "),  new Array(1,"[IconFile],", " "),  new Array(1,"[ParentId],", " "),  new Array(1,"[Order],", " "),  new Array(1,"[AllowHost],", " "),  new Array(1,"[Enabled],", " "),  new Array(1,"[CreatedByUserId],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserId],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@Identifier,", " "),  new Array(1,"@ModuleName,", " "),  new Array(1,"@FolderName,", " "),  new Array(1,"@Controller,", " "),  new Array(1,"@ResourceKey,", " "),  new Array(1,"@Path,", " "),  new Array(1,"@Link,", " "),  new Array(1,"@CssClass,", " "),  new Array(1,"@IconFile,", " "),  new Array(1,"@ParentId,", " "),  new Array(1,"@Order,", " "),  new Array(1,"@AllowHost,", " "),  new Array(1,"@Enabled,", " "),  new Array(1,"CASE WHEN @CurrentUserId = -1 THEN NULL ELSE @CurrentUserId END,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"CASE WHEN @CurrentUserId = -1 THEN NULL ELSE @CurrentUserId END,", " "),  new Array(1,"GETDATE()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_SavePersonaBarMenuDefaultPermissions]", " "),  new Array(1,"@MenuId                     INT,", " "),  new Array(1,"@RoleNames                  NVARCHAR(260)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF EXISTS(SELECT MenuId FROM dbo.[PersonaBarMenuDefaultPermissions] WHERE MenuId = @MenuId)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[PersonaBarMenuDefaultPermissions]", " "),  new Array(1,"SET", " "),  new Array(1,"RoleNames = @RoleNames", " "),  new Array(1,"WHERE MenuId = @MenuId", " "),  new Array(1,"", " "),  new Array(1,"SELECT Id FROM dbo.[PersonaBarMenuDefaultPermissions] WHERE MenuId = @MenuId", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[PersonaBarMenuDefaultPermissions] (", " "),  new Array(1,"[MenuId],", " "),  new Array(1,"[RoleNames]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@MenuId,", " "),  new Array(1,"@RoleNames", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_SavePersonaBarMenuPermission]", " "),  new Array(1,"@PortalId                   INT,", " "),  new Array(1,"@MenuId                     INT,", " "),  new Array(1,"@PermissionId               INT,", " "),  new Array(1,"@RoleId                     INT,", " "),  new Array(1,"@UserId                     INT,", " "),  new Array(1,"@AllowAccess                BIT,", " "),  new Array(1,"@CurrentUserId              INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @MenuPermissionId INT", " "),  new Array(1,"SELECT @MenuPermissionId = MenuPermissionId FROM dbo.[PersonaBarMenuPermission]", " "),  new Array(1,"WHERE      (PortalId = @PortalId OR (PortalId IS NULL AND @PortalId IS NULL))", " "),  new Array(1,"AND    MenuId = @MenuId", " "),  new Array(1,"AND    PermissionId = @PermissionId", " "),  new Array(1,"AND    (RoleId = @RoleId OR (RoleId IS NULL AND @RoleId IS NULL))", " "),  new Array(1,"AND    (UserId = @UserId OR (UserId IS NULL AND @UserId IS NULL))", " "),  new Array(1,"", " "),  new Array(1,"IF @MenuPermissionId > 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[PersonaBarMenuPermission]", " "),  new Array(1,"SET", " "),  new Array(1,"AllowAccess = @AllowAccess,", " "),  new Array(1,"LastModifiedByUserId = CASE WHEN @CurrentUserId = -1 THEN NULL ELSE @CurrentUserId END,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE MenuPermissionId = @MenuPermissionId", " "),  new Array(1,"", " "),  new Array(1,"SELECT @MenuPermissionId", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[PersonaBarMenuPermission] (", " "),  new Array(1,"[PortalId],", " "),  new Array(1,"[MenuId],", " "),  new Array(1,"[PermissionId],", " "),  new Array(1,"[RoleId],", " "),  new Array(1,"[AllowAccess],", " "),  new Array(1,"[UserId],", " "),  new Array(1,"[CreatedByUserId],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserId],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@PortalId,", " "),  new Array(1,"@MenuId,", " "),  new Array(1,"@PermissionId,", " "),  new Array(1,"@RoleId,", " "),  new Array(1,"@AllowAccess,", " "),  new Array(1,"CASE WHEN @UserId = -1 THEN Null ELSE @UserId END,", " "),  new Array(1,"CASE WHEN @CurrentUserId = -1 THEN NULL ELSE @CurrentUserId END,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"CASE WHEN @CurrentUserId = -1 THEN NULL ELSE @CurrentUserId END,", " "),  new Array(1,"GETDATE()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_SavePersonaBarPermission]", " "),  new Array(1,"@MenuId		        INT,", " "),  new Array(1,"@PermissionKey		VARCHAR(50),", " "),  new Array(1,"@PermissionName		VARCHAR(50),", " "),  new Array(1,"@CurrentUserId	    INT", " "),  new Array(1,"AS", " "),  new Array(1,"IF EXISTS(SELECT PermissionId FROM dbo.[PersonaBarPermission]", " "),  new Array(1,"WHERE ((@MenuId IS NULL AND MenuId IS NULL) OR MenuId = @MenuId) AND PermissionKey = @PermissionKey)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[PersonaBarPermission]  SET", " "),  new Array(1,"[MenuId] = @MenuId,", " "),  new Array(1,"[PermissionName] = @PermissionName,", " "),  new Array(1,"[LastModifiedByUserID] = @CurrentUserId,", " "),  new Array(1,"[LastModifiedOnDate] = GETDATE()", " "),  new Array(1,"WHERE ((@MenuId IS NULL AND MenuId IS NULL) OR MenuId = @MenuId) AND PermissionKey = @PermissionKey", " "),  new Array(1,"", " "),  new Array(1,"SELECT PermissionId FROM dbo.[PersonaBarPermission]", " "),  new Array(1,"WHERE ((@MenuId IS NULL AND MenuId IS NULL) OR MenuId = @MenuId) AND PermissionKey = @PermissionKey", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[PersonaBarPermission] (", " "),  new Array(1,"[MenuId],", " "),  new Array(1,"[PermissionKey],", " "),  new Array(1,"[PermissionName],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@MenuId,", " "),  new Array(1,"@PermissionKey,", " "),  new Array(1,"@PermissionName,", " "),  new Array(1,"@CurrentUserId,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"@CurrentUserId,", " "),  new Array(1,"GETDATE()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PersonaBar_UpdateMenuController]", " "),  new Array(1,"@Identifier                 NVARCHAR(50),", " "),  new Array(1,"@Controller                 NVARCHAR(260),", " "),  new Array(1,"@CurrentUserId              INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[PersonaBarMenu]", " "),  new Array(1,"SET", " "),  new Array(1,"Controller = @Controller,", " "),  new Array(1,"LastModifiedByUserId = CASE WHEN @CurrentUserId = -1 THEN NULL ELSE @CurrentUserId END,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE Identifier = @Identifier", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PublishTab]", " "),  new Array(1,"@TabID INT", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[Tabs] SET", " "),  new Array(1,"[HasBeenPublished] = 1", " "),  new Array(1,"WHERE TabID = @TabID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PurgeEventLog]", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,";WITH logcounts AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT", " "),  new Array(1,"LogEventID,", " "),  new Array(1,"LogConfigID,", " "),  new Array(1,"ROW_NUMBER() OVER(PARTITION BY LogConfigID ORDER BY LogCreateDate DESC) AS logEventSequence", " "),  new Array(1,"FROM dbo.EventLog", " "),  new Array(1,")", " "),  new Array(1,"DELETE dbo.EventLog", " "),  new Array(1,"FROM dbo.EventLog el", " "),  new Array(1,"JOIN logcounts lc ON el.LogEventID = lc.LogEventID", " "),  new Array(1,"INNER JOIN dbo.EventLogConfig elc ON elc.ID = lc.LogConfigID", " "),  new Array(1,"WHERE elc.KeepMostRecent <> -1", " "),  new Array(1,"AND lc.logEventSequence > elc.KeepMostRecent", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[PurgeScheduleHistory]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.ScheduleHistory", " "),  new Array(1,"WHERE ScheduleHistoryID IN (", " "),  new Array(1,"SELECT TOP 5000 ScheduleHistoryID FROM dbo.ScheduleHistory sh", " "),  new Array(1,"INNER JOIN dbo.Schedule s ON s.ScheduleID = sh.ScheduleID", " "),  new Array(1,"WHERE (", " "),  new Array(1,"SELECT COUNT(*)", " "),  new Array(1,"FROM dbo.ScheduleHistory sh2", " "),  new Array(1,"WHERE sh2.ScheduleID = sh.ScheduleID", " "),  new Array(1,"AND sh2.StartDate >= sh.StartDate", " "),  new Array(1,") > s.RetainHistoryNum", " "),  new Array(1,"AND s.Enabled = 1", " "),  new Array(1,"AND s.RetainHistoryNum <> -1", " "),  new Array(1,"ORDER BY ScheduleHistoryID", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[RegisterAssembly]", " "),  new Array(1,"@PackageID      int,", " "),  new Array(1,"@AssemblyName   nvarchar(250),", " "),  new Array(1,"@Version		nvarchar(20)", " "),  new Array(1,"As", " "),  new Array(1,"DECLARE @AssemblyID int", " "),  new Array(1,"DECLARE @CurrentVersion nvarchar(20)", " "),  new Array(1,"\/*	@ReturnCode Values", " "),  new Array(1,"0 - Assembly Does not Exist", " "),  new Array(1,"1 - Older Version of Assembly Exists", " "),  new Array(1,"2 - Assembly Already Registered - Version = CurrentVersion", " "),  new Array(1,"3 - Assembly Already Registered - Version < CurrentVersion", " "),  new Array(1,"*\/", " "),  new Array(1,"DECLARE @CompareVersion int", " "),  new Array(1,"", " "),  new Array(1,"-- First check if this assembly is registered to this package", " "),  new Array(1,"SET @AssemblyID = (SELECT AssemblyID", " "),  new Array(1,"FROM dbo.Assemblies", " "),  new Array(1,"WHERE PackageID = @PAckageID", " "),  new Array(1,"AND AssemblyName = @AssemblyName)", " "),  new Array(1,"", " "),  new Array(1,"IF @AssemblyID IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- AssemblyID is null (not registered)", " "),  new Array(1,"-- but assembly may be registerd by other packages so check for Max unstalled version", " "),  new Array(1,"SET @CurrentVersion  = (SELECT Max(Version )", " "),  new Array(1,"FROM dbo.Assemblies", " "),  new Array(1,"WHERE AssemblyName = @AssemblyName)", " "),  new Array(1,"", " "),  new Array(1,"SET @CompareVersion = dbo.fn_CompareVersion(@Version, @CurrentVersion)", " "),  new Array(1,"", " "),  new Array(1,"-- Add an assembly regsitration for this package", " "),  new Array(1,"INSERT INTO dbo.Assemblies (", " "),  new Array(1,"PackageID,", " "),  new Array(1,"AssemblyName,", " "),  new Array(1,"Version", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PackageID,", " "),  new Array(1,"@AssemblyName,", " "),  new Array(1,"@Version", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- AssemblyID is not null - Assembly is registered - test for version", " "),  new Array(1,"SET @CurrentVersion  = (SELECT Version", " "),  new Array(1,"FROM dbo.Assemblies", " "),  new Array(1,"WHERE AssemblyID = @AssemblyID)", " "),  new Array(1,"", " "),  new Array(1,"SET @CompareVersion = dbo.fn_CompareVersion(@Version, @CurrentVersion)", " "),  new Array(1,"", " "),  new Array(1,"IF @CompareVersion = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Newer version - Update Assembly registration", " "),  new Array(1,"UPDATE dbo.Assemblies", " "),  new Array(1,"SET    Version = @Version", " "),  new Array(1,"WHERE  AssemblyID = @AssemblyID", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT @CompareVersion", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[RemovePortalLocalization]", " "),  new Array(1,"@PortalId INT ,", " "),  new Array(1,"@CultureCode NVARCHAR(10)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET NOCOUNT ON;", " "),  new Array(1,"", " "),  new Array(1,"DELETE  FROM dbo.PortalLocalization", " "),  new Array(1,"WHERE   PortalID = @PortalId", " "),  new Array(1,"AND CultureCode = @CultureCode", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[RemoveTermsFromContent]", " "),  new Array(1,"@ContentItemID	int", " "),  new Array(1,"AS", " "),  new Array(1,"DELETE dbo.ContentItems_Tags", " "),  new Array(1,"WHERE ContentItemID = @ContentItemID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[RemoveUser]", " "),  new Array(1,"@UserID		int,", " "),  new Array(1,"@PortalID   int", " "),  new Array(1,"AS", " "),  new Array(1,"IF @PortalID IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Delete SuperUser", " "),  new Array(1,"DELETE FROM dbo.Users", " "),  new Array(1,"WHERE  UserId = @UserID", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Remove User from Portal", " "),  new Array(1,"DELETE FROM dbo.UserPortals", " "),  new Array(1,"WHERE  UserId = @UserID", " "),  new Array(1,"AND PortalId = @PortalID", " "),  new Array(1,"IF NOT EXISTS (SELECT 1 FROM dbo.UserPortals WHERE  UserId = @UserID)", " "),  new Array(1,"-- Delete User (but not if SuperUser)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.Users", " "),  new Array(1,"WHERE  UserId = @UserID", " "),  new Array(1,"AND IsSuperUser = 0", " "),  new Array(1,"DELETE FROM dbo.UserRoles", " "),  new Array(1,"WHERE  UserID = @UserID", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE ur FROM dbo.UserRoles ur", " "),  new Array(1,"INNER JOIN dbo.Roles r ON r.RoleID = ur.RoleID", " "),  new Array(1,"WHERE  UserID = @UserID AND r.PortalID = @PortalID", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[ResetFilePublishedVersion]", " "),  new Array(1,"@FileId int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Files", " "),  new Array(1,"SET PublishedVersion = 1", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[RestoreTabModule]", " "),  new Array(1,"@TabId      int,", " "),  new Array(1,"@ModuleId   int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.TabModules", " "),  new Array(1,"SET IsDeleted = 0,", " "),  new Array(1,"VersionGuid = newId(),", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE  TabId = @TabId", " "),  new Array(1,"AND    ModuleId = @ModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[RestoreUser]", " "),  new Array(1,"@UserID		int,", " "),  new Array(1,"@PortalID   int", " "),  new Array(1,"AS", " "),  new Array(1,"IF @PortalID IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Users", " "),  new Array(1,"SET	IsDeleted = 0", " "),  new Array(1,"WHERE  UserId = @UserID", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.UserPortals", " "),  new Array(1,"SET IsDeleted = 0", " "),  new Array(1,"WHERE  UserId = @UserID", " "),  new Array(1,"AND PortalId = @PortalID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SaveCoreAuditTypes]", " "),  new Array(1,"@LogTypeKey nvarchar(35),", " "),  new Array(1,"@LogTypeFriendlyName nvarchar(50),", " "),  new Array(1,"@LogTypeOwner nvarchar(100),", " "),  new Array(1,"@LogTypeCSSClass nvarchar(40) ,", " "),  new Array(1,"@LoggingIsActive bit,", " "),  new Array(1,"@KeepMostRecent int,", " "),  new Array(1,"@EmailNotificationIsActive bit", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"IF NOT EXISTS (SELECT * FROM dbo.EventLogTypes WHERE LogTypeKey = @LogTypeKey)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Add new Event Type", " "),  new Array(1,"EXEC dbo.AddEventLogType @LogTypeKey, @LogTypeFriendlyName, N\'\', @LogTypeOwner, @LogTypeCSSClass", " "),  new Array(1,"", " "),  new Array(1,"-- Add new Event Type Config", " "),  new Array(1,"EXEC dbo.AddEventLogConfig @LogTypeKey, NULL, @LoggingIsActive, @KeepMostRecent, @EmailNotificationIsActive, 1, 1, 1, N\'\', N\'\'", " "),  new Array(1,"", " "),  new Array(1,"-- exit", " "),  new Array(1,"Return", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.EventLogTypes SET LogTypeFriendlyName = @LogTypeFriendlyName WHERE LogTypeKey = @LogTypeKey", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.EventLogConfig", " "),  new Array(1,"SET LoggingIsActive=@LoggingIsActive,", " "),  new Array(1,"KeepMostRecent=@KeepMostRecent,", " "),  new Array(1,"EmailNotificationIsActive=@EmailNotificationIsActive", " "),  new Array(1,"WHERE LogTypeKey = @LogTypeKey", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SaveExtensionUrlProviderSetting]", " "),  new Array(1,"@ExtensionUrlProviderID		int,", " "),  new Array(1,"@PortalId					int,", " "),  new Array(1,"@SettingName				nvarchar(100),", " "),  new Array(1,"@SettingValue				nvarchar(2000)", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"IF (SELECT COUNT(*)", " "),  new Array(1,"FROM dbo.ExtensionUrlProviderSetting", " "),  new Array(1,"WHERE ExtensionUrlProviderID = @ExtensionUrlProviderID", " "),  new Array(1,"AND PortalID = @PortalId", " "),  new Array(1,"AND SettingName = @SettingName) = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--ADD", " "),  new Array(1,"INSERT INTO dbo.ExtensionUrlProviderSetting", " "),  new Array(1,"( ExtensionUrlProviderID ,", " "),  new Array(1,"PortalID ,", " "),  new Array(1,"SettingName ,", " "),  new Array(1,"SettingValue", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @ExtensionUrlProviderID , -- ExtensionUrlProviderID - int", " "),  new Array(1,"@PortalId , -- PortalID - int", " "),  new Array(1,"@SettingName , -- SettingName - nvarchar(100)", " "),  new Array(1,"@SettingValue  -- SettingValue - nvarchar(2000)", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.ExtensionUrlProviderSetting", " "),  new Array(1,"SET", " "),  new Array(1,"SettingValue = @SettingValue", " "),  new Array(1,"WHERE ExtensionUrlProviderID = @ExtensionUrlProviderID", " "),  new Array(1,"AND PortalID = @PortalId", " "),  new Array(1,"AND SettingName = @SettingName", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SaveJavaScriptLibrary]", " "),  new Array(1,"@JavaScriptLibraryID INT,", " "),  new Array(1,"@PackageID INT,", " "),  new Array(1,"@LibraryName NVARCHAR(200),", " "),  new Array(1,"@Version NVARCHAR(50),", " "),  new Array(1,"@FileName NVARCHAR(100),", " "),  new Array(1,"@ObjectName NVARCHAR(100),", " "),  new Array(1,"@PreferredScriptLocation int,", " "),  new Array(1,"@CDNPath NVARCHAR(250)", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"IF EXISTS (SELECT JavaScriptLibraryID FROM JavaScriptLibraries WHERE JavaScriptLibraryID = @JavaScriptLibraryID)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[JavaScriptLibraries]", " "),  new Array(1,"SET [PackageID] = @PackageID,", " "),  new Array(1,"[LibraryName] = @LibraryName,", " "),  new Array(1,"[Version] = @Version,", " "),  new Array(1,"[FileName] = @FileName,", " "),  new Array(1,"[ObjectName] = @ObjectName,", " "),  new Array(1,"[PreferredScriptLocation] = @PreferredScriptLocation,", " "),  new Array(1,"[CDNPath] = @CDNPath", " "),  new Array(1,"WHERE JavaScriptLibraryID = @JavaScriptLibraryID", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[JavaScriptLibraries] (", " "),  new Array(1,"[PackageID],", " "),  new Array(1,"[LibraryName],", " "),  new Array(1,"[Version],", " "),  new Array(1,"[FileName],", " "),  new Array(1,"[ObjectName],", " "),  new Array(1,"[PreferredScriptLocation],", " "),  new Array(1,"[CDNPath]", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PackageID,", " "),  new Array(1,"@LibraryName,", " "),  new Array(1,"@Version,", " "),  new Array(1,"@FileName,", " "),  new Array(1,"@ObjectName,", " "),  new Array(1,"@PreferredScriptLocation,", " "),  new Array(1,"@CDNPath", " "),  new Array(1,")", " "),  new Array(1,"SET @JavaScriptLibraryID = (SELECT @@IDENTITY)", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT @JavaScriptLibraryID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SavePackageDependency]", " "),  new Array(1,"@PackageDependencyID INT,", " "),  new Array(1,"@PackageID INT,", " "),  new Array(1,"@PackageName NVARCHAR(128),", " "),  new Array(1,"@Version NVARCHAR(50)", " "),  new Array(1,"AS", " "),  new Array(1,"IF EXISTS (SELECT PackageDependencyID FROM PackageDependencies WHERE PackageID = @PackageID AND PackageName = @PackageName AND Version = @Version)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[PackageDependencies]", " "),  new Array(1,"SET [PackageID] = @PackageID,", " "),  new Array(1,"[PackageName] = @PackageName,", " "),  new Array(1,"[Version] = @Version", " "),  new Array(1,"WHERE PackageDependencyID = @PackageDependencyID", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[PackageDependencies] (", " "),  new Array(1,"[PackageID],", " "),  new Array(1,"[PackageName],", " "),  new Array(1,"[Version]", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PackageID,", " "),  new Array(1,"@PackageName,", " "),  new Array(1,"@Version", " "),  new Array(1,")", " "),  new Array(1,"SET @PackageDependencyID = (SELECT @@IDENTITY)", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT @PackageDependencyID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SaveRelationship]", " "),  new Array(1,"@RelationshipID INT,", " "),  new Array(1,"@RelationshipTypeID INT,", " "),  new Array(1,"@Name NVARCHAR(50),", " "),  new Array(1,"@Description NVARCHAR(500),", " "),  new Array(1,"@UserID INT,", " "),  new Array(1,"@PortalID INT,", " "),  new Array(1,"@DefaultResponse INT,", " "),  new Array(1,"@CreateUpdateUserID INT", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"IF ( @RelationshipID = -1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT  dbo.Relationships", " "),  new Array(1,"( RelationshipTypeID,", " "),  new Array(1,"Name ,", " "),  new Array(1,"Description,", " "),  new Array(1,"UserID,", " "),  new Array(1,"PortalID,", " "),  new Array(1,"DefaultResponse,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @RelationshipTypeID , -- @RelationshipTypeID INT", " "),  new Array(1,"@Name , -- Name - nvarchar(50)", " "),  new Array(1,"@Description , -- @Description NVARCHAR(500)", " "),  new Array(1,"@UserID , -- @UserID int", " "),  new Array(1,"@PortalID , -- @PortalID int", " "),  new Array(1,"@DefaultResponse, -- @DefaultResponse int", " "),  new Array(1,"@CreateUpdateUserID , -- CreatedBy - int", " "),  new Array(1,"GETDATE() , -- CreatedOn - datetime", " "),  new Array(1,"@CreateUpdateUserID , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @RelationshipID = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.Relationships", " "),  new Array(1,"SET     Name = @Name ,", " "),  new Array(1,"Description = @Description,", " "),  new Array(1,"RelationshipTypeID = @RelationshipTypeID,", " "),  new Array(1,"UserID = @UserID,", " "),  new Array(1,"PortalID = @PortalID,", " "),  new Array(1,"DefaultResponse = @DefaultResponse,", " "),  new Array(1,"LastModifiedByUserID = @CreateUpdateUserID,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE   RelationshipID = @RelationshipID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @RelationshipID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SaveRelationshipType]", " "),  new Array(1,"@RelationshipTypeID INT ,", " "),  new Array(1,"@Direction INT ,", " "),  new Array(1,"@Name NVARCHAR(50) ,", " "),  new Array(1,"@Description NVARCHAR(500) ,", " "),  new Array(1,"@UserID INT", " "),  new Array(1,"AS", " "),  new Array(1,"IF ( @RelationshipTypeID = -1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT  dbo.RelationshipTypes", " "),  new Array(1,"( Direction,", " "),  new Array(1,"Name ,", " "),  new Array(1,"Description,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @Direction , --  @Direction INT", " "),  new Array(1,"@Name , -- Name - nvarchar(50)", " "),  new Array(1,"@Description , -- @Description NVARCHAR(500)", " "),  new Array(1,"@UserID , -- CreatedBy - int", " "),  new Array(1,"GETDATE() , -- CreatedOn - datetime", " "),  new Array(1,"@UserID , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @RelationshipTypeID = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.RelationshipTypes", " "),  new Array(1,"SET     Name = @Name ,", " "),  new Array(1,"Direction = @Direction ,", " "),  new Array(1,"Description = @Description ,", " "),  new Array(1,"LastModifiedByUserID = @UserID ,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE   RelationshipTypeID = @RelationshipTypeID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @RelationshipTypeID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SaveTabUrl]", " "),  new Array(1,"@TabID				int,", " "),  new Array(1,"@SeqNum				int,", " "),  new Array(1,"@PortalAliasID		int,", " "),  new Array(1,"@PortalAliasUsage	int,", " "),  new Array(1,"@Url				nvarchar(200),", " "),  new Array(1,"@QueryString		nvarchar(200),", " "),  new Array(1,"@CultureCode		nvarchar(50),", " "),  new Array(1,"@HttpStatus			nvarchar(50),", " "),  new Array(1,"@IsSystem			bit,", " "),  new Array(1,"@ModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"IF @HttpStatus = \'200\'", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.TabUrls", " "),  new Array(1,"SET HttpStatus = \'301\',", " "),  new Array(1,"[LastModifiedByUserID]= @ModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate]= getdate()", " "),  new Array(1,"WHERE TabID = @TabID", " "),  new Array(1,"AND CultureCode = @CultureCode", " "),  new Array(1,"AND (@PortalAliasID = @PortalAliasID OR (PortalAliasId IS NULL AND @PortalAliasID IS NULL))", " "),  new Array(1,"AND HttpStatus = \'200\'", " "),  new Array(1,"END", " "),  new Array(1,"IF EXISTS (SELECT * FROM dbo.TabUrls WHERE TabId = @TabID AND SeqNum = @SeqNum)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.TabUrls", " "),  new Array(1,"SET", " "),  new Array(1,"PortalAliasId = @PortalAliasID,", " "),  new Array(1,"PortalAliasUsage = @PortalAliasUsage,", " "),  new Array(1,"Url = @Url,", " "),  new Array(1,"QueryString = @QueryString,", " "),  new Array(1,"CultureCode = @CultureCode,", " "),  new Array(1,"HttpStatus = @HttpStatus,", " "),  new Array(1,"IsSystem = @IsSystem,", " "),  new Array(1,"[LastModifiedByUserID]= @ModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate]= getdate()", " "),  new Array(1,"WHERE TabId = @TabID AND SeqNum = @SeqNum", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.TabUrls", " "),  new Array(1,"( TabId ,", " "),  new Array(1,"SeqNum ,", " "),  new Array(1,"Url ,", " "),  new Array(1,"QueryString ,", " "),  new Array(1,"HttpStatus ,", " "),  new Array(1,"CultureCode ,", " "),  new Array(1,"IsSystem,", " "),  new Array(1,"PortalAliasId ,", " "),  new Array(1,"PortalAliasUsage,", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @TabID ,", " "),  new Array(1,"@SeqNum ,", " "),  new Array(1,"@Url ,", " "),  new Array(1,"@QueryString ,", " "),  new Array(1,"@HttpStatus ,", " "),  new Array(1,"@CultureCode ,", " "),  new Array(1,"@IsSystem,", " "),  new Array(1,"@PortalAliasID ,", " "),  new Array(1,"0,", " "),  new Array(1,"@ModifiedByUserID,", " "),  new Array(1,"getdate(),", " "),  new Array(1,"@ModifiedByUserID,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SaveTabVersion]", " "),  new Array(1,"@Id INT,", " "),  new Array(1,"@TabId INT,", " "),  new Array(1,"@TimeStamp DATETIME,", " "),  new Array(1,"@Version INT,", " "),  new Array(1,"@IsPublished BIT,", " "),  new Array(1,"@CreatedByUserID [INT] = -1,", " "),  new Array(1,"@LastModifiedByUserID [INT] = -1", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF ISNULL(@Id, 0) = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[TabVersions](", " "),  new Array(1,"[TabId],", " "),  new Array(1,"[TimeStamp],", " "),  new Array(1,"[Version],", " "),  new Array(1,"[IsPublished],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@TabId,", " "),  new Array(1,"@TimeStamp,", " "),  new Array(1,"@Version,", " "),  new Array(1,"@IsPublished,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"@LastModifiedByUserID,", " "),  new Array(1,"GETDATE()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT @Id = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[TabVersions] SET", " "),  new Array(1,"[TabId] = @TabId,", " "),  new Array(1,"[Version] = @Version,", " "),  new Array(1,"[TimeStamp] = @TimeStamp,", " "),  new Array(1,"[IsPublished] = @IsPublished,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = GETDATE()", " "),  new Array(1,"WHERE TabVersionId = @Id", " "),  new Array(1,"END", " "),  new Array(1,"SELECT @Id", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SaveTabVersionDetail]", " "),  new Array(1,"@Id INT,", " "),  new Array(1,"@TabVersionId INT,", " "),  new Array(1,"@ModuleId INT,", " "),  new Array(1,"@ModuleVersion INT,", " "),  new Array(1,"@PaneName NVARCHAR(50),", " "),  new Array(1,"@ModuleOrder INT,", " "),  new Array(1,"@Action INT,", " "),  new Array(1,"@CreatedByUserID [INT] = -1,", " "),  new Array(1,"@LastModifiedByUserID [INT] = -1", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF ISNULL(@Id, 0) = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.[TabVersionDetails](", " "),  new Array(1,"[TabVersionId],", " "),  new Array(1,"[ModuleId],", " "),  new Array(1,"[ModuleVersion],", " "),  new Array(1,"[PaneName],", " "),  new Array(1,"[ModuleOrder],", " "),  new Array(1,"[Action],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,") VALUES (", " "),  new Array(1,"@TabVersionId,", " "),  new Array(1,"@ModuleId,", " "),  new Array(1,"@ModuleVersion,", " "),  new Array(1,"@PaneName,", " "),  new Array(1,"@ModuleOrder,", " "),  new Array(1,"@Action,", " "),  new Array(1,"@CreatedByUserID,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"@LastModifiedByUserID,", " "),  new Array(1,"GETDATE()", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT @Id = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[TabVersionDetails] SET", " "),  new Array(1,"[TabVersionId] = @TabVersionId,", " "),  new Array(1,"[ModuleId] = @ModuleId,", " "),  new Array(1,"[ModuleVersion] = @ModuleVersion,", " "),  new Array(1,"[PaneName] = @PaneName,", " "),  new Array(1,"[ModuleOrder] = @ModuleOrder,", " "),  new Array(1,"[Action] = @Action,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = GETDATE()", " "),  new Array(1,"WHERE TabVersionDetailId = @Id", " "),  new Array(1,"END", " "),  new Array(1,"SELECT @Id", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SaveUserRelationship]", " "),  new Array(1,"@UserRelationshipID INT,", " "),  new Array(1,"@UserID INT,", " "),  new Array(1,"@RelatedUserID INT,", " "),  new Array(1,"@RelationshipID INT,", " "),  new Array(1,"@Status INT,", " "),  new Array(1,"@CreateUpdateUserID INT", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"IF ( @UserRelationshipID = -1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT  dbo.UserRelationships", " "),  new Array(1,"( UserID,", " "),  new Array(1,"RelatedUserID,", " "),  new Array(1,"RelationshipID,", " "),  new Array(1,"Status,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @UserID , -- @UserID int", " "),  new Array(1,"@RelatedUserID , -- @RelatedUserlID int", " "),  new Array(1,"@RelationshipID, -- @RelationshipID int", " "),  new Array(1,"@Status , -- @Status int", " "),  new Array(1,"@CreateUpdateUserID , -- CreatedBy - int", " "),  new Array(1,"GETDATE() , -- CreatedOn - datetime", " "),  new Array(1,"@CreateUpdateUserID , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @UserRelationshipID = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.UserRelationships", " "),  new Array(1,"SET     UserID = @UserID,", " "),  new Array(1,"RelatedUserID = @RelatedUserID,", " "),  new Array(1,"RelationshipID = @RelationshipID,", " "),  new Array(1,"Status = @Status,", " "),  new Array(1,"LastModifiedByUserID = @CreateUpdateUserID,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE   UserRelationshipID = @UserRelationshipID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @UserRelationshipID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SaveUserRelationshipPreference]", " "),  new Array(1,"@PreferenceID INT,", " "),  new Array(1,"@UserID INT,", " "),  new Array(1,"@RelationshipID INT,", " "),  new Array(1,"@DefaultResponse INT,", " "),  new Array(1,"@CreateUpdateUserID INT", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"IF ( @PreferenceID = -1 )", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT  dbo.UserRelationshipPreferences", " "),  new Array(1,"( UserID,", " "),  new Array(1,"RelationshipID,", " "),  new Array(1,"DefaultResponse,", " "),  new Array(1,"CreatedByUserID ,", " "),  new Array(1,"CreatedOnDate ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"VALUES  ( @UserID , -- @UserID int", " "),  new Array(1,"@RelationshipID, -- @RelationshipID int", " "),  new Array(1,"@DefaultResponse , -- @DefaultResponse int", " "),  new Array(1,"@CreateUpdateUserID , -- CreatedBy - int", " "),  new Array(1,"GETDATE() , -- CreatedOn - datetime", " "),  new Array(1,"@CreateUpdateUserID , -- LastModifiedBy - int", " "),  new Array(1,"GETDATE() -- LastModifiedOn - datetime", " "),  new Array(1,"", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @PreferenceID = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE  dbo.UserRelationshipPreferences", " "),  new Array(1,"SET     UserID = @UserID,", " "),  new Array(1,"RelationshipID = @RelationshipID,", " "),  new Array(1,"DefaultResponse = @DefaultResponse,", " "),  new Array(1,"LastModifiedByUserID = @CreateUpdateUserID,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE   PreferenceID = @PreferenceID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @PreferenceID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SearchDeletedItems_Add]", " "),  new Array(1,"@document nvarchar(max)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.SearchDeletedItems", " "),  new Array(1,"(  document )", " "),  new Array(1,"VALUES ( @document )", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SearchDeletedItems_DeleteProcessed]", " "),  new Array(1,"@CutoffTime	DATETIME", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DELETE FROM dbo.SearchDeletedItems", " "),  new Array(1,"WHERE [DateCreated] < @CutoffTime", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SearchDeletedItems_Select]", " "),  new Array(1,"@CutoffTime	DATETIME", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT document", " "),  new Array(1,"FROM dbo.SearchDeletedItems", " "),  new Array(1,"WHERE [DateCreated] < @CutoffTime", " "),  new Array(1,"ORDER BY [DateCreated]", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SearchProfilePropertyValues]", " "),  new Array(1,"@PortalId INT,", " "),  new Array(1,"@PropertyName NVARCHAR(50),", " "),  new Array(1,"@SearchString NVARCHAR(100)", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT DISTINCT", " "),  new Array(1,"up.PropertyValue", " "),  new Array(1,"FROM", " "),  new Array(1,"dbo.UserProfile up", " "),  new Array(1,"INNER JOIN dbo.ProfilePropertyDefinition ppd ON ppd.PropertyDefinitionID = up.PropertyDefinitionID", " "),  new Array(1,"WHERE", " "),  new Array(1,"ppd.PortalID = @PortalId", " "),  new Array(1,"AND ppd.PropertyName = @PropertyName", " "),  new Array(1,"AND up.PropertyValue LIKE \'%\' + @SearchString + \'%\'", " "),  new Array(1,"AND up.PropertyValue IS NOT NULL", " "),  new Array(1,"ORDER BY", " "),  new Array(1,"up.PropertyValue", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SearchTypes_GetAll]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[SearchTypes]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SecurityAnalyzer_GetModifiedSettings]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT TOP 20", " "),  new Array(1,"PortalID ,", " "),  new Array(1,"SettingName ,", " "),  new Array(1,"SettingValue ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.[PortalSettings]", " "),  new Array(1,"ORDER BY LastModifiedOnDate DESC;", " "),  new Array(1,"", " "),  new Array(1,"SELECT TOP 20", " "),  new Array(1,"SettingName ,", " "),  new Array(1,"SettingValue ,", " "),  new Array(1,"LastModifiedByUserID ,", " "),  new Array(1,"LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.[HostSettings]", " "),  new Array(1,"ORDER BY LastModifiedOnDate DESC;", " "),  new Array(1,"", " "),  new Array(1,"SELECT TOP 20", " "),  new Array(1,"t.TabID ,", " "),  new Array(1,"t.PortalID ,", " "),  new Array(1,"s.SettingName ,", " "),  new Array(1,"s.SettingValue ,", " "),  new Array(1,"s.LastModifiedByUserID ,", " "),  new Array(1,"s.LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.[TabSettings] s", " "),  new Array(1,"INNER JOIN dbo.[Tabs] t ON t.TabID = s.TabID", " "),  new Array(1,"ORDER BY s.LastModifiedOnDate DESC;", " "),  new Array(1,"", " "),  new Array(1,"SELECT TOP 20", " "),  new Array(1,"T.*", " "),  new Array(1,"FROM    ( SELECT    \'Module Settings\' as Type,", " "),  new Array(1,"m.ModuleID ,", " "),  new Array(1,"m.PortalID ,", " "),  new Array(1,"SettingName ,", " "),  new Array(1,"SettingValue ,", " "),  new Array(1,"ms.LastModifiedByUserID ,", " "),  new Array(1,"ms.LastModifiedOnDate", " "),  new Array(1,"FROM      dbo.[ModuleSettings] ms", " "),  new Array(1,"INNER JOIN dbo.[Modules] m ON m.ModuleID = ms.ModuleID", " "),  new Array(1,"UNION", " "),  new Array(1,"( SELECT  \'TabModule Settings\' as Type,", " "),  new Array(1,"tm.ModuleID ,", " "),  new Array(1,"m.PortalID ,", " "),  new Array(1,"ts.SettingName ,", " "),  new Array(1,"ts.SettingValue ,", " "),  new Array(1,"ts.LastModifiedByUserID ,", " "),  new Array(1,"ts.LastModifiedOnDate", " "),  new Array(1,"FROM    dbo.[TabModuleSettings] ts", " "),  new Array(1,"INNER JOIN dbo.[TabModules] tm ON tm.TabModuleID = ts.TabModuleID", " "),  new Array(1,"INNER JOIN dbo.[Modules] m ON m.ModuleID = tm.ModuleID", " "),  new Array(1,")", " "),  new Array(1,") T", " "),  new Array(1,"INNER JOIN dbo.[Modules] m ON m.ModuleID = T.ModuleID", " "),  new Array(1,"ORDER BY T.LastModifiedOnDate DESC;", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SecurityAnalyzer_GetModulesHasHeaderFooter]", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT * FROM dbo.[TabModules]", " "),  new Array(1,"WHERE (Header IS NOT NULL AND CONVERT(NVARCHAR(MAX), Header) <> N\'\') OR (Footer IS NOT NULL AND CONVERT(NVARCHAR(MAX), Footer) <> N\'\')", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SecurityAnalyzer_SearchAllTables]", " "),  new Array(1,"(", " "),  new Array(1,"@SearchStr NVARCHAR(100)", " "),  new Array(1,")", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"CREATE TABLE #Results (ColumnName nvarchar(370), ColumnValue nvarchar(3630))", " "),  new Array(1,"", " "),  new Array(1,"SET NOCOUNT ON", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @TableName nvarchar(256), @ColumnName nvarchar(128), @SearchStr2 nvarchar(110)", " "),  new Array(1,"SET  @TableName = \'\'", " "),  new Array(1,"SET @SearchStr2 = QUOTENAME(\'%\' + @SearchStr + \'%\',\'\'\'\')", " "),  new Array(1,"", " "),  new Array(1,"WHILE @TableName IS NOT NULL", " "),  new Array(1,"", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ColumnName = \'\'", " "),  new Array(1,"SET @TableName =", " "),  new Array(1,"(", " "),  new Array(1,"SELECT MIN(QUOTENAME(TABLE_SCHEMA) + \'.\' + QUOTENAME(TABLE_NAME))", " "),  new Array(1,"FROM     INFORMATION_SCHEMA.TABLES", " "),  new Array(1,"WHERE         TABLE_TYPE = \'BASE TABLE\'", " "),  new Array(1,"AND    QUOTENAME(TABLE_SCHEMA) + \'.\' + QUOTENAME(TABLE_NAME) > @TableName", " "),  new Array(1,"AND    OBJECTPROPERTY(", " "),  new Array(1,"OBJECT_ID(", " "),  new Array(1,"QUOTENAME(TABLE_SCHEMA) + \'.\' + QUOTENAME(TABLE_NAME)", " "),  new Array(1,"), \'IsMSShipped\'", " "),  new Array(1,") = 0", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"WHILE (@TableName IS NOT NULL) AND (@ColumnName IS NOT NULL)", " "),  new Array(1,"", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ColumnName =", " "),  new Array(1,"(", " "),  new Array(1,"SELECT MIN(QUOTENAME(COLUMN_NAME))", " "),  new Array(1,"FROM     INFORMATION_SCHEMA.COLUMNS", " "),  new Array(1,"WHERE         TABLE_SCHEMA    = PARSENAME(@TableName, 2)", " "),  new Array(1,"AND    TABLE_NAME    = PARSENAME(@TableName, 1)", " "),  new Array(1,"AND    DATA_TYPE IN (\'char\', \'varchar\', \'nchar\', \'nvarchar\', \'int\', \'decimal\')", " "),  new Array(1,"AND    QUOTENAME(COLUMN_NAME) > @ColumnName", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"IF @ColumnName IS NOT NULL", " "),  new Array(1,"", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO #Results", " "),  new Array(1,"EXEC", " "),  new Array(1,"(", " "),  new Array(1,"\'SELECT \'\'\' + @TableName + \'.\' + @ColumnName + \'\'\', LEFT(\' + @ColumnName + \', 3630)", " "),  new Array(1,"FROM \' + @TableName + \'WITH (NOLOCK) \' +", " "),  new Array(1,"\' WHERE \' + @ColumnName + \' LIKE \' + @SearchStr2", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT ColumnName, ColumnValue FROM #Results", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SetEventMessageComplete]", " "),  new Array(1,"", " "),  new Array(1,"@EventMessageID int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.EventQueue", " "),  new Array(1,"SET IsComplete = 1", " "),  new Array(1,"WHERE EventMessageID = @EventMessageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SetFileHasBeenPublished]", " "),  new Array(1,"@FileId                    int,", " "),  new Array(1,"@HasBeenPublished        bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"-- Change Files.HasBeenPublished to the passed value", " "),  new Array(1,"UPDATE dbo.[Files]", " "),  new Array(1,"SET     [HasBeenPublished] = @HasBeenPublished", " "),  new Array(1,"FROM dbo.[Files] f", " "),  new Array(1,"WHERE f.FileId = @FileId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[SetPublishedVersion]", " "),  new Array(1,"@FileId                    int,", " "),  new Array(1,"@NewPublishedVersion    int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"-- Insert a new record in the FileVersions table for the old published version", " "),  new Array(1,"INSERT dbo.[FileVersions]", " "),  new Array(1,"([FileId]", " "),  new Array(1,",[Version]", " "),  new Array(1,",[FileName]", " "),  new Array(1,",[Extension]", " "),  new Array(1,",[Size]", " "),  new Array(1,",[Width]", " "),  new Array(1,",[Height]", " "),  new Array(1,",[ContentType]", " "),  new Array(1,",[Content]", " "),  new Array(1,",[CreatedByUserID]", " "),  new Array(1,",[CreatedOnDate]", " "),  new Array(1,",[LastModifiedByUserID]", " "),  new Array(1,",[LastModifiedOnDate]", " "),  new Array(1,",[SHA1Hash])", " "),  new Array(1,"SELECT        [FileId]", " "),  new Array(1,",[PublishedVersion]  [Version]", " "),  new Array(1,",CONVERT(nvarchar, [FileId]) + \'_\' + CONVERT(nvarchar, [PublishedVersion]) +\'.v.resources\'", " "),  new Array(1,",[Extension]", " "),  new Array(1,",[Size]", " "),  new Array(1,",[Width]", " "),  new Array(1,",[Height]", " "),  new Array(1,",[ContentType]", " "),  new Array(1,",[Content]", " "),  new Array(1,",[CreatedByUserID]", " "),  new Array(1,",[CreatedOnDate]", " "),  new Array(1,",[LastModifiedByUserID]", " "),  new Array(1,",[LastModifiedOnDate]", " "),  new Array(1,",[SHA1Hash]", " "),  new Array(1,"FROM Files", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"", " "),  new Array(1,"-- Change Files.PublishedVersion to the new version number", " "),  new Array(1,"UPDATE dbo.[Files]", " "),  new Array(1,"SET     [PublishedVersion] = @NewPublishedVersion", " "),  new Array(1,",[Extension] =v.[Extension]", " "),  new Array(1,",[Size] = v.[Size]", " "),  new Array(1,",[Width] = v.[Width]", " "),  new Array(1,",[Height] = v.[Height]", " "),  new Array(1,",[ContentType] = v.[ContentType]", " "),  new Array(1,",[Content] = v.[Content]", " "),  new Array(1,",[CreatedByUserID] = v.[CreatedByUserID]", " "),  new Array(1,",[CreatedOnDate] = v.[CreatedOnDate]", " "),  new Array(1,",[LastModifiedByUserID] = v.[LastModifiedByUserID]", " "),  new Array(1,",[LastModifiedOnDate] = v.[LastModifiedOnDate]", " "),  new Array(1,",[SHA1Hash] = v.[SHA1Hash]", " "),  new Array(1,",[HasBeenPublished] = 1", " "),  new Array(1,"FROM dbo.[Files] f", " "),  new Array(1,"JOIN dbo.[FileVersions] v ON f.FileId = v.FileId", " "),  new Array(1,"WHERE f.FileId = @FileId", " "),  new Array(1,"AND v.Version = @NewPublishedVersion", " "),  new Array(1,"", " "),  new Array(1,"-- Delete the FileVersions entry of the version being published", " "),  new Array(1,"DELETE dbo.[FileVersions]", " "),  new Array(1,"WHERE FileId = @FileId AND Version = @NewPublishedVersion", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UnRegisterAssembly]", " "),  new Array(1,"@PackageID     INT,", " "),  new Array(1,"@AssemblyName   NVARCHAR(250)", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @ReturnCode BIT", " "),  new Array(1,"SET @ReturnCode = 1 -- 1 = Can Delete Assembly, 0 = Cannot Delete Assembly", " "),  new Array(1,"", " "),  new Array(1,"-- First remove the Assembly Reference for this Package", " "),  new Array(1,"DELETE FROM dbo.Assemblies", " "),  new Array(1,"WHERE PackageID = @PackageID", " "),  new Array(1,"AND AssemblyName = @AssemblyName", " "),  new Array(1,"", " "),  new Array(1,"IF EXISTS(SELECT TOP 1 PackageID FROM dbo.Assemblies WHERE AssemblyName = @AssemblyName)", " "),  new Array(1,"-- Set ReturnCode = 0, so assembly is not deleted", " "),  new Array(1,"SET @ReturnCode = 0", " "),  new Array(1,"", " "),  new Array(1,"SELECT @ReturnCode", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateAnonymousUser]", " "),  new Array(1,"@UserID  char(36),", " "),  new Array(1,"@PortalID  int,", " "),  new Array(1,"@TabID   int,", " "),  new Array(1,"@LastActiveDate datetime", " "),  new Array(1,"as", " "),  new Array(1,"begin", " "),  new Array(1,"update dbo.AnonymousUsers set", " "),  new Array(1,"TabID = @TabID,", " "),  new Array(1,"LastActiveDate = @LastActiveDate", " "),  new Array(1,"where", " "),  new Array(1,"UserID = @UserID", " "),  new Array(1,"and PortalID = @PortalID", " "),  new Array(1,"", " "),  new Array(1,"if @@ROWCOUNT = 0", " "),  new Array(1,"begin", " "),  new Array(1,"insert into dbo.AnonymousUsers", " "),  new Array(1,"(UserID, PortalID, TabID, CreationDate, LastActiveDate)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@UserID, @PortalID, @TabID, GetDate(), @LastActiveDate)", " "),  new Array(1,"end", " "),  new Array(1,"end", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateAuthentication]", " "),  new Array(1,"@AuthenticationID       int,", " "),  new Array(1,"@PackageID				int,", " "),  new Array(1,"@AuthenticationType     nvarchar(100),", " "),  new Array(1,"@IsEnabled				bit,", " "),  new Array(1,"@SettingsControlSrc     nvarchar(250),", " "),  new Array(1,"@LoginControlSrc		nvarchar(250),", " "),  new Array(1,"@LogoffControlSrc		nvarchar(250),", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Authentication", " "),  new Array(1,"SET    PackageID = @PackageID,", " "),  new Array(1,"AuthenticationType = @AuthenticationType,", " "),  new Array(1,"IsEnabled = @IsEnabled,", " "),  new Array(1,"SettingsControlSrc = @SettingsControlSrc,", " "),  new Array(1,"LoginControlSrc = @LoginControlSrc,", " "),  new Array(1,"LogoffControlSrc = @LogoffControlSrc,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = getdate()", " "),  new Array(1,"WHERE  AuthenticationID = @AuthenticationID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateContentItem]", " "),  new Array(1,"@ContentItemID			int,", " "),  new Array(1,"@Content				nvarchar(max),", " "),  new Array(1,"@ContentTypeID			int,", " "),  new Array(1,"@TabID					int,", " "),  new Array(1,"@ModuleID				int,", " "),  new Array(1,"@ContentKey				nvarchar(250),", " "),  new Array(1,"@Indexed				bit,", " "),  new Array(1,"@LastModifiedByUserID	int,", " "),  new Array(1,"@StateID				int = NULL", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.[ContentItems]", " "),  new Array(1,"SET", " "),  new Array(1,"Content = @Content,", " "),  new Array(1,"ContentTypeID = @ContentTypeID,", " "),  new Array(1,"TabID = @TabID,", " "),  new Array(1,"ModuleID = @ModuleID,", " "),  new Array(1,"ContentKey = @ContentKey,", " "),  new Array(1,"Indexed = @Indexed,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate(),", " "),  new Array(1,"StateID = @StateID", " "),  new Array(1,"WHERE ContentItemId = @ContentItemId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateContentType]", " "),  new Array(1,"@ContentTypeId		int,", " "),  new Array(1,"@ContentType		nvarchar(250)", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.ContentTypes", " "),  new Array(1,"SET", " "),  new Array(1,"ContentType = @ContentType", " "),  new Array(1,"WHERE ContentTypeId = @ContentTypeId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateContentWorkflow]", " "),  new Array(1,"@WorkflowID int,", " "),  new Array(1,"@WorkflowName nvarchar(40),", " "),  new Array(1,"@Description nvarchar(256),", " "),  new Array(1,"@IsDeleted bit,", " "),  new Array(1,"@StartAfterCreating bit,", " "),  new Array(1,"@StartAfterEditing bit,", " "),  new Array(1,"@DispositionEnabled bit", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.ContentWorkflows", " "),  new Array(1,"SET    WorkflowName = @WorkflowName,", " "),  new Array(1,"Description = @Description,", " "),  new Array(1,"IsDeleted = @IsDeleted,", " "),  new Array(1,"StartAfterCreating = @StartAfterCreating,", " "),  new Array(1,"StartAfterEditing = @StartAfterEditing,", " "),  new Array(1,"DispositionEnabled = @DispositionEnabled", " "),  new Array(1,"WHERE  WorkflowID = @WorkflowID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateContentWorkflowState]", " "),  new Array(1,"@StateID int,", " "),  new Array(1,"@StateName nvarchar(40),", " "),  new Array(1,"@Order int,", " "),  new Array(1,"@IsActive bit,", " "),  new Array(1,"@SendEmail bit,", " "),  new Array(1,"@SendMessage bit,", " "),  new Array(1,"@IsDisposalState bit,", " "),  new Array(1,"@OnCompleteMessageSubject nvarchar(256),", " "),  new Array(1,"@OnCompleteMessageBody nvarchar(1024),", " "),  new Array(1,"@OnDiscardMessageSubject nvarchar(256),", " "),  new Array(1,"@OnDiscardMessageBody nvarchar(1024)", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.ContentWorkflowStates", " "),  new Array(1,"SET [StateName] = @StateName,", " "),  new Array(1,"[Order] = @Order,", " "),  new Array(1,"[IsActive] = @IsActive,", " "),  new Array(1,"[SendEmail] = @SendEmail,", " "),  new Array(1,"[SendMessage] = @SendMessage,", " "),  new Array(1,"[IsDisposalState] = @IsDisposalState,", " "),  new Array(1,"[OnCompleteMessageSubject] = @OnCompleteMessageSubject,", " "),  new Array(1,"[OnCompleteMessageBody] = @OnCompleteMessageBody,", " "),  new Array(1,"[OnDiscardMessageSubject] = @OnDiscardMessageSubject,", " "),  new Array(1,"[OnDiscardMessageBody] = @OnDiscardMessageBody", " "),  new Array(1,"WHERE  [StateID] = @StateID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateContentWorkflowStatePermission]", " "),  new Array(1,"@WorkflowStatePermissionID int,", " "),  new Array(1,"@StateID int,", " "),  new Array(1,"@PermissionID int,", " "),  new Array(1,"@RoleID int ,", " "),  new Array(1,"@AllowAccess bit,", " "),  new Array(1,"@UserID int,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.ContentWorkflowStatePermission", " "),  new Array(1,"SET", " "),  new Array(1,"[StateID] = @StateID,", " "),  new Array(1,"[PermissionID] = @PermissionID,", " "),  new Array(1,"[RoleID] = @RoleID,", " "),  new Array(1,"[AllowAccess] = @AllowAccess,", " "),  new Array(1,"[UserID] = @UserID,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = getdate()", " "),  new Array(1,"WHERE", " "),  new Array(1,"[WorkflowStatePermissionID] = @WorkflowStatePermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[UpdateDatabaseVersion]", " "),  new Array(1,"", " "),  new Array(1,"@Major  int,", " "),  new Array(1,"@Minor  int,", " "),  new Array(1,"@Build  int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"insert into dbo.Version (", " "),  new Array(1,"Major,", " "),  new Array(1,"Minor,", " "),  new Array(1,"Build,", " "),  new Array(1,"CreatedDate", " "),  new Array(1,")", " "),  new Array(1,"values (", " "),  new Array(1,"@Major,", " "),  new Array(1,"@Minor,", " "),  new Array(1,"@Build,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[UpdateDatabaseVersionAndName]", " "),  new Array(1,"", " "),  new Array(1,"@Major  int,", " "),  new Array(1,"@Minor  int,", " "),  new Array(1,"@Build  int,", " "),  new Array(1,"@Name	nvarchar(50)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.Version (", " "),  new Array(1,"Major,", " "),  new Array(1,"Minor,", " "),  new Array(1,"Build,", " "),  new Array(1,"[Name],", " "),  new Array(1,"CreatedDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@Major,", " "),  new Array(1,"@Minor,", " "),  new Array(1,"@Build,", " "),  new Array(1,"@Name,", " "),  new Array(1,"getdate()", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateDatabaseVersionIncrement]", " "),  new Array(1,"", " "),  new Array(1,"@Major  int,", " "),  new Array(1,"@Minor  int,", " "),  new Array(1,"@Build  int,", " "),  new Array(1,"@Increment int,", " "),  new Array(1,"@Name	nvarchar(50)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.Version", " "),  new Array(1,"SET Increment=@Increment where Major=@Major AND Minor=@Minor AND Build=@Build AND Name=@Name", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateDesktopModule]", " "),  new Array(1,"@DesktopModuleId		int,", " "),  new Array(1,"@PackageID			int,", " "),  new Array(1,"@ModuleName			nvarchar(128),", " "),  new Array(1,"@FolderName			nvarchar(128),", " "),  new Array(1,"@FriendlyName			nvarchar(128),", " "),  new Array(1,"@Description			nvarchar(2000),", " "),  new Array(1,"@Version			nvarchar(8),", " "),  new Array(1,"@IsPremium			bit,", " "),  new Array(1,"@IsAdmin			bit,", " "),  new Array(1,"@BusinessController		nvarchar(200),", " "),  new Array(1,"@SupportedFeatures		int,", " "),  new Array(1,"@Shareable			int,", " "),  new Array(1,"@CompatibleVersions		nvarchar(500),", " "),  new Array(1,"@Dependencies			nvarchar(400),", " "),  new Array(1,"@Permissions			nvarchar(400),", " "),  new Array(1,"@ContentItemId			int,", " "),  new Array(1,"@LastModifiedByUserID		int,", " "),  new Array(1,"@AdminPage		nvarchar(128),", " "),  new Array(1,"@HostPage		nvarchar(128)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.DesktopModules", " "),  new Array(1,"SET", " "),  new Array(1,"PackageID = @PackageID,", " "),  new Array(1,"ModuleName = @ModuleName,", " "),  new Array(1,"FolderName = @FolderName,", " "),  new Array(1,"FriendlyName = @FriendlyName,", " "),  new Array(1,"Description = @Description,", " "),  new Array(1,"Version = @Version,", " "),  new Array(1,"IsPremium = @IsPremium,", " "),  new Array(1,"IsAdmin = @IsAdmin,", " "),  new Array(1,"BusinessControllerClass = @BusinessController,", " "),  new Array(1,"SupportedFeatures = @SupportedFeatures,", " "),  new Array(1,"Shareable = @Shareable,", " "),  new Array(1,"CompatibleVersions = @CompatibleVersions,", " "),  new Array(1,"Dependencies = @Dependencies,", " "),  new Array(1,"Permissions = @Permissions,", " "),  new Array(1,"ContentItemId = @ContentItemId,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate(),", " "),  new Array(1,"AdminPage=@AdminPage,", " "),  new Array(1,"HostPage=@HostPage", " "),  new Array(1,"WHERE  DesktopModuleId = @DesktopModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateDesktopModulePermission]", " "),  new Array(1,"@DesktopModulePermissionId Int, -- not null!", " "),  new Array(1,"@PortalDesktopModuleId     Int, -- not null!", " "),  new Array(1,"@PermissionId              Int, -- not null!", " "),  new Array(1,"@RoleId                    Int, -- might be negative for virtual roles", " "),  new Array(1,"@AllowAccess               Bit, -- false: deny, true: grant", " "),  new Array(1,"@UserId                    Int, -- -1 is replaced by Null", " "),  new Array(1,"@LastModifiedByUserId      Int  -- -1 is replaced by Null", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.[DesktopModulePermission]", " "),  new Array(1,"SET", " "),  new Array(1,"[PortalDesktopModuleId] = @PortalDesktopModuleId,", " "),  new Array(1,"[PermissionId]          = @PermissionId,", " "),  new Array(1,"[RoleId]                = @RoleId,", " "),  new Array(1,"[AllowAccess]           = @AllowAccess,", " "),  new Array(1,"[UserId]                = CASE WHEN @UserId = -1 THEN Null ELSE @UserId  END,", " "),  new Array(1,"[LastModifiedByUserId]  = CASE WHEN @LastModifiedByUserId = -1 THEN Null ELSE @LastModifiedByUserId  END,", " "),  new Array(1,"[LastModifiedOnDate]    = GetDate()", " "),  new Array(1,"WHERE [DesktopModulePermissionId] = @DesktopModulePermissionId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateEventLogConfig]", " "),  new Array(1,"@ID int,", " "),  new Array(1,"@LogTypeKey nvarchar(35),", " "),  new Array(1,"@LogTypePortalID int,", " "),  new Array(1,"@LoggingIsActive bit,", " "),  new Array(1,"@KeepMostRecent int,", " "),  new Array(1,"@EmailNotificationIsActive bit,", " "),  new Array(1,"@NotificationThreshold int,", " "),  new Array(1,"@NotificationThresholdTime int,", " "),  new Array(1,"@NotificationThresholdTimeType int,", " "),  new Array(1,"@MailFromAddress nvarchar(50),", " "),  new Array(1,"@MailToAddress nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.EventLogConfig", " "),  new Array(1,"SET 	LogTypeKey = @LogTypeKey,", " "),  new Array(1,"LogTypePortalID = @LogTypePortalID,", " "),  new Array(1,"LoggingIsActive = @LoggingIsActive,", " "),  new Array(1,"KeepMostRecent = @KeepMostRecent,", " "),  new Array(1,"EmailNotificationIsActive = @EmailNotificationIsActive,", " "),  new Array(1,"NotificationThreshold = @NotificationThreshold,", " "),  new Array(1,"NotificationThresholdTime = @NotificationThresholdTime,", " "),  new Array(1,"NotificationThresholdTimeType = @NotificationThresholdTimeType,", " "),  new Array(1,"MailFromAddress = @MailFromAddress,", " "),  new Array(1,"MailToAddress = @MailToAddress", " "),  new Array(1,"WHERE	ID = @ID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateEventLogPendingNotif]", " "),  new Array(1,"@LogConfigID int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.EventLog", " "),  new Array(1,"SET LogNotificationPending = 0", " "),  new Array(1,"WHERE LogNotificationPending = 1", " "),  new Array(1,"AND LogConfigID = @LogConfigID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateEventLogType]", " "),  new Array(1,"@LogTypeKey nvarchar(35),", " "),  new Array(1,"@LogTypeFriendlyName nvarchar(50),", " "),  new Array(1,"@LogTypeDescription nvarchar(128),", " "),  new Array(1,"@LogTypeOwner nvarchar(100),", " "),  new Array(1,"@LogTypeCSSClass nvarchar(40)", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.EventLogTypes", " "),  new Array(1,"SET LogTypeFriendlyName = @LogTypeFriendlyName,", " "),  new Array(1,"LogTypeDescription = @LogTypeDescription,", " "),  new Array(1,"LogTypeOwner = @LogTypeOwner,", " "),  new Array(1,"LogTypeCSSClass = @LogTypeCSSClass", " "),  new Array(1,"WHERE	LogTypeKey = @LogTypeKey", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateExtensionUrlProvider]", " "),  new Array(1,"@ExtensionUrlProviderID		int,", " "),  new Array(1,"@IsActive					bit", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.ExtensionUrlProviders", " "),  new Array(1,"SET IsActive = @IsActive", " "),  new Array(1,"WHERE ExtensionUrlProviderID = @ExtensionUrlProviderID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateFile]", " "),  new Array(1,"@FileId                 Int,", " "),  new Array(1,"@VersionGuid            UniqueIdentifier,", " "),  new Array(1,"@FileName               nVarChar(246),", " "),  new Array(1,"@Extension              nVarChar(100),", " "),  new Array(1,"@Size                   Int,", " "),  new Array(1,"@Width                  Int,", " "),  new Array(1,"@Height                 Int,", " "),  new Array(1,"@ContentType            nVarChar(200),", " "),  new Array(1,"@FolderID               Int,", " "),  new Array(1,"@LastModifiedByUserID   Int,", " "),  new Array(1,"@Hash                   VarChar(40),", " "),  new Array(1,"@LastModificationTime   DateTime,", " "),  new Array(1,"@Title                  nVarChar(256),", " "),  new Array(1,"@Description            nVarChar(500),", " "),  new Array(1,"@EnablePublishPeriod    Bit,", " "),  new Array(1,"@StartDate              DateTime,", " "),  new Array(1,"@EndDate                DateTime,", " "),  new Array(1,"@ContentItemID          Int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET NOCOUNT OFF;", " "),  new Array(1,"DECLARE @PortalID int;", " "),  new Array(1,"SELECT @PortalID = PortalID FROM dbo.[Folders] WHERE FolderID = @FolderID;", " "),  new Array(1,"UPDATE dbo.[Files]", " "),  new Array(1,"SET   FileName             = @FileName,", " "),  new Array(1,"VersionGuid          = @VersionGuid,", " "),  new Array(1,"Extension            = @Extension,", " "),  new Array(1,"Size                 = @Size,", " "),  new Array(1,"Width                = @Width,", " "),  new Array(1,"Height               = @Height,", " "),  new Array(1,"ContentType          = @ContentType,", " "),  new Array(1,"FolderID             = @FolderID,", " "),  new Array(1,"PortalID             = @PortalID,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate   = GetDate(),", " "),  new Array(1,"SHA1Hash             = @Hash,", " "),  new Array(1,"LastModificationTime = @LastModificationTime,", " "),  new Array(1,"Title                = @Title,", " "),  new Array(1,"Description          = @Description,", " "),  new Array(1,"EnablePublishPeriod  = @EnablePublishPeriod,", " "),  new Array(1,"StartDate            = @StartDate,", " "),  new Array(1,"EndDate              = @EndDate,", " "),  new Array(1,"ContentItemID        = @ContentItemID", " "),  new Array(1,"WHERE FileId = @FileId", " "),  new Array(1,"", " "),  new Array(1,"--UPDATE THE PARENT FOLDERS UPDATED DATE TO LASTET DATE", " "),  new Array(1,"IF(@@ROWCOUNT>0 AND @FolderID IS NOT NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC dbo.[UpdateFolderModifiedOnToCurrentDate] @FolderID", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[UpdateFileContent]", " "),  new Array(1,"", " "),  new Array(1,"@FileId      int,", " "),  new Array(1,"@Content     image", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"update dbo.Files", " "),  new Array(1,"set    Content = @Content", " "),  new Array(1,"where  FileId = @FileId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateFileHashCode]", " "),  new Array(1,"@FileId				  Int, 		-- Not Null", " "),  new Array(1,"@HashCode VARCHAR(40)  -- Not NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[Files]", " "),  new Array(1,"SET    SHA1Hash = @HashCode", " "),  new Array(1,"WHERE  FileId = @FileId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateFileLastModificationTime]", " "),  new Array(1,"@FileId				  Int, 		-- Not Null", " "),  new Array(1,"@LastModificationTime DateTime  -- Null: Now", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[Files]", " "),  new Array(1,"SET    LastModificationTime = IsNull(@LastModificationTime, GetDate())", " "),  new Array(1,"WHERE  FileId = @FileId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateFileVersion]", " "),  new Array(1,"@FileID			int,", " "),  new Array(1,"@VersionGuid	uniqueidentifier", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Files", " "),  new Array(1,"SET    VersionGuid = @VersionGuid", " "),  new Array(1,"WHERE  FileID = @FileID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateFolder]", " "),  new Array(1,"@PortalID 				int,", " "),  new Array(1,"@VersionGuid 			uniqueidentifier,", " "),  new Array(1,"@FolderID 				int,", " "),  new Array(1,"@FolderPath 			nvarchar(300),", " "),  new Array(1,"@MappedPath 			nvarchar(300),", " "),  new Array(1,"@StorageLocation 		int,", " "),  new Array(1,"@IsProtected 			bit,", " "),  new Array(1,"@IsCached 				bit,", " "),  new Array(1,"@LastUpdated 			datetime,", " "),  new Array(1,"@LastModifiedByUserID  	int,", " "),  new Array(1,"@FolderMappingID		int,", " "),  new Array(1,"@IsVersioned			bit = 0,", " "),  new Array(1,"@WorkflowID				int = NULL,", " "),  new Array(1,"@ParentID				int = NULL", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET NOCOUNT OFF;", " "),  new Array(1,"UPDATE dbo.[Folders]", " "),  new Array(1,"SET", " "),  new Array(1,"FolderPath = @FolderPath,", " "),  new Array(1,"MappedPath = @MappedPath,", " "),  new Array(1,"VersionGuid = @VersionGuid,", " "),  new Array(1,"StorageLocation = @StorageLocation,", " "),  new Array(1,"IsProtected = @IsProtected,", " "),  new Array(1,"IsCached = @IsCached,", " "),  new Array(1,"LastUpdated = @LastUpdated,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate(),", " "),  new Array(1,"FolderMappingID = @FolderMappingID,", " "),  new Array(1,"IsVersioned = @IsVersioned,", " "),  new Array(1,"WorkflowID = @WorkflowID,", " "),  new Array(1,"ParentID = @ParentID", " "),  new Array(1,"WHERE FolderID = @FolderID", " "),  new Array(1,"", " "),  new Array(1,"--UPDATE THE PARENT FOLDERS UPDATED DATE TO LASTET DATE", " "),  new Array(1,"IF(@@ROWCOUNT>0 AND @ParentID IS NOT NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC dbo.[UpdateFolderModifiedOnToCurrentDate] @ParentID", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateFolderMapping]", " "),  new Array(1,"@FolderMappingID int,", " "),  new Array(1,"@MappingName nvarchar(50),", " "),  new Array(1,"@Priority int,", " "),  new Array(1,"@LastModifiedByUserID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[FolderMappings]", " "),  new Array(1,"SET", " "),  new Array(1,"MappingName = @MappingName,", " "),  new Array(1,"Priority = @Priority,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE FolderMappingID = @FolderMappingID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateFolderMappingsSetting]", " "),  new Array(1,"@FolderMappingID int,", " "),  new Array(1,"@SettingName nvarchar(50),", " "),  new Array(1,"@SettingValue nvarchar(2000),", " "),  new Array(1,"@LastModifiedByUserID int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.[FolderMappingsSettings]", " "),  new Array(1,"SET", " "),  new Array(1,"SettingValue = @SettingValue,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE FolderMappingID = @FolderMappingID AND SettingName = @SettingName", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateFolderModifiedOnToCurrentDate]", " "),  new Array(1,"@FolderID	Int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET NOCOUNT OFF;", " "),  new Array(1,"--Update the folder only if it has LastModifiedOnDate more than 59 secs old.", " "),  new Array(1,"--This is to avoid too many updates during massive sync", " "),  new Array(1,"UPDATE dbo.[Folders] SET LastModifiedOnDate=GETDATE() WHERE FolderID=@FolderID AND DATEDIFF(SECOND,LastModifiedOnDate,GETDATE())>=60", " "),  new Array(1,"IF(@@ROWCOUNT>0)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"--Check if the parent also needs updation", " "),  new Array(1,"DECLARE @ParentID Int;", " "),  new Array(1,"SELECT @ParentID = ParentID FROM dbo.[Folders] WHERE FolderID=@FolderID", " "),  new Array(1,"IF(@ParentID>0)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC dbo.[UpdateFolderModifiedOnToCurrentDate] @ParentID", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateFolderPermission]", " "),  new Array(1,"@FolderPermissionID     Int, -- not null!", " "),  new Array(1,"@FolderID               Int, -- not null!", " "),  new Array(1,"@PermissionId           Int, -- not null!", " "),  new Array(1,"@RoleId                 Int, -- might be negative for virtual roles", " "),  new Array(1,"@AllowAccess            Bit, -- false: deny, true: grant", " "),  new Array(1,"@UserId                 Int, -- -1 is replaced by Null", " "),  new Array(1,"@LastModifiedByUserId   Int  -- -1 is replaced by Null", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.[FolderPermission] SET", " "),  new Array(1,"[FolderID]             = @FolderID,", " "),  new Array(1,"[PermissionID]         = @PermissionID,", " "),  new Array(1,"[RoleId]               = @RoleId,", " "),  new Array(1,"[AllowAccess]          = @AllowAccess,", " "),  new Array(1,"[UserId]               = CASE WHEN @UserId = -1 THEN Null ELSE @UserId  END,", " "),  new Array(1,"[LastModifiedByUserId] = CASE WHEN @LastModifiedByUserId = -1 THEN Null ELSE @LastModifiedByUserId  END,", " "),  new Array(1,"[LastModifiedOnDate]   = GetDate()", " "),  new Array(1,"WHERE", " "),  new Array(1,"[FolderPermissionID]   = @FolderPermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateFolderVersion]", " "),  new Array(1,"@FolderID		int,", " "),  new Array(1,"@VersionGuid	uniqueidentifier", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Folders", " "),  new Array(1,"SET    VersionGuid = @VersionGuid", " "),  new Array(1,"WHERE  FolderID = @FolderID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateHeirarchicalTerm]", " "),  new Array(1,"@TermID					int,", " "),  new Array(1,"@VocabularyID			int,", " "),  new Array(1,"@ParentTermID			int,", " "),  new Array(1,"@Name					nvarchar(250),", " "),  new Array(1,"@Description			nvarchar(2500),", " "),  new Array(1,"@Weight					int,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @Left				int", " "),  new Array(1,"DECLARE @Right				int", " "),  new Array(1,"DECLARE @Width				int", " "),  new Array(1,"", " "),  new Array(1,"SET @Left = (SELECT TermLeft FROM dbo.Taxonomy_Terms WHERE TermID = @TermID)", " "),  new Array(1,"SET @Right = (SELECT TermRight FROM dbo.Taxonomy_Terms WHERE TermID = @TermID)", " "),  new Array(1,"SET @Width = @Right - @Left + 1", " "),  new Array(1,"", " "),  new Array(1,"BEGIN TRANSACTION", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Temporarily remove term from heirarchy - but retain information about term and children", " "),  new Array(1,"-- (these should now be -n, ...,-2,-1 etc)", " "),  new Array(1,"UPDATE dbo.Taxonomy_Terms", " "),  new Array(1,"SET TermLeft = TermLeft - @Right - 1,", " "),  new Array(1,"TermRight = TermRight - @Right - 1", " "),  new Array(1,"WHERE TermLeft >= @Left", " "),  new Array(1,"AND TermRight <= @Right", " "),  new Array(1,"AND VocabularyID = @VocabularyID", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Update Left values for all items that are after the original term", " "),  new Array(1,"UPDATE dbo.Taxonomy_Terms", " "),  new Array(1,"SET TermLeft = TermLeft - @Width", " "),  new Array(1,"WHERE TermLeft >= @Left + @Width", " "),  new Array(1,"AND VocabularyID = @VocabularyID", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Update Right values for all items that are after the original term", " "),  new Array(1,"UPDATE dbo.Taxonomy_Terms", " "),  new Array(1,"SET TermRight = TermRight - @Width", " "),  new Array(1,"WHERE TermRight >= @Right", " "),  new Array(1,"AND VocabularyID = @VocabularyID", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Get Left value of Sibling that we are inserting before", " "),  new Array(1,"SET @Left = (SELECT TOP 1 TermLeft FROM dbo.Taxonomy_Terms", " "),  new Array(1,"WHERE VocabularyID = @VocabularyID", " "),  new Array(1,"AND ParentTermID = @ParentTermID", " "),  new Array(1,"AND Name > @Name", " "),  new Array(1,"ORDER BY Name)", " "),  new Array(1,"", " "),  new Array(1,"-- Term is to be inserted at end of sibling list so get the Right value of the parent, which will become our new left value", " "),  new Array(1,"IF @Left IS NULL", " "),  new Array(1,"SET @Left = (SELECT TermRight FROM dbo.Taxonomy_Terms", " "),  new Array(1,"WHERE VocabularyID = @VocabularyID", " "),  new Array(1,"AND TermID = @ParentTermID)", " "),  new Array(1,"", " "),  new Array(1,"-- Left is still null means this is the first term in this vocabulary - set the Left to 1", " "),  new Array(1,"IF @Left IS NULL", " "),  new Array(1,"SET @Left = 1", " "),  new Array(1,"", " "),  new Array(1,"SET @Right = @Left + @Width - 1", " "),  new Array(1,"", " "),  new Array(1,"-- Update Left values for all items that are after the updated term", " "),  new Array(1,"UPDATE dbo.Taxonomy_Terms", " "),  new Array(1,"SET TermLeft = TermLeft + @Width", " "),  new Array(1,"WHERE TermLeft >= @Left", " "),  new Array(1,"AND VocabularyID = @VocabularyID", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Update Right values for all items that are after the term", " "),  new Array(1,"UPDATE dbo.Taxonomy_Terms", " "),  new Array(1,"SET TermRight = TermRight + @Width", " "),  new Array(1,"WHERE TermRight >= @Left", " "),  new Array(1,"AND VocabularyID = @VocabularyID", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Update Left\/Right values for all items temporarily removed from heirarchy", " "),  new Array(1,"UPDATE dbo.Taxonomy_Terms", " "),  new Array(1,"SET TermLeft = TermLeft + @Left + @Width,", " "),  new Array(1,"TermRight = TermRight + @Left + @Width", " "),  new Array(1,"WHERE TermLeft < 0", " "),  new Array(1,"AND TermRight < 0", " "),  new Array(1,"AND VocabularyID = @VocabularyID", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Update Term", " "),  new Array(1,"UPDATE dbo.Taxonomy_Terms", " "),  new Array(1,"SET", " "),  new Array(1,"VocabularyID = @VocabularyID,", " "),  new Array(1,"ParentTermID = @ParentTermID,", " "),  new Array(1,"[Name] = @Name,", " "),  new Array(1,"Description = @Description,", " "),  new Array(1,"Weight = @Weight,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE TermID = @TermID", " "),  new Array(1,"", " "),  new Array(1,"IF @@ERROR = 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"COMMIT TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Rollback the transaction", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Rollback the transaction", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Rollback the transaction", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Rollback the transaction", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Rollback the transaction", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Rollback the transaction", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Rollback the transaction", " "),  new Array(1,"ROLLBACK TRANSACTION", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateHostSetting]", " "),  new Array(1,"@SettingName	   nvarchar( 50),", " "),  new Array(1,"@SettingValue	   nvarchar(Max),", " "),  new Array(1,"@SettingIsSecure   bit,", " "),  new Array(1,"@UserID	           int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- empty value: remove setting", " "),  new Array(1,"IF IsNull(@SettingValue, N\'\') = N\'\' AND IsNull(@SettingName, N\'\') != N\'\'", " "),  new Array(1,"DELETE FROM dbo.[HostSettings]", " "),  new Array(1,"WHERE SettingName = @SettingName;", " "),  new Array(1,"ELSE IF IsNull(@SettingName, N\'\') != N\'\' BEGIN -- key must be valid", " "),  new Array(1,"MERGE INTO dbo.[HostSettings] S", " "),  new Array(1,"USING (SELECT @SettingName SN, @SettingValue SV, @SettingIsSecure Sec) Q", " "),  new Array(1,"ON (S.SettingName = Q.SN)", " "),  new Array(1,"WHEN MATCHED AND (IsNull(S.SettingValue, N\'\') != IsNull(Q.SV, N\'\') OR S.SettingIsSecure != Q.Sec) THEN -- update only, if value has been modified:", " "),  new Array(1,"UPDATE SET [SettingValue] = Q.SV, [SettingIsSecure] = Q.Sec, [LastModifiedByUserID] = @UserID, [LastModifiedOnDate] = GetDate()", " "),  new Array(1,"WHEN NOT MATCHED THEN", " "),  new Array(1,"INSERT ( SettingName,  SettingValue,  SettingIsSecure, CreatedByUserID    , CreatedOnDate, LastModifiedByUserID, LastModifiedOnDate)", " "),  new Array(1,"VALUES (@SettingName, @SettingValue, @SettingIsSecure, IsNull(@UserID, -1),     GetDate(),  IsNull(@UserID, -1),          GetDate());", " "),  new Array(1,"END; -- Else If", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[UpdateHtmlText]", " "),  new Array(1,"", " "),  new Array(1,"@ItemID          int,", " "),  new Array(1,"@Content         ntext,", " "),  new Array(1,"@Summary		 ntext,", " "),  new Array(1,"@StateID         int,", " "),  new Array(1,"@IsPublished     bit,", " "),  new Array(1,"@UserID          int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"update dbo.HtmlText", " "),  new Array(1,"set    Content              = @Content,", " "),  new Array(1,"Summary				= @Summary,", " "),  new Array(1,"StateID              = @StateID,", " "),  new Array(1,"IsPublished          = @IsPublished,", " "),  new Array(1,"LastModifiedByUserID = @UserID,", " "),  new Array(1,"LastModifiedOnDate   = getdate()", " "),  new Array(1,"where  ItemID = @ItemID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateIPFilter]", " "),  new Array(1,"@IPFilterID		int,", " "),  new Array(1,"@IPAddress		nvarchar(50),", " "),  new Array(1,"@SubnetMask		nvarchar(50),", " "),  new Array(1,"@RuleType		tinyint,", " "),  new Array(1,"@LastModifiedByUserID		int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.IPFilter", " "),  new Array(1,"SET", " "),  new Array(1,"IPAddress = @IPAddress,", " "),  new Array(1,"SubnetMask = @SubnetMask,", " "),  new Array(1,"RuleType = @RuleType,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE IPFilterID = @IPFilterID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateLanguage]", " "),  new Array(1,"", " "),  new Array(1,"@LanguageID			    int,", " "),  new Array(1,"@CultureCode		    nvarchar(50),", " "),  new Array(1,"@CultureName            nvarchar(200),", " "),  new Array(1,"@FallbackCulture        nvarchar(50),", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Languages", " "),  new Array(1,"SET", " "),  new Array(1,"CultureCode = @CultureCode,", " "),  new Array(1,"CultureName = @CultureName,", " "),  new Array(1,"FallbackCulture = @FallbackCulture,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = getdate()", " "),  new Array(1,"WHERE LanguageID = @LanguageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateLanguagePack]", " "),  new Array(1,"@LanguagePackID			int,", " "),  new Array(1,"@PackageID			    int,", " "),  new Array(1,"@LanguageID			    int,", " "),  new Array(1,"@DependentPackageID		int,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.LanguagePacks", " "),  new Array(1,"SET", " "),  new Array(1,"PackageID = @PackageID,", " "),  new Array(1,"LanguageID = @LanguageID,", " "),  new Array(1,"DependentPackageID = @DependentPackageID,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = GETDATE()", " "),  new Array(1,"WHERE LanguagePackID = @LanguagePackID", " "),  new Array(1,"", " "),  new Array(1,"SELECT @LanguagePackID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateLegacyFolders]", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE TOP (500) dbo.Folders", " "),  new Array(1,"SET ParentID = (COALESCE(", " "),  new Array(1,"(SELECT TOP 1", " "),  new Array(1,"F2.FolderID", " "),  new Array(1,"FROM dbo.Folders AS F2", " "),  new Array(1,"WHERE SUBSTRING (F1.FolderPath, 1, LEN(F1.FolderPath) -", " "),  new Array(1,"(CASE", " "),  new Array(1,"WHEN CHARINDEX (\'\/\', REVERSE(SUBSTRING(F1.FolderPath, 0, LEN(F1.FolderPath)))) != 0", " "),  new Array(1,"THEN CHARINDEX (\'\/\', REVERSE(SUBSTRING(F1.FolderPath, 0, LEN(F1.FolderPath))))", " "),  new Array(1,"ELSE LEN(F1.FolderPath) END", " "),  new Array(1,")) = F2.FolderPath", " "),  new Array(1,"AND (F2.PortalID = F1.PortalID OR (F1.PortalID IS NULL AND F2.PortalID IS NULL))", " "),  new Array(1,"AND LEN(F1.FolderPath) > LEN(F2.FolderPath)", " "),  new Array(1,"ORDER BY LEN(F2.FolderPath) DESC", " "),  new Array(1,"), -1))", " "),  new Array(1,"FROM dbo.Folders AS F1", " "),  new Array(1,"WHERE F1.ParentID IS NULL AND FolderPath <> \'\'", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE procedure [dbo].[UpdateListEntry]", " "),  new Array(1,"", " "),  new Array(1,"@EntryID int,", " "),  new Array(1,"@Value nvarchar(100),", " "),  new Array(1,"@Text nvarchar(150),", " "),  new Array(1,"@Description nvarchar(500),", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Lists", " "),  new Array(1,"SET", " "),  new Array(1,"[Value] = @Value,", " "),  new Array(1,"[Text] = @Text,", " "),  new Array(1,"[Description] = @Description,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = getdate()", " "),  new Array(1,"WHERE 	[EntryID] = @EntryID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateListSortOrder]", " "),  new Array(1,"(", " "),  new Array(1,"@EntryID	int,", " "),  new Array(1,"@MoveUp		bit", " "),  new Array(1,")", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @EntryListName nvarchar(50)", " "),  new Array(1,"DECLARE @ParentID int", " "),  new Array(1,"DECLARE @CurrentSortValue int", " "),  new Array(1,"DECLARE @ReplaceSortValue int", " "),  new Array(1,"-- Get the current sort order", " "),  new Array(1,"SELECT @CurrentSortValue = [SortOrder], @EntryListName = [ListName], @ParentID = [ParentID]", " "),  new Array(1,"FROM dbo.Lists WITH (nolock)", " "),  new Array(1,"WHERE [EntryID] = @EntryID", " "),  new Array(1,"-- Move the item up or down?", " "),  new Array(1,"IF (@MoveUp = 1)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (@CurrentSortValue != 1) -- we rearrange sort order only if list enable sort order - sortorder >= 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ReplaceSortValue = @CurrentSortValue - 1", " "),  new Array(1,"UPDATE dbo.Lists", " "),  new Array(1,"SET [SortOrder] = @CurrentSortValue", " "),  new Array(1,"WHERE [SortOrder] = @ReplaceSortValue And [ListName] = @EntryListName And [ParentID] = @ParentID", " "),  new Array(1,"UPDATE dbo.Lists", " "),  new Array(1,"SET [SortOrder] = @ReplaceSortValue", " "),  new Array(1,"WHERE [EntryID] = @EntryID", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF (@CurrentSortValue < (SELECT MAX([SortOrder]) FROM dbo.Lists))", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @ReplaceSortValue = @CurrentSortValue + 1", " "),  new Array(1,"UPDATE dbo.Lists", " "),  new Array(1,"SET [SortOrder] = @CurrentSortValue", " "),  new Array(1,"WHERE SortOrder = @ReplaceSortValue And [ListName] = @EntryListName  And [ParentID] = @ParentID", " "),  new Array(1,"UPDATE dbo.Lists", " "),  new Array(1,"SET [SortOrder] = @ReplaceSortValue", " "),  new Array(1,"WHERE EntryID = @EntryID", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateModule]", " "),  new Array(1,"@ModuleId					int,", " "),  new Array(1,"@ModuleDefId                int,", " "),  new Array(1,"@ContentItemID				int,", " "),  new Array(1,"@AllTabs					bit,", " "),  new Array(1,"@StartDate					datetime,", " "),  new Array(1,"@EndDate					datetime,", " "),  new Array(1,"@InheritViewPermissions		bit,", " "),  new Array(1,"@IsShareable				bit,", " "),  new Array(1,"@IsShareableViewOnly		bit,", " "),  new Array(1,"@IsDeleted					bit,", " "),  new Array(1,"@LastModifiedByUserID  		int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE	dbo.Modules", " "),  new Array(1,"SET", " "),  new Array(1,"ModuleDefId = @ModuleDefId,", " "),  new Array(1,"ContentItemID = @ContentItemID,", " "),  new Array(1,"AllTabs = @AllTabs,", " "),  new Array(1,"StartDate = @StartDate,", " "),  new Array(1,"EndDate = @EndDate,", " "),  new Array(1,"InheritViewPermissions = @InheritViewPermissions,", " "),  new Array(1,"IsShareable = @IsShareable,", " "),  new Array(1,"IsShareableViewOnly = @IsShareableViewOnly,", " "),  new Array(1,"IsDeleted = @IsDeleted,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE  ModuleId = @ModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateModuleControl]", " "),  new Array(1,"@ModuleControlId				int,", " "),  new Array(1,"@ModuleDefID					int,", " "),  new Array(1,"@ControlKey						nvarchar(50),", " "),  new Array(1,"@ControlTitle					nvarchar(50),", " "),  new Array(1,"@ControlSrc						nvarchar(256),", " "),  new Array(1,"@IconFile						nvarchar(100),", " "),  new Array(1,"@ControlType					int,", " "),  new Array(1,"@ViewOrder						int,", " "),  new Array(1,"@HelpUrl						nvarchar(200),", " "),  new Array(1,"@SupportsPartialRendering		bit,", " "),  new Array(1,"@SupportsPopUps					bit,", " "),  new Array(1,"@LastModifiedByUserID  			int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.ModuleControls", " "),  new Array(1,"SET", " "),  new Array(1,"ModuleDefId = @ModuleDefId,", " "),  new Array(1,"ControlKey = @ControlKey,", " "),  new Array(1,"ControlTitle = @ControlTitle,", " "),  new Array(1,"ControlSrc = @ControlSrc,", " "),  new Array(1,"IconFile = @IconFile,", " "),  new Array(1,"ControlType = @ControlType,", " "),  new Array(1,"ViewOrder = ViewOrder,", " "),  new Array(1,"HelpUrl = @HelpUrl,", " "),  new Array(1,"SupportsPartialRendering = @SupportsPartialRendering,", " "),  new Array(1,"SupportsPopUps = @SupportsPopUps,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE  ModuleControlId = @ModuleControlId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateModuleDefinition]", " "),  new Array(1,"", " "),  new Array(1,"@ModuleDefId			int,", " "),  new Array(1,"@FriendlyName			nvarchar(128),", " "),  new Array(1,"@DefinitionName			nvarchar(128),", " "),  new Array(1,"@DefaultCacheTime		int,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"update dbo.ModuleDefinitions", " "),  new Array(1,"SET FriendlyName = @FriendlyName,", " "),  new Array(1,"DefinitionName = @DefinitionName,", " "),  new Array(1,"DefaultCacheTime = @DefaultCacheTime,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE ModuleDefId = @ModuleDefId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateModuleLastContentModifiedOnDate]", " "),  new Array(1,"@ModuleID	int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Modules", " "),  new Array(1,"SET    LastContentModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE  ModuleID = @ModuleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateModuleOrder]", " "),  new Array(1,"@TabId              int,", " "),  new Array(1,"@ModuleId           int,", " "),  new Array(1,"@ModuleOrder        int,", " "),  new Array(1,"@PaneName           nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.TabModules", " "),  new Array(1,"SET	ModuleOrder = @ModuleOrder,", " "),  new Array(1,"PaneName = @PaneName,", " "),  new Array(1,"VersionGuid = newId(),", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE TabId = @TabId", " "),  new Array(1,"AND ModuleId = @ModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateModulePermission]", " "),  new Array(1,"@ModulePermissionId     Int, -- not null!", " "),  new Array(1,"@PortalId               Int, -- not null!", " "),  new Array(1,"@ModuleId               Int, -- not null!", " "),  new Array(1,"@PermissionId           Int, -- not null!", " "),  new Array(1,"@RoleId                 Int, -- might be negative for virtual roles", " "),  new Array(1,"@AllowAccess            Bit, -- false: deny, true: grant", " "),  new Array(1,"@UserId                 Int, -- -1 is replaced by Null", " "),  new Array(1,"@LastModifiedByUserId   Int  -- -1 is replaced by Null", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.[ModulePermission] SET", " "),  new Array(1,"[ModuleId]             = @ModuleId,", " "),  new Array(1,"[PortalId]             = @PortalId,", " "),  new Array(1,"[PermissionId]         = @PermissionId,", " "),  new Array(1,"[RoleId]               = @RoleId,", " "),  new Array(1,"[AllowAccess]          = @AllowAccess,", " "),  new Array(1,"[UserId]               = CASE WHEN @UserId = -1 THEN Null ELSE @UserId  END,", " "),  new Array(1,"[LastModifiedByUserId] = CASE WHEN @LastModifiedByUserId = -1 THEN Null ELSE @LastModifiedByUserId  END,", " "),  new Array(1,"[LastModifiedOnDate]   = GetDate()", " "),  new Array(1,"WHERE", " "),  new Array(1,"[ModulePermissionID]   = @ModulePermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateModuleSetting]", " "),  new Array(1,"@ModuleID			int,           -- Not Null|-1", " "),  new Array(1,"@SettingName		nvarchar( 50), -- Not Null|\'\'", " "),  new Array(1,"@SettingValue		nvarchar(Max), -- Null: remove setting", " "),  new Array(1,"@UserID				int            -- for logging", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- empty value: remove setting", " "),  new Array(1,"IF IsNull(@SettingValue, N\'\') = N\'\' AND IsNull(@SettingName, N\'\') != N\'\'", " "),  new Array(1,"DELETE FROM dbo.[ModuleSettings]", " "),  new Array(1,"WHERE IsNull(ModuleID, -1) = IsNull(@ModuleID, -1)", " "),  new Array(1,"AND SettingName = @SettingName;", " "),  new Array(1,"ELSE IF IsNull(@SettingName, N\'\') != N\'\' AND IsNull(@ModuleID, -1) != -1 BEGIN -- key must be valid", " "),  new Array(1,"MERGE INTO dbo.[ModuleSettings] S", " "),  new Array(1,"USING (SELECT @ModuleID MID, @SettingName SN, @SettingValue SV) Q", " "),  new Array(1,"ON (S.ModuleID = Q.MID AND S.SettingName = Q.SN)", " "),  new Array(1,"WHEN MATCHED AND IsNull(S.SettingValue, N\'\') != IsNull(Q.SV, N\'\') THEN -- update only, if value has been modified:", " "),  new Array(1,"UPDATE SET [SettingValue] = Q.SV, [LastModifiedByUserID] = @UserID, [LastModifiedOnDate] = GetDate()", " "),  new Array(1,"WHEN NOT MATCHED THEN", " "),  new Array(1,"INSERT ( ModuleID,  SettingName,  SettingValue, CreatedByUserID    , CreatedOnDate, LastModifiedByUserID, LastModifiedOnDate)", " "),  new Array(1,"VALUES (@ModuleID, @SettingName, @SettingValue, IsNull(@UserID, -1),     GetDate(),  IsNull(@UserID, -1),          GetDate());", " "),  new Array(1,"END; -- Else If", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateOnlineUser]", " "),  new Array(1,"@UserID 	INT,", " "),  new Array(1,"@PortalID 	INT,", " "),  new Array(1,"@TabID 		INT,", " "),  new Array(1,"@LastActiveDate DATETIME", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF EXISTS (SELECT UserID FROM dbo.Users WHERE UserID = @UserID)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF EXISTS (SELECT UserID FROM dbo.UsersOnline WHERE UserID = @UserID and PortalID = @PortalID)", " "),  new Array(1,"UPDATE", " "),  new Array(1,"dbo.UsersOnline", " "),  new Array(1,"SET", " "),  new Array(1,"TabID = @TabID,", " "),  new Array(1,"LastActiveDate = @LastActiveDate", " "),  new Array(1,"WHERE", " "),  new Array(1,"UserID = @UserID", " "),  new Array(1,"and", " "),  new Array(1,"PortalID = @PortalID", " "),  new Array(1,"ELSE", " "),  new Array(1,"INSERT INTO", " "),  new Array(1,"dbo.UsersOnline", " "),  new Array(1,"(UserID, PortalID, TabID, CreationDate, LastActiveDate)", " "),  new Array(1,"VALUES", " "),  new Array(1,"(@UserID, @PortalID, @TabID, GetDate(), @LastActiveDate)", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdatePackage]", " "),  new Array(1,"@PackageID			int,", " "),  new Array(1,"@PortalID			int,", " "),  new Array(1,"@FriendlyName	    nvarchar(250),", " "),  new Array(1,"@Description	    nvarchar(2000),", " "),  new Array(1,"@PackageType	    nvarchar(50),", " "),  new Array(1,"@Version		    nvarchar(50),", " "),  new Array(1,"@License		    ntext,", " "),  new Array(1,"@Manifest		    ntext,", " "),  new Array(1,"@Owner				nvarchar(100),", " "),  new Array(1,"@Organization		nvarchar(100),", " "),  new Array(1,"@Url				nvarchar(250),", " "),  new Array(1,"@Email				nvarchar(100),", " "),  new Array(1,"@ReleaseNotes	    ntext,", " "),  new Array(1,"@IsSystemPackage    bit,", " "),  new Array(1,"@LastModifiedByUserID	int,", " "),  new Array(1,"@FolderName			nvarchar(128),", " "),  new Array(1,"@IconFile			nvarchar(100)", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Packages", " "),  new Array(1,"SET", " "),  new Array(1,"PortalID = @PortalID,", " "),  new Array(1,"FriendlyName = @FriendlyName,", " "),  new Array(1,"[Description] = @Description,", " "),  new Array(1,"PackageType = @PackageType,", " "),  new Array(1,"Version = @Version,", " "),  new Array(1,"License = @License,", " "),  new Array(1,"Manifest = @Manifest,", " "),  new Array(1,"[Owner] = @Owner,", " "),  new Array(1,"Organization = @Organization,", " "),  new Array(1,"Url = @Url,", " "),  new Array(1,"Email = @Email,", " "),  new Array(1,"ReleaseNotes = @ReleaseNotes,", " "),  new Array(1,"IsSystemPackage = @IsSystemPackage,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,	[LastModifiedOnDate] = getdate(),", " "),  new Array(1,"FolderName = @FolderName,", " "),  new Array(1,"IconFile = @IconFile", " "),  new Array(1,"WHERE  PackageID = @PackageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdatePermission]", " "),  new Array(1,"@PermissionID			int,", " "),  new Array(1,"@PermissionCode			varchar(50),", " "),  new Array(1,"@ModuleDefID			int,", " "),  new Array(1,"@PermissionKey			varchar(50),", " "),  new Array(1,"@PermissionName			varchar(50),", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.Permission SET", " "),  new Array(1,"[ModuleDefID] = @ModuleDefID,", " "),  new Array(1,"[PermissionCode] = @PermissionCode,", " "),  new Array(1,"[PermissionKey] = @PermissionKey,", " "),  new Array(1,"[PermissionName] = @PermissionName,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = getdate()", " "),  new Array(1,"WHERE", " "),  new Array(1,"[PermissionID] = @PermissionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdatePortalAlias]", " "),  new Array(1,"@PortalAliasID		int,", " "),  new Array(1,"@PortalID 			int,", " "),  new Array(1,"@HTTPAlias 			nvarchar(200),", " "),  new Array(1,"@CultureCode		nvarchar(10),", " "),  new Array(1,"@Skin				nvarchar(100),", " "),  new Array(1,"@BrowserType		nvarchar(10),", " "),  new Array(1,"@IsPrimary			bit,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"IF @IsPrimary = 1", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.PortalAlias", " "),  new Array(1,"SET IsPrimary = 0", " "),  new Array(1,"WHERE (CultureCode = @CultureCode OR (CultureCode IS NULL AND @CultureCode IS NULL))", " "),  new Array(1,"AND (BrowserType = @BrowserType OR (BrowserType IS NULL AND @BrowserType IS NULL))", " "),  new Array(1,"AND (PortalID = @PortalID)", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.PortalAlias", " "),  new Array(1,"SET", " "),  new Array(1,"HTTPAlias = @HTTPAlias,", " "),  new Array(1,"CultureCode = @CultureCode,", " "),  new Array(1,"Skin = @Skin,", " "),  new Array(1,"BrowserType = @BrowserType,", " "),  new Array(1,"IsPrimary = @IsPrimary,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE PortalID = @PortalID", " "),  new Array(1,"AND	  PortalAliasID = @PortalAliasID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdatePortalAliasOnInstall]", " "),  new Array(1,"@PortalAlias			nvarchar(200),", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.PortalAlias", " "),  new Array(1,"SET HTTPAlias = @PortalAlias,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE  HTTPAlias = \'_default\'", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdatePortalDefaultLanguage]", " "),  new Array(1,"", " "),  new Array(1,"@PortalId            int,", " "),  new Array(1,"@CultureCode   nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Portals", " "),  new Array(1,"SET defaultlanguage=@CultureCode", " "),  new Array(1,"where portalid=@PortalId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdatePortalGroup]", " "),  new Array(1,"@PortalGroupID				int,", " "),  new Array(1,"@PortalGroupName			nvarchar(100),", " "),  new Array(1,"@PortalGroupDescription		nvarchar(2000),", " "),  new Array(1,"@AuthenticationDomain		nvarchar(200),", " "),  new Array(1,"@LastModifiedByUserID		int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.PortalGroups", " "),  new Array(1,"SET", " "),  new Array(1,"PortalGroupName = @PortalGroupName,", " "),  new Array(1,"PortalGroupDescription = @PortalGroupDescription,", " "),  new Array(1,"AuthenticationDomain = @AuthenticationDomain,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE PortalGroupID = @PortalGroupID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdatePortalInfo]", " "),  new Array(1,"@PortalID				INT,", " "),  new Array(1,"@PortalGroupID			INT,", " "),  new Array(1,"@PortalName				NVARCHAR(128),", " "),  new Array(1,"@LogoFile				NVARCHAR(50),", " "),  new Array(1,"@FooterText				NVARCHAR(100),", " "),  new Array(1,"@ExpiryDate				DATETIME,", " "),  new Array(1,"@UserRegistration		INT,", " "),  new Array(1,"@BannerAdvertising		INT,", " "),  new Array(1,"@Currency				CHAR(3),", " "),  new Array(1,"@AdministratorId		INT,", " "),  new Array(1,"@HostFee				MONEY,", " "),  new Array(1,"@HostSpace				INT,", " "),  new Array(1,"@PageQuota				INT,", " "),  new Array(1,"@UserQuota				INT,", " "),  new Array(1,"@PaymentProcessor		NVARCHAR(50),", " "),  new Array(1,"@ProcessorUserId		NVARCHAR(50),", " "),  new Array(1,"@ProcessorPassword		NVARCHAR(50),", " "),  new Array(1,"@Description			NVARCHAR(500),", " "),  new Array(1,"@KeyWords				NVARCHAR(500),", " "),  new Array(1,"@BackgroundFile			NVARCHAR(50),", " "),  new Array(1,"@SiteLogHistory			INT,", " "),  new Array(1,"@SplashTabId			INT,", " "),  new Array(1,"@HomeTabId				INT,", " "),  new Array(1,"@LoginTabId				INT,", " "),  new Array(1,"@RegisterTabId			INT,", " "),  new Array(1,"@UserTabId				INT,", " "),  new Array(1,"@SearchTabId			INT,", " "),  new Array(1,"@Custom404TabId			INT,", " "),  new Array(1,"@Custom500TabId			INT,", " "),  new Array(1,"@DefaultLanguage		NVARCHAR(10),", " "),  new Array(1,"@HomeDirectory			VARCHAR(100),", " "),  new Array(1,"@LastModifiedByUserID	INT,", " "),  new Array(1,"@CultureCode			NVARCHAR(50)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.Portals", " "),  new Array(1,"SET", " "),  new Array(1,"PortalGroupID		= @PortalGroupID,", " "),  new Array(1,"ExpiryDate			= @ExpiryDate,", " "),  new Array(1,"UserRegistration		= @UserRegistration,", " "),  new Array(1,"BannerAdvertising	= @BannerAdvertising,", " "),  new Array(1,"Currency				= @Currency,", " "),  new Array(1,"AdministratorId		= @AdministratorId,", " "),  new Array(1,"HostFee				= @HostFee,", " "),  new Array(1,"HostSpace			= @HostSpace,", " "),  new Array(1,"PageQuota			= @PageQuota,", " "),  new Array(1,"UserQuota			= @UserQuota,", " "),  new Array(1,"PaymentProcessor		= @PaymentProcessor,", " "),  new Array(1,"ProcessorUserId		= @ProcessorUserId,", " "),  new Array(1,"ProcessorPassword	= @ProcessorPassword,", " "),  new Array(1,"SiteLogHistory		= @SiteLogHistory,", " "),  new Array(1,"DefaultLanguage		= @DefaultLanguage,", " "),  new Array(1,"HomeDirectory		= @HomeDirectory,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate	= GETDATE()", " "),  new Array(1,"WHERE  PortalId = @PortalID", " "),  new Array(1,"", " "),  new Array(1,"IF EXISTS (SELECT * FROM dbo.PortalLocalization WHERE PortalId = @PortalID AND CultureCode = @CultureCode)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.PortalLocalization", " "),  new Array(1,"SET", " "),  new Array(1,"PortalName				= @PortalName,", " "),  new Array(1,"LogoFile				= @LogoFile,", " "),  new Array(1,"FooterText				= @FooterText,", " "),  new Array(1,"Description				= @Description,", " "),  new Array(1,"KeyWords				= @KeyWords,", " "),  new Array(1,"BackgroundFile			= @BackgroundFile,", " "),  new Array(1,"HomeTabId				= @HomeTabId,", " "),  new Array(1,"LoginTabId				= @LoginTabId,", " "),  new Array(1,"RegisterTabId			= @RegisterTabId,", " "),  new Array(1,"UserTabId				= @UserTabId,", " "),  new Array(1,"SplashTabId				= @SplashTabId,", " "),  new Array(1,"SearchTabId				= @SearchTabId,", " "),  new Array(1,"Custom404TabId			= @Custom404TabId,", " "),  new Array(1,"Custom500TabId			= @Custom500TabId,", " "),  new Array(1,"LastModifiedByUserID	= @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= GETDATE()", " "),  new Array(1,"WHERE	PortalId = @PortalID", " "),  new Array(1,"AND CultureCode = @CultureCode", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @AdminTabId int", " "),  new Array(1,"SET @AdminTabId = (SELECT AdminTabId", " "),  new Array(1,"FROM dbo.PortalLocalization", " "),  new Array(1,"WHERE PortalID = @PortalID AND CultureCode=\'en-US\')", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO dbo.PortalLocalization (", " "),  new Array(1,"[PortalID],", " "),  new Array(1,"[CultureCode],", " "),  new Array(1,"[PortalName],", " "),  new Array(1,"[LogoFile],", " "),  new Array(1,"[FooterText],", " "),  new Array(1,"[Description],", " "),  new Array(1,"[KeyWords],", " "),  new Array(1,"[BackgroundFile],", " "),  new Array(1,"[HomeTabId],", " "),  new Array(1,"[LoginTabId],", " "),  new Array(1,"[UserTabId],", " "),  new Array(1,"[AdminTabId],", " "),  new Array(1,"[SplashTabId],", " "),  new Array(1,"[SearchTabId],", " "),  new Array(1,"[Custom404TabId],", " "),  new Array(1,"[Custom500TabId],", " "),  new Array(1,"[CreatedByUserID],", " "),  new Array(1,"[CreatedOnDate],", " "),  new Array(1,"[LastModifiedByUserID],", " "),  new Array(1,"[LastModifiedOnDate]", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@PortalID,", " "),  new Array(1,"@CultureCode,", " "),  new Array(1,"@PortalName,", " "),  new Array(1,"@LogoFile,", " "),  new Array(1,"@FooterText,", " "),  new Array(1,"@Description,", " "),  new Array(1,"@KeyWords,", " "),  new Array(1,"@BackgroundFile,", " "),  new Array(1,"@HomeTabId ,", " "),  new Array(1,"@LoginTabId ,", " "),  new Array(1,"@UserTabId,", " "),  new Array(1,"@AdminTabid,", " "),  new Array(1,"@SplashTabId,", " "),  new Array(1,"@SearchTabId,", " "),  new Array(1,"@Custom404TabId,", " "),  new Array(1,"@Custom500TabId,", " "),  new Array(1,"-1,", " "),  new Array(1,"GETDATE(),", " "),  new Array(1,"-1,", " "),  new Array(1,"GETDATE()", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdatePortalLanguage]", " "),  new Array(1,"@PortalId				int,", " "),  new Array(1,"@LanguageId				int,", " "),  new Array(1,"@IsPublished			bit,", " "),  new Array(1,"@LastModifiedByUserID  	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.PortalLanguages", " "),  new Array(1,"SET", " "),  new Array(1,"IsPublished				= @IsPublished,", " "),  new Array(1,"LastModifiedByUserID	= @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= getdate()", " "),  new Array(1,"WHERE PortalId = @PortalId", " "),  new Array(1,"AND LanguageId = @LanguageId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdatePortalSetting]", " "),  new Array(1,"--  covers delete, add and update scenarios:", " "),  new Array(1,"@PortalID       Int,		   -- Key, Not Null (unless for delete)", " "),  new Array(1,"@SettingName    nVarChar( 50), -- Key, not Null or Empty", " "),  new Array(1,"@SettingValue   nVarChar(Max), -- Not Null", " "),  new Array(1,"@UserID			Int,		   -- Not Null (editing user)", " "),  new Array(1,"@CultureCode    nVarChar( 10)  -- Key, Null|\'\' for neutral language", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- empty value: remove setting", " "),  new Array(1,"IF IsNull(@SettingValue, N\'\') = N\'\' AND IsNull(@SettingName, N\'\') != N\'\'", " "),  new Array(1,"DELETE FROM dbo.[PortalSettings]", " "),  new Array(1,"WHERE IsNull(PortalID, -1) = IsNull(@PortalID, -1)", " "),  new Array(1,"AND (CultureCode = @CultureCode OR IsNull(@CultureCode, N\'\') = N\'\')", " "),  new Array(1,"AND SettingName = @SettingName;", " "),  new Array(1,"ELSE IF IsNull(@SettingName, N\'\') != N\'\' AND IsNull(@PortalID, -1) != -1 BEGIN -- key must be valid", " "),  new Array(1,"MERGE INTO dbo.[PortalSettings] S", " "),  new Array(1,"USING (SELECT @PortalID PID, @CultureCode CC, @SettingName SN, @SettingValue SV) Q", " "),  new Array(1,"ON (S.PortalID = Q.PID AND IsNull(S.CultureCode, N\'\') = IsNull(Q.CC, N\'\') AND S.SettingName = Q.SN)", " "),  new Array(1,"WHEN MATCHED AND IsNull(S.SettingValue, N\'\') != IsNull(Q.SV, N\'\') THEN -- update only, if value has been modified:", " "),  new Array(1,"UPDATE SET [SettingValue] = Q.SV, [LastModifiedByUserID] = @UserID, [LastModifiedOnDate] = GetDate()", " "),  new Array(1,"WHEN NOT MATCHED THEN", " "),  new Array(1,"INSERT ( PortalID,  SettingName,  SettingValue, CultureCode,               CreatedByUserID    , CreatedOnDate, LastModifiedByUserID, LastModifiedOnDate)", " "),  new Array(1,"VALUES (@PortalID, @SettingName, @SettingValue, NULLIF(@CultureCode, N\'\'), IsNull(@UserID, -1),     GetDate(),  IsNull(@UserID, -1),          GetDate());", " "),  new Array(1,"-- Saving a neutral setting overwrites all localized settings with same name (for current portal):", " "),  new Array(1,"IF IsNull(@CultureCode, N\'\') = N\'\'", " "),  new Array(1,"DELETE FROM dbo.[PortalSettings]", " "),  new Array(1,"WHERE PortalID = @PortalID AND SettingName = @SettingName AND CultureCode IS Not Null;", " "),  new Array(1,"END; -- Else If", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdatePortalSetup]", " "),  new Array(1,"@PortalId				INT,", " "),  new Array(1,"@AdministratorId		INT,", " "),  new Array(1,"@AdministratorRoleId	INT,", " "),  new Array(1,"@RegisteredRoleId		INT,", " "),  new Array(1,"@SplashTabId			INT,", " "),  new Array(1,"@HomeTabId				INT,", " "),  new Array(1,"@LoginTabId				INT,", " "),  new Array(1,"@RegisterTabId			INT,", " "),  new Array(1,"@UserTabId				INT,", " "),  new Array(1,"@SearchTabId            INT,", " "),  new Array(1,"@Custom404TabId         INT,", " "),  new Array(1,"@Custom500TabId         INT,", " "),  new Array(1,"@AdminTabId				INT,", " "),  new Array(1,"@CultureCode			NVARCHAR(50)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Portals", " "),  new Array(1,"SET", " "),  new Array(1,"AdministratorId = @AdministratorId,", " "),  new Array(1,"AdministratorRoleId = @AdministratorRoleId,", " "),  new Array(1,"RegisteredRoleId = @RegisteredRoleId", " "),  new Array(1,"WHERE  PortalId = @PortalId", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.PortalLocalization", " "),  new Array(1,"SET", " "),  new Array(1,"HomeTabId = @HomeTabId,", " "),  new Array(1,"LoginTabId = @LoginTabId,", " "),  new Array(1,"UserTabId = @UserTabId,", " "),  new Array(1,"RegisterTabId = @RegisterTabId,", " "),  new Array(1,"AdminTabId = @AdminTabId,", " "),  new Array(1,"SplashTabId = @SplashTabId,", " "),  new Array(1,"SearchTabId = @SearchTabId,", " "),  new Array(1,"Custom404TabId = @Custom404TabId,", " "),  new Array(1,"Custom500TabId = @Custom500TabId", " "),  new Array(1,"WHERE portalID = @PortalID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[UpdateProfile]", " "),  new Array(1,"", " "),  new Array(1,"@UserID        int,", " "),  new Array(1,"@PortalID      int,", " "),  new Array(1,"@ProfileData   ntext", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"update dbo.Profile", " "),  new Array(1,"set    ProfileData = @ProfileData,", " "),  new Array(1,"CreatedDate = getdate()", " "),  new Array(1,"where  UserId = @UserID", " "),  new Array(1,"and    PortalId = @PortalID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdatePropertyDefinition]", " "),  new Array(1,"@PropertyDefinitionId int,", " "),  new Array(1,"@DataType int,", " "),  new Array(1,"@DefaultValue nvarchar(50),", " "),  new Array(1,"@PropertyCategory nvarchar(50),", " "),  new Array(1,"@PropertyName nvarchar(50),", " "),  new Array(1,"@ReadOnly bit,", " "),  new Array(1,"@Required bit,", " "),  new Array(1,"@ValidationExpression nvarchar(2000),", " "),  new Array(1,"@ViewOrder int,", " "),  new Array(1,"@Visible bit,", " "),  new Array(1,"@Length int,", " "),  new Array(1,"@DefaultVisibility int,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.ProfilePropertyDefinition", " "),  new Array(1,"SET DataType = @DataType,", " "),  new Array(1,"DefaultValue = @DefaultValue,", " "),  new Array(1,"PropertyCategory = @PropertyCategory,", " "),  new Array(1,"PropertyName = @PropertyName,", " "),  new Array(1,"ReadOnly = @ReadOnly,", " "),  new Array(1,"Required = @Required,", " "),  new Array(1,"ValidationExpression = @ValidationExpression,", " "),  new Array(1,"ViewOrder = @ViewOrder,", " "),  new Array(1,"Visible = @Visible,", " "),  new Array(1,"Length = @Length,", " "),  new Array(1,"DefaultVisibility = @DefaultVisibility,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = getdate()", " "),  new Array(1,"WHERE PropertyDefinitionId = @PropertyDefinitionId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateRole]", " "),  new Array(1,"@RoleId					int,", " "),  new Array(1,"@RoleGroupId			int,", " "),  new Array(1,"@RoleName				nvarchar(50),", " "),  new Array(1,"@Description			nvarchar(1000),", " "),  new Array(1,"@ServiceFee				money,", " "),  new Array(1,"@BillingPeriod			int,", " "),  new Array(1,"@BillingFrequency		char(1),", " "),  new Array(1,"@TrialFee				money,", " "),  new Array(1,"@TrialPeriod			int,", " "),  new Array(1,"@TrialFrequency			char(1),", " "),  new Array(1,"@IsPublic				bit,", " "),  new Array(1,"@AutoAssignment			bit,", " "),  new Array(1,"@RSVPCode				nvarchar(50),", " "),  new Array(1,"@IconFile				nvarchar(100),", " "),  new Array(1,"@LastModifiedByUserID	int,", " "),  new Array(1,"@Status					int,", " "),  new Array(1,"@SecurityMode			int,", " "),  new Array(1,"@IsSystemRole			bit", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Roles", " "),  new Array(1,"SET    RoleGroupId			= @RoleGroupId,", " "),  new Array(1,"RoleName				= @RoleName,", " "),  new Array(1,"Description			= @Description,", " "),  new Array(1,"ServiceFee			= @ServiceFee,", " "),  new Array(1,"BillingPeriod		= @BillingPeriod,", " "),  new Array(1,"BillingFrequency		= @BillingFrequency,", " "),  new Array(1,"TrialFee				= @TrialFee,", " "),  new Array(1,"TrialPeriod			= @TrialPeriod,", " "),  new Array(1,"TrialFrequency		= @TrialFrequency,", " "),  new Array(1,"IsPublic				= @IsPublic,", " "),  new Array(1,"AutoAssignment		= @AutoAssignment,", " "),  new Array(1,"RSVPCode				= @RSVPCode,", " "),  new Array(1,"IconFile				= @IconFile,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= getdate(),", " "),  new Array(1,"Status				= @Status,", " "),  new Array(1,"SecurityMode			= @SecurityMode,", " "),  new Array(1,"IsSystemRole			= @IsSystemRole", " "),  new Array(1,"WHERE  RoleId = @RoleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateRoleGroup]", " "),  new Array(1,"@RoleGroupId		int,", " "),  new Array(1,"@RoleGroupName		nvarchar(50),", " "),  new Array(1,"@Description		nvarchar(1000),", " "),  new Array(1,"@LastModifiedUserID int", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.RoleGroups", " "),  new Array(1,"SET    RoleGroupName		= @RoleGroupName,", " "),  new Array(1,"Description			= @Description,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedUserID,", " "),  new Array(1,"LastModifiedOnDate		= getdate()", " "),  new Array(1,"WHERE  RoleGroupId = @RoleGroupId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateRoleSetting]", " "),  new Array(1,"@RoleID				int,           -- Not Null|-1", " "),  new Array(1,"@SettingName		nvarchar( 50), -- Not Null|\'\'", " "),  new Array(1,"@SettingValue		nvarchar(Max), -- Null: remove setting", " "),  new Array(1,"@UserID				int            -- for logging", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- empty value: remove setting", " "),  new Array(1,"IF IsNull(@SettingValue, N\'\') = N\'\' AND IsNull(@SettingName, N\'\') != N\'\'", " "),  new Array(1,"DELETE FROM dbo.[RoleSettings]", " "),  new Array(1,"WHERE IsNull(RoleID, -1) = IsNull(@RoleID, -1)", " "),  new Array(1,"AND SettingName = @SettingName;", " "),  new Array(1,"ELSE IF IsNull(@SettingName, N\'\') != N\'\' AND IsNull(@RoleID, -1) != -1 BEGIN -- key must be valid", " "),  new Array(1,"MERGE INTO dbo.[RoleSettings] S", " "),  new Array(1,"USING (SELECT @RoleID RID, @SettingName SN, @SettingValue SV) Q", " "),  new Array(1,"ON (S.RoleID = Q.RID AND S.SettingName = Q.SN)", " "),  new Array(1,"WHEN MATCHED AND IsNull(S.SettingValue, N\'\') != IsNull(Q.SV, N\'\') THEN -- update only, if value has been modified:", " "),  new Array(1,"UPDATE SET [SettingValue] = Q.SV, [LastModifiedByUserID] = @UserID, [LastModifiedOnDate] = GetDate()", " "),  new Array(1,"WHEN NOT MATCHED THEN", " "),  new Array(1,"INSERT ( RoleID,  SettingName,  SettingValue, CreatedByUserID    , CreatedOnDate, LastModifiedByUserID, LastModifiedOnDate)", " "),  new Array(1,"VALUES (@RoleID, @SettingName, @SettingValue, IsNull(@UserID, -1),     GetDate(),  IsNull(@UserID, -1),          GetDate());", " "),  new Array(1,"END; -- Else If", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateSchedule]", " "),  new Array(1,"@ScheduleID int", " "),  new Array(1,",@TypeFullName varchar(200)", " "),  new Array(1,",@TimeLapse int", " "),  new Array(1,",@TimeLapseMeasurement varchar(2)", " "),  new Array(1,",@RetryTimeLapse int", " "),  new Array(1,",@RetryTimeLapseMeasurement varchar(2)", " "),  new Array(1,",@RetainHistoryNum int", " "),  new Array(1,",@AttachToEvent varchar(50)", " "),  new Array(1,",@CatchUpEnabled bit", " "),  new Array(1,",@Enabled bit", " "),  new Array(1,",@ObjectDependencies varchar(300)", " "),  new Array(1,",@Servers varchar(150)", " "),  new Array(1,",@LastModifiedByUserID	int", " "),  new Array(1,",@FriendlyName varchar(200)", " "),  new Array(1,",@ScheduleStartDate datetime", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Schedule", " "),  new Array(1,"SET", " "),  new Array(1,"TypeFullName = @TypeFullName", " "),  new Array(1,",FriendlyName = @FriendlyName", " "),  new Array(1,",TimeLapse = @TimeLapse", " "),  new Array(1,",TimeLapseMeasurement = @TimeLapseMeasurement", " "),  new Array(1,",RetryTimeLapse = @RetryTimeLapse", " "),  new Array(1,",RetryTimeLapseMeasurement = @RetryTimeLapseMeasurement", " "),  new Array(1,",RetainHistoryNum = @RetainHistoryNum", " "),  new Array(1,",AttachToEvent = @AttachToEvent", " "),  new Array(1,",CatchUpEnabled = @CatchUpEnabled", " "),  new Array(1,",Enabled = @Enabled", " "),  new Array(1,",ObjectDependencies = @ObjectDependencies", " "),  new Array(1,",Servers = @Servers,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = getdate(),", " "),  new Array(1,"ScheduleStartDate = @ScheduleStartDate", " "),  new Array(1,"WHERE ScheduleID = @ScheduleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateScheduleHistory]", " "),  new Array(1,"@ScheduleHistoryID int,", " "),  new Array(1,"@EndDate datetime,", " "),  new Array(1,"@Succeeded bit,", " "),  new Array(1,"@LogNotes ntext,", " "),  new Array(1,"@NextStart datetime", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.ScheduleHistory", " "),  new Array(1,"SET	EndDate = @EndDate,", " "),  new Array(1,"Succeeded = @Succeeded,", " "),  new Array(1,"LogNotes = @LogNotes,", " "),  new Array(1,"NextStart = @NextStart", " "),  new Array(1,"WHERE ScheduleHistoryID = @ScheduleHistoryID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateScopeType]", " "),  new Array(1,"@ScopeTypeId				int,", " "),  new Array(1,"@ScopeType					nvarchar(250)", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Taxonomy_ScopeTypes", " "),  new Array(1,"SET", " "),  new Array(1,"ScopeType = @ScopeType", " "),  new Array(1,"WHERE ScopeTypeId = @ScopeTypeId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateSearchCommonWord]", " "),  new Array(1,"@CommonWordID int,", " "),  new Array(1,"@CommonWord nvarchar(255),", " "),  new Array(1,"@Locale nvarchar(10)", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.SearchCommonWords SET", " "),  new Array(1,"[CommonWord] = @CommonWord,", " "),  new Array(1,"[Locale] = @Locale", " "),  new Array(1,"WHERE", " "),  new Array(1,"[CommonWordID] = @CommonWordID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateSearchStopWords]", " "),  new Array(1,"@StopWordsID		int,", " "),  new Array(1,"@StopWords 			nvarchar(MAX),", " "),  new Array(1,"@LastModifiedByUserID 	int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.SearchStopWords", " "),  new Array(1,"SET", " "),  new Array(1,"StopWords = @StopWords,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = GETUTCDATE()", " "),  new Array(1,"WHERE StopWordsID = @StopWordsID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateServer]", " "),  new Array(1,"@ServerID           INT,", " "),  new Array(1,"@URL                NVARCHAR(255),", " "),  new Array(1,"@UniqueId           NVARCHAR(200),", " "),  new Array(1,"@Enabled            BIT,", " "),  new Array(1,"@Group              NVARCHAR(200)", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.WebServers", " "),  new Array(1,"SET", " "),  new Array(1,"URL = @URL,", " "),  new Array(1,"UniqueId = @UniqueId,", " "),  new Array(1,"Enabled = @Enabled,", " "),  new Array(1,"ServerGroup = @Group", " "),  new Array(1,"WHERE  ServerID = @ServerID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateServerActivity]", " "),  new Array(1,"@ServerName			NVARCHAR(50),", " "),  new Array(1,"@IISAppName			NVARCHAR(200),", " "),  new Array(1,"@CreatedDate		DATETIME,", " "),  new Array(1,"@LastActivityDate	DATETIME,", " "),  new Array(1,"@PingFailureCount   INT,", " "),  new Array(1,"@Enabled            BIT", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @ServerID int", " "),  new Array(1,"SET @ServerID = (SELECT ServerID FROM dbo.WebServers WHERE ServerName = @ServerName AND IISAppName = @IISAppName)", " "),  new Array(1,"", " "),  new Array(1,"IF @ServerID IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Insert", " "),  new Array(1,"INSERT INTO dbo.WebServers (", " "),  new Array(1,"ServerName,", " "),  new Array(1,"IISAppName,", " "),  new Array(1,"CreatedDate,", " "),  new Array(1,"LastActivityDate,", " "),  new Array(1,"PingFailureCount,", " "),  new Array(1,"[Enabled]", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@ServerName,", " "),  new Array(1,"@IISAppName,", " "),  new Array(1,"@CreatedDate,", " "),  new Array(1,"@LastActivityDate,", " "),  new Array(1,"@PingFailureCount,", " "),  new Array(1,"@Enabled", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT @ServerID = SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Update", " "),  new Array(1,"UPDATE dbo.WebServers", " "),  new Array(1,"SET", " "),  new Array(1,"LastActivityDate = @LastActivityDate, PingFailureCount = @PingFailureCount, [Enabled] = @Enabled", " "),  new Array(1,"WHERE  ServerName = @ServerName AND IISAppName = @IISAppName", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SELECT @ServerID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateSimpleTerm]", " "),  new Array(1,"@TermID					int,", " "),  new Array(1,"@VocabularyID			int,", " "),  new Array(1,"@Name					nvarchar(250),", " "),  new Array(1,"@Description			nvarchar(2500),", " "),  new Array(1,"@Weight					int,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Taxonomy_Terms", " "),  new Array(1,"SET", " "),  new Array(1,"VocabularyID = @VocabularyID,", " "),  new Array(1,"[Name] = @Name,", " "),  new Array(1,"Description = @Description,", " "),  new Array(1,"Weight = @Weight,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE TermID = @TermID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateSkin]", " "),  new Array(1,"", " "),  new Array(1,"@SkinID   int,", " "),  new Array(1,"@SkinSrc  nvarchar(200)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Skins", " "),  new Array(1,"SET", " "),  new Array(1,"SkinSrc = @SkinSrc", " "),  new Array(1,"WHERE SkinID = @SkinID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateSkinControl]", " "),  new Array(1,"", " "),  new Array(1,"@SkinControlID					int,", " "),  new Array(1,"@PackageID						int,", " "),  new Array(1,"@ControlKey						nvarchar(50),", " "),  new Array(1,"@ControlSrc						nvarchar(256),", " "),  new Array(1,"@SupportsPartialRendering		bit,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.SkinControls", " "),  new Array(1,"SET", " "),  new Array(1,"PackageID = @PackageID,", " "),  new Array(1,"ControlKey = @ControlKey,", " "),  new Array(1,"ControlSrc = @ControlSrc,", " "),  new Array(1,"SupportsPartialRendering = @SupportsPartialRendering,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = getdate()", " "),  new Array(1,"WHERE  SkinControlID = @SkinControlID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateSkinPackage]", " "),  new Array(1,"@SkinPackageID  int,", " "),  new Array(1,"@PackageID      int,", " "),  new Array(1,"@PortalID       int,", " "),  new Array(1,"@SkinName       nvarchar(50),", " "),  new Array(1,"@SkinType       nvarchar(20),", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.SkinPackages", " "),  new Array(1,"SET", " "),  new Array(1,"PackageID = @PackageID,", " "),  new Array(1,"PortalID = @PortalID,", " "),  new Array(1,"SkinName = @SkinName,", " "),  new Array(1,"SkinType = @SkinType,", " "),  new Array(1,"[LastModifiedByUserID] = @LastModifiedByUserID,", " "),  new Array(1,"[LastModifiedOnDate] = getdate()", " "),  new Array(1,"WHERE SkinPackageID = @SkinPackageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateSynonymsGroup]", " "),  new Array(1,"@SynonymsGroupID		int,", " "),  new Array(1,"@SynonymsTags 			nvarchar(MAX),", " "),  new Array(1,"@LastModifiedByUserID 	int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.SynonymsGroups", " "),  new Array(1,"SET", " "),  new Array(1,"SynonymsTags = @SynonymsTags,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = GETUTCDATE()", " "),  new Array(1,"WHERE SynonymsGroupID = @SynonymsGroupID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[UpdateSystemMessage]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID     int,", " "),  new Array(1,"@MessageName  nvarchar(50),", " "),  new Array(1,"@MessageValue ntext", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"update dbo.SystemMessages", " "),  new Array(1,"set    MessageValue = @MessageValue", " "),  new Array(1,"where  ((PortalID = @PortalID) or (PortalID is null and @PortalID is null))", " "),  new Array(1,"and    MessageName = @MessageName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateTab]", " "),  new Array(1,"@TabId                  Int,", " "),  new Array(1,"@ContentItemID          Int,", " "),  new Array(1,"@PortalId               Int,", " "),  new Array(1,"@VersionGuid            UniqueIdentifier,", " "),  new Array(1,"@DefaultLanguageGuid    UniqueIdentifier,", " "),  new Array(1,"@LocalizedVersionGuid   UniqueIdentifier,", " "),  new Array(1,"@TabName                nVarChar(200),", " "),  new Array(1,"@IsVisible              Bit,", " "),  new Array(1,"@DisableLink            Bit,", " "),  new Array(1,"@ParentId               Int,", " "),  new Array(1,"@IconFile               nVarChar(255),", " "),  new Array(1,"@IconFileLarge          nVarChar(255),", " "),  new Array(1,"@Title                  nVarChar(200),", " "),  new Array(1,"@Description            nVarChar(500),", " "),  new Array(1,"@KeyWords               nVarChar(500),", " "),  new Array(1,"@IsDeleted              Bit,", " "),  new Array(1,"@Url                    nVarChar(255),", " "),  new Array(1,"@SkinSrc                nVarChar(200),", " "),  new Array(1,"@ContainerSrc           nVarChar(200),", " "),  new Array(1,"@StartDate              DateTime,", " "),  new Array(1,"@EndDate                DateTime,", " "),  new Array(1,"@RefreshInterval        Int,", " "),  new Array(1,"@PageHeadText           nVarChar(max),", " "),  new Array(1,"@IsSecure               Bit,", " "),  new Array(1,"@PermanentRedirect      Bit,", " "),  new Array(1,"@SiteMapPriority        Float,", " "),  new Array(1,"@LastModifiedByUserID   Int,", " "),  new Array(1,"@CultureCode            nVarChar( 10),", " "),  new Array(1,"@IsSystem               Bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @OldParentId Int", " "),  new Array(1,"SET @OldParentId = (SELECT ParentId FROM dbo.[Tabs] WHERE TabID = @TabId)", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @TabOrder Int", " "),  new Array(1,"SET @TabOrder = (SELECT TabOrder FROM dbo.[Tabs] WHERE TabID = @TabId)", " "),  new Array(1,"", " "),  new Array(1,"-- Get New TabOrder", " "),  new Array(1,"DECLARE @NewTabOrder Int", " "),  new Array(1,"SET @NewTabOrder = (SELECT MAX(TabOrder) FROM dbo.[Tabs] WHERE (ParentId = @ParentId OR (ParentId IS NULL AND @ParentId IS NULL)))", " "),  new Array(1,"IF @NewTabOrder IS NULL", " "),  new Array(1,"SET @NewTabOrder = 1", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @NewTabOrder = @NewTabOrder + 2", " "),  new Array(1,"", " "),  new Array(1,"UPDATE dbo.[Tabs]", " "),  new Array(1,"SET", " "),  new Array(1,"ContentItemID           = @ContentItemID,", " "),  new Array(1,"PortalId                = @PortalId,", " "),  new Array(1,"VersionGuid             = @VersionGuid,", " "),  new Array(1,"DefaultLanguageGuid     = @DefaultLanguageGuid,", " "),  new Array(1,"LocalizedVersionGuid    = @LocalizedVersionGuid,", " "),  new Array(1,"TabName                 = @TabName,", " "),  new Array(1,"IsVisible               = @IsVisible,", " "),  new Array(1,"DisableLink             = @DisableLink,", " "),  new Array(1,"ParentId                = @ParentId,", " "),  new Array(1,"IconFile                = @IconFile,", " "),  new Array(1,"IconFileLarge           = @IconFileLarge,", " "),  new Array(1,"Title                   = @Title,", " "),  new Array(1,"Description             = @Description,", " "),  new Array(1,"KeyWords                = @KeyWords,", " "),  new Array(1,"IsDeleted               = @IsDeleted,", " "),  new Array(1,"Url                     = @Url,", " "),  new Array(1,"SkinSrc                 = @SkinSrc,", " "),  new Array(1,"ContainerSrc            = @ContainerSrc,", " "),  new Array(1,"StartDate               = @StartDate,", " "),  new Array(1,"EndDate                 = @EndDate,", " "),  new Array(1,"RefreshInterval         = @RefreshInterval,", " "),  new Array(1,"PageHeadText            = @PageHeadText,", " "),  new Array(1,"IsSecure                = @IsSecure,", " "),  new Array(1,"PermanentRedirect       = @PermanentRedirect,", " "),  new Array(1,"SiteMapPriority         = @SiteMapPriority,", " "),  new Array(1,"LastModifiedByUserID    = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate      = getdate(),", " "),  new Array(1,"CultureCode             = @CultureCode,", " "),  new Array(1,"IsSystem                = @IsSystem", " "),  new Array(1,"WHERE  TabId = @TabId;", " "),  new Array(1,"", " "),  new Array(1,"IF (@OldParentId <> @ParentId) BEGIN", " "),  new Array(1,"-- update TabOrder of Tabs with same original Parent", " "),  new Array(1,"UPDATE dbo.[Tabs]", " "),  new Array(1,"SET TabOrder = TabOrder - 2", " "),  new Array(1,"WHERE (ParentId = @OldParentId)", " "),  new Array(1,"AND TabOrder > @TabOrder", " "),  new Array(1,"", " "),  new Array(1,"-- Update Tab with new TabOrder", " "),  new Array(1,"UPDATE dbo.[Tabs]", " "),  new Array(1,"SET TabOrder = @NewTabOrder", " "),  new Array(1,"WHERE TabID = @TabId", " "),  new Array(1,"END \/* IF *\/", " "),  new Array(1,"", " "),  new Array(1,"EXEC dbo.BuildTabLevelAndPath @TabId, 1", " "),  new Array(1,"END \/* Procedure *\/", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateTabModule]", " "),  new Array(1,"@TabModuleId            int,", " "),  new Array(1,"@TabId					int,", " "),  new Array(1,"@ModuleId				int,", " "),  new Array(1,"@ModuleTitle			nvarchar(256),", " "),  new Array(1,"@Header					ntext,", " "),  new Array(1,"@Footer					ntext,", " "),  new Array(1,"@ModuleOrder			int,", " "),  new Array(1,"@PaneName				nvarchar(50),", " "),  new Array(1,"@CacheTime				int,", " "),  new Array(1,"@CacheMethod			varchar(50),", " "),  new Array(1,"@Alignment				nvarchar(10),", " "),  new Array(1,"@Color					nvarchar(20),", " "),  new Array(1,"@Border					nvarchar(1),", " "),  new Array(1,"@IconFile				nvarchar(100),", " "),  new Array(1,"@Visibility				int,", " "),  new Array(1,"@ContainerSrc			nvarchar(200),", " "),  new Array(1,"@DisplayTitle			bit,", " "),  new Array(1,"@DisplayPrint			bit,", " "),  new Array(1,"@DisplaySyndicate		bit,", " "),  new Array(1,"@IsWebSlice				bit,", " "),  new Array(1,"@WebSliceTitle			nvarchar(256),", " "),  new Array(1,"@WebSliceExpiryDate		datetime,", " "),  new Array(1,"@WebSliceTTL			int,", " "),  new Array(1,"@VersionGuid			uniqueidentifier,", " "),  new Array(1,"@DefaultLanguageGuid	uniqueidentifier,", " "),  new Array(1,"@LocalizedVersionGuid	uniqueidentifier,", " "),  new Array(1,"@CultureCode			nvarchar(10),", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.TabModules", " "),  new Array(1,"SET", " "),  new Array(1,"TabId = @TabId,", " "),  new Array(1,"ModuleId = @ModuleId,", " "),  new Array(1,"ModuleTitle = @ModuleTitle,", " "),  new Array(1,"Header = @Header,", " "),  new Array(1,"Footer = @Footer,", " "),  new Array(1,"ModuleOrder = @ModuleOrder,", " "),  new Array(1,"PaneName = @PaneName,", " "),  new Array(1,"CacheTime = @CacheTime,", " "),  new Array(1,"CacheMethod = @CacheMethod,", " "),  new Array(1,"Alignment = @Alignment,", " "),  new Array(1,"Color = @Color,", " "),  new Array(1,"Border = @Border,", " "),  new Array(1,"IconFile = @IconFile,", " "),  new Array(1,"Visibility = @Visibility,", " "),  new Array(1,"ContainerSrc = @ContainerSrc,", " "),  new Array(1,"DisplayTitle = @DisplayTitle,", " "),  new Array(1,"DisplayPrint = @DisplayPrint,", " "),  new Array(1,"DisplaySyndicate = @DisplaySyndicate,", " "),  new Array(1,"IsWebSlice = @IsWebSlice,", " "),  new Array(1,"WebSliceTitle = @WebSliceTitle,", " "),  new Array(1,"WebSliceExpiryDate = @WebSliceExpiryDate,", " "),  new Array(1,"WebSliceTTL = @WebSliceTTL,", " "),  new Array(1,"VersionGuid = @VersionGuid,", " "),  new Array(1,"DefaultLanguageGuid = @DefaultLanguageGuid,", " "),  new Array(1,"LocalizedVersionGuid = @LocalizedVersionGuid,", " "),  new Array(1,"CultureCode= @CultureCode,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE  TabModuleId = @TabModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateTabModuleSetting]", " "),  new Array(1,"@TabModuleID		int,           -- Not Null|-1", " "),  new Array(1,"@SettingName		nvarchar( 50), -- Not Null|\'\'", " "),  new Array(1,"@SettingValue		nvarchar(Max), -- Null: remove setting", " "),  new Array(1,"@UserID				int            -- for logging", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- empty value: remove setting", " "),  new Array(1,"IF IsNull(@SettingValue, N\'\') = N\'\' AND IsNull(@SettingName, N\'\') != N\'\'", " "),  new Array(1,"DELETE FROM dbo.[TabModuleSettings]", " "),  new Array(1,"WHERE IsNull(TabModuleID, -1) = IsNull(@TabModuleID, -1)", " "),  new Array(1,"AND SettingName = @SettingName;", " "),  new Array(1,"ELSE IF IsNull(@SettingName, N\'\') != N\'\' AND IsNull(@TabModuleID, -1) != -1 BEGIN -- key must be valid", " "),  new Array(1,"MERGE INTO dbo.[TabModuleSettings] S", " "),  new Array(1,"USING (SELECT @TabModuleID MID, @SettingName SN, @SettingValue SV) Q", " "),  new Array(1,"ON (S.TabModuleID = Q.MID AND S.SettingName = Q.SN)", " "),  new Array(1,"WHEN MATCHED AND IsNull(S.SettingValue, N\'\') != IsNull(Q.SV, N\'\') THEN -- update only, if value has been modified:", " "),  new Array(1,"UPDATE SET [SettingValue] = Q.SV, [LastModifiedByUserID] = @UserID, [LastModifiedOnDate] = GetDate()", " "),  new Array(1,"WHEN NOT MATCHED THEN", " "),  new Array(1,"INSERT ( TabModuleID,  SettingName,  SettingValue, CreatedByUserID    , CreatedOnDate, LastModifiedByUserID, LastModifiedOnDate)", " "),  new Array(1,"VALUES (@TabModuleID, @SettingName, @SettingValue, IsNull(@UserID, -1),     GetDate(),  IsNull(@UserID, -1),          GetDate());", " "),  new Array(1,"END; -- Else If", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateTabModuleTranslationStatus]", " "),  new Array(1,"@TabModuleId			int,", " "),  new Array(1,"@LocalizedVersionGuid	uniqueidentifier,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.TabModules", " "),  new Array(1,"SET", " "),  new Array(1,"LocalizedVersionGuid	= @LocalizedVersionGuid,", " "),  new Array(1,"LastModifiedByUserID	= @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= getdate()", " "),  new Array(1,"WHERE  TabModuleId = @TabModuleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateTabModuleVersion]", " "),  new Array(1,"@TabModuleID	int,", " "),  new Array(1,"@VersionGuid	uniqueidentifier", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.TabModules", " "),  new Array(1,"SET VersionGuid = @VersionGuid,", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE  TabModuleID = @TabModuleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateTabModuleVersionByModule]", " "),  new Array(1,"@ModuleID	int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.TabModules", " "),  new Array(1,"SET VersionGuid = NEWID(),", " "),  new Array(1,"LastModifiedOnDate = GETDATE()", " "),  new Array(1,"WHERE  ModuleID = @ModuleID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateTabOrder]", " "),  new Array(1,"@TabId					int,", " "),  new Array(1,"@TabOrder				int,", " "),  new Array(1,"@ParentId				int,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"DECLARE @OldParentId INT", " "),  new Array(1,"SELECT @OldParentId = ParentId FROM dbo.Tabs WHERE TabID = @TabId", " "),  new Array(1,"UPDATE Tabs", " "),  new Array(1,"SET", " "),  new Array(1,"TabOrder				= @TabOrder,", " "),  new Array(1,"ParentId				= @ParentId,", " "),  new Array(1,"LastModifiedByUserID	= @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= GETDATE()", " "),  new Array(1,"WHERE  TabId = @TabId", " "),  new Array(1,"IF @OldParentId <> @ParentId", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC dbo.BuildTabLevelAndPath @TabId, 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"EXEC dbo.BuildTabLevelAndPath @TabId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateTabPermission]", " "),  new Array(1,"@TabPermissionId        Int, -- not null!", " "),  new Array(1,"@TabId                  Int, -- not null!", " "),  new Array(1,"@PermissionId           Int, -- not null!", " "),  new Array(1,"@RoleId                 Int, -- might be negative for virtual roles", " "),  new Array(1,"@AllowAccess            Bit, -- false: deny, true: grant", " "),  new Array(1,"@UserId                 Int, -- -1 is replaced by Null", " "),  new Array(1,"@LastModifiedByUserId   Int  -- -1 is replaced by Null", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.[TabPermission] SET", " "),  new Array(1,"[TabID]                = @TabId,", " "),  new Array(1,"[PermissionID]         = @PermissionId,", " "),  new Array(1,"[RoleID]               = @RoleId,", " "),  new Array(1,"[AllowAccess]          = @AllowAccess,", " "),  new Array(1,"[UserID]               = CASE WHEN @UserId = -1 THEN Null ELSE @UserId  END,", " "),  new Array(1,"[LastModifiedByUserId] = CASE WHEN @LastModifiedByUserId = -1 THEN Null ELSE @LastModifiedByUserId  END,", " "),  new Array(1,"[LastModifiedOnDate]   = GetDate()", " "),  new Array(1,"WHERE", " "),  new Array(1,"[TabPermissionID]      = @TabPermissionId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateTabSetting]", " "),  new Array(1,"@TabID	      	    int,           -- Not Null|-1", " "),  new Array(1,"@SettingName		nvarchar( 50), -- Not Null|\'\'", " "),  new Array(1,"@SettingValue		nvarchar(Max), -- Null: remove setting", " "),  new Array(1,"@UserID				int            -- for logging", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- empty value: remove setting", " "),  new Array(1,"IF IsNull(@SettingValue, N\'\') = N\'\' AND IsNull(@SettingName, N\'\') != N\'\'", " "),  new Array(1,"DELETE FROM dbo.[TabSettings]", " "),  new Array(1,"WHERE IsNull(TabID, -1) = IsNull(@TabID, -1)", " "),  new Array(1,"AND SettingName = @SettingName;", " "),  new Array(1,"ELSE IF IsNull(@SettingName, N\'\') != N\'\' AND IsNull(@TabID, -1) != -1 BEGIN -- key must be valid", " "),  new Array(1,"MERGE INTO dbo.[TabSettings] S", " "),  new Array(1,"USING (SELECT @TabID MID, @SettingName SN, @SettingValue SV) Q", " "),  new Array(1,"ON (S.TabID = Q.MID AND S.SettingName = Q.SN)", " "),  new Array(1,"WHEN MATCHED AND IsNull(S.SettingValue, N\'\') != IsNull(Q.SV, N\'\') THEN -- update only, if value has been modified:", " "),  new Array(1,"UPDATE SET [SettingValue] = Q.SV, [LastModifiedByUserID] = @UserID, [LastModifiedOnDate] = GetDate()", " "),  new Array(1,"WHEN NOT MATCHED THEN", " "),  new Array(1,"INSERT ( TabID,  SettingName,  SettingValue, CreatedByUserID    , CreatedOnDate, LastModifiedByUserID, LastModifiedOnDate)", " "),  new Array(1,"VALUES (@TabID, @SettingName, @SettingValue, IsNull(@UserID, -1),     GetDate(),  IsNull(@UserID, -1),          GetDate());", " "),  new Array(1,"END; -- Else If", " "),  new Array(1,"END; -- Procedure", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateTabTranslationStatus]", " "),  new Array(1,"@TabId					int,", " "),  new Array(1,"@LocalizedVersionGuid	uniqueidentifier,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET", " "),  new Array(1,"LocalizedVersionGuid	= @LocalizedVersionGuid,", " "),  new Array(1,"LastModifiedByUserID	= @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate		= getdate()", " "),  new Array(1,"WHERE  TabId = @TabId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateTabVersion]", " "),  new Array(1,"@TabID			int,", " "),  new Array(1,"@VersionGuid	uniqueidentifier", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Tabs", " "),  new Array(1,"SET    VersionGuid = @VersionGuid", " "),  new Array(1,"WHERE  TabID = @TabID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[UpdateUrlTracking]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID     int,", " "),  new Array(1,"@Url          nvarchar(255),", " "),  new Array(1,"@LogActivity  bit,", " "),  new Array(1,"@TrackClicks  bit,", " "),  new Array(1,"@ModuleId     int,", " "),  new Array(1,"@NewWindow    bit", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"update dbo.UrlTracking", " "),  new Array(1,"set    LogActivity = @LogActivity,", " "),  new Array(1,"TrackClicks = @TrackClicks,", " "),  new Array(1,"NewWindow = @NewWindow", " "),  new Array(1,"where  PortalID = @PortalID", " "),  new Array(1,"and    Url = @Url", " "),  new Array(1,"and    ((ModuleId = @ModuleId) or (ModuleId is null and @ModuleId is null))", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"create procedure [dbo].[UpdateUrlTrackingStats]", " "),  new Array(1,"", " "),  new Array(1,"@PortalID     int,", " "),  new Array(1,"@Url          nvarchar(255),", " "),  new Array(1,"@ModuleId     int", " "),  new Array(1,"", " "),  new Array(1,"as", " "),  new Array(1,"", " "),  new Array(1,"update dbo.UrlTracking", " "),  new Array(1,"set    Clicks = Clicks + 1,", " "),  new Array(1,"LastClick = getdate()", " "),  new Array(1,"where  PortalID = @PortalID", " "),  new Array(1,"and    Url = @Url", " "),  new Array(1,"and    ((ModuleId = @ModuleId) or (ModuleId is null and @ModuleId is null))", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateUser]", " "),  new Array(1,"@UserID         int,", " "),  new Array(1,"@PortalID		int,", " "),  new Array(1,"@FirstName		nvarchar(50),", " "),  new Array(1,"@LastName		nvarchar(50),", " "),  new Array(1,"@IsSuperUser    bit,", " "),  new Array(1,"@Email          nvarchar(256),", " "),  new Array(1,"@DisplayName    nvarchar(100),", " "),  new Array(1,"@VanityUrl		nvarchar(100),", " "),  new Array(1,"@UpdatePassword	bit,", " "),  new Array(1,"@Authorised		bit,", " "),  new Array(1,"@RefreshRoles	bit,", " "),  new Array(1,"@LastIPAddress	nvarchar(50),", " "),  new Array(1,"@passwordResetToken uniqueidentifier,", " "),  new Array(1,"@passwordResetExpiration datetime,", " "),  new Array(1,"@IsDeleted		bit,", " "),  new Array(1,"@LastModifiedByUserID int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Users", " "),  new Array(1,"SET", " "),  new Array(1,"FirstName = @FirstName,", " "),  new Array(1,"LastName = @LastName,", " "),  new Array(1,"IsSuperUser = @IsSuperUser,", " "),  new Array(1,"Email = @Email,", " "),  new Array(1,"DisplayName = @DisplayName,", " "),  new Array(1,"UpdatePassword = @UpdatePassword,", " "),  new Array(1,"PasswordResetToken=@passwordResetToken,", " "),  new Array(1,"PasswordResetExpiration=@passwordResetExpiration,", " "),  new Array(1,"LastIPAddress = @LastIPAddress,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE  UserId = @UserID", " "),  new Array(1,"", " "),  new Array(1,"IF @PortalID IS NULL", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.Users", " "),  new Array(1,"SET", " "),  new Array(1,"IsDeleted = @IsDeleted", " "),  new Array(1,"WHERE  UserId = @UserID", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.UserPortals", " "),  new Array(1,"SET", " "),  new Array(1,"Authorised = @Authorised,", " "),  new Array(1,"RefreshRoles = @RefreshRoles,", " "),  new Array(1,"VanityUrl = @VanityUrl,", " "),  new Array(1,"IsDeleted = @IsDeleted", " "),  new Array(1,"WHERE  UserId = @UserID", " "),  new Array(1,"AND PortalId = @PortalID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateUserLastIpAddress]", " "),  new Array(1,"@UserID         int,", " "),  new Array(1,"@LastIPAddress	nvarchar(50)", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.[Users]", " "),  new Array(1,"SET	LastIPAddress = @LastIPAddress", " "),  new Array(1,"WHERE  UserId = @UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROC [dbo].[UpdateUserProfileProperty]", " "),  new Array(1,"", " "),  new Array(1,"@ProfileID				int,", " "),  new Array(1,"@UserID					int,", " "),  new Array(1,"@PropertyDefinitionID	int,", " "),  new Array(1,"@PropertyValue			ntext,", " "),  new Array(1,"@Visibility				int,", " "),  new Array(1,"@ExtendedVisibility		varchar(400),", " "),  new Array(1,"@LastUpdatedDate		datetime", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"IF @ProfileID IS NULL OR @ProfileID = -1", " "),  new Array(1,"-- Try the UserID\/PropertyDefinitionID to see if the Profile property exists", " "),  new Array(1,"SELECT @ProfileID = ProfileID", " "),  new Array(1,"FROM   dbo.UserProfile", " "),  new Array(1,"WHERE  UserID = @UserID AND PropertyDefinitionID = @PropertyDefinitionID", " "),  new Array(1,"", " "),  new Array(1,"IF @ProfileID IS NOT NULL", " "),  new Array(1,"-- Update Property", " "),  new Array(1,"BEGIN", " "),  new Array(1,"UPDATE dbo.UserProfile", " "),  new Array(1,"SET PropertyValue = case when (DATALENGTH(@PropertyValue) > 7500) then NULL else @PropertyValue end,", " "),  new Array(1,"PropertyText = case when (DATALENGTH(@PropertyValue) > 7500) then @PropertyValue else NULL end,", " "),  new Array(1,"Visibility = @Visibility,", " "),  new Array(1,"ExtendedVisibility = @ExtendedVisibility,", " "),  new Array(1,"LastUpdatedDate = @LastUpdatedDate", " "),  new Array(1,"WHERE  ProfileID = @ProfileID", " "),  new Array(1,"SELECT @ProfileID", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"-- Insert New Property", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @PropertyValue IS NOT NULL AND DATALENGTH(@PropertyValue) > 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO dbo.UserProfile (", " "),  new Array(1,"UserID,", " "),  new Array(1,"PropertyDefinitionID,", " "),  new Array(1,"PropertyValue,", " "),  new Array(1,"PropertyText,", " "),  new Array(1,"Visibility,", " "),  new Array(1,"ExtendedVisibility,", " "),  new Array(1,"LastUpdatedDate", " "),  new Array(1,")", " "),  new Array(1,"VALUES (", " "),  new Array(1,"@UserID,", " "),  new Array(1,"@PropertyDefinitionID,", " "),  new Array(1,"case when (DATALENGTH(@PropertyValue) > 7500) then NULL else @PropertyValue end,", " "),  new Array(1,"case when (DATALENGTH(@PropertyValue) > 7500) then @PropertyValue else NULL end,", " "),  new Array(1,"@Visibility,", " "),  new Array(1,"@ExtendedVisibility,", " "),  new Array(1,"@LastUpdatedDate", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"SELECT SCOPE_IDENTITY()", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"SELECT @ProfileID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateUserRole]", " "),  new Array(1,"@UserRoleId		int,", " "),  new Array(1,"@Status			int,", " "),  new Array(1,"@IsOwner		bit,", " "),  new Array(1,"@EffectiveDate	datetime = null,", " "),  new Array(1,"@ExpiryDate		datetime = null,", " "),  new Array(1,"@LastModifiedByUserID			int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.UserRoles", " "),  new Array(1,"SET", " "),  new Array(1,"Status = @Status,", " "),  new Array(1,"IsOwner = @IsOwner,", " "),  new Array(1,"ExpiryDate = @ExpiryDate,", " "),  new Array(1,"EffectiveDate = @EffectiveDate,", " "),  new Array(1,"IsTrialUsed = 1,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE  UserRoleId = @UserRoleId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Stored Procedure", " "),  new Array(0,"", ""),  new Array(1,"CREATE PROCEDURE [dbo].[UpdateVocabulary]", " "),  new Array(1,"@VocabularyID			int,", " "),  new Array(1,"@VocabularyTypeID		int,", " "),  new Array(1,"@Name					nvarchar(250),", " "),  new Array(1,"@Description			nvarchar(2500),", " "),  new Array(1,"@Weight					int,", " "),  new Array(1,"@ScopeID				int,", " "),  new Array(1,"@ScopeTypeID			int,", " "),  new Array(1,"@LastModifiedByUserID	int", " "),  new Array(1,"AS", " "),  new Array(1,"UPDATE dbo.Taxonomy_Vocabularies", " "),  new Array(1,"SET", " "),  new Array(1,"VocabularyTypeID = @VocabularyTypeID,", " "),  new Array(1,"[Name] = @Name,", " "),  new Array(1,"Description = @Description,", " "),  new Array(1,"Weight = @Weight,", " "),  new Array(1,"ScopeID = @ScopeID,", " "),  new Array(1,"ScopeTypeID = @ScopeTypeID,", " "),  new Array(1,"LastModifiedByUserID = @LastModifiedByUserID,", " "),  new Array(1,"LastModifiedOnDate = getdate()", " "),  new Array(1,"WHERE VocabularyId = @VocabularyId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_aspnet_Applications]", " "),  new Array(1,"AS SELECT [ApplicationName], [LoweredApplicationName], [ApplicationId], [Description]", " "),  new Array(1,"FROM [dbo].[aspnet_Applications]", " "),  new Array(1,"", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT SELECT ON  [dbo].[vw_aspnet_Applications] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_aspnet_MembershipUsers]", " "),  new Array(1,"AS SELECT members.[UserId],", " "),  new Array(1,"members.[PasswordFormat],", " "),  new Array(1,"members.[MobilePIN],", " "),  new Array(1,"members.[Email],", " "),  new Array(1,"members.[LoweredEmail],", " "),  new Array(1,"members.[PasswordQuestion],", " "),  new Array(1,"members.[PasswordAnswer],", " "),  new Array(1,"members.[IsApproved],", " "),  new Array(1,"members.[IsLockedOut],", " "),  new Array(1,"members.[CreateDate],", " "),  new Array(1,"members.[LastLoginDate],", " "),  new Array(1,"members.[LastPasswordChangedDate],", " "),  new Array(1,"members.[LastLockoutDate],", " "),  new Array(1,"members.[FailedPasswordAttemptCount],", " "),  new Array(1,"members.[FailedPasswordAttemptWindowStart],", " "),  new Array(1,"members.[FailedPasswordAnswerAttemptCount],", " "),  new Array(1,"members.[FailedPasswordAnswerAttemptWindowStart],", " "),  new Array(1,"members.[Comment],", " "),  new Array(1,"users.[ApplicationId],", " "),  new Array(1,"users.[UserName],", " "),  new Array(1,"users.[MobileAlias],", " "),  new Array(1,"users.[IsAnonymous],", " "),  new Array(1,"users.[LastActivityDate]", " "),  new Array(1,"FROM [dbo].[aspnet_Membership] members INNER JOIN [dbo].[aspnet_Users] users", " "),  new Array(1,"ON members.[UserId] = users.[UserId]", " "),  new Array(1,"", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT SELECT ON  [dbo].[vw_aspnet_MembershipUsers] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_aspnet_Users]", " "),  new Array(1,"AS SELECT [ApplicationId], [UserId], [UserName], [LoweredUserName], [MobileAlias], [IsAnonymous], [LastActivityDate]", " "),  new Array(1,"FROM [dbo].[aspnet_Users]", " "),  new Array(1,"", " "),  new Array(1,"GO", " "),  new Array(0,"-- Permissions", " "),  new Array(0,"", ""),  new Array(1,"GRANT SELECT ON  [dbo].[vw_aspnet_Users] TO [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_ContentWorkflowStatePermissions]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"WSP.WorkflowStatePermissionID,", " "),  new Array(1,"WSP.StateID,", " "),  new Array(1,"P.PermissionID,", " "),  new Array(1,"WSP.RoleID,", " "),  new Array(1,"CASE WSP.RoleID", " "),  new Array(1,"when -1 then \'All Users\'", " "),  new Array(1,"when -2 then \'Superuser\'", " "),  new Array(1,"when -3 then \'Unauthenticated Users\'", " "),  new Array(1,"else 	R.RoleName", " "),  new Array(1,"END AS \'RoleName\',", " "),  new Array(1,"WSP.AllowAccess,", " "),  new Array(1,"WSP.UserID,", " "),  new Array(1,"U.Username,", " "),  new Array(1,"U.DisplayName,", " "),  new Array(1,"P.PermissionCode,", " "),  new Array(1,"P.ModuleDefID,", " "),  new Array(1,"P.PermissionKey,", " "),  new Array(1,"P.PermissionName,", " "),  new Array(1,"WSP.CreatedByUserID,", " "),  new Array(1,"WSP.CreatedOnDate,", " "),  new Array(1,"WSP.LastModifiedByUserID,", " "),  new Array(1,"WSP.LastModifiedOnDate", " "),  new Array(1,"FROM dbo.ContentWorkflowStatePermission AS WSP", " "),  new Array(1,"LEFT OUTER JOIN dbo.Permission AS P ON WSP.PermissionID = P.PermissionID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Roles AS R ON WSP.RoleID = R.RoleID", " "),  new Array(1,"LEFT OUTER JOIN dbo.Users AS U ON WSP.UserID = U.UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_ContentWorkflowUsage]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT COALESCE(cm.MetaDataValue, ci.Content) as \'ContentName\', ct.ContentType, ws.WorkflowID", " "),  new Array(1,"FROM dbo.[ContentItems] ci", " "),  new Array(1,"INNER JOIN dbo.[ContentTypes] ct", " "),  new Array(1,"ON ci.ContentTypeID = ct.ContentTypeID", " "),  new Array(1,"INNER JOIN dbo.[ContentWorkflowStates] ws", " "),  new Array(1,"ON ci.StateID = ws.StateID", " "),  new Array(1,"LEFT JOIN dbo.[ContentItems_MetaData] cm", " "),  new Array(1,"ON ci.ContentItemID = cm.ContentItemID", " "),  new Array(1,"AND cm.MetaDataID = (SELECT MetaDataID FROM dbo.[MetaData] WHERE MetaDataName = \'Title\')", " "),  new Array(1,"WHERE ct.ContentType != \'Tab\' -- Tabs will be managed specifically", " "),  new Array(1,"AND ct.ContentType != \'File\' -- Exclude Files", " "),  new Array(1,"UNION ALL", " "),  new Array(1,"SELECT t.TabPath, ct.ContentType, ws.WorkflowID", " "),  new Array(1,"FROM dbo.[ContentItems] ci", " "),  new Array(1,"INNER JOIN dbo.[ContentTypes] ct", " "),  new Array(1,"ON ci.ContentTypeID = ct.ContentTypeID", " "),  new Array(1,"INNER JOIN dbo.[Tabs] t", " "),  new Array(1,"ON ci.TabID = t.TabID", " "),  new Array(1,"INNER JOIN dbo.[ContentWorkflowStates] ws", " "),  new Array(1,"ON ci.StateID = ws.StateID", " "),  new Array(1,"WHERE ct.ContentType = \'Tab\'", " "),  new Array(1,"AND LOWER(t.TabPath) not like \'\/\/admin\/%\'", " "),  new Array(1,"AND LOWER(t.TabPath) != \'\/\/admin\'", " "),  new Array(1,"AND t.IsSystem = 0", " "),  new Array(1,"AND LOWER(t.TabPath) not like \'\/\/host\/%\'", " "),  new Array(1,"AND LOWER(t.TabPath) != \'\/\/host\'", " "),  new Array(1,"AND ci.StateID IS NOT NULL", " "),  new Array(1,"UNION ALL", " "),  new Array(1,"SELECT t.TabPath, ct.ContentType,", " "),  new Array(1,"(SELECT CAST(ps.SettingValue AS INT) value", " "),  new Array(1,"FROM dbo.[PortalSettings] ps", " "),  new Array(1,"WHERE ps.SettingName = \'DefaultTabWorkflowKey\'", " "),  new Array(1,"AND ps.PortalID = t.PortalID) as WorkflowID", " "),  new Array(1,"FROM dbo.[ContentItems] ci", " "),  new Array(1,"INNER JOIN dbo.[ContentTypes] ct", " "),  new Array(1,"ON ci.ContentTypeID = ct.ContentTypeID", " "),  new Array(1,"INNER JOIN dbo.[Tabs] t", " "),  new Array(1,"ON ci.TabID = t.TabID", " "),  new Array(1,"WHERE ct.ContentType = \'Tab\'", " "),  new Array(1,"AND LOWER(t.TabPath) NOT LIKE \'\/\/admin\/%\'", " "),  new Array(1,"AND LOWER(t.TabPath) != \'\/\/admin\'", " "),  new Array(1,"AND t.IsSystem = 0", " "),  new Array(1,"AND LOWER(t.TabPath) NOT LIKE \'\/\/host\/%\'", " "),  new Array(1,"AND LOWER(t.TabPath) != \'\/\/host\'", " "),  new Array(1,"AND ci.StateID IS NULL", " "),  new Array(1,"UNION ALL", " "),  new Array(1,"SELECT \'\/\' + f.FolderPath, \'Folder\', f.WorkflowID", " "),  new Array(1,"FROM dbo.[Folders] f", " "),  new Array(1,"WHERE f.WorkflowID IS NOT NULL", " "),  new Array(1,"UNION ALL", " "),  new Array(1,"SELECT \'\/\' + f.FolderPath, \'Folder\',", " "),  new Array(1,"(SELECT wf.WorkflowID", " "),  new Array(1,"FROM dbo.[ContentWorkflows] wf", " "),  new Array(1,"WHERE wf.WorkflowKey = \'DirectPublish\'", " "),  new Array(1,"AND wf.PortalID = f.PortalID) AS WorkflowID", " "),  new Array(1,"FROM dbo.[Folders] f", " "),  new Array(1,"WHERE f.WorkflowID IS NULL", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_CoreMessaging_Messages]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"M.MessageID,", " "),  new Array(1,"M.PortalID,", " "),  new Array(1,"M.NotificationTypeID,", " "),  new Array(1,"M.[To],", " "),  new Array(1,"M.[From],", " "),  new Array(1,"M.Subject,", " "),  new Array(1,"M.Body,", " "),  new Array(1,"M.ConversationID,", " "),  new Array(1,"M.ReplyAllAllowed,", " "),  new Array(1,"M.SenderUserID,", " "),  new Array(1,"M.ExpirationDate,", " "),  new Array(1,"M.Context,", " "),  new Array(1,"M.IncludeDismissAction,", " "),  new Array(1,"M.CreatedByUserID,", " "),  new Array(1,"M.CreatedOnDate,", " "),  new Array(1,"M.LastModifiedByUserID,", " "),  new Array(1,"M.LastModifiedOnDate,", " "),  new Array(1,"MR.RecipientID,", " "),  new Array(1,"MR.UserID,", " "),  new Array(1,"MR.[Read],", " "),  new Array(1,"MR.Archived,", " "),  new Array(1,"MR.EmailSent,", " "),  new Array(1,"MR.EmailSentDate,", " "),  new Array(1,"MR.EmailSchedulerInstance", " "),  new Array(1,"FROM       dbo.[CoreMessaging_MessageRecipients] MR", " "),  new Array(1,"INNER JOIN dbo.[CoreMessaging_Messages]          M ON mr.MessageID = m.MessageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"-- use new FK", " "),  new Array(1,"CREATE VIEW [dbo].[vw_DesktopModulePermissions]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  PP.DesktopModulePermissionID,", " "),  new Array(1,"PP.PortalDesktopModuleID,", " "),  new Array(1,"P.PermissionID,", " "),  new Array(1,"PP.RoleID,", " "),  new Array(1,"R.RoleName,", " "),  new Array(1,"PP.AllowAccess,", " "),  new Array(1,"PP.UserID,", " "),  new Array(1,"U.Username,", " "),  new Array(1,"U.DisplayName,", " "),  new Array(1,"P.PermissionCode,", " "),  new Array(1,"P.ModuleDefID,", " "),  new Array(1,"P.PermissionKey,", " "),  new Array(1,"P.PermissionName,", " "),  new Array(1,"PP.CreatedByUserID,", " "),  new Array(1,"PP.CreatedOnDate,", " "),  new Array(1,"PP.LastModifiedByUserID,", " "),  new Array(1,"PP.LastModifiedOnDate", " "),  new Array(1,"FROM        dbo.[DesktopModulePermission] AS PP", " "),  new Array(1,"INNER JOIN dbo.[Permission]              AS P  ON PP.PermissionID = P.PermissionID", " "),  new Array(1,"LEFT  JOIN dbo.[Roles]                   AS R  ON PP.RoleID = R.RoleID", " "),  new Array(1,"LEFT  JOIN dbo.[Users]                   AS U  ON PP.UserID = U.UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_DesktopModules]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"DM.DesktopModuleID,", " "),  new Array(1,"DM.FriendlyName,", " "),  new Array(1,"DM.Description,", " "),  new Array(1,"DM.Version,", " "),  new Array(1,"DM.IsPremium,", " "),  new Array(1,"DM.IsAdmin,", " "),  new Array(1,"DM.BusinessControllerClass,", " "),  new Array(1,"DM.FolderName,", " "),  new Array(1,"DM.ModuleName,", " "),  new Array(1,"DM.SupportedFeatures,", " "),  new Array(1,"DM.CompatibleVersions,", " "),  new Array(1,"DM.Dependencies,", " "),  new Array(1,"DM.Permissions,", " "),  new Array(1,"DM.PackageID,", " "),  new Array(1,"DM.CreatedByUserID,", " "),  new Array(1,"DM.CreatedOnDate,", " "),  new Array(1,"DM.LastModifiedByUserID,", " "),  new Array(1,"DM.LastModifiedOnDate,", " "),  new Array(1,"CI.ContentItemID,", " "),  new Array(1,"CI.[Content],", " "),  new Array(1,"CI.ContentTypeID,", " "),  new Array(1,"CI.TabID,", " "),  new Array(1,"CI.ModuleID,", " "),  new Array(1,"CI.ContentKey,", " "),  new Array(1,"CI.Indexed,", " "),  new Array(1,"DM.Shareable,", " "),  new Array(1,"DM.AdminPage,", " "),  new Array(1,"DM.HostPage", " "),  new Array(1,"FROM dbo.[DesktopModules] AS DM", " "),  new Array(1,"LEFT OUTER JOIN dbo.[ContentItems] AS CI ON DM.ContentItemId = CI.ContentItemID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_EventLog]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"el.*,", " "),  new Array(1,"ee.AssemblyVersion,", " "),  new Array(1,"ee.PortalId,", " "),  new Array(1,"ee.UserId,", " "),  new Array(1,"ee.TabId,", " "),  new Array(1,"ee.RawUrl,", " "),  new Array(1,"ee.Referrer,", " "),  new Array(1,"ee.UserAgent,", " "),  new Array(1,"e.Message,", " "),  new Array(1,"e.StackTrace,", " "),  new Array(1,"e.InnerMessage,", " "),  new Array(1,"e.InnerStackTrace,", " "),  new Array(1,"e.Source", " "),  new Array(1,"FROM dbo.EventLog el", " "),  new Array(1,"LEFT JOIN dbo.ExceptionEvents ee ON el.LogEventID = ee.LogEventID", " "),  new Array(1,"LEFT JOIN dbo.Exceptions e ON el.ExceptionHash = e.ExceptionHash", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_ExtensionUrlProviders]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"P.ExtensionUrlProviderID,", " "),  new Array(1,"PC.PortalID,", " "),  new Array(1,"P.ProviderName,", " "),  new Array(1,"P.IsActive,", " "),  new Array(1,"P.RewriteAllUrls,", " "),  new Array(1,"P.RedirectAllUrls,", " "),  new Array(1,"P.ReplaceAllUrls,", " "),  new Array(1,"P.DesktopModuleId", " "),  new Array(1,"FROM    dbo.ExtensionUrlProviderConfiguration PC", " "),  new Array(1,"RIGHT OUTER JOIN dbo.ExtensionUrlProviders P ON PC.ExtensionUrlProviderID = P.ExtensionUrlProviderID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_Files]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT    fi.FileId,", " "),  new Array(1,"fi.PortalId,", " "),  new Array(1,"fi.FileName,", " "),  new Array(1,"fi.Extension,", " "),  new Array(1,"fi.Size,", " "),  new Array(1,"fi.Width,", " "),  new Array(1,"fi.Height,", " "),  new Array(1,"fi.ContentType,", " "),  new Array(1,"fi.FolderID,", " "),  new Array(1,"fi.[Content],", " "),  new Array(1,"fi.CreatedByUserID,", " "),  new Array(1,"fi.CreatedOnDate,", " "),  new Array(1,"fi.LastModifiedByUserID,", " "),  new Array(1,"fi.LastModifiedOnDate,", " "),  new Array(1,"fi.UniqueId,", " "),  new Array(1,"fi.VersionGuid,", " "),  new Array(1,"fi.SHA1Hash,", " "),  new Array(1,"fi.LastModificationTime,", " "),  new Array(1,"fi.Title,", " "),  new Array(1,"fi.Description,", " "),  new Array(1,"fi.StartDate,", " "),  new Array(1,"fi.EnablePublishPeriod,", " "),  new Array(1,"fi.EndDate,", " "),  new Array(1,"fi.ContentItemID,", " "),  new Array(1,"fi.PublishedVersion,", " "),  new Array(1,"fo.FolderPath AS Folder,", " "),  new Array(1,"fo.IsCached,", " "),  new Array(1,"fo.FolderMappingID,", " "),  new Array(1,"fo.StorageLocation,", " "),  new Array(1,"fi.HasBeenPublished", " "),  new Array(1,"FROM         dbo.[Files] AS fi", " "),  new Array(1,"INNER JOIN dbo.[Folders] AS fo", " "),  new Array(1,"ON fi.FolderID = fo.FolderID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"-- use new FK", " "),  new Array(1,"CREATE VIEW [dbo].[vw_FolderPermissions]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  FP.FolderPermissionID,", " "),  new Array(1,"F.FolderID,", " "),  new Array(1,"F.FolderPath,", " "),  new Array(1,"F.PortalID,", " "),  new Array(1,"P.PermissionID,", " "),  new Array(1,"FP.RoleID,", " "),  new Array(1,"R.RoleName,", " "),  new Array(1,"FP.AllowAccess,", " "),  new Array(1,"FP.UserID,", " "),  new Array(1,"U.Username,", " "),  new Array(1,"U.DisplayName,", " "),  new Array(1,"P.PermissionCode,", " "),  new Array(1,"P.ModuleDefID,", " "),  new Array(1,"P.PermissionKey,", " "),  new Array(1,"P.PermissionName,", " "),  new Array(1,"FP.CreatedByUserID,", " "),  new Array(1,"FP.CreatedOnDate,", " "),  new Array(1,"FP.LastModifiedByUserID,", " "),  new Array(1,"FP.LastModifiedOnDate", " "),  new Array(1,"FROM         dbo.[FolderPermission] AS FP", " "),  new Array(1,"INNER JOIN  dbo.[Folders]          AS F ON FP.FolderID     = F.FolderID", " "),  new Array(1,"INNER JOIN  dbo.[Permission]       AS P ON FP.PermissionID = P.PermissionID", " "),  new Array(1,"LEFT  JOIN  dbo.[Roles]            AS R ON FP.RoleID       = R.RoleID", " "),  new Array(1,"LEFT  JOIN  dbo.[Users]            AS U ON FP.UserID       = U.UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"-- optimized", " "),  new Array(1,"CREATE VIEW [dbo].[vw_Lists]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  L.EntryID,", " "),  new Array(1,"L.ListName,", " "),  new Array(1,"L.[Value],", " "),  new Array(1,"L.Text,", " "),  new Array(1,"L.[Level],", " "),  new Array(1,"L.SortOrder,", " "),  new Array(1,"L.DefinitionID,", " "),  new Array(1,"L.ParentID,", " "),  new Array(1,"L.Description,", " "),  new Array(1,"L.PortalID,", " "),  new Array(1,"L.SystemList,", " "),  new Array(1,"dbo.[GetListParentKey](L.ParentID, L.ListName, N\'ParentKey\',  0) AS ParentKey,", " "),  new Array(1,"dbo.[GetListParentKey](L.ParentID, L.ListName, N\'Parent\',     0) AS Parent,", " "),  new Array(1,"dbo.[GetListParentKey](L.ParentID, L.ListName, N\'ParentList\', 0) AS ParentList,", " "),  new Array(1,"S.MaxSortOrder,", " "),  new Array(1,"S.EntryCount,", " "),  new Array(1,"CASE WHEN EXISTS (SELECT 1 FROM dbo.[Lists] WHERE (ParentID = L.EntryID)) THEN 1 ELSE 0 END AS HasChildren,", " "),  new Array(1,"L.CreatedByUserID,", " "),  new Array(1,"L.CreatedOnDate,", " "),  new Array(1,"L.LastModifiedByUserID,", " "),  new Array(1,"L.LastModifiedOnDate", " "),  new Array(1,"FROM dbo.[Lists] AS L", " "),  new Array(1,"LEFT JOIN (SELECT ListName, ParentID, Max(SortOrder) AS MaxSortOrder, Count(1) AS EntryCount", " "),  new Array(1,"FROM dbo.[Lists] GROUP BY ListName, ParentID) S 		ON L.ParentID = S.ParentId AND L.ListName = S.ListName", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_MasterPortals]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  P.PortalID,", " "),  new Array(1,"P.PortalGroupID,", " "),  new Array(1,"IsNull(G.MasterPortalID, P.PortalID) AS MasterPortalID", " "),  new Array(1,"FROM      dbo.[Portals] AS P", " "),  new Array(1,"LEFT JOIN dbo.[PortalGroups] AS G ON P.PortalGroupID = G.PortalGroupID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_MessagesForDispatch]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT CMR.RecipientID", " "),  new Array(1,",CMR.MessageID", " "),  new Array(1,",CMR.UserID", " "),  new Array(1,",CMR.[Read]", " "),  new Array(1,",CMR.Archived", " "),  new Array(1,",CMR.EmailSent", " "),  new Array(1,",CMR.EmailSentDate", " "),  new Array(1,",CMR.EmailSchedulerInstance", " "),  new Array(1,",CMR.CreatedByUserID", " "),  new Array(1,",CMR.CreatedOnDate", " "),  new Array(1,",CMR.LastModifiedByUserID", " "),  new Array(1,",CMR.LastModifiedOnDate", " "),  new Array(1,",CMR.SendToast", " "),  new Array(1,",CM.NotificationTypeID", " "),  new Array(1,",CASE", " "),  new Array(1,"WHEN CM.NotificationTypeID IS NULL", " "),  new Array(1,"THEN", " "),  new Array(1,"ISNULL ((SELECT UP.[MessagesEmailFrequency] AS Expr1", " "),  new Array(1,"FROM          dbo.CoreMessaging_UserPreferences UP", " "),  new Array(1,"WHERE      (UP.UserId = CMR.UserID) AND (UP.PortalId = CM.PortalID)), 0)", " "),  new Array(1,"ELSE", " "),  new Array(1,"ISNULL ((SELECT UP.[NotificationsEmailFrequency] AS Expr1", " "),  new Array(1,"FROM          dbo.CoreMessaging_UserPreferences UP", " "),  new Array(1,"WHERE      (UP.UserId = CMR.UserID) AND (UP.PortalId = CM.PortalID)), 2)", " "),  new Array(1,"END EmailFrequency", " "),  new Array(1,"FROM dbo.CoreMessaging_MessageRecipients AS CMR", " "),  new Array(1,"INNER JOIN", " "),  new Array(1,"dbo.CoreMessaging_Messages AS CM", " "),  new Array(1,"ON CMR.MessageID = CM.MessageID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"-- use new FK", " "),  new Array(1,"CREATE VIEW [dbo].[vw_ModulePermissions]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  MP.ModulePermissionID,", " "),  new Array(1,"MP.ModuleID,", " "),  new Array(1,"MP.PortalID,", " "),  new Array(1,"P.PermissionID,", " "),  new Array(1,"MP.RoleID,", " "),  new Array(1,"R.RoleName,", " "),  new Array(1,"MP.AllowAccess,", " "),  new Array(1,"MP.UserID,", " "),  new Array(1,"U.Username,", " "),  new Array(1,"U.DisplayName,", " "),  new Array(1,"P.PermissionCode,", " "),  new Array(1,"P.ModuleDefID,", " "),  new Array(1,"P.PermissionKey,", " "),  new Array(1,"P.PermissionName,", " "),  new Array(1,"MP.CreatedByUserID,", " "),  new Array(1,"MP.CreatedOnDate,", " "),  new Array(1,"MP.LastModifiedByUserID,", " "),  new Array(1,"MP.LastModifiedOnDate", " "),  new Array(1,"FROM        dbo.[ModulePermission] AS MP", " "),  new Array(1,"INNER JOIN dbo.[Permission]       AS P  ON MP.PermissionID = P.PermissionID", " "),  new Array(1,"LEFT  JOIN dbo.[Roles]            AS R  ON MP.RoleID       = R.RoleID", " "),  new Array(1,"LEFT  JOIN dbo.[Users]            AS U  ON MP.UserID       = U.UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_Modules]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"M.PortalID AS [OwnerPortalID],", " "),  new Array(1,"DM.PackageID,", " "),  new Array(1,"T.PortalID,", " "),  new Array(1,"TM.TabID,", " "),  new Array(1,"TM.TabModuleID,", " "),  new Array(1,"M.ModuleID,", " "),  new Array(1,"M.ModuleDefID,", " "),  new Array(1,"TM.ModuleOrder,", " "),  new Array(1,"TM.PaneName,", " "),  new Array(1,"TM.ModuleTitle,", " "),  new Array(1,"TM.CacheTime,", " "),  new Array(1,"TM.CacheMethod,", " "),  new Array(1,"TM.Alignment,", " "),  new Array(1,"TM.Color,", " "),  new Array(1,"TM.Border,", " "),  new Array(1,"CASE WHEN TM.IconFile LIKE \'fileid=%\'", " "),  new Array(1,"THEN (SELECT IsNull(Folder, \'\') + [FileName] FROM dbo.[vw_Files]", " "),  new Array(1,"WHERE FileId = CAST(SUBSTRING(TM.IconFile, 8, 10) AS Int))", " "),  new Array(1,"ELSE Coalesce(TM.IconFile,\'\')", " "),  new Array(1,"END AS IconFile,", " "),  new Array(1,"TM.Visibility,", " "),  new Array(1,"TM.Header,", " "),  new Array(1,"TM.Footer,", " "),  new Array(1,"TM.ContainerSrc,", " "),  new Array(1,"TM.DisplayTitle,", " "),  new Array(1,"TM.DisplayPrint,", " "),  new Array(1,"TM.DisplaySyndicate,", " "),  new Array(1,"TM.IsWebSlice,", " "),  new Array(1,"TM.WebSliceTitle,", " "),  new Array(1,"TM.WebSliceExpiryDate,", " "),  new Array(1,"TM.WebSliceTTL,", " "),  new Array(1,"TM.UniqueId,", " "),  new Array(1,"TM.VersionGuid,", " "),  new Array(1,"TM.DefaultLanguageGuid,", " "),  new Array(1,"TM.LocalizedVersionGuid,", " "),  new Array(1,"TM.CultureCode,", " "),  new Array(1,"M.AllTabs,", " "),  new Array(1,"M.StartDate,", " "),  new Array(1,"M.EndDate,", " "),  new Array(1,"T.StartDate AS TabStartDate,", " "),  new Array(1,"T.EndDate AS TabEndDate,", " "),  new Array(1,"M.InheritViewPermissions,", " "),  new Array(1,"M.IsShareable,", " "),  new Array(1,"M.IsShareableViewOnly,", " "),  new Array(1,"M.CreatedByUserID,", " "),  new Array(1,"M.CreatedOnDate,", " "),  new Array(1,"M.LastModifiedByUserID,", " "),  new Array(1,"M.LastModifiedOnDate,", " "),  new Array(1,"M.LastContentModifiedOnDate,", " "),  new Array(1,"MD.DesktopModuleID,", " "),  new Array(1,"MD.DefaultCacheTime,", " "),  new Array(1,"MD.DefinitionName,", " "),  new Array(1,"MC.ModuleControlID,", " "),  new Array(1,"DM.BusinessControllerClass,", " "),  new Array(1,"DM.IsAdmin,", " "),  new Array(1,"DM.SupportedFeatures,", " "),  new Array(1,"CI.ContentItemID,", " "),  new Array(1,"CI.Content,", " "),  new Array(1,"CI.ContentTypeID,", " "),  new Array(1,"CI.ContentKey,", " "),  new Array(1,"CI.Indexed,", " "),  new Array(1,"CI.StateID,", " "),  new Array(1,"TM.IsDeleted AS IsDeleted,", " "),  new Array(1,"M.IsDeleted  AS IsModuleDeleted,", " "),  new Array(1,"T.IsDeleted  AS IsTabDeleted", " "),  new Array(1,"FROM        dbo.[ModuleDefinitions] AS MD", " "),  new Array(1,"INNER JOIN dbo.[Modules]           AS M  ON M.ModuleDefID = MD.ModuleDefID", " "),  new Array(1,"INNER JOIN dbo.[ModuleControls]    AS MC ON MD.ModuleDefID = MC.ModuleDefID", " "),  new Array(1,"INNER JOIN dbo.[DesktopModules]    AS DM ON MD.DesktopModuleID = DM.DesktopModuleID", " "),  new Array(1,"LEFT  JOIN dbo.[ContentItems]      AS CI ON M.ContentItemID = CI.ContentItemID", " "),  new Array(1,"LEFT  JOIN dbo.[TabModules]        AS TM ON M.ModuleID = TM.ModuleID", " "),  new Array(1,"LEFT  JOIN dbo.[Tabs]              AS T  ON TM.TabID = T.TabID", " "),  new Array(1,"WHERE (MC.ControlKey IS NULL)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_PersonaBarMenuPermissions]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  MP.MenuPermissionId,", " "),  new Array(1,"MP.MenuId,", " "),  new Array(1,"MP.PortalId,", " "),  new Array(1,"P.PermissionId,", " "),  new Array(1,"MP.RoleID,", " "),  new Array(1,"R.RoleName,", " "),  new Array(1,"MP.AllowAccess,", " "),  new Array(1,"MP.UserId,", " "),  new Array(1,"U.Username,", " "),  new Array(1,"U.DisplayName,", " "),  new Array(1,"P.PermissionKey,", " "),  new Array(1,"P.PermissionName,", " "),  new Array(1,"-- Add Columns to compact core system API", " "),  new Array(1,"-1 AS ModuleDefID,", " "),  new Array(1,"\'PERSONABAR_MENU\' AS PermissionCode,", " "),  new Array(1,"MP.CreatedByUserId,", " "),  new Array(1,"MP.CreatedOnDate,", " "),  new Array(1,"MP.LastModifiedByUserId,", " "),  new Array(1,"MP.LastModifiedOnDate", " "),  new Array(1,"FROM dbo.[PersonaBarMenuPermission] AS MP", " "),  new Array(1,"INNER JOIN dbo.[PersonaBarPermission]       AS P  ON MP.PermissionID = P.PermissionID", " "),  new Array(1,"LEFT  JOIN dbo.[Roles]            AS R  ON MP.RoleID       = R.RoleID", " "),  new Array(1,"LEFT  JOIN dbo.[Users]            AS U  ON MP.UserID       = U.UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_Portals]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"P.PortalID,", " "),  new Array(1,"P.PortalGroupID,", " "),  new Array(1,"PL.PortalName,", " "),  new Array(1,"Case when PL.LogoFile LIKE \'fileid=%\'", " "),  new Array(1,"then (SELECT IsNull(Folder, \'\') + [FileName] FROM dbo.[vw_Files]", " "),  new Array(1,"WHERE fileid = CAST(SUBSTRING(PL.LogoFile, 8, 10) AS Int))", " "),  new Array(1,"else Coalesce(PL.LogoFile,\'\')", " "),  new Array(1,"end as LogoFile,", " "),  new Array(1,"PL.FooterText,", " "),  new Array(1,"P.ExpiryDate,", " "),  new Array(1,"P.UserRegistration,", " "),  new Array(1,"P.BannerAdvertising,", " "),  new Array(1,"P.AdministratorId,", " "),  new Array(1,"P.Currency,", " "),  new Array(1,"P.HostFee,", " "),  new Array(1,"P.HostSpace,", " "),  new Array(1,"P.PageQuota,", " "),  new Array(1,"P.UserQuota,", " "),  new Array(1,"P.AdministratorRoleId,", " "),  new Array(1,"P.RegisteredRoleId,", " "),  new Array(1,"PL.Description,", " "),  new Array(1,"PL.KeyWords,", " "),  new Array(1,"Case when PL.BackgroundFile LIKE \'fileid=%\'", " "),  new Array(1,"then (SELECT IsNull(Folder, \'\') + [FileName] FROM dbo.[vw_Files]", " "),  new Array(1,"WHERE fileid = CAST(SUBSTRING(PL.BackgroundFile, 8, 10) AS Int))", " "),  new Array(1,"else Coalesce(PL.BackgroundFile,\'\')", " "),  new Array(1,"end as BackgroundFile", " "),  new Array(1,",", " "),  new Array(1,"P.GUID,", " "),  new Array(1,"P.PaymentProcessor,", " "),  new Array(1,"P.ProcessorUserId,", " "),  new Array(1,"P.ProcessorPassword,", " "),  new Array(1,"P.SiteLogHistory,", " "),  new Array(1,"U.Email,", " "),  new Array(1,"P.DefaultLanguage,", " "),  new Array(1,"P.TimezoneOffset,", " "),  new Array(1,"PL.AdminTabId,", " "),  new Array(1,"P.HomeDirectory,", " "),  new Array(1,"PL.SplashTabId,", " "),  new Array(1,"PL.HomeTabId,", " "),  new Array(1,"PL.LoginTabId,", " "),  new Array(1,"PL.RegisterTabId,", " "),  new Array(1,"PL.UserTabId,", " "),  new Array(1,"PL.SearchTabId,", " "),  new Array(1,"PL.Custom404TabId,", " "),  new Array(1,"PL.Custom500TabId,", " "),  new Array(1,"dbo.SuperUserTabID() AS SuperTabId,", " "),  new Array(1,"P.CreatedByUserID,", " "),  new Array(1,"P.CreatedOnDate,", " "),  new Array(1,"P.LastModifiedByUserID,", " "),  new Array(1,"P.LastModifiedOnDate,", " "),  new Array(1,"PL.CultureCode", " "),  new Array(1,"FROM       dbo.[Portals]            AS P", " "),  new Array(1,"INNER JOIN dbo.[PortalLocalization] AS PL ON P.PortalID = PL.PortalID", " "),  new Array(1,"LEFT  JOIN dbo.[Users]              AS U  ON P.AdministratorId = U.UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_PortalsDefaultLanguage]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT * FROM dbo.[vw_Portals] WHERE CultureCode = DefaultLanguage", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_Profile]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"UP.UserID,", " "),  new Array(1,"PD.PortalID,", " "),  new Array(1,"PD.PropertyName,", " "),  new Array(1,"CASE WHEN PropertyText IS NULL THEN PropertyValue ELSE PropertyText END AS PropertyValue,", " "),  new Array(1,"UP.Visibility,", " "),  new Array(1,"UP.ExtendedVisibility,", " "),  new Array(1,"UP.LastUpdatedDate,", " "),  new Array(1,"PD.PropertyDefinitionID", " "),  new Array(1,"FROM dbo.[UserProfile] AS UP", " "),  new Array(1,"INNER JOIN dbo.[ProfilePropertyDefinition] AS PD ON PD.PropertyDefinitionID = UP.PropertyDefinitionID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_PublishedFiles]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"fi.[FileId]", " "),  new Array(1,",fi.[PortalId]", " "),  new Array(1,",fi.[FileName]", " "),  new Array(1,",fi.[Extension]", " "),  new Array(1,",fi.[Size]", " "),  new Array(1,",fi.[Width]", " "),  new Array(1,",fi.[Height]", " "),  new Array(1,",fi.[ContentType]", " "),  new Array(1,",fi.[FolderID]", " "),  new Array(1,",fi.[Content]", " "),  new Array(1,",fi.[CreatedByUserID]", " "),  new Array(1,",fi.[CreatedOnDate]", " "),  new Array(1,",fi.[LastModifiedByUserID]", " "),  new Array(1,",fi.[LastModifiedOnDate]", " "),  new Array(1,",fi.[UniqueId]", " "),  new Array(1,",fi.[VersionGuid]", " "),  new Array(1,",fi.[SHA1Hash]", " "),  new Array(1,",fi.[LastModificationTime]", " "),  new Array(1,",fi.[Title]", " "),  new Array(1,",fi.[Description]", " "),  new Array(1,",fi.[StartDate]", " "),  new Array(1,",fi.[EnablePublishPeriod]", " "),  new Array(1,",fi.[EndDate]", " "),  new Array(1,",fi.[ContentItemID]", " "),  new Array(1,",fi.[PublishedVersion]", " "),  new Array(1,",fi.[Folder]", " "),  new Array(1,",fi.[IsCached]", " "),  new Array(1,",fi.[StorageLocation]", " "),  new Array(1,",fi.[FolderMappingID]", " "),  new Array(1,",fi.[HasBeenPublished]", " "),  new Array(1,"FROM       dbo.[vw_Files] fi", " "),  new Array(1,"WHERE ([EnablePublishPeriod] = 0 AND [HasBeenPublished] = 1)", " "),  new Array(1,"OR ([StartDate] <= GETDATE()", " "),  new Array(1,"AND ([EndDate] IS NULL OR GETDATE() <= [EndDate]) AND [HasBeenPublished] = 1)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_TabModules]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"M.PortalID AS [OwnerPortalID],", " "),  new Array(1,"T.PortalID,", " "),  new Array(1,"TM.TabID,", " "),  new Array(1,"TM.TabModuleID,", " "),  new Array(1,"M.ModuleID,", " "),  new Array(1,"M.ModuleDefID,", " "),  new Array(1,"TM.ModuleOrder,", " "),  new Array(1,"TM.PaneName,", " "),  new Array(1,"TM.ModuleTitle,", " "),  new Array(1,"TM.CacheTime,", " "),  new Array(1,"TM.CacheMethod,", " "),  new Array(1,"TM.Alignment,", " "),  new Array(1,"TM.Color,", " "),  new Array(1,"TM.Border,", " "),  new Array(1,"Case when tm.IconFile LIKE \'fileid=%\'", " "),  new Array(1,"then (SELECT IsNull(Folder, \'\') + [FileName] FROM dbo.[vw_Files]", " "),  new Array(1,"WHERE fileid = CAST(SUBSTRING(tm.IconFile, 8, 10) AS Int))", " "),  new Array(1,"else Coalesce(tm.IconFile,\'\')", " "),  new Array(1,"end as IconFile", " "),  new Array(1,",M.AllTabs,", " "),  new Array(1,"TM.Visibility,", " "),  new Array(1,"TM.IsDeleted,", " "),  new Array(1,"TM.Header,", " "),  new Array(1,"TM.Footer,", " "),  new Array(1,"M.StartDate,", " "),  new Array(1,"M.EndDate,", " "),  new Array(1,"TM.ContainerSrc,", " "),  new Array(1,"TM.DisplayTitle,", " "),  new Array(1,"TM.DisplayPrint,", " "),  new Array(1,"TM.DisplaySyndicate,", " "),  new Array(1,"TM.IsWebSlice,", " "),  new Array(1,"TM.WebSliceTitle,", " "),  new Array(1,"TM.WebSliceExpiryDate,", " "),  new Array(1,"TM.WebSliceTTL,", " "),  new Array(1,"M.InheritViewPermissions,", " "),  new Array(1,"M.IsShareable,", " "),  new Array(1,"M.IsShareableViewOnly,", " "),  new Array(1,"MD.DesktopModuleID,", " "),  new Array(1,"MD.DefaultCacheTime,", " "),  new Array(1,"MC.ModuleControlID,", " "),  new Array(1,"DM.BusinessControllerClass,", " "),  new Array(1,"DM.IsAdmin,", " "),  new Array(1,"DM.SupportedFeatures,", " "),  new Array(1,"CI.ContentItemID,", " "),  new Array(1,"CI.Content,", " "),  new Array(1,"CI.ContentTypeID,", " "),  new Array(1,"CI.ContentKey,", " "),  new Array(1,"CI.Indexed,", " "),  new Array(1,"CI.StateID,", " "),  new Array(1,"TM.CreatedByUserID,", " "),  new Array(1,"TM.CreatedOnDate,", " "),  new Array(1,"TM.LastModifiedByUserID,", " "),  new Array(1,"TM.LastModifiedOnDate,", " "),  new Array(1,"M.LastContentModifiedOnDate,", " "),  new Array(1,"TM.UniqueId,", " "),  new Array(1,"TM.VersionGuid,", " "),  new Array(1,"TM.DefaultLanguageGuid,", " "),  new Array(1,"TM.LocalizedVersionGuid,", " "),  new Array(1,"TM.CultureCode", " "),  new Array(1,"FROM dbo.[ModuleDefinitions]     AS MD", " "),  new Array(1,"INNER JOIN dbo.[Modules]        AS M  ON MD.ModuleDefID = M.ModuleDefID", " "),  new Array(1,"INNER JOIN dbo.[ModuleControls] AS MC ON MD.ModuleDefID = MC.ModuleDefID", " "),  new Array(1,"INNER JOIN dbo.[DesktopModules] AS DM ON MD.DesktopModuleID = DM.DesktopModuleID", " "),  new Array(1,"LEFT  JOIN dbo.[ContentItems]   AS CI ON M.ContentItemID = CI.ContentItemID", " "),  new Array(1,"LEFT  JOIN dbo.[TabModules]     AS TM ON M.ModuleID = TM.ModuleID", " "),  new Array(1,"LEFT  JOIN dbo.[Tabs]           AS T  ON TM.TabID = T.TabID", " "),  new Array(1,"WHERE (MC.ControlKey IS NULL)", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"-- use new FK", " "),  new Array(1,"CREATE VIEW [dbo].[vw_TabPermissions]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  TP.TabPermissionID,", " "),  new Array(1,"T.TabID,", " "),  new Array(1,"T.PortalId,", " "),  new Array(1,"P.PermissionID,", " "),  new Array(1,"TP.RoleID,", " "),  new Array(1,"R.RoleName,", " "),  new Array(1,"TP.AllowAccess,", " "),  new Array(1,"TP.UserID,", " "),  new Array(1,"U.Username,", " "),  new Array(1,"U.DisplayName,", " "),  new Array(1,"P.PermissionCode,", " "),  new Array(1,"P.ModuleDefID,", " "),  new Array(1,"P.PermissionKey,", " "),  new Array(1,"P.PermissionName,", " "),  new Array(1,"TP.CreatedByUserID,", " "),  new Array(1,"TP.CreatedOnDate,", " "),  new Array(1,"TP.LastModifiedByUserID,", " "),  new Array(1,"TP.LastModifiedOnDate", " "),  new Array(1,"FROM        dbo.[TabPermission]    AS TP", " "),  new Array(1,"INNER JOIN dbo.[Tabs]             AS T  ON TP.TabId        = T.TabId", " "),  new Array(1,"INNER JOIN dbo.[Permission]       AS P  ON TP.PermissionID = P.PermissionID", " "),  new Array(1,"LEFT  JOIN dbo.[Roles]            AS R  ON TP.RoleID       = R.RoleID", " "),  new Array(1,"LEFT  JOIN dbo.[Users]            AS U  ON TP.UserID       = U.UserID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_Tabs]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"T.TabID,", " "),  new Array(1,"T.TabOrder,", " "),  new Array(1,"T.PortalID,", " "),  new Array(1,"T.TabName,", " "),  new Array(1,"T.ParentId,", " "),  new Array(1,"T.[Level],", " "),  new Array(1,"T.TabPath,", " "),  new Array(1,"T.UniqueId,", " "),  new Array(1,"T.VersionGuid,", " "),  new Array(1,"T.DefaultLanguageGuid,", " "),  new Array(1,"T.LocalizedVersionGuid,", " "),  new Array(1,"T.IsVisible,", " "),  new Array(1,"T.HasBeenPublished,", " "),  new Array(1,"Case when t.IconFile LIKE \'fileid=%\'", " "),  new Array(1,"then (SELECT IsNull(Folder, \'\') + [FileName] FROM dbo.[vw_Files]", " "),  new Array(1,"WHERE fileid = CAST(SUBSTRING(t.IconFile, 8, 10) AS Int))", " "),  new Array(1,"else Coalesce(t.IconFile,\'\')", " "),  new Array(1,"end as IconFile", " "),  new Array(1,",", " "),  new Array(1,"Case when t.IconFileLarge LIKE \'fileid=%\'", " "),  new Array(1,"then (SELECT IsNull(Folder, \'\') + [FileName] FROM dbo.[vw_Files]", " "),  new Array(1,"WHERE fileid = CAST(SUBSTRING(t.IconFileLarge, 8, 10) AS Int))", " "),  new Array(1,"else Coalesce(t.IconFileLarge,\'\')", " "),  new Array(1,"end as IconFileLarge", " "),  new Array(1,",T.DisableLink,", " "),  new Array(1,"T.Title,", " "),  new Array(1,"T.Description,", " "),  new Array(1,"T.KeyWords,", " "),  new Array(1,"T.IsDeleted,", " "),  new Array(1,"T.SkinSrc,", " "),  new Array(1,"T.ContainerSrc,", " "),  new Array(1,"T.StartDate,", " "),  new Array(1,"T.EndDate,", " "),  new Array(1,"T.Url,", " "),  new Array(1,"CASE WHEN dbo.HasChildTab(T.TabID) = 1 THEN \'true\' ELSE \'false\' END AS HasChildren,", " "),  new Array(1,"T.RefreshInterval,", " "),  new Array(1,"T.PageHeadText,", " "),  new Array(1,"T.IsSecure,", " "),  new Array(1,"T.PermanentRedirect,", " "),  new Array(1,"T.SiteMapPriority,", " "),  new Array(1,"CI.ContentItemID,", " "),  new Array(1,"CI.[Content],", " "),  new Array(1,"CI.ContentTypeID,", " "),  new Array(1,"CI.ModuleID,", " "),  new Array(1,"CI.ContentKey,", " "),  new Array(1,"CI.Indexed,", " "),  new Array(1,"CI.StateID,", " "),  new Array(1,"T.CultureCode,", " "),  new Array(1,"T.CreatedByUserID,", " "),  new Array(1,"T.CreatedOnDate,", " "),  new Array(1,"T.LastModifiedByUserID,", " "),  new Array(1,"T.LastModifiedOnDate,", " "),  new Array(1,"T.IsSystem", " "),  new Array(1,"FROM       dbo.[Tabs]         AS T", " "),  new Array(1,"LEFT  JOIN dbo.[ContentItems] AS CI ON T.ContentItemID = CI.ContentItemID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_UserRoles]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT", " "),  new Array(1,"UR.UserRoleID,", " "),  new Array(1,"R.RoleID,", " "),  new Array(1,"U.UserID,", " "),  new Array(1,"R.PortalID,", " "),  new Array(1,"R.RoleName,", " "),  new Array(1,"U.Username,", " "),  new Array(1,"R.Description,", " "),  new Array(1,"U.DisplayName,", " "),  new Array(1,"U.Email,", " "),  new Array(1,"UR.Status,", " "),  new Array(1,"UR.IsOwner,", " "),  new Array(1,"R.SecurityMode,", " "),  new Array(1,"R.ServiceFee,", " "),  new Array(1,"R.BillingFrequency,", " "),  new Array(1,"R.TrialPeriod,", " "),  new Array(1,"R.TrialFrequency,", " "),  new Array(1,"R.BillingPeriod,", " "),  new Array(1,"R.TrialFee,", " "),  new Array(1,"R.IsPublic,", " "),  new Array(1,"R.AutoAssignment,", " "),  new Array(1,"R.RoleGroupID,", " "),  new Array(1,"R.RSVPCode,", " "),  new Array(1,"R.IconFile,", " "),  new Array(1,"UR.EffectiveDate,", " "),  new Array(1,"UR.ExpiryDate,", " "),  new Array(1,"UR.IsTrialUsed,", " "),  new Array(1,"UR.CreatedByUserID,", " "),  new Array(1,"UR.CreatedOnDate,", " "),  new Array(1,"UR.LastModifiedByUserID,", " "),  new Array(1,"UR.LastModifiedOnDate,", " "),  new Array(1,"R.IsSystemRole", " "),  new Array(1,"FROM dbo.UserRoles AS UR", " "),  new Array(1,"INNER JOIN dbo.Users AS U ON UR.UserID = U.UserID", " "),  new Array(1,"INNER JOIN dbo.Roles AS R ON UR.RoleID = R.RoleID", " "),  new Array(1,"WHERE R.Status = 1", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- View", " "),  new Array(0,"", ""),  new Array(1,"CREATE VIEW [dbo].[vw_Users]", " "),  new Array(1,"AS", " "),  new Array(1,"SELECT  U.UserId,", " "),  new Array(1,"UP.PortalId,", " "),  new Array(1,"U.Username,", " "),  new Array(1,"U.FirstName,", " "),  new Array(1,"U.LastName,", " "),  new Array(1,"U.DisplayName,", " "),  new Array(1,"U.IsSuperUser,", " "),  new Array(1,"U.Email,", " "),  new Array(1,"UP.VanityUrl,", " "),  new Array(1,"U.AffiliateId,", " "),  new Array(1,"IsNull(UP.IsDeleted, U.IsDeleted) AS IsDeleted,", " "),  new Array(1,"UP.RefreshRoles,", " "),  new Array(1,"U.LastIPAddress,", " "),  new Array(1,"U.UpdatePassword,", " "),  new Array(1,"U.PasswordResetToken,", " "),  new Array(1,"U.PasswordResetExpiration,", " "),  new Array(1,"UP.Authorised,", " "),  new Array(1,"U.CreatedByUserId,", " "),  new Array(1,"U.CreatedOnDate,", " "),  new Array(1,"U.LastModifiedByUserId,", " "),  new Array(1,"U.LastModifiedOnDate", " "),  new Array(1,"FROM       dbo.[Users]       AS U", " "),  new Array(1,"LEFT JOIN dbo.[UserPortals] AS UP", " "),  new Array(1,"ON CASE WHEN U.IsSuperuser = 1 THEN 0 ELSE U.UserId END = UP.UserId", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[AdjustedReferrer](", " "),  new Array(1,"@Referrer 	 nVarChar(2000),", " "),  new Array(1,"@PortalAlias nVarChar( 255)", " "),  new Array(1,")", " "),  new Array(1,"RETURNS nVarChar(2000)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"RETURN CASE", " "),  new Array(1,"WHEN @Referrer LIKE \'%\' + @PortalAlias + \'%\' THEN Null", " "),  new Array(1,"ELSE @Referrer", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- new function to return RoleID for Administrators of the Portal passed in as parameter", " "),  new Array(1,"CREATE FUNCTION [dbo].[AdministratorRoleId](", " "),  new Array(1,"@PortalId	 		 Int -- Needs to be >= 0, otherwise false is returned", " "),  new Array(1,")", " "),  new Array(1,"RETURNS 			 int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @adminRoleId int = 0", " "),  new Array(1,"SELECT  @adminRoleId = AdministratorRoleId FROM dbo.[Portals] WHERE PortalID = @PortalId", " "),  new Array(1,"RETURN  @adminRoleId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[BrowserFromUserAgent]", " "),  new Array(1,"(@UserAgent nVarChar(2000))", " "),  new Array(1,"RETURNS nVarChar(2000)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @ident1		 nVarChar( 20) = \'\';", " "),  new Array(1,"DECLARE @ident2		 nVarChar( 20) = \'\';", " "),  new Array(1,"DECLARE @Browser     nVarChar(100) = \'\';", " "),  new Array(1,"DECLARE @Version	 nVarChar( 10) = \'\';", " "),  new Array(1,"DECLARE @Pos         Smallint = -1;", " "),  new Array(1,"DECLARE @End		 Smallint =  0;", " "),  new Array(1,"", " "),  new Array(1,"-- Detect Browser family (Name|Version Prefix):", " "),  new Array(1,"SET @Browser =	CASE", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Opera Mini\/%\'	THEN \'Opera Mini|Opera Mini\/|Version\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Opera Mobi\/%\'	THEN \'Opera Mobile|Version\/|Opera Mobi\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Opera\/%\'			THEN \'Opera|Version\/|Opera\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Opera %\'			THEN \'Opera|Opera \'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Opera\'			THEN \'Opera|Opera\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Firefox\/%\'		THEN \'Mozilla Firefox|Firefox\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Firebird\/%\'		THEN \'Mozilla Firebird|Firebird\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%SeaMonkey\/%\'		THEN \'Mozilla SeaMonkey|SeaMonkey\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Kindle\/%\'		THEN \'Amazon Kindle|Kindle\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Kindle %\'		THEN \'Amazon Kindle|Version\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Silk\/%\'			THEN \'Amazon Kindle|Version\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Chrome\/%\'		THEN \'Google Chrome|Chrome\/\'", " "),  new Array(1,"WHEN @UserAgent Like \'%Blackberry\'		THEN \'Blackberry|Mobile Safari\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Android%\' 		THEN \'Android|Mobile Safari\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Safari\/%\'		THEN \'Apple Safari|Safari\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%ChromePlus\/%\'	THEN \'ChromePlus|ChromePlus\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%AOL %\'			THEN \'AOL Browser|AOL \'", " "),  new Array(1,"WHEN @USerAgent LIKE \'%Crazy Browser %\' THEN \'Crazy Browser|Crazy Browser \'", " "),  new Array(1,"WHEN @USerAgent LIKE \'%Maxthon\/%\'		THEN \'Maxthon|Maxthon\/\'", " "),  new Array(1,"WHEN @USerAgent LIKE \'%IEMobile %\'		THEN \'IE Mobile|IEMobile \'", " "),  new Array(1,"WHEN @USerAgent LIKE \'%IEMobile\/%\'		THEN \'IE Mobile|IEMobile\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%MSIE %\'      	THEN \'Internet Explorer|MSIE \'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%(IE %\'      		THEN \'Internet Explorer|(IE \'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Netscape\/%\' 		THEN \'Netscape Navigator|Netscape\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Navigator\/%\'		THEN \'Netscape Navigator|Navigator\/\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%PLAYSTATION %\' 	THEN \'Sony Playstation|PLAYSTATION \'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%WGet\/%\'			THEN \'WGet|WGet\/\'", " "),  new Array(1,"END", " "),  new Array(1,"IF @Browser <> \'\' -- separate elements:", " "),  new Array(1,"SET @Pos = CharIndex(\'|\', @Browser)", " "),  new Array(1,"IF @Pos > 0 BEGIN", " "),  new Array(1,"SET @ident1  = SubString(@Browser, @Pos + 1, 100)", " "),  new Array(1,"SET @Browser = Left(@Browser, @Pos - 1)", " "),  new Array(1,"SET @Pos     = CharIndex(\'|\', @ident1)", " "),  new Array(1,"IF  @Pos > 0 BEGIN", " "),  new Array(1,"SET @Ident2 = SubString(@Ident1, @Pos + 1, 100)", " "),  new Array(1,"SET @Ident1 = Left(@Ident1, @Pos - 1)", " "),  new Array(1,"END", " "),  new Array(1,"-- get major version number from UserAgent string:", " "),  new Array(1,"SET @Pos = CharIndex(@ident1, @UserAgent) + Len(@ident1 + \'|\') - 1 -- correct to catch trailing space", " "),  new Array(1,"IF @Pos = 0 SET @Pos = CharIndex(@ident2, @UserAgent) + Len(@ident2 + \'|\') - 1 -- again", " "),  new Array(1,"IF @Pos > 0 BEGIN", " "),  new Array(1,"WHILE SubString(@UserAgent, @Pos + @End, 1) >= \'0\' AND SubString(@UserAgent, @Pos + @End, 1) <= 9", " "),  new Array(1,"SET @End = @End + 1", " "),  new Array(1,"IF @End > 0 SET @Version = SubString(@UserAgent, @Pos, @End)", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"ELSE -- Search bots, ignore version", " "),  new Array(1,"SET @Browser = CASE", " "),  new Array(1,"WHEN @UserAgent LIKE \'%GoogleBot%\'		THEN \'Google Bot\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'BingBot%\'			THEN \'Bing Bot\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'MSNBot%\'			THEN \'MSN Bot\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%BaiduSpider%\'	THEN \'Baidu Spider\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Arachmo%\'		THEN \'Arachmo Bot\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%NewsGator%\'		THEN \'NewsGator Bot\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Seekbot%\'		THEN \'SeekPort Bot\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Yahoo%\'			THEN \'Yahoo Bot\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Yandex%\'			THEN \'Yandex Bot\'", " "),  new Array(1,"WHEN @UserAgent LIKE \'%Bot%\'			THEN \'Other Bot\'", " "),  new Array(1,"ELSE \'Other\'", " "),  new Array(1,"END", " "),  new Array(1,"RETURN RTRIM(@Browser + \' \' + @Version)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[ConvertListToTable]", " "),  new Array(1,"(", " "),  new Array(1,"@Delimiter	nvarchar(5),", " "),  new Array(1,"@List		nvarchar(max)", " "),  new Array(1,")", " "),  new Array(1,"RETURNS @TableOfValues TABLE", " "),  new Array(1,"(", " "),  new Array(1,"RowNumber	smallint IDENTITY(1,1),", " "),  new Array(1,"RowValue	nvarchar(50)", " "),  new Array(1,")", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @LenString int", " "),  new Array(1,"", " "),  new Array(1,"WHILE len( @List ) > 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"SELECT @LenString =", " "),  new Array(1,"(CASE charindex( @Delimiter, @List )", " "),  new Array(1,"WHEN 0 THEN len( @List )", " "),  new Array(1,"ELSE ( charindex( @Delimiter, @List ) -1 )", " "),  new Array(1,"END", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO @TableOfValues", " "),  new Array(1,"SELECT substring( @List, 1, @LenString )", " "),  new Array(1,"", " "),  new Array(1,"SELECT @List =", " "),  new Array(1,"(CASE ( len( @List ) - @LenString )", " "),  new Array(1,"WHEN 0 THEN \'\'", " "),  new Array(1,"ELSE right( @List, len( @List ) - @LenString - 1 )", " "),  new Array(1,"END", " "),  new Array(1,")", " "),  new Array(1,"END", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[Export_GetActiveTabModules]", " "),  new Array(1,"(", " "),  new Array(1,"@TabID int", " "),  new Array(1,")", " "),  new Array(1,"RETURNS @ModuleIds TABLE", " "),  new Array(1,"(", " "),  new Array(1,"ModuleId INT", " "),  new Array(1,")", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @StateId int;", " "),  new Array(1,"SELECT @StateId=StateID FROM  dbo.[ContentItems] WHERE TabID=@TabID AND ModuleID=-1;", " "),  new Array(1,"--IF there is versioninig with the tab", " "),  new Array(1,"IF(@StateId IS NOT NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- Get all distinct module ids which belong to any published version of the tab", " "),  new Array(1,"INSERT INTO @ModuleIds (ModuleId)", " "),  new Array(1,"SELECT DISTINCT TM.ModuleId From dbo.[TabModules] TM", " "),  new Array(1,"LEFT JOIN dbo.[TabVersions] TV ON TM.TabID=TV.TabId", " "),  new Array(1,"LEFT JOIN dbo.[TabVersionDetails] TVD ON TV.TabVersionId=TVD.TabVersionId", " "),  new Array(1,"WHERE TM.TabId=@TabID AND (TV.IsPublished=1 OR TV.IsPublished IS NULL)", " "),  new Array(1,"", " "),  new Array(1,"--Delete modules which have been deleted from page", " "),  new Array(1,"", " "),  new Array(1,"--DELETE FROM @ModuleIds", " "),  new Array(1,"--WHERE ModuleId IN(", " "),  new Array(1,"--SELECT DISTINCT TVD.ModuleId FROM  dbo.[TabVersionDetails] TVD", " "),  new Array(1,"--INNER JOIN dbo.[TabVersions] TV ON TV.TabVersionId=TVD.TabVersionId", " "),  new Array(1,"--WHERE TV.TabId=@TabID AND TV.IsPublished=1 and Action=2)", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO @ModuleIds (ModuleId) SELECT DISTINCT ModuleId FROM dbo.[TabModules] WHERE TabID=@TabID", " "),  new Array(1,"END", " "),  new Array(1,"RETURN;", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[Export_UserIdByUsername]", " "),  new Array(1,"(", " "),  new Array(1,"@username nvarchar(100)", " "),  new Array(1,")", " "),  new Array(1,"RETURNS", " "),  new Array(1,"int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @UserId AS int", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @UserId = UserID FROM dbo.[Users] WHERE Username = @username", " "),  new Array(1,"IF(@UserId IS NULL)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"RETURN -1;", " "),  new Array(1,"END", " "),  new Array(1,"RETURN @UserId;", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[Export_UserName]", " "),  new Array(1,"(", " "),  new Array(1,"@userId Int", " "),  new Array(1,")", " "),  new Array(1,"RETURNS", " "),  new Array(1,"nVarChar(255)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Username AS nVarChar(255)", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @Username = Username FROM dbo.[Users] WHERE UserID = @UserId", " "),  new Array(1,"RETURN  @Username", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[FilePath]", " "),  new Array(1,"(", " "),  new Array(1,"@StrMayContainFileId nVarChar(255)", " "),  new Array(1,")", " "),  new Array(1,"RETURNS 			 nVarChar(500)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @Path AS nVarChar(500);", " "),  new Array(1,"", " "),  new Array(1,"IF ISNULL(@StrMayContainFileId,\'\') = \'\'", " "),  new Array(1,"SET @Path = \'\'", " "),  new Array(1,"ELSE IF Lower(@StrMayContainFileId) LIKE \'fileid=%\'", " "),  new Array(1,"SELECT @Path = IsNull(Folder, \'\') + FileName FROM dbo.[vw_Files]", " "),  new Array(1,"WHERE fileid = CAST(SUBSTRING(@StrMayContainFileId, 8, 10) AS Int)", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @Path = @StrMayContainFileId", " "),  new Array(1,"RETURN @Path -- never Null!", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- new function to determine, whether a user may view content of another users property,", " "),  new Array(1,"-- if extended permissions (per social group or relationship) are specified", " "),  new Array(1,"CREATE FUNCTION [dbo].[FitsExtendedPropertyPermission](", " "),  new Array(1,"@viewingUserId 		 Int,", " "),  new Array(1,"@viewedUserID 		 Int,", " "),  new Array(1,"@extendedPermissions nVarChar(2000)", " "),  new Array(1,")", " "),  new Array(1,"RETURNS 			 Bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @rolesStr    nVarChar(2000) = \'\'", " "),  new Array(1,"DECLARE @reltnStr    nVarChar(2000) = \'\'", " "),  new Array(1,"DECLARE @gStartPos   Int", " "),  new Array(1,"DECLARE @rStartPos   Int", " "),  new Array(1,"DECLARE @recCount    Int = 0", " "),  new Array(1,"DECLARE @SQL         Int", " "),  new Array(1,"If (@viewedUserID > 0 and Len(IsNull(@extendedPermissions,\'\')) > 2) BEGIN", " "),  new Array(1,"SET @gStartPos = CHARINDEX(\'G:\',@extendedPermissions) + 2", " "),  new Array(1,"SET @rStartPos = CHARINDEX(\'R:\',@extendedPermissions) + 2", " "),  new Array(1,"if @gStartPos > @rStartPos BEGIN", " "),  new Array(1,"SET @rolesStr = SUBSTRING(@extendedPermissions, @gStartPos, Len(@extendedPermissions) - @gStartPos)", " "),  new Array(1,"if @rStartPos > 0 SET @reltnStr = SUBSTRING(@extendedPermissions, @rStartPos, @gStartPos - @rStartPos - 1)", " "),  new Array(1,"END", " "),  new Array(1,"If @gStartPos < @rStartPos BEGIN", " "),  new Array(1,"SET @reltnStr = SUBSTRING(@extendedPermissions, @rStartPos, Len(@extendedPermissions) - @rStartPos)", " "),  new Array(1,"if @gStartPos > 0 SET @rolesStr = SUBSTRING(@extendedPermissions, @gStartPos, @rStartPos - @gStartPos - 1)", " "),  new Array(1,"END", " "),  new Array(1,"If @rolesStr <> \'\' BEGIN", " "),  new Array(1,"SET @rolesStr = \',\' + SUBSTRING(@rolesStr,1, Len(@rolesStr) - CASE WHEN RIGHT(@RolesStr,1) = \';\' THEN 1 ELSE 0 END)", " "),  new Array(1,"SELECT @recCount = COUNT(1) FROM dbo.[UserRoles] WHERE UserID = @viewingUserId AND @rolesStr LIKE \'%,\' + Convert(nVarChar(10),RoleId) + \',%\'", " "),  new Array(1,"END", " "),  new Array(1,"If @recCount = 0 AND @reltnStr <> \'\' BEGIN", " "),  new Array(1,"SET @reltnStr = \',\' + SUBSTRING(@reltnStr,1, Len(@reltnStr) - CASE WHEN RIGHT(@reltnStr,1) = \';\' THEN 1 ELSE 0 END)", " "),  new Array(1,"SELECT @recCount = COUNT(1) FROM dbo.[vw_RelatedUsers] WHERE UserID = @viewingUserId AND relatedUserID = @viewedUserId AND @reltnStr LIKE \'%,\' + Convert(nVarChar(10),RelationShipID) + \',%\' AND Status = 2", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"RETURN CASE WHEN IsNull(@RecCount, 0) > 0 THEN 1 ELSE 0 END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[fn_CompareVersion]", " "),  new Array(1,"(", " "),  new Array(1,"@Version		nvarchar(20),", " "),  new Array(1,"@CurrentVersion nvarchar(20)", " "),  new Array(1,")", " "),  new Array(1,"RETURNS int", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @Pos int", " "),  new Array(1,"DECLARE @String nvarchar(20)", " "),  new Array(1,"DECLARE @MajorVersion int", " "),  new Array(1,"DECLARE @MajorCurrentVersion int", " "),  new Array(1,"DECLARE @MinorVersion int", " "),  new Array(1,"DECLARE @MinorCurrentVersion int", " "),  new Array(1,"DECLARE @BuildVersion int", " "),  new Array(1,"DECLARE @BuildCurrentVersion int", " "),  new Array(1,"", " "),  new Array(1,"SET @String = @Version", " "),  new Array(1,"SET @Pos = CHARINDEX(\'.\' , @String)", " "),  new Array(1,"SET @MajorVersion = CONVERT(int, LEFT(@String, @Pos - 1))", " "),  new Array(1,"SET @String = STUFF(@String, 1, @Pos, \'\')", " "),  new Array(1,"SET @Pos = CHARINDEX(\'.\' , @String)", " "),  new Array(1,"SET @MinorVersion = CONVERT(int, LEFT(@String, @Pos - 1))", " "),  new Array(1,"SET @String = STUFF(@String, 1, @Pos, \'\')", " "),  new Array(1,"SET @BuildVersion = CONVERT(int, @String)", " "),  new Array(1,"", " "),  new Array(1,"SET @String = @CurrentVersion", " "),  new Array(1,"SET @Pos = CHARINDEX(\'.\' , @String)", " "),  new Array(1,"SET @MajorCurrentVersion = CONVERT(int, LEFT(@String, @Pos - 1))", " "),  new Array(1,"SET @String = STUFF(@String, 1, @Pos, \'\')", " "),  new Array(1,"SET @Pos = CHARINDEX(\'.\' , @String)", " "),  new Array(1,"SET @MinorCurrentVersion = CONVERT(int, LEFT(@String, @Pos - 1))", " "),  new Array(1,"SET @String = STUFF(@String, 1, @Pos, \'\')", " "),  new Array(1,"SET @BuildCurrentVersion = CONVERT(int, @String)", " "),  new Array(1,"", " "),  new Array(1,"IF @CurrentVersion IS NULL", " "),  new Array(1,"-- Assembly Not Registered -  Set ReturnCode = 0, so assembly is copied", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"ELSE", " "),  new Array(1,"IF @Version = @CurrentVersion", " "),  new Array(1,"-- Same Version - Set ReturnCode = 2, so assembly is only copied on repair", " "),  new Array(1,"RETURN 2", " "),  new Array(1,"ELSE", " "),  new Array(1,"-- Different Version", " "),  new Array(1,"-- Compare Major, Minor, Revision", " "),  new Array(1,"IF @MajorVersion > @MajorCurrentVersion", " "),  new Array(1,"OR (@MajorVersion = @MajorCurrentVersion AND @MinorVersion > @MinorCurrentVersion)", " "),  new Array(1,"OR (@MajorVersion = @MajorCurrentVersion AND @MinorVersion = @MinorCurrentVersion AND @BuildVersion > @BuildCurrentVersion)", " "),  new Array(1,"-- Newer version - at least on of Major, Minor, Revision is larger - Set ReturnCode = 1, so assembly is copied", " "),  new Array(1,"RETURN 1", " "),  new Array(1,"ELSE", " "),  new Array(1,"-- Older Version - Set ReturnCode = 3, so assembly is not copied", " "),  new Array(1,"RETURN 3", " "),  new Array(1,"", " "),  new Array(1,"RETURN 3", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[fn_GetVersion]", " "),  new Array(1,"(", " "),  new Array(1,"@maj AS int,", " "),  new Array(1,"@min AS int,", " "),  new Array(1,"@bld AS int", " "),  new Array(1,")", " "),  new Array(1,"RETURNS bit", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF Exists (SELECT * FROM dbo.Version", " "),  new Array(1,"WHERE Major = @maj", " "),  new Array(1,"AND Minor = @min", " "),  new Array(1,"AND Build = @bld", " "),  new Array(1,")", " "),  new Array(1,"BEGIN", " "),  new Array(1,"RETURN 1", " "),  new Array(1,"END", " "),  new Array(1,"RETURN 0", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- added for easier string handling", " "),  new Array(1,"CREATE FUNCTION [dbo].[FormattedString]", " "),  new Array(1,"(", " "),  new Array(1,"@InputStr nVarChar(2000), -- might be null or empty, in this case an empty string is returned (format ignored)!", " "),  new Array(1,"@Format   nVarChar(2000)  -- not null or empty, contains token @@@", " "),  new Array(1,")", " "),  new Array(1,"RETURNS   nVarChar(4000)  -- replaced string, e.g. FormattedString(\'World\', \'Hello @0!\') returns \'Hello World!\'", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @RetVal AS nVarChar(4000) = \'\'", " "),  new Array(1,"IF NOT IsNull(@InputStr,\'\') = \'\'", " "),  new Array(1,"SET @retVal = REPLACE(@Format, N\'@0\', @InputStr)", " "),  new Array(1,"RETURN @RetVal", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[GetElement]", " "),  new Array(1,"(", " "),  new Array(1,"@ord AS INT,", " "),  new Array(1,"@str AS VARCHAR(8000),", " "),  new Array(1,"@delim AS VARCHAR(1)", " "),  new Array(1,")", " "),  new Array(1,"RETURNS INT", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- If input is invalid, return null.", " "),  new Array(1,"IF  @str IS NULL", " "),  new Array(1,"OR LEN(@str) = 0", " "),  new Array(1,"OR @ord IS NULL", " "),  new Array(1,"OR @ord < 1", " "),  new Array(1,"-- @ord > [is the] expression that calculates the number of elements.", " "),  new Array(1,"OR @ord > LEN(@str) - LEN(REPLACE(@str, @delim, \'\')) + 1", " "),  new Array(1,"RETURN NULL", " "),  new Array(1,"", " "),  new Array(1,"DECLARE @pos AS INT, @curord AS INT", " "),  new Array(1,"SELECT @pos = 1, @curord = 1", " "),  new Array(1,"-- Find next element\'s start position and increment index.", " "),  new Array(1,"WHILE @curord < @ord", " "),  new Array(1,"SELECT", " "),  new Array(1,"@pos = CHARINDEX(@delim, @str, @pos) + 1,", " "),  new Array(1,"@curord = @curord + 1", " "),  new Array(1,"RETURN    CAST(SUBSTRING(@str, @pos, CHARINDEX(@delim, @str + @delim, @pos) - @pos) AS INT)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[GetFileFolderFunc](@FolderD INT)", " "),  new Array(1,"RETURNS nvarchar(246)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @folderPath nvarchar(246)", " "),  new Array(1,"select @folderPath=folderpath from dbo.[Folders] where folderid=@FolderD", " "),  new Array(1,"return @folderPath", " "),  new Array(1,"", " "),  new Array(1,"END;", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[GetListParentKey]", " "),  new Array(1,"(", " "),  new Array(1,"@ParentID AS int,", " "),  new Array(1,"@ListName as nvarchar(500),", " "),  new Array(1,"@Type as nvarchar(50),", " "),  new Array(1,"@Count as int", " "),  new Array(1,")", " "),  new Array(1,"RETURNS nvarchar(2000)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @KeyValue nvarchar(2000)", " "),  new Array(1,"DECLARE @ListValue nvarchar(2000)", " "),  new Array(1,"DECLARE @TextValue nvarchar(2000)", " "),  new Array(1,"DECLARE @ReturnValue nvarchar(2000)", " "),  new Array(1,"DECLARE @Key nvarchar(2000)", " "),  new Array(1,"", " "),  new Array(1,"IF @ParentID = 0", " "),  new Array(1,"IF @Count = 0", " "),  new Array(1,"SET @ReturnValue = \'\'", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @ReturnValue = @ListName", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SELECT	@KeyValue = ListName + \'.\' + [Value],", " "),  new Array(1,"@TextValue = ListName + \'.\' + [Text],", " "),  new Array(1,"@ListValue = ListName,", " "),  new Array(1,"@ParentID = ParentID", " "),  new Array(1,"FROM dbo.Lists", " "),  new Array(1,"WHERE EntryID = @ParentID", " "),  new Array(1,"If @Type = \'ParentKey\' Or (@Type = \'ParentList\' AND @Count > 0)", " "),  new Array(1,"SET @ReturnValue = @KeyValue", " "),  new Array(1,"ELSE", " "),  new Array(1,"IF @Type = \'ParentList\'", " "),  new Array(1,"SET @ReturnValue = @ListValue", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @ReturnValue = @TextValue", " "),  new Array(1,"IF @Count > 0", " "),  new Array(1,"If @Count = 1 AND @Type = \'ParentList\'", " "),  new Array(1,"SET @ReturnValue = @ReturnValue + \':\' + @ListName", " "),  new Array(1,"ELSE", " "),  new Array(1,"SET @ReturnValue = @ReturnValue + \'.\' + @ListName", " "),  new Array(1,"SET @ReturnValue = dbo.GetListParentKey(@ParentID, @ReturnValue, @Type, @Count+1)", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN    @ReturnValue", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[GetProfileElement]", " "),  new Array(1,"(", " "),  new Array(1,"@fieldName AS NVARCHAR(100),", " "),  new Array(1,"@fields AS NVARCHAR(4000),", " "),  new Array(1,"@values AS NVARCHAR(4000)", " "),  new Array(1,")", " "),  new Array(1,"", " "),  new Array(1,"RETURNS NVARCHAR(4000)", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"", " "),  new Array(1,"BEGIN", " "),  new Array(1,"", " "),  new Array(1,"-- If input is invalid, return null.", " "),  new Array(1,"IF  @fieldName IS NULL", " "),  new Array(1,"OR LEN(@fieldName) = 0", " "),  new Array(1,"OR @fields IS NULL", " "),  new Array(1,"OR LEN(@fields) = 0", " "),  new Array(1,"OR @values IS NULL", " "),  new Array(1,"OR LEN(@values) = 0", " "),  new Array(1,"RETURN NULL", " "),  new Array(1,"", " "),  new Array(1,"-- locate FieldName in Fields", " "),  new Array(1,"DECLARE @fieldNameToken AS NVARCHAR(20)", " "),  new Array(1,"DECLARE @fieldNameStart AS INTEGER, @valueStart AS INTEGER, @valueLength AS INTEGER", " "),  new Array(1,"", " "),  new Array(1,"-- Only handle string type fields (:S:)", " "),  new Array(1,"SET @fieldNameStart = CHARINDEX(@fieldName + \':S\',@Fields,0)", " "),  new Array(1,"", " "),  new Array(1,"-- If field is not found, return null", " "),  new Array(1,"IF @fieldNameStart = 0 RETURN NULL", " "),  new Array(1,"SET @fieldNameStart = @fieldNameStart + LEN(@fieldName) + 3", " "),  new Array(1,"", " "),  new Array(1,"-- Get the field token which I\'ve defined as the start of the field offset to the end of the length", " "),  new Array(1,"SET @fieldNameToken =", " "),  new Array(1,"SUBSTRING(@Fields,@fieldNameStart,LEN(@Fields)-@fieldNameStart)", " "),  new Array(1,"", " "),  new Array(1,"-- Get the values for the offset and length", " "),  new Array(1,"SET @valueStart = dbo.getelement(1,@fieldNameToken,\':\')", " "),  new Array(1,"SET @valueLength = dbo.getelement(2,@fieldNameToken,\':\')", " "),  new Array(1,"", " "),  new Array(1,"-- Check for sane values, 0 length means the profile item was stored, just no data", " "),  new Array(1,"IF @valueLength = 0 RETURN \'\'", " "),  new Array(1,"", " "),  new Array(1,"-- Return the string", " "),  new Array(1,"RETURN SUBSTRING(@values, @valueStart+1, @valueLength)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- results order added", " "),  new Array(1,"CREATE FUNCTION [dbo].[GetProfileFieldSQL]", " "),  new Array(1,"(", " "),  new Array(1,"@PortalID 	 Int,", " "),  new Array(1,"@TemplateSql nVarChar(max)", " "),  new Array(1,")", " "),  new Array(1,"RETURNS 	 nVarChar(max)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @sql nVarChar(max);", " "),  new Array(1,"", " "),  new Array(1,"SELECT @sql = COALESCE(@sql + \',\',\'\') + \'[\' + PropertyName + \']\' + @TemplateSql", " "),  new Array(1,"FROM dbo.[ProfilePropertyDefinition]", " "),  new Array(1,"WHERE IsNull(PortalID, -1) = IsNull(@PortalID, -1)", " "),  new Array(1,"AND Deleted = 0", " "),  new Array(1,"ORDER BY ViewOrder", " "),  new Array(1,"RETURN (@sql)", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- optimized", " "),  new Array(1,"CREATE FUNCTION [dbo].[GetProfilePropertyDefinitionID]", " "),  new Array(1,"(   @PortalID     Int,         -- might be 0", " "),  new Array(1,"@PropertyName nVarChar(50) -- required", " "),  new Array(1,")", " "),  new Array(1,"RETURNS 	  Int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @DefinitionID Int = -1", " "),  new Array(1,"IF NOT IsNull(@PropertyName, \'\') = \'\'", " "),  new Array(1,"SELECT @DefinitionID = PropertyDefinitionID", " "),  new Array(1,"FROM dbo.[ProfilePropertyDefinition]", " "),  new Array(1,"WHERE IsNull(PortalID, -1) = IsNull(@PortalID, -1) AND PropertyName = @PropertyName", " "),  new Array(1,"RETURN @DefinitionID", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[GetSortSQL]", " "),  new Array(1,"(   -- deprecated, please call SortFieldSQL and FormattedString instead", " "),  new Array(1,"@SortBy        nVarChar(100),", " "),  new Array(1,"@SortAscending Bit,", " "),  new Array(1,"@Default       nVarChar(100)", " "),  new Array(1,")", " "),  new Array(1,"RETURNS 	   nVarChar(120)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"RETURN dbo.[FormattedString](dbo.[SortFieldSQL](@SortBy, @SortAscending, @Default), N\'ORDER BY @0\')", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[GetUsersByPropertyName]", " "),  new Array(1,"(", " "),  new Array(1,"@PropertyName nvarchar(100),", " "),  new Array(1,"@PropertyValue nvarchar(max),", " "),  new Array(1,"@PortalID int", " "),  new Array(1,")", " "),  new Array(1,"RETURNS TABLE", " "),  new Array(1,"AS", " "),  new Array(1,"RETURN", " "),  new Array(1,"SELECT *", " "),  new Array(1,"FROM dbo.[vw_Profile]", " "),  new Array(1,"WHERE PropertyName = @PropertyName", " "),  new Array(1,"AND PropertyValue LIKE @PropertyValue", " "),  new Array(1,"AND PortalID = @PortalID", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[HasChildTab]", " "),  new Array(1,"(", " "),  new Array(1,"@TabId   Int", " "),  new Array(1,")", " "),  new Array(1,"RETURNS Bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"RETURN CASE WHEN EXISTS (SELECT 1 FROM dbo.Tabs WHERE ParentId = @TabId) THEN 1 ELSE 0 END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[Journal_Split](@text varchar(8000), @delimiter char(1))", " "),  new Array(1,"RETURNS @words TABLE (objectid smallint primary key, id int)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @pos smallint,", " "),  new Array(1,"@i smallint,", " "),  new Array(1,"@j smallint,", " "),  new Array(1,"@s varchar(255)", " "),  new Array(1,"", " "),  new Array(1,"SET @pos = 1", " "),  new Array(1,"", " "),  new Array(1,"WHILE @pos <= LEN(@text)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @i = CHARINDEX(\' \', @text, @pos)", " "),  new Array(1,"SET @j = CHARINDEX(@delimiter, @text, @pos)", " "),  new Array(1,"", " "),  new Array(1,"IF @i > 0 OR @j > 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @i = 0 OR (@j > 0 AND @j < @i)", " "),  new Array(1,"SET @i = @j", " "),  new Array(1,"", " "),  new Array(1,"IF @i > @pos", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- @i now holds the earliest delimiter in the string", " "),  new Array(1,"SET @s = SUBSTRING(@text, @pos, @i - @pos)", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO @words", " "),  new Array(1,"VALUES (@pos, @s)", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SET @pos = @i + 1", " "),  new Array(1,"WHILE @pos < LEN(@text) AND SUBSTRING(@text, @pos, 1) IN (\' \', \',\')", " "),  new Array(1,"SET @pos = @pos + 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO @words", " "),  new Array(1,"VALUES (@pos, SUBSTRING(@text, @pos, LEN(@text) - @pos + 1))", " "),  new Array(1,"", " "),  new Array(1,"SET @pos = LEN(@text) + 1", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[Journal_SplitText](@text varchar(8000), @delimiter char(1))", " "),  new Array(1,"RETURNS @words TABLE (objectid smallint primary key, string varchar(1000), optionalid int)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @pos smallint,", " "),  new Array(1,"@i smallint,", " "),  new Array(1,"@j smallint,", " "),  new Array(1,"@s varchar(255),", " "),  new Array(1,"@o int", " "),  new Array(1,"", " "),  new Array(1,"SET @pos = 1", " "),  new Array(1,"", " "),  new Array(1,"WHILE @pos <= LEN(@text)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @i = CHARINDEX(\' \', @text, @pos)", " "),  new Array(1,"SET @j = CHARINDEX(@delimiter, @text, @pos)", " "),  new Array(1,"", " "),  new Array(1,"IF @i > 0 OR @j > 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @i = 0 OR (@j > 0 AND @j < @i)", " "),  new Array(1,"SET @i = @j", " "),  new Array(1,"", " "),  new Array(1,"IF @i > @pos", " "),  new Array(1,"BEGIN", " "),  new Array(1,"-- @i now holds the earliest delimiter in the string", " "),  new Array(1,"SET @s = SUBSTRING(@text, @pos, @i - @pos)", " "),  new Array(1,"SET @o = 0", " "),  new Array(1,"IF CHARINDEX(\'|\',@s,0) > 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @o = SUBSTRING(@s,0,CHARINDEX(\'|\',@s,0))", " "),  new Array(1,"SET @s = SUBSTRING(@s,CHARINDEX(\'|\',@s,0)+1,LEN(@s))", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF NOT EXISTS (SELECT 1 FROM @words WHERE [string]=@s)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO @words", " "),  new Array(1,"VALUES (@pos, @s, @o)", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SET @pos = @i + 1", " "),  new Array(1,"WHILE @pos < LEN(@text) AND SUBSTRING(@text, @pos, 1) IN (\' \', \',\')", " "),  new Array(1,"SET @pos = @pos + 1", " "),  new Array(1,"END", " "),  new Array(1,"ELSE", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @s = SUBSTRING(@text, @pos, LEN(@text) - @pos + 1)", " "),  new Array(1,"IF CHARINDEX(\'|\',@s,0) > 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @o = SUBSTRING(@s,0,CHARINDEX(\'|\',@s,0))", " "),  new Array(1,"SET @s = SUBSTRING(@s,CHARINDEX(\'|\',@s,0)+1,LEN(@s))", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"IF NOT EXISTS (SELECT 1 FROM @words WHERE [string]=@s)", " "),  new Array(1,"BEGIN", " "),  new Array(1,"INSERT INTO @words", " "),  new Array(1,"VALUES (@pos, @s ,@o)", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"SET @pos = LEN(@text) + 1", " "),  new Array(1,"END", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[Journal_User_Permissions]", " "),  new Array(1,"(", " "),  new Array(1,"@PortalId int,", " "),  new Array(1,"@UserId int,", " "),  new Array(1,"@RegisteredRoleId int", " "),  new Array(1,")", " "),  new Array(1,"RETURNS", " "),  new Array(1,"@tmp TABLE (seckey nvarchar(200))", " "),  new Array(1,"", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @UserId > 0", " "),  new Array(1,"BEGIN", " "),  new Array(1,"IF @RegisteredRoleId = 1", " "),  new Array(1,"SELECT @RegisteredRoleId = RegisteredRoleId FROM dbo.[Portals] WHERE PortalID = @PortalId", " "),  new Array(1,"INSERT INTO @tmp (seckey) VALUES (\'U\' + Cast(@UserId as nvarchar(200)))", " "),  new Array(1,"INSERT INTO @tmp (seckey) VALUES (\'P\' + Cast(@UserId as nvarchar(200)))", " "),  new Array(1,"INSERT INTO @tmp (seckey) VALUES (\'F\' + Cast(@UserId as nvarchar(200)))", " "),  new Array(1,"IF EXISTS(SELECT RoleId FROM dbo.[UserRoles] WHERE UserID = @UserId AND RoleId = @RegisteredRoleId", " "),  new Array(1,"AND    (EffectiveDate <= getdate() or EffectiveDate is null)", " "),  new Array(1,"AND    (ExpiryDate >= getdate() or ExpiryDate is null))", " "),  new Array(1,"INSERT INTO @tmp (seckey) VALUES (\'C\')", " "),  new Array(1,"", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO @tmp (seckey) VALUES (\'E\')", " "),  new Array(1,"", " "),  new Array(1,"INSERT INTO @tmp (seckey)", " "),  new Array(1,"SELECT \'R\' + CAST(ur.RoleId as nvarchar(200))", " "),  new Array(1,"FROM dbo.[UserRoles] as ur", " "),  new Array(1,"INNER JOIN dbo.[Users] as u on ur.UserId = u.UserId", " "),  new Array(1,"INNER JOIN dbo.[Roles] as r on ur.RoleId = r.RoleId", " "),  new Array(1,"WHERE  u.UserId = @UserId", " "),  new Array(1,"AND    r.PortalId = @PortalId", " "),  new Array(1,"AND    (EffectiveDate <= getdate() or EffectiveDate is null)", " "),  new Array(1,"AND    (ExpiryDate >= getdate() or ExpiryDate is null)", " "),  new Array(1,"INSERT INTO @tmp (seckey)", " "),  new Array(1,"SELECT (SELECT CASE WHEN @UserID = ur.UserId", " "),  new Array(1,"THEN \'F\' + CAST(RelatedUserID as nvarchar(200))", " "),  new Array(1,"ELSE \'F\' + CAST(ur.UserId as nvarchar(200)) END)", " "),  new Array(1,"FROM dbo.[UserRelationships] ur", " "),  new Array(1,"INNER JOIN dbo.[Relationships] r ON ur.RelationshipID = r.RelationshipID AND r.RelationshipTypeID = 1", " "),  new Array(1,"WHERE (ur.UserId = @UserId OR RelatedUserID = @UserId) AND Status = 2", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- new helper function", " "),  new Array(1,"CREATE FUNCTION [dbo].[MasterPortalId]", " "),  new Array(1,"(", " "),  new Array(1,"@PortalId Int  -- ID of the portal or Null for Host", " "),  new Array(1,")", " "),  new Array(1,"RETURNS   Int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @MasterPortalId  Int = Null", " "),  new Array(1,"IF IsNull(@PortalId, -1) >= 0", " "),  new Array(1,"SELECT @MasterPortalId = MasterPortalId FROM dbo.[vw_MasterPortals] WHERE PortalId = @PortalId", " "),  new Array(1,"RETURN @MasterPortalId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- new helperfunction for paging, replacing inefficient stored procedure", " "),  new Array(1,"CREATE FUNCTION [dbo].[PageLowerBound]", " "),  new Array(1,"(", " "),  new Array(1,"@PageIndex Int, -- Page number starting with 0 or Null for all", " "),  new Array(1,"@PageSize  Int  -- number of items per page or Null for all", " "),  new Array(1,")", " "),  new Array(1,"RETURNS    Int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @bound Int = 1", " "),  new Array(1,"IF IsNull(@PageSize, -1) > 0 AND IsNull(@PageIndex, -1) >= 0 AND IsNull(@PageIndex, 0) <= (Cast(0x7fffffff AS Int) \/ IsNull(@PageSize, 1) -1)", " "),  new Array(1,"SET @bound  = @PageSize * @PageIndex + 1", " "),  new Array(1,"RETURN @bound", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- new helper function for paging, replacing inefficient stored procedure", " "),  new Array(1,"CREATE FUNCTION [dbo].[PageUpperBound]", " "),  new Array(1,"(", " "),  new Array(1,"@PageIndex Int, -- Page number starting with 0 or Null for all", " "),  new Array(1,"@PageSize  Int  -- number of items per page or Null for all", " "),  new Array(1,")", " "),  new Array(1,"RETURNS    Int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @bound Int = Cast(0x7fffffff AS Int)", " "),  new Array(1,"IF IsNull(@PageSize, -1) > 0 AND IsNull(@PageIndex, -1) >= 0 AND IsNull(@PageIndex, 0) <= (Cast(0x7fffffff AS Int) \/ IsNull(@PageSize, 1) -1)", " "),  new Array(1,"SET @Bound = @PageSize * (@PageIndex + 1)", " "),  new Array(1,"RETURN @Bound", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[RemoveStringCharacters]", " "),  new Array(1,"(", " "),  new Array(1,"@string nvarchar(max),", " "),  new Array(1,"@remove nvarchar(100)", " "),  new Array(1,")", " "),  new Array(1,"RETURNS nvarchar(max)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"WHILE @string LIKE \'%[\' + @remove + \']%\'", " "),  new Array(1,"BEGIN", " "),  new Array(1,"SET @string = REPLACE(@string,SUBSTRING(@string,PATINDEX(\'%[\' + @remove + \']%\',@string),1),\'\')", " "),  new Array(1,"END", " "),  new Array(1,"", " "),  new Array(1,"RETURN @string", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- added, provides more flexibility, e.g. may be called again for multiple sort columns", " "),  new Array(1,"CREATE FUNCTION [dbo].[SortFieldSQL]", " "),  new Array(1,"(", " "),  new Array(1,"@SortBy        nVarChar(100), -- should be a field name", " "),  new Array(1,"@SortAscending Bit,			  -- ascending or descending?", " "),  new Array(1,"@Default       nVarChar(100)  -- name of field to be used if @sortby is empty", " "),  new Array(1,")", " "),  new Array(1,"RETURNS 	   nVarChar(110)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @sortSql nVarChar(110) =  \'\'", " "),  new Array(1,"IF IsNull(@SortBy, \'\') = \'\'", " "),  new Array(1,"SET @SortBy = IsNull(@Default, \'\')", " "),  new Array(1,"IF @SortBy <>  \'\'", " "),  new Array(1,"SET @sortSql = N\'[\' + @SortBy + CASE WHEN IsNull(@SortAscending, 1) = 0 THEN N\'] DESC\' ELSE N\'] ASC\' END", " "),  new Array(1,"RETURN @sortSql", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- new helper function to return a table with id\'s, passed as a single string with delimiter", " "),  new Array(1,"CREATE FUNCTION [dbo].[SplitDelimitedIDs]", " "),  new Array(1,"(", " "),  new Array(1,"@RecordIDList VarChar(2000),", " "),  new Array(1,"@Delimiter    VarChar(   2) = \',\'", " "),  new Array(1,")", " "),  new Array(1,"RETURNS", " "),  new Array(1,"@IntegerList Table (RecordID Int)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @RecordID VarChar(10)", " "),  new Array(1,"DECLARE @Start    Int        = 0", " "),  new Array(1,"DECLARE @Pos      Int        = 1", " "),  new Array(1,"", " "),  new Array(1,"SET @RecordIDList = @RecordIDList + @Delimiter", " "),  new Array(1,"SET @Pos = CHARINDEX(@Delimiter, @RecordIDList, 1)", " "),  new Array(1,"", " "),  new Array(1,"WHILE @Pos > 0 BEGIN", " "),  new Array(1,"SET @RecordID = LTRIM(RTRIM(SUBSTRING(@RecordIDList, @Start, @Pos - @Start)))", " "),  new Array(1,"IF @RecordID <> \'\'", " "),  new Array(1,"INSERT INTO @IntegerList (RecordID) VALUES (CAST(@RecordID AS Int)) -- use appropriate conversion", " "),  new Array(1,"SET @Start = @Pos + len(@Delimiter)", " "),  new Array(1,"SET @Pos = CHARINDEX(@Delimiter, @RecordIDList, @Start)", " "),  new Array(1,"END", " "),  new Array(1,"RETURN", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[SplitStrings_CTE]", " "),  new Array(1,"(", " "),  new Array(1,"@List       NVARCHAR(MAX),", " "),  new Array(1,"@Delimiter  NVARCHAR(255)", " "),  new Array(1,")", " "),  new Array(1,"RETURNS @Items TABLE (Item NVARCHAR(4000))", " "),  new Array(1,"WITH SCHEMABINDING", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @StringLength INT = LEN(@List) + 1, @DelimiterLength INT = LEN(@Delimiter);", " "),  new Array(1,"", " "),  new Array(1,"WITH a AS", " "),  new Array(1,"(", " "),  new Array(1,"SELECT", " "),  new Array(1,"[start] = 1,", " "),  new Array(1,"[end]   = COALESCE(NULLIF(CHARINDEX(@Delimiter,", " "),  new Array(1,"@List, 1), 0), @StringLength),", " "),  new Array(1,"[value] = SUBSTRING(@List, 1,", " "),  new Array(1,"COALESCE(NULLIF(CHARINDEX(@Delimiter,", " "),  new Array(1,"@List, 1), 0), @StringLength) - 1)", " "),  new Array(1,"UNION ALL", " "),  new Array(1,"SELECT", " "),  new Array(1,"[start] = CONVERT(INT, [end]) + @DelimiterLength,", " "),  new Array(1,"[end]   = COALESCE(NULLIF(CHARINDEX(@Delimiter,", " "),  new Array(1,"@List, [end] + @DelimiterLength), 0), @StringLength),", " "),  new Array(1,"[value] = SUBSTRING(@List, [end] + @DelimiterLength,", " "),  new Array(1,"COALESCE(NULLIF(CHARINDEX(@Delimiter,", " "),  new Array(1,"@List, [end] + @DelimiterLength), 0), @StringLength)-[end]-@DelimiterLength)", " "),  new Array(1,"FROM a", " "),  new Array(1,"WHERE [end] < @StringLength", " "),  new Array(1,")", " "),  new Array(1,"INSERT @Items SELECT [value]", " "),  new Array(1,"FROM a", " "),  new Array(1,"WHERE LEN([value]) > 0", " "),  new Array(1,"OPTION (MAXRECURSION 0);", " "),  new Array(1,"", " "),  new Array(1,"RETURN;", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"CREATE FUNCTION [dbo].[SuperUserTabID]", " "),  new Array(1,"()", " "),  new Array(1,"RETURNS Int", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @HostTabId Int = Null", " "),  new Array(1,"SELECT  TOP (1) @HostTabId = TabID", " "),  new Array(1,"FROM  dbo.Tabs", " "),  new Array(1,"WHERE (PortalID IS NULL) AND (ParentId IS NULL)", " "),  new Array(1,"ORDER BY TabID", " "),  new Array(1,"RETURN @HostTabId", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- added for easier string handling", " "),  new Array(1,"CREATE FUNCTION [dbo].[TemplatedString]", " "),  new Array(1,"(", " "),  new Array(1,"@template nVarChar(3500), -- use tokens @1, @2, @3, @4, @5 to be replaced by param1 .. param5", " "),  new Array(1,"@param1   nVarChar( 100) = \'\', -- empty param values will just remove token!", " "),  new Array(1,"@param2	  nVarChar( 100) = \'\',", " "),  new Array(1,"@param3	  nVarChar( 100) = \'\',", " "),  new Array(1,"@param4	  nVarChar( 100) = \'\',", " "),  new Array(1,"@param5	  nVarChar( 100) = \'\'", " "),  new Array(1,")", " "),  new Array(1,"RETURNS   nVarChar(4000)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"RETURN REPLACE(", " "),  new Array(1,"REPLACE(", " "),  new Array(1,"REPLACE(", " "),  new Array(1,"REPLACE(", " "),  new Array(1,"REPLACE(IsNull(@template, \'\'),", " "),  new Array(1,"N\'@1\', IsNull(@param1,\'\')),", " "),  new Array(1,"N\'@2\', IsNull(@param2,\'\')),", " "),  new Array(1,"N\'@3\', IsNull(@param3,\'\')),", " "),  new Array(1,"N\'@4\', IsNull(@param4,\'\')),", " "),  new Array(1,"N\'@5\', IsNull(@param5,\'\'))", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- new helper function, returning Displayname for a userid", " "),  new Array(1,"CREATE FUNCTION [dbo].[UserDisplayName]", " "),  new Array(1,"(", " "),  new Array(1,"@userId Int", " "),  new Array(1,")", " "),  new Array(1,"RETURNS", " "),  new Array(1,"nVarChar(255)", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"DECLARE @DisplayName AS nVarChar(255)", " "),  new Array(1,"", " "),  new Array(1,"SELECT  @DisplayName = DisplayName FROM dbo.[Users] WHERE UserID = @UserId", " "),  new Array(1,"RETURN  @DisplayName", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Function", " "),  new Array(0,"", ""),  new Array(1,"-- new helper function", " "),  new Array(1,"CREATE FUNCTION [dbo].[UserIsInRole]", " "),  new Array(1,"(", " "),  new Array(1,"@UserId Int,", " "),  new Array(1,"@RoleId Int", " "),  new Array(1,")", " "),  new Array(1,"RETURNS 	Bit", " "),  new Array(1,"AS", " "),  new Array(1,"BEGIN", " "),  new Array(1,"RETURN CASE WHEN EXISTS (SELECT * FROM dbo.[UserRoles] WHERE UserID = @UserId AND RoleID = @RoleId", " "),  new Array(1,"AND IsNull(EffectiveDate, GetDate()) >= GetDate()", " "),  new Array(1,"AND IsNull(ExpiryDate, GetDate())    <= GetDate()) THEN 1 ELSE 0 END", " "),  new Array(1,"END", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Role", " "),  new Array(0,"", ""),  new Array(1,"CREATE ROLE [aspnet_Membership_BasicAccess]", " "),  new Array(1,"AUTHORIZATION [DNN-9-1-1.loc_nvQuickSite]", " "),  new Array(1,"GO", " "),  new Array(1,"EXEC sp_addrolemember N\'aspnet_Membership_BasicAccess\', N\'aspnet_Membership_FullAccess\'", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Role", " "),  new Array(0,"", ""),  new Array(1,"CREATE ROLE [aspnet_Membership_FullAccess]", " "),  new Array(1,"AUTHORIZATION [DNN-9-1-1.loc_nvQuickSite]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Role", " "),  new Array(0,"", ""),  new Array(1,"CREATE ROLE [aspnet_Membership_ReportingAccess]", " "),  new Array(1,"AUTHORIZATION [DNN-9-1-1.loc_nvQuickSite]", " "),  new Array(1,"GO", " "),  new Array(1,"EXEC sp_addrolemember N\'aspnet_Membership_ReportingAccess\', N\'aspnet_Membership_FullAccess\'", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User", " "),  new Array(0,"", ""),  new Array(1,"IF NOT EXISTS (SELECT * FROM master.dbo.syslogins WHERE loginname = N\'DNN-9-1-1.loc_nvQuickSite\')", " "),  new Array(1,"CREATE LOGIN [DNN-9-1-1.loc_nvQuickSite] FROM WINDOWS", " "),  new Array(1,"GO", " "),  new Array(1,"CREATE USER [DNN-9-1-1.loc_nvQuickSite] FOR LOGIN [DNN-9-1-1.loc_nvQuickSite] WITH DEFAULT_SCHEMA=[DNN-9-1-1.loc_nvQuickSite]", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Type", " "),  new Array(0,"", ""),  new Array(1,"CREATE TYPE [dbo].[ExportImportJobLogsType] AS TABLE", " "),  new Array(1,"(", " "),  new Array(1,"[JobId] [int] NULL,", " "),  new Array(1,"[Name] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Value] [nvarchar] (255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Level] [int] NULL,", " "),  new Array(1,"[CreatedOnDate] [datetime] NULL", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Type", " "),  new Array(0,"", ""),  new Array(1,"CREATE TYPE [dbo].[ExportImportUserProfileType] AS TABLE", " "),  new Array(1,"(", " "),  new Array(1,"[PortalId] [int] NULL,", " "),  new Array(1,"[UserId] [int] NULL,", " "),  new Array(1,"[PropertyDefinitionId] [int] NULL,", " "),  new Array(1,"[PropertyValue] [nvarchar] (3750) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[PropertyText] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[Visibility] [int] NULL,", " "),  new Array(1,"[ExtendedVisibility] [varchar] (400) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IsSuperUser] [bit] NULL", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Type", " "),  new Array(0,"", ""),  new Array(1,"CREATE TYPE [dbo].[ExportImportUserRoleType] AS TABLE", " "),  new Array(1,"(", " "),  new Array(1,"[PortalId] [int] NULL,", " "),  new Array(1,"[UserId] [int] NULL,", " "),  new Array(1,"[RoleId] [int] NULL,", " "),  new Array(1,"[ExpiryDate] [datetime] NULL,", " "),  new Array(1,"[IsTrialUsed] [bit] NULL,", " "),  new Array(1,"[EffectiveDate] [datetime] NULL,", " "),  new Array(1,"[CreatedByUserId] [int] NULL,", " "),  new Array(1,"[LastModifiedByUserId] [int] NULL,", " "),  new Array(1,"[Status] [int] NULL,", " "),  new Array(1,"[IsOwner] [bit] NULL,", " "),  new Array(1,"[IsSuperUser] [bit] NULL", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- User Defined Type", " "),  new Array(0,"", ""),  new Array(1,"CREATE TYPE [dbo].[ExportImportUserType] AS TABLE", " "),  new Array(1,"(", " "),  new Array(1,"[PortalId] [int] NULL,", " "),  new Array(1,"[Username] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[FirstName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[LastName] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[AffiliateId] [int] NULL,", " "),  new Array(1,"[IsSuperUser] [bit] NULL,", " "),  new Array(1,"[Email] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[DisplayName] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[UpdatePassword] [bit] NULL,", " "),  new Array(1,"[Authorised] [bit] NULL,", " "),  new Array(1,"[CreatedByUserId] [int] NULL,", " "),  new Array(1,"[VanityUrl] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[RefreshRoles] [bit] NULL,", " "),  new Array(1,"[LastIPAddress] [nvarchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[PasswordResetToken] [uniqueidentifier] NULL,", " "),  new Array(1,"[PasswordResetExpiration] [datetime] NULL,", " "),  new Array(1,"[IsDeleted] [bit] NULL,", " "),  new Array(1,"[LastModifiedByUserId] [int] NULL,", " "),  new Array(1,"[ApplicationId] [uniqueidentifier] NULL,", " "),  new Array(1,"[AspUserId] [uniqueidentifier] NULL,", " "),  new Array(1,"[MobileAlias] [nvarchar] (16) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IsAnonymous] [bit] NULL,", " "),  new Array(1,"[Password] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[PasswordFormat] [int] NULL,", " "),  new Array(1,"[PasswordSalt] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[MobilePIN] [nvarchar] (16) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[PasswordQuestion] [nvarchar] (256) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[PasswordAnswer] [nvarchar] (128) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[IsApproved] [bit] NULL,", " "),  new Array(1,"[IsLockedOut] [bit] NULL,", " "),  new Array(1,"[FailedPasswordAttemptCount] [int] NULL,", " "),  new Array(1,"[FailedPasswordAnswerAttemptCount] [int] NULL,", " "),  new Array(1,"[Comment] [ntext] COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[AuthenticationType] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,", " "),  new Array(1,"[AuthenticationToken] [nvarchar] (1000) COLLATE SQL_Latin1_General_CP1_CI_AS NULL", " "),  new Array(1,")", " "),  new Array(1,"GO", " "),
          new Array(0, "", "")),
        new Array (  new Array(0,"-- Schema", " "),  new Array(0,"", ""),  new Array(1,"CREATE SCHEMA [DNN-9-1-1.loc_nvQuickSite]", " "),  new Array(1,"AUTHORIZATION [DNN-9-1-1.loc_nvQuickSite]", " "),  new Array(1,"GO", " "),
          new Array(0, "", ""))
        );var dropsql  = new Array(new Array(new Array(0, "Error, No SQL Available")),new Array (  new Array(0," ", "-- Columns"),  new Array(0,"", ""),  new Array(1," ", "CREATE TABLE [dbo].[__EFMigrationsHistory]"),  new Array(1," ", "("),  new Array(1," ", "[MigrationId] [nvarchar] (150) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1," ", "[ProductVersion] [nvarchar] (32) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL"),  new Array(1," ", ")"),  new Array(1," ", "GO"),  new Array(0," ", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[__EFMigrationsHistory] ADD CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY CLUSTERED  ([MigrationId])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0," ", "-- Columns"),  new Array(0,"", ""),  new Array(1," ", "CREATE TABLE [dbo].[aspnet_Memership]"),  new Array(1," ", "("),  new Array(1," ", "[UserID] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[ApplicationID] [uniqueidentifier] NOT NULL,"),  new Array(1," ", "[Comment] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[CreateDate] [datetime2] NOT NULL,"),  new Array(1," ", "[Email] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[FailedPasswordAnswerAttemptCount] [int] NOT NULL,"),  new Array(1," ", "[FailedPasswordAnswerAttemptWindow] [datetime2] NOT NULL,"),  new Array(1," ", "[FailedPasswordAttemptCount] [int] NOT NULL,"),  new Array(1," ", "[FailedPasswordWindowStart] [datetime2] NOT NULL,"),  new Array(1," ", "[IsApproved] [bit] NOT NULL,"),  new Array(1," ", "[IsLockedOut] [bit] NOT NULL,"),  new Array(1," ", "[LastLockoutDate] [datetime2] NOT NULL,"),  new Array(1," ", "[LastLoginDate] [datetime2] NOT NULL,"),  new Array(1," ", "[LastPasswordChangedDate] [datetime2] NOT NULL,"),  new Array(1," ", "[LoweredEmail] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[MobilePIN] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[Password] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PasswordAnswer] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PasswordFormat] [int] NOT NULL,"),  new Array(1," ", "[PasswordQuestion] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[PasswordSalt] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1," ", ")"),  new Array(1," ", "GO"),  new Array(0," ", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[aspnet_Memership] ADD CONSTRAINT [PK_aspnet_Memership] PRIMARY KEY CLUSTERED  ([UserID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_aspnet_Memership_ApplicationID] ON [dbo].[aspnet_Memership] ([ApplicationID])"),  new Array(1," ", "GO"),  new Array(0," ", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[aspnet_Memership] ADD CONSTRAINT [FK_aspnet_Memership_aspnet_Applications_ApplicationID] FOREIGN KEY ([ApplicationID]) REFERENCES [dbo].[aspnet_Applications] ([ApplicationId]) ON DELETE CASCADE"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0," ", "-- Columns"),  new Array(0,"", ""),  new Array(1," ", "CREATE TABLE [dbo].[ContentType]"),  new Array(1," ", "("),  new Array(1," ", "[ContentTypeID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[ContentType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1," ", ")"),  new Array(1," ", "GO"),  new Array(0," ", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[ContentType] ADD CONSTRAINT [PK_ContentType] PRIMARY KEY CLUSTERED  ([ContentTypeID])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0," ", "-- Columns"),  new Array(0,"", ""),  new Array(1," ", "CREATE TABLE [dbo].[ContentWorkflowActios]"),  new Array(1," ", "("),  new Array(1," ", "[ActionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[ActionSource] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ActionType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[ContentTypeID] [int] NOT NULL,"),  new Array(1," ", "[ContentWorkflowActionActionID] [int] NULL"),  new Array(1," ", ")"),  new Array(1," ", "GO"),  new Array(0," ", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[ContentWorkflowActios] ADD CONSTRAINT [PK_ContentWorkflowActios] PRIMARY KEY CLUSTERED  ([ActionID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_ContentWorkflowActios_ContentWorkflowActionActionID] ON [dbo].[ContentWorkflowActios] ([ContentWorkflowActionActionID])"),  new Array(1," ", "GO"),  new Array(0," ", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[ContentWorkflowActios] ADD CONSTRAINT [FK_ContentWorkflowActios_ContentWorkflowActios_ContentWorkflowActionActionID] FOREIGN KEY ([ContentWorkflowActionActionID]) REFERENCES [dbo].[ContentWorkflowActios] ([ActionID])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0," ", "-- Columns"),  new Array(0,"", ""),  new Array(1," ", "CREATE TABLE [dbo].[CoreMessaging_MessagingRecipients]"),  new Array(1," ", "("),  new Array(1," ", "[RecipientID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[Archived] [bit] NOT NULL,"),  new Array(1," ", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[EmailSchedulerInstance] [uniqueidentifier] NULL,"),  new Array(1," ", "[EmailSent] [bit] NOT NULL,"),  new Array(1," ", "[EmailSentDate] [datetime2] NULL,"),  new Array(1," ", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[MessageID] [int] NOT NULL,"),  new Array(1," ", "[Read] [bit] NOT NULL,"),  new Array(1," ", "[SendToast] [bit] NOT NULL,"),  new Array(1," ", "[UserID] [int] NOT NULL"),  new Array(1," ", ")"),  new Array(1," ", "GO"),  new Array(0," ", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[CoreMessaging_MessagingRecipients] ADD CONSTRAINT [PK_CoreMessaging_MessagingRecipients] PRIMARY KEY CLUSTERED  ([RecipientID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_CoreMessaging_MessagingRecipients_MessageID] ON [dbo].[CoreMessaging_MessagingRecipients] ([MessageID])"),  new Array(1," ", "GO"),  new Array(0," ", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[CoreMessaging_MessagingRecipients] ADD CONSTRAINT [FK_CoreMessaging_MessagingRecipients_CoreMessaging_Messages_MessageID] FOREIGN KEY ([MessageID]) REFERENCES [dbo].[CoreMessaging_Messages] ([MessageID]) ON DELETE CASCADE"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0," ", "-- Columns"),  new Array(0,"", ""),  new Array(1," ", "CREATE TABLE [dbo].[ModulePermissions]"),  new Array(1," ", "("),  new Array(1," ", "[ModulePermissionID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[AllowAccess] [bit] NOT NULL,"),  new Array(1," ", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[ModuleID] [int] NOT NULL,"),  new Array(1," ", "[PermissionID] [int] NOT NULL,"),  new Array(1," ", "[PortalID] [int] NOT NULL,"),  new Array(1," ", "[RoleID] [int] NULL,"),  new Array(1," ", "[UserID] [int] NULL"),  new Array(1," ", ")"),  new Array(1," ", "GO"),  new Array(0," ", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[ModulePermissions] ADD CONSTRAINT [PK_ModulePermissions] PRIMARY KEY CLUSTERED  ([ModulePermissionID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_ModulePermissions_ModuleID] ON [dbo].[ModulePermissions] ([ModuleID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_ModulePermissions_PermissionID] ON [dbo].[ModulePermissions] ([PermissionID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_ModulePermissions_RoleID] ON [dbo].[ModulePermissions] ([RoleID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_ModulePermissions_UserID] ON [dbo].[ModulePermissions] ([UserID])"),  new Array(1," ", "GO"),  new Array(0," ", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[ModulePermissions] ADD CONSTRAINT [FK_ModulePermissions_Modules_ModuleID] FOREIGN KEY ([ModuleID]) REFERENCES [dbo].[Modules] ([ModuleID]) ON DELETE CASCADE"),  new Array(1," ", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[ModulePermissions] ADD CONSTRAINT [FK_ModulePermissions_Permission_PermissionID] FOREIGN KEY ([PermissionID]) REFERENCES [dbo].[Permission] ([PermissionID]) ON DELETE CASCADE"),  new Array(1," ", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[ModulePermissions] ADD CONSTRAINT [FK_ModulePermissions_Role_RoleID] FOREIGN KEY ([RoleID]) REFERENCES [dbo].[Role] ([RoleID])"),  new Array(1," ", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[ModulePermissions] ADD CONSTRAINT [FK_ModulePermissions_Users_UserID] FOREIGN KEY ([UserID]) REFERENCES [dbo].[Users] ([UserID])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0," ", "-- Columns"),  new Array(0,"", ""),  new Array(1," ", "CREATE TABLE [dbo].[PackageType]"),  new Array(1," ", "("),  new Array(1," ", "[PackageType] [nvarchar] (450) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,"),  new Array(1," ", "[Descrption] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[EditorControlSrc] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[SecurityAccessLevel] [int] NOT NULL,"),  new Array(1," ", "[SupportsSideBySideInstallation] [bit] NOT NULL"),  new Array(1," ", ")"),  new Array(1," ", "GO"),  new Array(0," ", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[PackageType] ADD CONSTRAINT [PK_PackageType] PRIMARY KEY CLUSTERED  ([PackageType])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0," ", "-- Columns"),  new Array(0,"", ""),  new Array(1," ", "CREATE TABLE [dbo].[Role]"),  new Array(1," ", "("),  new Array(1," ", "[RoleID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[AutoAssignment] [bit] NOT NULL,"),  new Array(1," ", "[BillingFrequency] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[BillingPeriod] [int] NULL,"),  new Array(1," ", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[Description] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IconFile] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[IsPublic] [bit] NOT NULL,"),  new Array(1," ", "[IsSystemRole] [bit] NOT NULL,"),  new Array(1," ", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[PortalID] [int] NULL,"),  new Array(1," ", "[RSVPCode] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[RoleGroupID] [int] NULL,"),  new Array(1," ", "[RoleName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[SecurityMode] [int] NOT NULL,"),  new Array(1," ", "[ServiceFee] [decimal] (18, 2) NOT NULL,"),  new Array(1," ", "[Status] [int] NOT NULL,"),  new Array(1," ", "[TrialFee] [decimal] (18, 2) NULL,"),  new Array(1," ", "[TrialFrequency] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[TrialPeriod] [int] NULL"),  new Array(1," ", ")"),  new Array(1," ", "GO"),  new Array(0," ", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[Role] ADD CONSTRAINT [PK_Role] PRIMARY KEY CLUSTERED  ([RoleID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Role_PortalID] ON [dbo].[Role] ([PortalID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_Role_RoleGroupID] ON [dbo].[Role] ([RoleGroupID])"),  new Array(1," ", "GO"),  new Array(0," ", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[Role] ADD CONSTRAINT [FK_Role_Portals_PortalID] FOREIGN KEY ([PortalID]) REFERENCES [dbo].[Portals] ([PortalID])"),  new Array(1," ", "GO"),  new Array(1," ", "ALTER TABLE [dbo].[Role] ADD CONSTRAINT [FK_Role_RoleGroups_RoleGroupID] FOREIGN KEY ([RoleGroupID]) REFERENCES [dbo].[RoleGroups] ([RoleGroupID])"),  new Array(1," ", "GO"),
          new Array(0, "", "")),
        new Array (  new Array(0," ", "-- Columns"),  new Array(0,"", ""),  new Array(1," ", "CREATE TABLE [dbo].[vSkinPackages]"),  new Array(1," ", "("),  new Array(1," ", "[SkinPackageID] [int] NOT NULL IDENTITY(1, 1),"),  new Array(1," ", "[CreatedByUserID] [int] NULL,"),  new Array(1," ", "[CreatedOnDate] [datetime2] NULL,"),  new Array(1," ", "[LastModifiedByUserID] [int] NULL,"),  new Array(1," ", "[LastModifiedOnDate] [datetime2] NULL,"),  new Array(1," ", "[PackageID] [int] NOT NULL,"),  new Array(1," ", "[PortalID] [int] NULL,"),  new Array(1," ", "[SkinName] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,"),  new Array(1," ", "[SkinType] [nvarchar] (max) COLLATE SQL_Latin1_General_CP1_CI_AS NULL"),  new Array(1," ", ")"),  new Array(1," ", "GO"),  new Array(0," ", "-- Constraints and Indexes"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[vSkinPackages] ADD CONSTRAINT [PK_vSkinPackages] PRIMARY KEY CLUSTERED  ([SkinPackageID])"),  new Array(1," ", "GO"),  new Array(1," ", "CREATE NONCLUSTERED INDEX [IX_vSkinPackages_PackageID] ON [dbo].[vSkinPackages] ([PackageID])"),  new Array(1," ", "GO"),  new Array(0," ", "-- Foreign Keys"),  new Array(0,"", ""),  new Array(1," ", "ALTER TABLE [dbo].[vSkinPackages] ADD CONSTRAINT [FK_vSkinPackages_Packages_PackageID] FOREIGN KEY ([PackageID]) REFERENCES [dbo].[Packages] ([PackageID]) ON DELETE CASCADE"),  new Array(1," ", "GO"),
          new Array(0, "", ""))
        );var identsql  = new Array(new Array(new Array(0, "Error, No SQL Available")),new Array(new Array(0, "", "")));

          
// Program Segment

var Cache = new Array(
        new Array(), // DIfference Cache
        new Array(), // Left Hand only Cache
        new Array(), // Right Hand only Cache
        new Array());

var CurrentSelectedRow;

function getPageWidth()
{
    return document.body.clientWidth;
}

function IsImageOk(img)
{
    if (!img.complete)
        return false;

    if (typeof img.naturalWidth != "undefined" && img.naturalWidth == 0)
        return false;

    return true;
}

var ReservedWords = Array( "ADD", "ALL", "ALTER", "AND", "ANY", "AS", "ASC", "AUTHORIZATION", "AVG", "BACKUP", "BEGIN", "BETWEEN", "BREAK", "BROWSE", "BULK", "BY", "CASCADE", "CASE", "CHECK", "CHECKPOINT", "CLOSE", "CLUSTERED", "COALESCE", "COLUMN", "COLLATE", "COMMIT", "COMMITTED", "COMPUTE", "CONFIRM", "CONSTRAINT", "CONTAINS", "CONTAINSTABLE", "CONTINUE", "CONTROLROW", "CONVERT", "COUNT", "CREATE", "CROSS", "CURRENT", "CURRENT_DATE", "CURRENT_TIME", "CURRENT_TIMESTAMP", "CURRENT_USER", "CURSOR", "DATABASE", "DBCC", "DEALLOCATE", "DECLARE", "DEFAULT", "DELETE", "DENY", "DESC", "DISK", "DISTINCT", "DISTRIBUTED", "DOUBLE", "DROP", "DUMMY", "DUMP", "ELSE", "END", "ERRLVL", "ERROREXIT", "ESCAPE", "EXCEPT", "EXEC", "EXECUTE", "EXISTS", "EXIT", "FETCH", "FILE", "FILLFACTOR", "FLOPPY", "FOR", "FOREIGN", "FREETEXT", "FREETEXTTABLE", "FROM", "FULL", "GO",    "GOTO", "GRANT", "GROUP", "HAVING", "HOLDLOCK", "IDENTITY", "IDENTITY_INSERT", "IDENTITYCOL", "IF", "IN", "INDEX", "INNER", "INSERT", "INTERSECT", "INTO", "IS", "ISOLATION", "JOIN", "KEY", "KILL", "LEFT", "LEVEL", "LIKE", "LINENO", "LOAD", "MAX", "MIN", "MIRROREXIT", "NATIONAL", "NOCHECK", "NONCLUSTERED", "NOT", "NULL", "NULLIF", "OF", "OFF", "OFFSETS", "ON", "ONCE", "ONLY", "OPEN", "OPENDATASOURCE", "OPENQUERY", "OPENROWSET", "OPTION", "OR", "ORDER", "OUTER", "OVER", "PERCENT", "PERM", "PERMANENT", "PIPE", "PLAN", "PRECISION", "PREPARE", "PRIMARY", "PRINT", "PRIVILEGES", "PROC", "PROCEDURE", "PROCESSEXIT", "PUBLIC", "RAISERROR", "READ", "READTEXT", "RECONFIGURE", "REFERENCES", "REPEATABLE", "REPLICATION", "RESTORE", "RESTRICT", "RETURN", "REVOKE", "RIGHT", "ROLLBACK", "ROWCOUNT", "ROWGUIDCOL", "RULE", "SAVE", "SCHEMA", "SELECT", "SERIALIZABLE", "SESSION_USER", "SET", "SETUSER", "SHUTDOWN", "SOME", "STATISTICS", "SUM", "SYSTEM_USER", "TABLE", "TAPE", "TEMP", "TEMPORARY", "TEXTSIZE", "THEN", "TO", "TOP", "TRAN", "TRANSACTION", "TRIGGER", "TRUNCATE", "TSEQUAL", "UNCOMMITTED", "UNION", "UNIQUE", "UPDATE", "UPDATETEXT", "USE", "USER", "VALUES", "VARYING", "VIEW", "WAITFOR", "WHEN", "WHERE", "WHILE", "WITH", "WORK", "WRITETEXT");

function isReservedWord(word)
{
    if(word.indexOf(",") > 0)
    {
        word = word.split(",")[0];
    }

    for(var i = 0; i < ReservedWords.length; i++)   
    {
    if(word == ReservedWords[i])
            return true;
    }

    return false;
}

function deleteRow(parent, child)
{
    parent.removeChild(child);
}


function setupImage(image, imageName) 
{
    imageName = imageName.toLowerCase();

    switch (imageName) 
    {
        case "expand32.gif":
            image.src = "data:image/gif;base64,R0lGODlhIAAgAIcAAAAAAAgICAwMDCkpKYCAgP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAYALAAAAAAgACAAAAioAA0IHEiwoMGDCBMqXMiwocOHECMyHACgosWLGC8OWAiggMePIEOCBMBRpEmRJBV2PMmyAAACBBKubGnyZUyEM1HmHAlTJsuKJ236DLrzo1CcP4t6PHpwZ8aLPG82DfnUYtShNZW67ImUaFCuU73WBGtQq0utTMvS/CpV7VqUZAuabZlW7lu4be3evYpQQNW/FQPEPQizsOHDiBkiXrxYouPHkCNLThgQADs=";
            break;

        case "tables.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADMzZgJnzAlszgpszx561R561imC2SqC2jeL3TaK3kST4kWU4lKd51Od6GCl62Gm7G6u8Hm29IqSuoyTuo2UupCVupKWupSXuoW++JbJ/ZbK/bfO5bvP5cLT5MbT5cnV5c3W5dLY5dXZ5djb5drc5dzd5cbp/snq/svq/8vs/s3r/s7s/s/t/9Dt/tDt/9Pu/tLu/9Xu/tXv/9jv/9rx/trw/93x/tzx/9/y/+Dz/uHz/+P0/+X0/ub1/+f2/ub2/+v3/un2/+z3/+/4/u34//D5//L6//X6/vX7//b8//n8/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAipAAEIHEiwoMGDBQMoXMiQocAAGjJIiADBAYMECAwQEBDg4QaJER40WKDgQIEBHB+aIEFihAgRIUB88NCBQ0cAAUwsUZLkSBEhPXbgoAHjZoASSzBguCAESIWnMl4YLaEEiZGfPXTYkBGDhVESSpZeAKKjAoUJLVB8PWJkyA8eOWrMeLFC7cMRRi5YsKB1gt8UJ4yKIBLEx44bW12oQBH4YcPHChFKnmwwIAA7";
            break;
        case "storedprocedures.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADMzZh561R561imC2SqC2jeL3TaK3kST4kWU4lKd51Od6GCl62Gm7G6u8Hm29IW++JbJ/ZbK/cLT5MbT5cnV5c3W5dLY5dXZ5djb5drc5dzd5cvs/s/s/tDt/tHt/9Pu/9Xu/tXv/9nw/tnw/93x/tzx/9zy/t7y/+Dz/uHz/+L0/uP0/+X0/ub1/+f2/uf2/+r2/uj2/+z3/+/4/u34//D5//L6//X6/vX7//b8//n8/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiTAAEIHEiwoMGDBgMoXMhQIcEAESA8cNBgQQIDBQYEeChBogMGChAcICBg48AAGzJkwHDhgoUKFCaYFIhyh44cN2rIaKHCxEwAATTsCHBDIYwVKEj8DKoDhw2dLVKQCLE0g44ANRaeGAGi6g0bM16wQDFCxIelGGwEiBEgxcIOSy/QiOFCRYmpHjgsbcgXod+/BwMCADs=";
            break;
        case "views.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADMzZmSi4Gml4Wml4nWu5XWu5nyz6IKCoY6OqqSku4S364W46o297Y2+7a620bCwxLCzzba+1ZXD8JbD8Z7I877A1qbN9qfO9q3S+LTX+7/e/sDF28fM38nN38vO38zO39Ph79Xi79rk7t3k793y/t/y/+Lj7eHm7+Tn7+bo7+jp7+rq7+7v8+Dz/uL0/uL0/+T1/uf1/+f2/u7w8+v3/+z3/+74/vDw8/D5/vD5//L6//X7/vX7//f8/vf8//n8/vj8//v+//z9//z+/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAi3AAEIHEiw4EAECBMqVCgQwQYNGTBUoOCAwQEDBAQgaPgww4UKExosOFBggMaGLFaoUJECBQoSJEaICLERAAQcRILoDPKDxw4bMmIgCEA0wJAIESwUDcAhBoyhNmkEAdKjKo8gAXLAcAE1QQshIEB86HHDQ4AOMEpAVbCUqI4bAWq4UCsQQgAiYk8E0PFAwgMTdG0GEOKjB1YdM2a8KKE2AAC2bRWwVZDQscGBlgVmvrx5KUHPAwMCADs=";
            break;
        case "defaults.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADMzZh561R561imC2SqC2jeL3TaK3kST4kWU4lKd51Od6GCl62Gm7Hm29JgAALA8PIKdwYeewYmfwY+hwpelwZ2nwaCowqaqwpjL/sLT5MbT5cnV5c3W5dLY5dbZ5djb5drc5cHm/8Po/snp/snq/svs/s3r/87s/tDt/tHt/9Lu/tPu/9Xu/tXv/9rw/tnw/93x/tzx/93y/t7y/+Dz/uHz/+P0/+X0/uf2/ub2/+v3/uj2/+34/u34//D5//L6//X6/vb7//f8/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAi4AAEIHEiwIIAMCBMiNCgwA4YAFmYEOJGB4cEAOgK0CFAiQ4CPID9muBCggooSIzI4aLAggYECAwJksPGiBYUAElQyUIDgAAEBMmkEQBFAhEwQHjx04LBBg8yNJCYEiJBhCBAfPHDYkCFTYUIhIWnACADgAcEAIYJgxVEDxsayACAIDAACSMgXLMiafSCX7o8cN2i8cKFC74PDEAJ86BFyBdGBfAEE8LDDRgy3KUyQFShXcsjPFi0GBAA7";
            break;
        case "fulltextcatalogs.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAAC4/di9CeTZIfj9EdUFCch1WlxtYmg1bsxxMoB5NoRFQrBJRrRRUrxVXrxdfpBVVsBdZshdasxldtRpetgdjvw5iuA9stg1uuQxwvBZgphJnsBBpsxxiuR9mux9quiZHgiVJhSFQjyBRkSRerihUoClloyBovCJrviJsvzVxtzpysAZrxAR3zwd4yAh2xQF80wJ+0gF91CRvwSVwwidzxCd0xSp4yCt6yCx9yy1+y1ZbhlhbhE5kmURqoU9tokxqqF13r2Fhimdvlmxskm9vky+BzTCCzjyExTyIyTKF0DKH0TSK0zWL1DaM1TeP1ziQ1jiQ2DqU2j2V2D2Y3D2Z3WCHvnWAqXGJuUqFwU+Zz4GBoYuNsZSUrpGStZ+ft6Wlvaiovaurv46kyaKiwaenxLOzzbe3z7u7zL6+1K/A2bjB183N2sLQ49HR4NXa6NjY5dra5ePj7eTk6uTk7ebm7ejo7u3t8e3t8u7u9Oz1+/T09/X1+Pn6+/7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAifAAEIHEiwoMGDCAcCUZBQYJAECxpEmEDCoJUSDCBIoNDBA4oZNVQM1CKjgoMOJ1LQsHEjhxElTLIAMMHBRQsENnDoOLKkyRMpVJL4ADBCQ4YYLD44iSKlypQVV8q4ERjiwIYXMCxAQfKDyxk6f+IMFCDiAYYLPbykocPnDx4iBHeAMDCADBw5edhsQRiAgBk4YIo0BFBACI/BiBMrJhgQADs=";
            break;
        case "userdefinedfunctions.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADMzZj8/b0lJdkxMeE5OenR0luTk6/Hx9P7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhMAAEIHEiwoMGDCBMqXCgggECHBCEOhDjAQEEDBCYGcMixAIACHCM+fAhy5ESTACRKTGkyQEmWJ1m6/BgyJgGLBA0MQLgS5sKfQIEGBAA7";
            break;
        case "roles.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAACk/XDQ1aDU2aDU8aDY9aQJoAQNpAgdsAwtvBx1lAxFzCCh/JTJGfDNOd3dEAHdFAXVGCHhFAHlGAHpHAXlHAnlGA3lHBHlHBXtIAntIA3xJAnxJA3xJBH1KBHxKBXxKBnxKB35MBntKCH1LCH5NCn9PDn1qGHZhPUNBYkFFdUVYcUhQfw5uuQtxvxViqRBpsylWjiZytgp0whl6xExTgFheiGZtlDedH1vBM13DPGbMN3vhSHvhSheK1xqQ3jme5kOb3kun61mt7mCOx2as6We263a79oBOBYFOBoBPDYRRA4RRBoVTCohVBYpXBYpXDYlXD41aAIpYEY5cFY9dFpBdBYldIIpeIotfJI9vBI9wBJRmAJRnDZNpAJZoAJlnAJlmDZloAI9jJ4d+IJloIJ9tIJdwOZdwPaJvGaRxHqVyHad0HKh1F6l2Gqx5E616Gqd0Iat4IK17LLF+I5p5SrOAJLWCIraDJLWCJbmGL7uIKbyJKbCANbaDMLiHNILoT4TqUYbsVo/1XJL4X8eUMMaTO8iVMMqXMcmWMsqXPsuYOc6iANypR9ypTdusWuWyTOazU+e0Vem2UOq3Ueu4Uuy5U/C9Wt/IAOvCAPjNAP/gAP/nAP/pAP7yAP/0AP/3AO/AbP/MZ//Pcv7PdP3Odf7Qdv/ReP/xUYqMqZ6etri+lKOku5zEmqzNrKbwgYrF9IrF+5HM8sHGotXFscrN1tzRwN7WzsHj+eDUxeDVxuHWyOPYy+vr8Pn5+vn9/v7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjxAAEIHEiw4MAxIjxkMViwQpxFd5xQ+PDhikEQbCpRylNBzSI8TzKQgDBQQhs7iTakmWSJDwc9jQ6FCQFggocqGkzSKcRETiVIiN5IwfIAiqlHE5BQ6SDBzZo9cKwsATEigyJHD5qUCjUhSZkpUcz4uQCASxcSEioYkpSV1KlRovqg2YIJFKpWCk6UsIDhz6VIcyIAEOPpU6cFOgi9qpUChQkldRwAAMOJ0yYDggYFWkEkFqxfuGCo8MIok6YDPQDxKFDkyBAjsmYIAEBGyxcEOHLsIBBECJAfPloMKMgggYEAMWTQcPGiAUOCN2qwsCEwIAA7";
            break;
        case "rules.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADMzZllZgzKE1jeI1ziI2EiT3UiT3lGa4FKa4V2h41yg5Gen52io53Ov7H6273+38IeHpZaWsYi984q+86CszKKtzaSuzKmvzKuwzKuxzayxzK2xza6yza220rCyzZLE9pvK+Z3K+b7E26rT/arU/cbM38jY6srb7NLe69vf6tvg6t3g6t/i6t3i7NHt/tLu/tXv/tXu/97l8Nbw/tnw/tnw/93x/97y/t7y/+Li6uDj7eHn8OPq8uL0/uL0/+f1/+n2/un2/+34/vL5/vD5//L6//f7/vT6//b8//n9/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAizAAEIHEiwIAABCBMqVChQAAkRIChAcNBAQYIDBQYIaFgiBIgJDxwwWIDAAAGNDXXoaMFChQsePWakOIEiQkolSpIgQRKgp5AcPnoGEKBDyYcOHHjuGOEBxw2bQ4seQVLESIAhP3DYoLFxaIskSDVYNXHBgo0YXQV8NVJkSJGrOc7CSMsCyYYMGIYEMFGhgowXaVcQGSIEiN4gNWjAAAxg6EIJASQsbGyQssEAlYUO1Fy5c0AAOw==";
            break;
        case "users.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADU3aTs9bjNEej9EdD9IendEAHdFAXZGCXlHA3tJBHtJBnxJAH1LAH1KBH9MBXNMHU1CTkVEWUJAYkBEdEhLeUtPfUpQfh9TkxZhpidNiCplpQtzwEpSgFhbhW90mHx/nxGG1SeByDeR10+d3Vit7mmd1X658IJPBINQBYRQAIpXAIhVDI9cAIVXGIJaKIleI5lmAJtpAp5uCJ5uDoZmJpBmK5NpLqFuAKFvBaZzAKJzDKh1AKJzF6R3HbB9AKV5ILaCALmGAL2KAKuCL76MN7WQR7uZVrybWdWhANaiAN2mAN6rAdutEOGsA+WyBea0A+y2CO26AO68Be+7DceWQ9KfRM+wSNS0QsKkaOGyXu28X+q7Zu7CFvTFDfnECfnGEvzNGf/REP/QEe3JO//WIvrYNerTXerVXenVXvrYRvnYSOzVYujab/bDYP/hQP/hQv/kSf/kSv/qWP/rXP/rYPLoff3vcPrpfv/1ev/2f46PrMu8qdnGodrIpNTFsNbItN/PsOXYv/vsgv/2gf72hP/4hfr1kP/+l//9ptDQ3OjeyOrfy/7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjNAAEIHEiwoMGDBhcdASIDCBJGCP3saHNnjpkmOQId7GEHUR46b8pA8XEwxiGPIMtMaXHjgI0/A2OkSUSoDpwuPBj8EBJDASCBMdgUijNGSpIGOIYE0bHCBVA0g9aEofLEAIoHKRw8SAD0jKE4YqQoMcCCi5YtVWAATYNHDZgoTlQssOKmCAI+Antg0SOnjBcmNSJAMPBCwh6BfWZcIfNlSZAJJk4UqIDBwkBBRmjEIJKFAIkSIwZkEIAQwIUNIkJw0OChtKIPHQJQACEwIAA7";
            break;
        case "userdefinedtypes.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADMzZgBmy3WFq3eGq5hmAN6rAN6+Of7LAPLlc5ibhIGKq6WhhK+mhLaqhYKdwYeewYmfwYmgwY2gwY+hwpKjwpSjwZWkwZmmwZymwpjL/qbT/qvV/63V/q/W/rLZ/rjb/r3e/r/e/7fj/rvk/r/l/vryg/73g/7+mMLh/sLn/sHm/8Xi/8Po/sbo/sjj/srk/s3l/8zm/s7m/8nq/szr/9Pp/tLo/9Ds/tHt/9bq/9fv/tXv/9jr/9rs/97u/t7u/9nx/t7y/uHv/+Lw/uLw/+Tx/uby/ufz/+T1/un0/+j2/+32/+34//L4//L6//X5//j8/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjMAAEIHEiwIAANCBMq1FBQw5MASTAEoCAkQA0NAjJm1NAkQEUcAXYEoKEhChQnTARoWLIgSIUAEnIQaKEBpZIjKjMEsFBjQAkKASBoYHKziMoAPAK4CEAiwIoAGpQY+eFD5YUAE1QEGBEhwAMNRX70sKFyYUIFBdI6kCGAoAAmRIsUOIHCRAEWbQcKQIKECJACCBIYKCAir0ABQ4b40AFYcAEQhgEI8LH4BuADgz9EFnDjxgwYDdIWYNBhc4wYL1KEAPHBA4cNmzXKlh0QADs=";
            break;
        case "yukondefault.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAIcAAAEAAAAAAACAAICAAAAAgIAAgACAgMDAwICAgP8AAAD/AP//AAAA//8A/wD//////wkJCRISEh8fHywsLDk5OUVFRVJSUl9fX2xsbHh4eIWFhZKSkp+fn6urq7i4uMXFxdLS0t7e3uvr6/j4+P/78KCgpMDcwKbK8D4AAF0AAHwAAJsAALoAANkAAPAAAP8kJP9ISP9sbP+QkP+0tD4UAF0eAHwoAJsyALo8ANlGAPBVAP9tJP+FSP+dbP+1kP/NtD4qAF0/AHxUAJtpALp+ANmTAPCqAP+2JP/CSP/ObP/akP/mtD4+AF1dAHx8AJubALq6ANnZAPDwAP//JP//SP//bP//kP//tCo+AD9dAFR8AGmbAH66AJPZAKrwALb/JML/SM7/bNr/kOb/tBQ+AB5dACh8ADKbADy6AEbZAFXwAG3/JIX/SJ3/bLX/kM3/tAA+AABdAAB8AACbAAC6AADZAADwACT/JEj/SGz/bJD/kLT/tAA+FABdHgB8KACbMgC6PADZRgDwVST/bUj/hWz/nZD/tbT/zQA+KgBdPwB8VACbaQC6fgDZkwDwqiT/tkj/wmz/zpD/2rT/5gA+PgBdXQB8fACbmwC6ugDZ2QDw8CT//0j//2z//5D//7T//wAqPgA/XQBUfABpmwB+ugCT2QCq8CS2/0jC/2zO/5Da/7Tm/wAUPgAeXQAofAAymwA8ugBG2QBV8CRt/0iF/2yd/5C1/7TN/wAAPgAAXQAAfAAAmwAAugAA2QAA8CQk/0hI/2xs/5CQ/7S0/xQAPh4AXSgAfDIAmzwAukYA2VUA8G0k/4VI/51s/7WQ/820/yoAPj8AXVQAfGkAm34AupMA2aoA8LYk/8JI/85s/9qQ/+a0/z4APl0AXXwAfJsAm7oAutkA2fAA8P8k//9I//9s//+Q//+0/z4AKl0AP3wAVJsAaboAftkAk/AAqv8ktv9Iwv9szv+Q2v+05j4AFF0AHnwAKJsAMroAPNkARvAAVf8kbf9Ihf9snf+Qtf+0zSH5BAMAAAAALAAAAAAQABAAAAhVAAEIHEiwoEANCBMqVHjwg8OHEB1qaBix4kQAGh5o3MhR40UNFS02fPBhY0mTH0NGTEnSJMcPKVU+ZHmS5EqKMmEeXMgTocAAQIMKDXrRoNGjSAEEBAA7";
            break;
        case "ddltriggers.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAAJlmAJxrBp1sC55uCKBwB6FxDKFyDqN2CaJ0Dah8BKp/CqN2EaR3Fqd6H6l9GqqAFayAErWOArGKDbSODauCJKuCK7OON7SPPLyVIrWQPraSPrWQRreUTbmWQr6eV8GiBsakAserHM6wANS4A9a8AMaqLdG7P8ChX8KkaMmvdMqvesuxedzKANzLC9/OOObLAObKBOjYAPTnAP/lAP/nAPjuAP/pAP/qAP7tAP/vAPfyAPrzAP/wAP7zAP/0AP/4AP/7AP/9AP//B/79Hfj0JP//O8yygM62hc62htO+j9bCmtvKp9/PsOHTtuLVueTWvOXYv+bawufcxerfy/Hq3fLs4PPu4/fz7Pr59fz6+P38+/7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhzAAEIHBCgoEGBCBMCyECjxg0cMB4oTOggBo4cOnosmJgwQo4ePn6U4AgggIEAJHzMAMKjAMcKIUZIsKGAQgsQJBPICCIE54UAJAEg2DHERdCEE4gUIXBUoAYRRiA0FdjghYmpAg+cwIAVAAMBXUuGHTsxIAA7";
            break;
        case "assemblies.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADIyZVBQe2pqj5fL/qfT/qfT/6fU/r7e/r7e/9jr/tjr/9js/tjs/+/3/u/3/+/4/vD3/vD3/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhcAAEIHEiwoMGDCBMqXDhQQICHEAMIOBggggQIDh5oDDBwQIABAAI0aKBgQYMFDDgKDLAAIoIECGLGVAnAI8gABgocKFAgJ02CAQgIHUrgZ8OIECcyXMq0qdOFAQEAOw==";
            break;
        case "synonyms.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAAAAAAA0PEQ4QERofIh0gIjlAREROVUpRVWtzdwBmy2l8h5gAAKA0PaM2PaY4PZhmAN6rAN6+Of7LAPLlc4WRmIamupeiqp+xurOohb2thY697aa9zJjL/q/L3L3GzKbT/qvV/63V/q/W/rXY7bHX/rLZ/rbZ/rbb/rjb/r3e/r/e/7vk/r/l/sOxhcu0hfryg/73g/7+mMLg/sTh/sXi/8Po/sjj/srk/s3l/8zm/s7m/8np/snq/s3r/9Pp/tLo/9Ds/tfr/9Tu/tbv/9rs/97u/+Hv/+Lw/+bz/ur0/uj2/+z2/+34//D4//L6//X5//j8/vr8//7+/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjCAAEIHEiwYEEFCBMqRNihocOGU6ZIiQLFCRMFHZ58CFCBiI8OU15AGOkiCcYmCQoYCNKjgxQIMWTAgIAE45IBGAZ4sNEBCoQJFCJAKILxQoEhBxa06ODkZ1AIPzAiCECVAIsOSn5KEKpDwYYBHHiQEGChAxINIyFkqIHxoUMjRR7suEFjhQKCCo4cKSIECAMHM1SkuCuQgeHDhxugMEFYoAIgQHbgoMGgwYkSIhoDUJAjx43ADUyMCAFC88LTmg0aDAgAOw==";
            break;          
        case "xmlschemacollections.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADMzZgBmy7HY/rve/r/f/sfj/8zm/9Ho/tnt/97u/+r1/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhVAAEIHEiwoEEBCBEaLChgQQIDAhYSFKDgAIGIEgUKQFBgAMaMCRVmHBhgZMGSIwOoXLlyIcqTDEMODPmx4cOaDiHOrHhxp8WaHD3ODFpTpkajJgsGBAA7";
            break;
        case "messagetypes.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADMzZgBmAACC1l6a016b1l6c2F6e3NUAALmMM5jL/prM/p3N/p7O/qHP/qDQ/qLQ/6TQ/qbT/qjS/qnU/q3V/qzV/67W/rDW/rHX/7LY/rHY/7TZ/7Xa/rjb/7nc/rvc/73d/r/f/r3e//7dov7do/7fpf7fqP7fqf7hq/7irv7ir/7ktf7muf7mu/7nvsDf/8Dg/sLg/8Xh/sfj/sbi/8nj/sjk/szl/s3m/9Dn/9Lo/tXp/9bq/9rs/t3u//7owP7pwv7pw/7qxf/rx/7ryv/ry/7szf/tz/7u0f/v1P/w1/7x2f/y2/7z3uHw/+bz/ur0///04P/14v/25f/25/736v/47P/57v/58P768v/78//79f/9+P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjFAAEIHEiw4MAECBMqVCgwQZctWKpIYZKkSBAXLFQkaMgli5UpTZQcGfICAYIUGwEk0HKFipMlSIgAaWHyRMoEWA4YKEDAiBCMK1CYSDCgqNGjR0sQjfLkRw8dNmSA6HBhQoQBJIhCeeJjB44ZIzpsECDgAVaiTXvkuBHjA4cLZBsMQDjgR4C7AUJ0yEAhggMGAwQO8MEjBw0YHzZUmAChwYLAAAb0wBsWQ1/HCiAP2JGjhggPGixIeMBgQWbBSFMXNci6YEAAOw==";
            break;
        case "contracts.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAAEVJeUlNfQBmy01SgFJWhFRYhVdbiFhciFpeiV9ijGFkjWNnkGVokGdqkWxulW1wlXJ1mXN2mnl7nnt8noiJp6bT/qvV/63V/q/W/rHX/rLZ/rbZ/rbb/rjb/rrd/rzd/73e/r/e/8Lg/sTh/sbi/8jj/srk/svl/83l/s3l/8zm/s7m/9Pp/tHo/9bq/9rt/trs/9zt/9/u/t7u/+Hv/+Dw/uLw/+Tx/uXy/ufz/+r0/un0/+z1/u32//H4//X5//f6//j8/vr8//7+/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiYAAEIHEiwIMEBCBMqHFBwAJGHRIYIAfLDB8ODEIcEqcgjx8WBDisMoSABgoMFNz4KHKCRYg8eOGbEUAlgQJAJER40UJDAQAuaAyruyGFDxgsXK4D64HGDBoyjKEoA1cGABoICBAQEEAG0RoyjKUqMCOEBaIwDWLWC6LABqAsWJ0iE+MBBAwagKkyM9bAhwwULQBcuNEi4YEAAOw==";
            break;
        case "queues.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAAF6a016b1V6b1l6c2F6d2l6e3NUAAM0pD7mMM7mNNbmNNrmOOLmOOrmPPbmRQbmSRLmTRrmTSLmVTLmWTerIiOrNlurPm+rQoOvSpevUquvXr+rYtevZuevbvf7dov7do/7epP7fpf7epv7fp/7fqP7fqf7gqv7hq/7irf7irv7ir//isP7jsv7ks/7ktf7ktv7kuP7muf/muv7mu/7mvP7nvv7nv/7owP/owf7pwv7pw//pxP7qxf7qxv/rx/7ryP7ryv/ry/7sy/7szf/tz/7u0f7v0v/v1P7w1P/w1/7x2f/x2v/y2//z3P7z3v/04P/04f/14v/14//25f725v/25/736v/46v/47P/57v/58P768v/78//79f/9+P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAizAAEIHEiwoMAECBMqVHjwSxctVqAsMRJEB40XKhIc9NCBwwYNGTBcsIAAQQWNABaqTNjwYcSJFS9m3NjxY8iRJU8eXKmyJUSJFC1iRJnAy5YrUpogIdLDxoEDKIhyyULliZIiP3DIeFqCqBYDBAYEELLj4goTIohimeIkCREfN2K0QEECBNEqBQQEAJJjhosUJUJ8IBqFyZEhPGrAYHFixIfBBylMkBABwgMHDRgsUIAQQEAAOw==";
            break;
        case "services.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADlLaTtNazxObTxPcD9Rbj9Scz9TdEFSb0FUckBUc0NWdEFWeUVYdkNZfkRafkZbf0pZc05edVFgd0VcgEVdgUZegkdeg0lhhUliiE9qlF9tglFtl1d2pVh2plh4p1l4qFp6ql1+r2h2im97jnJ+kXiEln6Jm2CAtWKDuGODuWOFumqPyW2SznCW03KZ2HWe3nWf33ih43ii43mj5Xqk532o7H+s85qjsJ6ntKGptqauuqiwvKqyvYW0/Ya2/5bB/5jC/6nK/7vU/8PI0NHV29PX3dXZ3tjb4Nre4t3g5Njk/+Tm6ubo6+nr7vDx8/X19/z8/P7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiUAAEIHEiwoMGDCAlisAAAAsOEB4T8yDDDx4GEJmQsGSLEBQmEFzoEATFBww0ODwxuUPEDSAQAE2zECDFC4EIABhxkoOFBAocXFBgIjDhxxowAKWrQgIGixMCMG4W0EMBCBIIOKwYIDDmy5I0KBBQAKJBgIEuXMGV+qFlQJ0+fQIUePJF0adOEVK1i1ZpwQYOxZREGBAA7";
            break;
        case "routes.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAAABmAB9Hix9JjR9KjiBHjCBHjSBKjiRKjiFKkyVNkypRkzlcmShUoDFboTZeoTNhrj5joz5kokBinUBkoUJmpERnpURookdqoktspVJxpVFxplF0sFp7sWJ+rlh/wR+tFSOwFyeyGiq1HCy2HS64HzK7ITa8JDq/Jz3CKT/DKkLELUXHL0rJMU3MM0/MNFLPN1LQN1bROFbROVnUPF7XP2HZQWXcRGfdRW3hSX6UvGiLwnOVzXeZzmmX4muZ4Haf5IefxoGk34Wl2Iys35qv0Zqy2oCm5YSq5oqt55W055W16J266KW85avC6azE6rTJ673P68DM3cXT6cvU5MnV7N/m7uDl7urs8vT1+P7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAioAAEIHEiwIEEPCAQi8GBwYAEKHTRo4PCgQEMAC6JMwXChiRIFFycEuXKlCpQdEwwiMHCgiJQNGYz0GBAg4cADRJ5EySCwwpIjAQIQPCCEiRMLAiMkARIAh1CFAgjwGCIhqFUaMZ4KnPABCZIAOW7UmPGChQqtCXz8cBDABg0YLVagMEHiaYEGEDQEkOGCRYoTJURoBYCAAQCrQUeEGHwxAAjGjSE3LhgQADs=";
            break;
        case "eventnotifications.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAAGpmPh9mohRmsShllgBmy5lmAJpoAZxrB59uCZFsE6FxCKBxDaFyD6N2CaJ0DaB5Cal9BaJ0EaJ2Eqd6H6N/LKmAFqyAErWOArGKDbWODquCJKyMPbKOOLWQPrSRP7SQR7mXQ7CZYKuge8KjB8OkB8akAsGoHM6wANS4A9a8AMarLtG7P8StdcuxedzKANzLC9/OOObKBOjYAPTnAPjuAP/rAP7tAP/vAPfyAPrzAP/wAP7zAP/0AP/4AP/7AP/9AP//B/79Hfj0JP//O76uhrrEwqbT/qvV/63V/q/W/rHX/rLZ/rbZ/rbb/rjb/rrd/rzd/77e/r/e/8GtgM62hsG4m+HTttHOwNLSxsbf9cDf/sLg/sTh/sbi/sbi/8ng9snj/svl/83l/s3l/8zm/s7m/9Pp/tHo/9bq/9jr/9rt/tns/9zt/97u/t/u//Hq3ePm5Ozp4eDw/uHw/+fw+eTx/uXy/uny++r1/+32//fz7PH4//X5//r59fj8/vv9//z6+P38+/7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjJAAEIHEiw4EADCBMyMDiQggwbN3DsgECggMWLAy/c2MGjh4oQgP704aOnAICEKXjQ8KFjgRySee6Y3GACBYYaETS8INFCT0w6JgE8mPEDSAkQHQ5IqGPHDZugABzkCALjA584VLC4UXMGKoAMQoYkwHNnTps0aMp49XCCiIUsb9agFfPFKwAFMVYUYXPGTJguU+wKaMCCA5oxX7hIeWK3gJUJCMB42RLFCZPGaEQYMCIFSpMlSRqT0VJhxBMmSpAcaWxxQICLFwMCADs=";
            break;
        case "partitionschemes.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADMzZneGq3+Jq5gAAJgxPbA8PJhmAMuYAP7PDP7VHv7XJP7fOv7hQP7pV/7rX/7ydP70eYKdwYeewYmfwY+hwpelwZ2nwaCowqaqwpjL/v73g/76i/78k/7+mcHm/8Po/snp/snq/s3r/83s/tHt/9bu/t3y/t3y/+Lz/+b2//7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAifAAEIHGhgoMGDAwkUBHDgAEKBBCIqPODBQ0OHBgkAUMgQgUePBzSI1EBAQwENDD104LAhQsgMAS6cCDACJUUIDhgoCBlARQATAUTY7PCgwYIEITEEsFBCAAibFy9qSDHARIUAE1A+1IAiAIkAHwJobWhQA9AQFAJIsFnxIoCRJE3a/Agy48aCFFe2xAhRooGbOXci5HiAqFGkCBdGvRgQADs=";
            break;
        case "partitionfunctions.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADMzZneGq3+Jq5gAAJhHAJhmALaTTMuYAP7PDP7VHv7XJP7fOv7hQP7pV/7rX/7ydP70eY6OqpWVr6amvIKdwYeewYmfwY+hwpelwZ2nwaCowqaqwpjL/v73g/76i/78k/7+mcHm/8Po/snp/snq/s3r/83s/tHt/9bu/t3y/t3y/+Lz/+b2//7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAieADsIHCgQgMGDBjtwCKBBRQATHQwaMICwQ4AWAVIEKBHRQIgQEyl22BAgAwoBIzoQMICgZUsDHVgMSIEhgIWOIUB88BAB5ooAJwKICIATggMGCmBqJHEhQIWOIB40WJAAJsGBAEJqPUgAoVeEEwt8DeDVI8iJB8mWdfnSIFm1AAJ41MmTYty3cbOGMIrULly1BqJOreq2MFmtIQ2nDQgAOw==";
            break;
        case "schemas.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADMzZgBmAAAzmABmywCYAJgAANMeAKbT/qvV/63V/q/W/rLZ/rjb/r7e/r/e/8Lh/sTh/sbi/sXi/8jj/srk/svk/83l/s3l/8zm/tPp/tHo/9bq/9jr/9rt/tns/97u/t7u/+Hv/+Dw/uLw/+Tx/uXy/ufz/+r0/un0/+32//L4//X5//f6//j8/vv9//z9//7+/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAidAAEIHEiwoEACCBMqTDiQQIyHEF+4YLFCBYGGEGMI2FgxhYmLByHCKEBShUcSIAEQeMGyBckCKUqA+JCSQIubK16SANFBQ80VQAOgMDEiAIcNGWqqUBEgBYkQHjgEsDCh5okBWEN80GCg64OaIhIevXCgbIOaNBFusCCh7AEGNTckrBDBgVsFNTHopQDBQQMGCxIgqLmwcEqDiAUGBAA7";
            break;
        case "servicebindings.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAADtNazxObT9Rbj9TdEFSb0FUckNWdEFWeUVYdkNZfkVZfkRafkpZc05edVFgd0VcgEZegkdeg0lhhUliiE9qlFFtl1d2pVh2pll4qFp6ql1+r2ZmmGhommh2im97jnJ+kXiEln6Jm2CAtWKDuGODuWOFumqPyXCW03KZ2HWe3nWf33ih43ii43mj5Xqk532o7H+s85qjsJ6ntKGptqauuqiwvKqyvZiYy5+k0IW0/Ya2/7K4w5bB/5jC/6nK/7vU/9HV29XZ3svL/tre4t3g5Njk/+bo6/Dx8/X19/z8/P7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiDAAEIHEiwoEAcCBMqVChwiMOHECEK5ECRYochFTMaBIAD40aDHTl8LBhy5MAJEXIsiGCSwI8dFFroIDAyBAsjQH6g+PBRwgUfGR5UiGGBgUEPJXb0aADgAYwVGjwYVEDBBQYHFlJAQPBRBIkXLlSMADEywIkNBS6YEGDyQAIAAwwYDAgAOw==";
            break;
        case "certificates.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAACsxN08hO0NPXE9NdABKqgBLqwBLrABNrQBNrgBOrgBPrwBQsABSsQBSsgBUswBWtQBXtgNYsgBZtwBZuABbuQBeugBgvQBivgBlwAJnwABnwgBpwwBqxABsxQBsxgBvxwBuyABwyABwyQByygBzywB1zAB2zQB4zgB4zwB50AB70AB60QB80h6Q3z6Z3SCR4CaU4S2X4zCZ5DWb5Tic5jue5z6f52uCmHSGmHyLmESj6Uik6Uil6lSn6FKp7Fer7luu716u71+v8GWy8miz8m229HK59XO59nq893y9+H+/+JARDZsXEJwgGIUmMKVGRqp9f8cXAMwcANIdANQdANYeANgfANkgANomBd4jAN0/HsxELsFGO+dCHPFaNMx1cOR7av6BWITB+YnD+4vE/JDH/ZzL8aDN8aTP8afR8avT8a7U8a3V/r/Q4rLY/rXZ/rjb/rnc/rzd/r7e/sHf/sHg/sbi/sjk/szl/s3m/tDn/tLo/tPp/9bq/trs/t3u/uPw/+Tx/ur0/un0/+73/vD3/vP5/vX5//X6//j8/vn8//z9//3+/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjyAFuwUJHihAkSI0B84LAhA4YLFliYIbMECREgPWzMiAHDBYwYFVaUSbSoUaNFiAwRCgTIzx4ZFFKMKdnohc2bf/jkoREBRRJGjRixWaMmDZozfvTcuQHhxBGTixIZGiSo5R48dng8MEGk5s2vNun8aFAiSCNFhwqt/JP0jh05QhiQ8CHmi5cwX7HOgVNkgYgoWbBYqQLmTx+ldOK8OZIgxBYsWqhQ6eJGR4AcA3C0UXIgBBcsVKRQcZIUTx05bzYf8ADlihUrUwjIqLHjxxAjScYY6KDhSRMmAiRMgPDAAQMFCA4UACClOYDn0KNHdy69ekAAOw==";
            break;
        case "symmetrickeys.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAAGRFBZlmAJlmAZ9wC6V0Cql3BaR2F6t9ErWDArqIA76SFK+GJK2CKbSOKLmOJb6UJ7mQKLaSN7mWPLyaNb6eOLqXQLuYS8GUE8CWG8WfKtChDN6rAtGkEdWqGcOiNcenOcioOM6uOte2N+S/J8KiWsuxTNCzQtS7UMmsaNO5fO7KLP/hPtzFWO/URufZcP/iQv/iQ//jRfnhUf/oU//tYvvtbvDmefntdNC5i9zMqt7Nrd/PsOHTtubawvz6+P38+/7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiMAAEIHAhgQgULBBMOFNECxQsTCglGGBGAQI0bEiIKxJBBgAYaNihoBACBBIwYMnAwUGgQYYcVLGa4OHGBIEOHEB8sQOBhA4gSAidWvJhR4IAGCUKkAMDRI0iRBAso+KCi5MmUKxMO4OAAwMuYM2sSPCDAgECdPH0CHWkUqVK2A6VShWuUK10AZM0SDAgAOw==";
            break;
        case "asymmetrickeys.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAAGRFBZlmAJlmAZ9wC6V0Cql3BaR2F6t9ErWDArqIA76SFK+GJK2CKbSOKLmOJb6UJ7mQKLaSN7mWPLyaNb6eOLqXQMGUE8CWG8WfKtChDN6rAtGkEdWqGcOiNcenOcioOM6uOte2N+S/J8KiWsuxTNCzQtS7UMmsaNO5fO7KLP/hPtzFWO/URufZcP/iQv/iQ//jRfnhUf/oU//tYvvtbvDmefntdNzMqt7Nrd/PsOHTtubawvz6+P38+/7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAihAAEIHAhgQgULBBMODMHihIsSCglGEBGAAA0bEiIKvIBBQIYZNShoBABhxAsYMW4wIGhAwIGBHFSskNHCBEEHGwYQfLAAQQcNHwh6UFBA4YAGCUAQBJGggc6EBRR4IPhBQwcECx4QHLDBAUETLWSsUMFh4AEBBggyuBEDxosREEZSqDEjgwAMF0ZKsEGDQAAREUYCKOHiBIsQggVaqDAhYkAAOw==";
            break;
        case "fulltextstoplists.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAMZtAHswMYQ0OTFJY4Q4OUJJY4Q8QoxBQoxJSrVBQr1BQpRNUilhzs5BQjFlzpRVWpxZWr1RUr1VWtZRUsZVWjlx571ZWsZZWtZVWkJ159ZZWkJ556Vta0p957Vta6Vxc0qC59Zla1KG51qG5711c615e711e95ta95tc+dxc2OO5+d1e72GhGOW986ChGuW58aGjK2OlGua99aGhNaGjHOa772OjJyWpbWSnHOe93ue79aOjHOi972WlHui75SitaWerXum/9aWlJSmvYSm75ymvcaenNaanISq/5yqvYyq772mpc6ipZyuxqWuxoyy/6WyxqWyzpS2/5S6/8a2teeurZy+/96yte+uteeytZzD/++ytaXD//e2tfe6vdbHztbX5+/T1tbb1t7b3t7f597n5+fv/+/z9+/z/+f39/f3/+/7///3//f//////////////////////////////////////////////////////////////////////////////yH5BAEKAH8ALAAAAAAQABAAAAfEgEmCSUM9NC4pIh8aFBRtbUlbWVVSUU5HQDs4MSwNj4NDOYghHBiNFAuPUI+srWlnZQKqbU9MRG02Ly0zQUs3BI9MrVY6rW1rNY9ItE0/MsasG21CrEaPEBMWFghYbWIPPrRMI9coKCYSXG1mA+GPJY8VKionGV1tau1tTEwdjxEmToCQcM/MgXBjvsBrk0DCBQkMtLAh48GHgIsOHl3RwpEKGDRKoK0wxgbNlALQihzwYkaNmTAwUEJ7REJBAAAGeLAKBAA7";
            break;
        case "extendedproperties.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAPcAAAAAAABtAABwAAByAAB1AAB4AAB6AAB9AFRVXEZVZUdWZlhZYFlaYFpbYl1eZVlneGBhZ2Rla2ZnbWlqcGprcWxtcnFxd3JyeHd3fXh4fmJwgG17jX19g35/hACBAACDAACFAACHAACJAACLAACNAACPAACRAACTAHfdRHjeRXvhSIbsU43zWpH3XoCDjYuLkLG7w9PY3dfb4NXb6Njc4Nnd4dre4tzf493g5Nzg5d7i5uDk5+Hk6OPm6eTn6ubp7Ofq7Ojq7enr7urt7+zu8O3v8e7w8u/x8/Dy8/Hy9PL09fP09vT19/X29/X3+Pf4+fj4+fn5+vn6+/v7/Pz8/f39/v7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAQABAAAAiwAP8JHEiwIMEECBMqTFAwwZWHVqhIgeJECcODD6tMifKESRIjFwc6fDGlQ4YLFSQMCSkwgUQoTZIgISLkB8t/CaJwwGCBQgQIDXjcTOBkCZIiQ4L44JFjqJIkNH/02IGjxtAjE4Q4YODihAkSDxoOAbI0x4wSLURoaPjDwQIEX0ew+ODhwEEeOm7QINGCxQoVKQoczGFDRowQIDyoMEBAwEGFCmAcQDFgg0GDjQMMDAgAOw==";
            break;
        case "drop.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAIcAAAAAAPkAAP4AAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAAQALAAAAAAQABAAAAhFAAcIJECwoEGBCAcaLJiw4UICDh0yRChgIkKCEi02VLhwI8eHGx8ezAjSo8gAHj9CTIiRZcuLGgcQQAlzpEmRN0WuHBAQADs=";
            break;
        case "sequences.gif":
            image.src="data:image/gif;base64,R0lGODlhEAAQAPcAAAAAAGd5l2h5mGl6mWp8mmt8m2x8m218nHCAn3CCp3eIrH2OsH6OsYCQsYOTtIeXt4iYuNni9drt+ODo8ODv+eLx+uTx+uby+un0++70+ez1++32/PD3/PP5/PP5/fT5/Pj7/fr8/v3+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAQABAAAAiHAP8JHEiw4EAIEBw4WLBAgYIEBv9BGEGx4ogEDAxOpChCRAgQCSJkJPjAokeQCVISbDDiwIERJz9kmIBgZcuXFkdsOGDTIggQHThsMGDT5c2fIDQUKPrSJVIMBHpWRAoCwwCmR11euDqQpVGnLisIkErRwwULFCQEWNmgLUOHCQgMWBqxrsCAADs=";
            break;
        case "searchpropertylists.gif":
            image.src="data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAF8ALAAAAAAQABAAhwBeAABnAABxAAB/AAV4ABxuAH8/P1R2G3t7ex1wyEZ/tw2EASKIAyuICDSJC1yNfCaA2iaC3k+Z40yg9V+g4VOm+o1GOI9KN4F9EKhULKNWMaFcPrJZI75hIohERJFISMdnAMxmAMtlCs9vD9V3FL6SLrqLXLOKdrmbf9KdP+OFKeeNMumONNCJRt6SRtSicOaYSfGbRuKqTvWjT/ikUfilVP2rWv2sW/+tXYGBgYWFhYmJiY+Pj5GGhJiYmJSdop6jpZevuamZibKysoKrxYGu1o297oS/+6G1yY7H/5rL5pnP6JjT7ZnU8Zva9J3a9aHS6s2si+26iejIqfHNqMTEw8TExMfV3cHX48TT4Mrg6cP4/MX5/tvl6/jl0f//3uTk5OHq8Ofv9unz8fv07fDw8fT09PT5/vj4+P7+/VV7RgAAEI3vYFng2levX1evM1evX1evMwF3/AAAAgAAARj0DFeuwAF3/AAAAQAAAVV3vFV5AAWBCwAAVBj1IBj0LFV5MAAAVBj1IBj1YBj0+FcsZQWBCwAAVBj1IECCKlcpUhj1CFcsZhj0+AV+jAh5a6/yuIZMVzj1GAEAAAV+jGASoGARmBj0sFVvyWASoFnKSlVvaAV+jMB4DBYkwAAAAUB1zUBtaBYkwEBJTkBspQAAAUBzQVckvhj1dBYkwMB4DAWBCxj1dBj09FdBrbjI7FdBtQV+jAh5a6/yuMB3oK/yuBj1fFcxNgAAAAAAABj1IBj1iFcxQBj1fBj1uBYk8AAAAQAAAAAAEAAAEAAAMBgAAS8AAAAAKAAAEAAAEBgAAQAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAh+uwWBCxj2AFdMhhj1oAAAAVcxpVdMwn69ULpIkAAAAQAAAAAAEAAAEAAAQCAAAQAAAAAAKAAAEAAAEBgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAEBzZBj2DEBzcxj2BH69ULpIkAAAAbpIkBj2JI9r2hj2MEBzFRj2JLpIkAjSAL8IHEiwoEGCIUKAEFFAgICDX0ioWMFiBYYFAA6OUFEDB44bKRpkTAAhgskIClrY8IhDhoOMECZUmFmBgokYNGrMKMEgo4QjSYIaEeLiRZQoKA4QCPAFiZgzUKfAkDIGapYHAQZ80VEmjVcvVMg8GauEx0AdZob48FEFDRAnXLY0ITIwRxkzYMCYSYOFi18uUOqWUevDCpofTPwuKSIYr940YZo8WRJkgwWBOcDcLcO5TBctV050yODhC4IcOnKg3qFDx44dPTRwuACx4IcLBgICADs=";
            break;

        case "bwgradient.gif":
            image.src = "data:image/gif;base64,R0lGODlhZAABAPcAAP///4AAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMwAAZgAAmQAAzAAA/wAzAAAzMwAzZgAzmQAzzAAz/wBmAABmMwBmZgBmmQBmzABm/wCZAACZMwCZZgCZmQCZzACZ/wDMAADMMwDMZgDMmQDMzADM/wD/AAD/MwD/ZgD/mQD/zAD//zMAADMAMzMAZjMAmTMAzDMA/zMzADMzMzMzZjMzmTMzzDMz/zNmADNmMzNmZjNmmTNmzDNm/zOZADOZMzOZZjOZmTOZzDOZ/zPMADPMMzPMZjPMmTPMzDPM/zP/ADP/MzP/ZjP/mTP/zDP//2YAAGYAM2YAZmYAmWYAzGYA/2YzAGYzM2YzZmYzmWYzzGYz/2ZmAGZmM2ZmZmZmmWZmzGZm/2aZAGaZM2aZZmaZmWaZzGaZ/2bMAGbMM2bMZmbMmWbMzGbM/2b/AGb/M2b/Zmb/mWb/zGb//5kAAJkAM5kAZpkAmZkAzJkA/5kzAJkzM5kzZpkzmZkzzJkz/5lmAJlmM5lmZplmmZlmzJlm/5mZAJmZM5mZZpmZmZmZzJmZ/5nMAJnMM5nMZpnMmZnMzJnM/5n/AJn/M5n/Zpn/mZn/zJn//8wAAMwAM8wAZswAmcwAzMwA/8wzAMwzM8wzZswzmcwzzMwz/8xmAMxmM8xmZsxmmcxmzMxm/8yZAMyZM8yZZsyZmcyZzMyZ/8zMAMzMM8zMZszMmczMzMzM/8z/AMz/M8z/Zsz/mcz/zMz///8AAP8AM/8AZv8Amf8AzP8A//8zAP8zM/8zZv8zmf8zzP8z//9mAP9mM/9mZv9mmf9mzP9m//+ZAP+ZM/+ZZv+Zmf+ZzP+Z///MAP/MM//MZv/Mmf/MzP/M////AP//M///Zv//mf//zAAAACH5BAEAABAALAAAAABkAAEAAAgSAAEIHEiwoMGDCBMqXMiwYcKAADs=";
            break;
        case "contract32.gif":
            image.src = "data:image/gif;base64,R0lGODlhIAAgAIcAAAAAAAgICAwMDCkpKYCAgP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAYALAAAAAAgACAAAAikAA0IHEiwoMGDCBMqXMiwocOHECMyHACgosWLGC8OWAiggMePIEOCBMBRpEmRJBV2PMmyAAACBBKubGnyZUyEM2mGtClTZ02YPX3uBIpT6NCbB3O6zGhxJNGkO5lWdIrUoFKhPIsa/ZgV6laPXa1+BftU7NiwBa/6REtQrU62A93ShCtQbku6BgRI3VsxQFmEMAMLHkyYIeHDhyUqXsy4seOEAQEAOw==";
            break;
        case "equals.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAIcAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAIALAAAAAAQABAAAAgwAAUIHEiwoMGDCBMqXMiQIICHECNCHCix4kOKFiU2NJhRo8COETGCBLCxpMmTAwMCADs=";
            break;
        case "indexes.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAACZKlCVLlSZMmCdNmSlTpi5atDFkyDJmyDhy4EB45kJ65kZ85kh951GD5mGN5nmc6Hic6Yuq6v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhoAAEIHEiwoEGBEiAMOGgwAoADDAs2OLAwIsEGFgsyyChBwgMHCxIYKCDgoISBCwaWJHjypEAFAwMASICw5suYAmm2VAgg4cKEBAAEPekQYlEAR4cCmLiQ6VIEQYNizChU4NSIQakSDAgAOw==";
            break;
        case "leftarrow16.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAAABmAC6wGDCwGDKyGTWzGja0Gze0HDi0HDu1HTy2Hj64H0C5IEG5IUK6IUS6IUa7Ika8I0i8JEm9JUu+Jky+Jk7AJ1DBKFHBKVLCKVPCKlbDKlbEK1jELFrFLVzGLl3HL1/IMGDIMGHJMWLKMWLKMmXLM/r7+/z8/P39/f7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhqAAEIHEiwoMGDCAUGSFgwwEKGCkE8ZBhAxAeHGDMODEDCYgcNFiY8WICAwMMAJkqE+MAhQwUJDhQcGHDSBAkQHjhgqBChgQIDNDeOwLnhAgUIDBIUEDARQIAPHTJKbRgV4samELFa3QoxIAA7";
            break;
        case "leftarrow48.gif":
            image.src = "data:image/gif;base64,R0lGODlhMAAwAHcAACH5BAEAAAAALAAAAAAwADAAhwEAAABmAAecAwecBAidBAmdBQudBgqeBQueBgyeBg2fBw6gBw+gCBCgCBKhCRKhChOiCROiChSiCRSiChWjCxakCxekDBikDBmkDRqmDRumDhymDh6nDx+oDx+oECCoDyGoECGoESOqESOqEiSqEiWqEyasEyasFCitEyisFCmsFSquFSuuFiyuFSyuFi2uFy6wFy6wGDCwGDGxGTGyGDKyGTOyGjSyGjWyGzezHDe0Gze0HDi0HDm1HTm2HDq2HTu2Hjy2HTy2Hj23Hz64Hz+4IEC4H0C4IEG5IUO6IUO6IkS6IUS6IkW7I0e7JEW8I0a8JEi8I0i8JEm9JUm+JEq+JUu+Jky+Jk2/J0+/KE7AJ0/AKFDAKFHBKVLCKVPCKlTCKlbDK1bEK1fELFjEK1jELFnELVrGLVvGLlzGLl3GL17IL1/IMGDIMGHJMWLKMWLKMmTKMmXLM/v7+/z8/P39/f7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAj/AAEIHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePAAKAdBhA5MiFAcSYPIkwQJkwK1kWDGBmDJiYMgUGSFPzZk6CO9GYCePzZ8g2adC8/FKyqdOnUJ8+DNCGDc8yYL5wuVIlCpMjRIDwwEEDBosUJUB02IChwgQHChLgTBjATRs1asyQAeOFC5YpUL6G3XFDxgsVKUiE4JDhAoUHDeLOPRjgjd01Sm120XJlSpMkR4T0wGHD8AoTIhZjcOwgsoHJM+NYXpPmzFAwXLRYmfJEiZEhY2vIcKHCxAgQbN06YJDgAOyBAeTEuVy7jBitWqpIaYIkLI8bNV64/0gcYm3bCA0WNH8eMo77N3fzYtXK1euRIWJxzIixAkWJEB5scEEFEKSXQAHsRecedT11sdUUTjCBxBA/ECYDDCuQxxhrkR2AIEpywNFGG7SZIQZfnG23xH0+5CCcCyuccBxjFrzFXAEEsKcTHG7QphRRflmxHRJFiEaaYSqUIMIHG2RQowPqHZBjQ3XRZtuJm2knYRFBfLdfC2gtlpwEUCZAwAA6QqfGVVn5pSVYP4xl2gn/BYgBBegp4CGaU/F0ohdbdAaFEvf9oENhMJ5AAggcaMChAggUIECaQJkIRhdZXBHVppxSCtR1QXrKUQB9/SXqqG6eOuoVVKg6qhSujhQa66hG1WrrrbjmquuuvPbqq0YBAQA7";
            break;
        case "leftarrow48.png":
            image.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAHv0lEQVR42u1YC1BU1xn+z7n37otXVnd5g0ACpKk6Q5qCvMWgiUaCTJOZoKi1OkaTZtLWNm2kTTpTNR1DkyajkcEEJTYyreTBQzDVBoIaAwygVIysrDx2kFWBZWGXfdxXz71Ah6qZKnWy2xn+2Z07586593zf//3n//9zEfyfG/I0gDkCngYwR8DTAOYIeBrAHAFPA/B6AkajETc0NIgcx4n+/v6Qn5/v/QTKy8tloKIoUggh/uOKCviysRHpdDpx/fr1EB0d7Z0E6urqID0tGT48chS2b9/OEPAsIbGosqryau3xWrter0dbtmwRvYpAT0+P7NFDhw5BeFgYys5eKn7w/mFITU8H/wDfvJKyI5/4MYr6pKSktSqV6iZRQSDzRa8gMDg4CFarFeLj42nibaG25riwctUTcNHQ9Uhx8QdFhk7zE5aT57jMnWsVRbt3ZZA5pwlhihDgPUrAYrGAVquFvr4+GB8fZyKioljHuA0MVw2Pmgav763+S02yv8mlWSJoxbYbPZzf86n4DztfTSGPNptMJkwICB4hIIXJpk2bwOl0IhIOYn+/CVQKBvRBQbmf159aXn3okxd7T3XAqvmxoFQoOF+1hvq7oZ3Xv7iM/uPrryUTBb72qAJmsxmCgoIYy+goO48o4HZOPNzSeemdoqJ9WcPXFMzjvdfdj4TG0ENuGxJEEQIUami4+k9euy2T3lW4M11SgKiGUzJWzFYBcQozP/X/7wTOnTsHUVGREBwcikYtFprleTbAR63uHrxWdbDko+Smkx0+qcI8MZ5ScDSNGTvrFBlEyQT8lWr4x5XzbMyvn2YKf7kjjihwxTY2Br7RMbPGjxAF82mNDHyazW0mbc6QkBApj6PS0lL0k43rBESrIG9NLmzasO7lT784u3qouS9bb/cVsxQawU0hzIsC4kUQMUFJngOJgB+jhK+vG/nWhZjKeXz5AbKgyTJqwX/a/94sFSCLIAoTApfIoJL8mdsIMOoAYB1WCbycx6uqa2DF0jR61GbLzX1uwwv0Aw8v0zuDIcfcxysZBo+JPOBJPxDkZAk06RWJhHTfiXi4PDIADrtD9hhFUeCj9bt36OR9DKZgiLVDlfWbWjJ8iox9/03A4XCAWq2WgZDJNMfxLE1TqsyUxITnfvqL8iMlFZGxoWloobHHHUg87nLZaB5RIiXNl6S9g5jSfSwiUc0oiN8oVsYh3eXufQ9LBJSYYXtdI8yuwfq/kuEGJUVr0C2TkBQBfztWAc8+k/fysU8/XvXZl10rrlV9BdkxSyDCfIV3qzWY53kEmCLQyE/2OLrjguRd8vV+VK1JAjTb7x5l/nzjbDkZrlVgygfNmCD3LcdratZ0dht+XnOmM8PHaIfFTgW7WDufcdiGwa1QixQBLfsRoe+0lZ1J4K3rZ/6TwObNm9GSpMfEpMSkH79VXFYy3IuYEH0Sm3i5ESlEnh7neRFTNMKC8J0DvysCBQUFKDw8XMxZufzdV98sfUnVT+7xFAgqjeBCIsEtyLGFPOD5uyIwbW3t7TDQ173kvMFY2Fjbkq27Qase4yhX4Hydwum0ITemRVoKeW8LoRmG9+0vFn6Uuxo5MR31WcWxhpYL5kim/iL3g5BYpLOP4FFMkiMi2X6qjnybKjM38f0m8Patm7i+vh6ysrKAtLywdevzuGB9gdTLkFokxubl5jwTk5i+p7mqCeJwKKSIFE+TVsFNWPAkg0qF69tqonyX8KMxljjzkyOSuYR7ZzVFgOtzW+i95kYpjRbclkYl27f/AGzftlUuOJIdPlwGGzduWPxN18Vnf/926UtdTT0ByfMWwaPWmy6GppQTrAtIWbgtpcoKSFfCb8xhB5fLJRPCREGFj2pWCpBqAgPsGBwcaqkkwzV3CiHZposaeQiTIZ2wcp37/Imj8GT2MmbH714rP3jwSGK/NTgitW+QTVKosEVksSBBnxRCDiupV9BQDHRYB4Q6XzNe9FB8M8lhVqfTAU3NrbONJE7CQ9qWenJ9g4ivuqt9OEVE7DZeBV8lLQYGBcc3fHXm6ZIDR/faWk2Q6R/FhxDkLgoo0uwR12MEJOX6qzRyMxf5q6eY11955XtkwcsjI8Ow8PuJsyUgV3e3MFnJ0b0mEqmdZlknHRq+gDvTeBpozC9u7urOP11Z/xvXAIalDuQKIkWPm7BiO8lYWqUaNRg7OKmd3v3bwjTyiibSTlPJ6cv/1/OApPXdtdMzTdrsERFh8OCDsdLepSfsDrdarQJW4Hcf/rAsu7y6KVF78Sb8UBfDL3BZsUC60S96LvGBLyyl3/CGA81My8zMhNraWmS32yEwMFDkOU5pMvVu+6i6bsepEx0R/mYecrULhLbzJ1nfnz3J7CncmTKlgOeOlLeatNltNhvodDqqtbWV9/Pzg7i4uPBuQ2faexUn3m37vF1vuklD3mo9FO19M40ocNZrFJi26QO+0WiEmJgY+QzR1NwC7gk7gILeU/x+WU5ywqLg/LXrUsn07jFyIvMaBWaadIozGLohIyMNXbhwgdQRmqQuEaKjInVDlrHI/v6+NjKNCgsL473qw9adTNrsgYF6IIciKi72IX54xAK9vb1yXSMEvPfT4kxrJ43hjDWkvxw2CQkJ93Wduc/rnrY5Ap62OQKetjkCnrZ/AcJlzpjRmNO+AAAAAElFTkSuQmCC";
            break;
        case "leftdatabase32.gif":
            image.src = "data:image/gif;base64,R0lGODlhIAAgAHcAACH5BAEAAAAALAAAAAAgACAAhwEAAABjAAFlAABpAABtAARqBABxAAB1AAV0AwB5AAB9AAd5Awd7BAV/AgpzBgl2Bgx0BwtxCA5wDgx3CA11DQt4Bw15CRBtEBB4CxN5DRN+DhR6DhZ+DxJ9ERZ8EBp8Fid9JwCBAACFAAeDBAeGBQCIAACMAAWKAwSNAgaPBQuEBQ2BCACQAACVAACZAASaAgaZBAWdBAmRBgyUCAqaBQmdBg+aChGLCBiKDxmCERyFEx+GFRaRDxCeCROfDhyWDhubDhWeEAqgBw2iCROhDxCkCxKlDBWmDRqlDhepEBqiEB2mEx6kFBqqER2oExyrFh2sEx+tFCOJGySLHSWUFyKbESacGSqTHCqXHSmZGy+eHy2LLS+PLjmPMiGiEyGqFCCvFiesFiOoGCOvGSyiGSitHiytGy6tHyKwFyOxGCWxGCizGimzHSq1HC+xHy23Hi+4HzOxHy+4ITeiJTelITWuIzmqJjqsIDyqJzGzIjS2KTG6ITS7Ije7JTS8Iza9JDmyJju1Izq1JT23KTm+JT+4JT66LDvBKD3CKUWYOkKsKEiiP0W6LEmyLkq1K027LUK+NEuzMEu1Mk+2NEi5MFC+M1m/NFisSXesd324dn66fkHEK0PFLETGLkbIL0vDM0/GP0jJMEzLMk/LN07NNFHPNl3DN1zCPVvKPVPQN1XROVjSO1jUO1rUPF3WPWLHOmDGP2TGOmXIPFzEQlzMSlvSQl/ZQGjKQGzLTWbRRWXWRWLaQWXcQ2bcRGjZRWjfRm3eTWfRVG/aVm7cUHXbTnLYU3PYXX7TVX/UVnjRW3ndX2rgR23hSHDjSnHiTHLkTHTmTXXmUn7mWHjoUH3qVoDVWoHXY4fbZ4nXa4zYZoDmX4DsVobzWojyX4bhZIvuY4/kepPlcZLqdZ7gfpf9ZJv3bpj/ZYK6goW8gYm2iZHBjpXMjZXElaDRmqDhhKHqgavwk6/2kbTumLjpobzxq87hztbp1N3s3eTy4ejy6O316+727vP68f7+/v///wAAAAj/AAEIHEiwoMGDCBMqXJhw0RQNDxAYeNCBC0OEl3JkqSOoj583apz4kKGAwJaLA3dQWpVKVCdEf+CsAdPEiJAXJQygxNJrlytVpDwhIrSnDZomR4bEcNHiAEMpupjx+kkq1CaibdRASbrUBQsKCzlAY9bLFqtSoTgd+qgmSpIiNVzIJbDQw7Rmv3a1avky5syaN+cutCAu2jKfQIViPcqV6YCFFYbBEweMqlWsWpPWaBHiscIHqqjFowdOWK1RfeWwGfOESIoQCTwndKBqmrlu2pQZC0YLFCQ9ZYLIKBFCQQIBCzHgcWaO2zNXofykGQKjBQsTJUTADkBXYYZYkYht/3seik8UIS2sYw9BQAAK2QgtXDsma5IkSoPcLBFyHTaBASPU8N5CD7QSzjzZvOIIHVTgsAIDC6hwAxBI9HBCbATWVs477mCDCyyVMFJIIHGYwcQMIhiHnEIQfGKbc7qg8okheYihhA3DaaeAAfAdtIEiqJDjHHTmoadeduwR0F1CGFRjySm5+ELkeen1Z4AADcDQo0EVFDMOMqY0MocWVvBAggI7DoCACj3Q0NlCE6gijTzzVHPLI3eQUcUPQHgRxhdKzADblgV94KI533hjTTK4zBKiIGd4McMJxR1wAUM6MDdkKISocUQNMFyH5HEoeXDKeFMaKWoIV6IkUCIZXCNhByB5UMmCfwKA4GpBXXwQwQDAFiCBrrsWa+yxyCarrEEBAQA7";
            break;
        case "notequals16.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAAP8AAPxsbPt6evibm/akpPK8vO7KyuvR0ePj4/7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAg4AAEIHEiwoMGCAQ4qTKgQYcMAECNKNCixIkOCFic2BHBxI0ePGSNSDNlRIMmSGD0ORPlQpUsAAQEAOw==";
            break;
        case "rightarrow16.gif":
            image.src = "data:image/gif;base64,R0lGODlhEAAQAHcAACH5BAEAAAAALAAAAAAQABAAhwEAAAAymAAymQJozAVrzAZqzQltzgpuzg1xzxJ10BJ10RN20RZ50hd60hx90xx91B1+1CKB1SGC1SaF1iaF1yaG1ieG1yuJ1yyL1yuK2CyK2C+O2TCN2TCO2TSR2jSR2/r7+/z8/P39/f7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhxAAEIHEiwoMGDCAsKSGgwQACGBAVMeEjQYQABDjEKoJCBosAAAwoYQJCAgQMJFS5sWChQwAACIxUweCDBggYOHliCFIlA5oMINjt8oLjzAIIFDSDUxNCBJQCMFgVIDVBBg8eEAixcTXgR4kCnXsMyDAgAOw==";
            break;
        case "rightarrow16.png":
            image.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAADAFBMVEUBAAAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABVFogdAAAAAXRSTlMAQObYZgAAADNJREFUeNpjZEADjCQIMP1DF2D4hy4AFmEEs2DgH7oAUARNgOEfARX/sNuC0x3oLsXlOQBQ8QsRlCST7AAAAABJRU5ErkJggg==";
            break;
        case "rightarrow48.gif":
            image.src = "data:image/gif;base64,R0lGODlhMAAwAHcAACH5BAEAAAAALAAAAAAwADAAhwEAAAAymAAymQJnywJnzAJoywJozANozQRozARpzQVqzAZqzQZrzgdszQdszghszQhszgpuzgtuzwxvzgxvzwtwzwxwzg1wzw5yzw9x0A5y0BBzzxBz0BF00BJ00RN20BN20RR20RV30hZ40RZ40hh50hh50xh60hl60xp80hp80xx90x1+0xx91B1+1B9/1R6A1B+A1SCA1CCA1SKC1SOC1iOE1iSD1iSE1SWE1iWF1yaG1iaG1yiH1iiH1ymI1yuK1yyK1yqI2CuK2CyK2C2K2S2M2C6M2TCO2TCO2jKQ2TOQ2jOR2zSR2jWR2zWS2/v7+/z8/P39/f7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAj/AAEIHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePDgOAfChAwMiGAXiYPKlQwA4fK1keFJDDxw+RMg0GyLHjB5CYOQXStDmECNCGAgKUTBqgqdKSSp0ydbrTJpAiR3CGNGBAgYIFECJEsHBBQ4cOIUKMOKFihYsXNGjk4MHjR9EjR44qDEDgQIKvD8RSKMuhA4gRJFC0dSFjBg0cPH/8IGLkCBK9CAMY8LsArOALGDh4ABGCxIkULVzEkFEDh466QCgfSaJE614CCL4ueABBAlkNokGISJxChQsYMuTq6CmEspEkSZbYRihgc+4GEMJeIIy2NArFxx3f/8jR40dzvNCXOMFMUEBfBJ0Di+UeYvgJ8DDEvzYfpMhzJUs88QR7AgVQgAF/eRZBBdsVJlxi4Lkg3lySyYZEdE0M2BJXumUXwXahefBBaSXg55gNFDZXGRJIMNEEgQUagEBuDDigXVkbeOCBfSi4xZhckTVHhGXRTTcTbrntFhaDGThYmgkROlYDTz4IadllKBEgY2fYRTDYBRucNVyJKrDw43h1TTYkEkZmNsCWC9gYwQSgieZBaYmpkJqUFNpFWZuZTSVVVE1BBdVTSVFpVxEwerTTS0IM0ahHNKUJ6EmPwhRUQTTlcClLO30KqqigbmrqqaimquqqrLbq6qsNBQEEADs=";
            break;
        case "rightdatabase32.gif":
            image.src = "data:image/gif;base64,R0lGODlhIAAgAHcAACH5BAEAAAAALAAAAAAgACAAhwEAAAUxhAg3iAw5hwEzlAAzmAE1mAU3mAU5kwQ4mgU6nAY9ngo5lAk9mQw9mgw/ngE8oAg+oA9BjQ9ClQ9AnBNEnhZIkhRLmh1UmwVFqQVLpgdKqwhBow1EogxGpQ1IpwxKqgpSqgFStwZWugJauwlWtw1cvBNPphdJpRdMpxlKohJRrRBZrxxZpRRXsRdasxFdvBtcsB5itBxiuSJMnyRSoiVXrCJcoydcryhbry5eqiRdszNfqSZhpSFhqilnqStrriNnsyJsvyxxtD9mrD1tuDB3uTt2sgBewwNhxQNjyABkygBmzARnywVpzQlpyglszg1rzQ1v0A9w0BBjwhdsyBxpwRtwxxlzzhFy0RV10hl40x161CBtwyZxxCh1xCl4xyx8yyJ40CF81SR/1ix/0TJ8wzl7yUt2uj+CvSaA1yiC1y6E1yqD2C2F2TCAzT6FxzOH0TaJ0jKI2jWK2zeM3DiH1DmJ1zqP0z+I1DqO3DiQ1zuS2D+T2T6Q3T6Z3U2EtliFsnCKv3aZvEqCwE6JzkyPz0CN2kKS2UGS3kSS20ST3ESV30Ga3Uua1kyd3VCKwVGTzlCa30aW4EiX4EmY4Eyb4k6c4lGb4FGd4l6h0l+h3FGm4lWj4lWg5FSn4lmi5Ful5lyj41yl5l+o52GczmqWwXKbwHSbyHiWzHyYx3mazmuizH2jxHukyXyt1mOt5Wer52Gp6GSr6Gas6Wir5mit6Wyt6Gu2522x63Ot5HCz7HK17Ha06nS27XS56Xe47niy5Xm263q67n247H2873++8IKYxounwYqkzI6rxYyl0om12Y652pCv15Wt0pez2pO61IW+7Ym84YG/8aC834PG7IvE64PA8YjD8onE8o/E8I3G9JLH5pLI75rJ45XH8JfI8JzL8p3V8qjH2K/N26PT9KbZ8azW9azc8rTc97Xk9rrg97/g+MvV6MXi+MLo9MXr+srn+cjs9cjr+s3z+9jh7tri8dD2/Obs9unt9e3x9/P2+v7+/v///wAAAAj/AAEIHEiwoMGDCBMqXJiwSIoFBSIq6JCDIUI0CXacyXPIDx03YqqYyGDAhsWBDwrFkgUqU6VEddyo4aJFShMRBk7iEOYr16xQLhPpmbNmjJYpTpgsgcAQhS5jwHLRGuXJEqOhbcZsyQKFCRMkChYayEZt2C5bpDxdmuTRDRkuXL0uyamwADdsw3jZYhk05syaSZkUWFgAnbZiPX8GHVr0aNIkg+umayeumFSqVrFq5ZpkQ+SEBtLVo/dOHDFbozJRalsUCwwQET4jNHAOX71147xJ61VLlCRFdsJYebECtuyDBVrNuz3OGi5OjfjICfNFyAziHQIcN1jgmjJy6Zo///+zJw516ysmCCCxvWABdeKYDTrFSpMjPHvMfAnSwoKEEEuM0B5BBaQTT2nBlALJEUD80MMNPshwhRZRlMDBgAPRhg897KADjjC3tMSIR2yIYYULxon1jW24XfMLLJ08gkhwXly3wgcIYChQAa6Uw5xznJBnXnU2MpAjYeY0g0w03QAp5HkxXDCABkroCECB6oTziimBAJKGEUMA4QMGFlzAwhNKeLZQAufEI8872/SyiSFwmKFfGDNhQUWKCqkwDYvm6MabKJgsckcZXcxQ3AIMMFQDPD/i8kkjfcjxBpHEeUDASRSgEp6T5Z03gwsNbHoSAEQcoAMhkTwiJBgynBtQKg2nFsRDBQlEVIABDtRQ66/ABivssMQeFBAAOw==";
            break;
        case "wbgrad.gif":
            image.src = "data:image/gif;base64,R0lGODlhAQAwAIcAAHFvZM3Ku9/cxufjz+rn1Ovo1ezp1+7r2e7s2e7s2/Dt3P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAABADAAAAgjAAEoUJCgoMGCCBIqTHigocMDBiJKjFigosWKBAYIEBAAQEAAOw==";
            break;
        case "wggrad.gif":
            image.src = "data:image/gif;base64,R0lGODlhAQAwAIcAAHFvZM3Ku9/cxufjz+rn1Ovo1ezp1+7r2e7s2e7s2/Dt3P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAABADAAAAgjABcoUJCgoMGCCBIqTHigocMDBiJKjFigosWKBAYIEBAAQEAAOw==";
            break;
        case "wggradient.gif":
            image.src = "data:image/gif;base64,R0lGODlhAQAwAIcAAHFvZM3Ku9/cxufjz+rn1Ovo1ezp1+7r2e7s2e7s2/Dt3P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAABADAAAAgjABcoUJCgoMGCCBIqTHigocMDBiJKjFigosWKBAYIEBAAQEAAOw==";
            break;
        case "wpgradient.gif":
            image.src = "data:image/gif;base64,R0lGODlhAQAwAIcAAHFvZM3Ku9/cxufjz+rn1Ovo1ezp1+7r2e7s2e7s2/Dt3P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAABADAAAAgjABcoUJCgoMGCCBIqTHigocMDBiJKjFigosWKBAYIEBAAQEAAOw==";
            break;
        case "wrgradient.gif":
            image.src = "data:image/gif;base64,R0lGODlhZAABAPcAAP///4AAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMwAAZgAAmQAAzAAA/wAzAAAzMwAzZgAzmQAzzAAz/wBmAABmMwBmZgBmmQBmzABm/wCZAACZMwCZZgCZmQCZzACZ/wDMAADMMwDMZgDMmQDMzADM/wD/AAD/MwD/ZgD/mQD/zAD//zMAADMAMzMAZjMAmTMAzDMA/zMzADMzMzMzZjMzmTMzzDMz/zNmADNmMzNmZjNmmTNmzDNm/zOZADOZMzOZZjOZmTOZzDOZ/zPMADPMMzPMZjPMmTPMzDPM/zP/ADP/MzP/ZjP/mTP/zDP//2YAAGYAM2YAZmYAmWYAzGYA/2YzAGYzM2YzZmYzmWYzzGYz/2ZmAGZmM2ZmZmZmmWZmzGZm/2aZAGaZM2aZZmaZmWaZzGaZ/2bMAGbMM2bMZmbMmWbMzGbM/2b/AGb/M2b/Zmb/mWb/zGb//5kAAJkAM5kAZpkAmZkAzJkA/5kzAJkzM5kzZpkzmZkzzJkz/5lmAJlmM5lmZplmmZlmzJlm/5mZAJmZM5mZZpmZmZmZzJmZ/5nMAJnMM5nMZpnMmZnMzJnM/5n/AJn/M5n/Zpn/mZn/zJn//8wAAMwAM8wAZswAmcwAzMwA/8wzAMwzM8wzZswzmcwzzMwz/8xmAMxmM8xmZsxmmcxmzMxm/8yZAMyZM8yZZsyZmcyZzMyZ/8zMAMzMM8zMZszMmczMzMzM/8z/AMz/M8z/Zsz/mcz/zMz///8AAP8AM/8AZv8Amf8AzP8A//8zAP8zM/8zZv8zmf8zzP8z//9mAP9mM/9mZv9mmf9mzP9m//+ZAP+ZM/+ZZv+Zmf+ZzP+Z///MAP/MM//MZv/Mmf/MzP/M////AP//M///Zv//mf//zAAAACH5BAEAABAALAAAAABkAAEAAAgSAAEIHEiwoMGDCBMqXMiwYcKAADs=";
            break;
    }
}

// Sets the name of the objects being looked at. Changes the heading on the SQL source diff panel. 
function setDatabaseObjectName(ownerNameSelector, objectNameSelector, element) {
    var ownerName = CurrentSelectedRow.getElementsByClassName(ownerNameSelector)[0].textContent;
    var objectName = CurrentSelectedRow.getElementsByClassName(objectNameSelector)[0].textContent;
    
    if (ownerName || objectName) {
      element.textContent = ownerName + "." + objectName;
      return true;
    } else {
      element.textContent = "Does not exist";
      return false;
    }
}

function setSqlScriptHeader()
{
  var existsLeftObject = setDatabaseObjectName("OwnerDataRow", "LObjNameDataRow", sql_header_ltext);
  var existsRightObject = setDatabaseObjectName("ROwnerDataRow", "RObjNameDataRow", sql_header_rtext);
  
  // existsLeftObject and existsRightObject cannot both be false at the same time
  
  if (!existsLeftObject) {
    var textNode = document.createElement("strong");
    textNode.textContent = " (Will be dropped)";
    sql_header_rtext.appendChild(textNode);
  }
  
  if (!existsRightObject) {
    var textNode = document.createElement("strong");
    textNode.textContent = " (Will be created)";
    sql_header_rtext.appendChild(textNode);
  }
}

// Create an HTML image and insert it as a child of the parent parameter provided.
function createHtmlImage(className, imageName, alt, parent) {
    var icon = document.createElement("IMG");
    icon.className = className;
    setupImage(icon, imageName);
    icon.alt = alt;
    parent.appendChild(icon);
}


var wait;
function loadSQL(type, index)
{
    if(wait == true)
        return;

    if(type == 0)
    {
        sqlar = differencesql;
    }
    else if(type == 1)
    {
        sqlar = createsql;
    }
    else if(type == 2)
    {
        sqlar = dropsql;
    }
    else if(type == 3)
    {
        sqlar = identsql;
    }

    wait = true;
    var textArray;
    try
    {
        CurrentSelectedRow.style.background = "#FFFFFF";
    }
    catch(x)
    {}

    if(index > sqlar.length - 2)
    {
        textArray = sqlar[0];
    }
    else
    {
        textArray = sqlar[index + 1];
    }

    // Clear current comparison
    try
    {
        if(trsql.hasChildNodes() == true)
        {
            for(var p = trsql.childNodes.length - 1; p >= 0; p--)
            {   

                if (navigator.appName == "Microsoft Internet Explorer")
                {
                    trsql.childNodes[p].style.display = "none";
                }
                else
                {
                    trsql.removeChild(trsql.childNodes[p]);
                }
            }
        }
    }
    catch(x)
    {
    }

    if(type == 0)
    {
        CurrentSelectedRow = difftable.rows[index];
        CurrentSelectedRow.style.background = "#fbef6b";
    }
    else if(type == 1)
    {
        CurrentSelectedRow = createtable.rows[index];
        CurrentSelectedRow.style.background = "#fbef6b";
    }
    else if(type == 2)
    {
        CurrentSelectedRow = droptable.rows[index];
        CurrentSelectedRow.style.background = "#fbef6b";
    }
    else if(type == 3)
    {
        CurrentSelectedRow = identtable.rows[index];
        CurrentSelectedRow.style.background = "#fbef6b";
    }


    if (navigator.appName == "Microsoft Internet Explorer")
    {
        if(Cache[type][index] != null )
        {
            Cache[type][index].style.display = "inline";
            Cache[type][index].top = 0;
            Cache[type][index].left = 0;
            wait = false;
            return;
        }
    }

    // Show database object names in sqldivtitlebar header
    setSqlScriptHeader();

    if (!sql_header_icons.hasChildNodes()) 
    {
        createHtmlImage("sql_header_icon", "leftdatabase32.gif", "Left database", sql_header_icons);
        createHtmlImage("sql_header_icon", "rightarrow16.gif", "Right arrow", sql_header_icons);
        createHtmlImage("sql_header_icon", "rightdatabase32.gif", "Right database", sql_header_icons);
    }
    
    tablebod = document.createElement("TBODY");

    if (navigator.appName == "Microsoft Internet Explorer")
    {

        Cache[type][index] = tablebod;
    }

    // Iterate over lines of text
    for(var j = 0; j < textArray.length; j++)
    {
        currentRow = document.createElement("TR");
        currentLine = textArray[j];
    
        if(currentLine[0] == 0)
        {
            // Lines are the same
            var tokens = currentLine[1].split(" ");
            currentCell = document.createElement("TD");
            
            for(var k = 0; k < tokens.length; k++)
            {
                word = tokens[k];

                if(isReservedWord(word) == true)
                {
                    fontnode = document.createElement("FONT");
                    fontnode.color = "#0000FF";
                    textnode = document.createTextNode(word + " ");
                    fontnode.appendChild(textnode);
                    currentCell.appendChild(fontnode);
                }
                else
                {
                    childnode = document.createTextNode(word + " ");
                    currentCell.appendChild(childnode);
                }
            }
            currentRow.appendChild(currentCell);

            currentCell = document.createElement("TD");
            currentCell.className = "MidDiffCell";
            childnode = document.createTextNode("&nbsp;");
            currentRow.appendChild(currentCell);
    

            currentCell = document.createElement("TD");

            
            for(var k = 0; k < tokens.length; k++)
            {
                word = tokens[k];

                if(isReservedWord(word) == true)
                {
                    fontnode = document.createElement("FONT");
                    fontnode.color = "#0000FF";
                    textnode = document.createTextNode(word + " ");
                    fontnode.appendChild(textnode);
                    currentCell.appendChild(fontnode);
                }
                else
                {
                    childnode = document.createTextNode(word + " ");
                    currentCell.appendChild(childnode);
                }
            }
            currentRow.appendChild(currentCell);
    
            
        }
        else if(currentLine[0] == 1)
        {
            // Lines are the same
            var tokens = currentLine[1].split(" ");
            var othertokens = currentLine[2].split(" ");
            
            currentCell = document.createElement("TD");
    
            for(var k = 0; k < tokens.length; k++)
            {
                word = tokens[k];
                otherword = othertokens[k];
                if(word == otherword)
                {
                    if(isReservedWord(word) == true)
                    {
                        fontnode = document.createElement("SPAN");
                        fontnode.style.color = "#0000FF";
                        textnode = document.createTextNode(word + " ");
                        fontnode.appendChild(textnode);
                        currentCell.appendChild(fontnode);
                    }
                    else
                    {
                        childnode = document.createTextNode(word + " ");
                        currentCell.appendChild(childnode);
                    }
                }
                else
                {
                    fontnode = document.createElement("SPAN");
                    fontnode.style.background = "#FBEF6B";
                    textnode = document.createTextNode(word + " ");
                    fontnode.appendChild(textnode);
                    currentCell.appendChild(fontnode);
                    if(isReservedWord(word) == true)
                    {
                        fontnode.style.color = "#0000FF";
                    }
                }
            }
            currentRow.appendChild(currentCell);

            currentCell = document.createElement("TD");
            currentCell.className = "MidDiffCell";
            imageNode = document.createElement("IMG");
            setupImage(imageNode, "RightArrow16.gif");
            imageNode.height = imageNode.width = 16;
            currentCell.appendChild(imageNode);
            currentRow.appendChild(currentCell);
    

            var tokens = currentLine[2].split(" ");
            var othertokens = currentLine[1].split(" ");

            currentCell = document.createElement("TD");
            
            for(var k = 0; k < tokens.length; k++)
            {
                word = tokens[k];
                otherword = othertokens[k];
                if(word == otherword)
                {
                    if(isReservedWord(word) == true)
                    {
                        fontnode = document.createElement("SPAN");
                        fontnode.style.color = "#0000FF";
                        textnode = document.createTextNode(word + " ");
                        fontnode.appendChild(textnode);
                        currentCell.appendChild(fontnode);
                    }
                    else
                    {
                        childnode = document.createTextNode(word + " ");
                        currentCell.appendChild(childnode);
                    }
                }
                else
                {
                    fontnode = document.createElement("SPAN");
                    fontnode.style.background = "#FBEF6B";
                    textnode = document.createTextNode(word + " ");
                    fontnode.appendChild(textnode);
                    currentCell.appendChild(fontnode);

                    if(isReservedWord(word) == true)
                    {
                        fontnode.style.color = "#0000FF";
                    }
                }
            }
            currentRow.appendChild(currentCell);

        }

        tablebod.appendChild(currentRow);
    }

    trsql.appendChild(tablebod);

    doLayout();
    wait = false;
}

function swapImage(barname)
{
    if(barname == "diff")
    {
        if(difftable.style.display == 'none')
        {
            setupImage(differenceexpandbuttonimage, "Contract32.gif");
            difftable.style.display = 'block';
        }
        else
        {
            setupImage(differenceexpandbuttonimage, "Expand32.gif");
            difftable.style.display = 'none';       
        }
        
        
        doLayout();
    }
    else if(barname == "create")
    {
        
        if(createtable.style.display == 'none')
        {
            setupImage(onlyhereexpandbuttonimage, "Contract32.gif");
            createtable.style.display = 'block';
        }
        else
        {
            setupImage(onlyhereexpandbuttonimage, "Expand32.gif");
            createtable.style.display = 'none';     
        }
        
        
        doLayout();
    }
    else if(barname == "drop")
    {
        
        if(droptable.style.display == 'none')
        {
            setupImage(dropexpandbuttonimage, "Contract32.gif");
            droptable.style.display = 'block';
        }
        else
        {
            setupImage(dropexpandbuttonimage, "Expand32.gif");
            droptable.style.display = 'none';       
        }
        
        
        doLayout();
    }
    else if(barname == "ident")
    {
        
        if(identtable.style.display == 'none')
        {
            setupImage(identexpandbuttonimage, "Contract32.gif");
            identtable.style.display = 'block';
        }
        else
        {
            setupImage(identexpandbuttonimage, "Expand32.gif");
            identtable.style.display = 'none';      
        }
        
        
        doLayout();
    }

    doLayout();


}

function getPageHeight()
{
    return document.body.clientHeight;
}

function updateImages() {

    setupImage(arrimg, "RightArrow48.gif");
    setupImage(dbimgimg, "LeftDatabase32.gif");
    setupImage(dbrimgimg, "RightDatabase32.gif");
    setupImage(difftitleimg, "wbgrad.gif");
    setupImage(differenceexpandbuttonimage, difftable.style.display === 'none' ? "Expand32.gif" : "Contract32.gif");
    setupImage(onlyhereexpandbuttonimage, createtable.style.display === 'none' ? "Expand32.gif" : "Contract32.gif");
    setupImage(dropexpandbuttonimage, droptable.style.display === 'none' ? "Expand32.gif" : "Contract32.gif");
    setupImage(identexpandbuttonimage, identtable.style.display === 'none' ? "Expand32.gif" : "Contract32.gif");
}

function createTables()
{
    updateImages();

    datetimetext = document.createTextNode("SQL Compare Report:" + timestamp);
    datetime.appendChild(datetimetext);

    if(includeidenticals != "true")
    {
        identtext.style.display = "none";
        identtab.style.display = "none";
        identtitlebar.style.display = "none";
        identexpandbutton.style.display = "none";
    }

    dbsvr.innerHTML = datasource1server+" ( "+datasource1type+" ) ";
    dbname.innerHTML = datasource1database;
    dbrsvr.innerHTML = datasource2server+" ( "+datasource2type+" ) ";
    dbrname.innerHTML = datasource2database;

    if(direction == "2to1")
    {
        // Swap colors of create a drop
        setupImage(onlyheretitlebarimg, "wpgradient.gif");
        setupImage(droptitlebarimg, "wggrad.gif");
        setupImage(arrimg, "LeftArrow48.gif"); 
    }
    else
    {
        setupImage(onlyheretitlebarimg, "wggrad.gif");
        setupImage(droptitlebarimg, "wpgradient.gif");
    }
    
    // Creates the drop down tables from the data segment
    // DIFFERENCE TABLE VARIABLE IS difftable

    // Difference TABLE 
    mytablebody = document.createElement("TBODY");
    for(j=0; j < differenceRows.length; j++) 
    {
            row=document.createElement("TR");

        row.index = j;
        row.onmouseover = function()
        {   
            var numDiffRows = difftable.rows.length;
            for(var i = 0; i < numDiffRows; i++)
            {
                if(difftable.rows[i] != CurrentSelectedRow)
                    difftable.rows[i].style.background="#FFFFFF";           
            }

            if(difftable.rows[this.index] != CurrentSelectedRow)
                difftable.rows[this.index].style.background="#fff9c5";
        };

        row.onmouseout = function()
        {
            var numDiffRows = difftable.rows.length;
            for(var i = 0; i < numDiffRows; i++)
            {
                if(difftable.rows[i] != CurrentSelectedRow)
                    difftable.rows[i].style.background="#FFFFFF";           
            }

        };

        row.onclick = function(){loadSQL(0, this.index);};
        row.className = "dataRow";

        typecell = document.createElement("TD");
        typecell.className = "TypeDataRow";

        typetext = getTextFromObjectID(differenceRows[j][0]);

        typetextnode = document.createTextNode(typetext);
        typecell.appendChild(typetextnode);
        row.appendChild(typecell);

        typeimagecell = document.createElement("TD");
        typeimagecell.className =  "TypeImageDataRow";
        typeimageimage = document.createElement("IMG");
        setupImage(typeimageimage, getImageFromObjectID(differenceRows[j][0]));
        typeimageimage.width = typeimageimage.height = 16;
        typeimagecell.appendChild(typeimageimage);
        row.appendChild(typeimagecell);

        llastmodifiedcell = document.createElement("TD");
        llastmodifiedcell.className =  "LLastModifiedDataRow";
        llastmodifiedtext = document.createTextNode(differenceRows[j][1]);
        llastmodifiedcell.appendChild(llastmodifiedtext);
        row.appendChild(llastmodifiedcell);

            lownerdatarowcell = document.createElement("TD");
        lownerdatarowcell.className =  "OwnerDataRow";
        lownerdatarowtext = document.createTextNode(differenceRows[j][2]);
        lownerdatarowcell.appendChild(lownerdatarowtext);
        row.appendChild(lownerdatarowcell);

        lobjnamecell = document.createElement("TD");
        lobjnamecell.className = "LObjNameDataRow";
        lobjnamecell.style["text-align"]="right";
        lobjnametext = document.createTextNode(differenceRows[j][3]);
        lobjnamecell.appendChild(lobjnametext);
        row.appendChild(lobjnamecell);

        inccell = document.createElement("TD");
        inccell.className =  "IncDataRow";
        inccell.style["text-align"]="center";
        inccellimg = document.createElement("IMG");
        setupImage(inccellimg, "NotEquals16.gif");
        inccellimg.height = inccellimg.width = 16;
        inccell.appendChild(inccellimg);
        row.appendChild(inccell);

        robjnamecell = document.createElement("TD");
        robjnamecell.className =  "RObjNameDataRow";
        robjnametext = document.createTextNode(differenceRows[j][4]);
        robjnamecell.appendChild(robjnametext);
        row.appendChild(robjnamecell);

            rownerdatarowcell = document.createElement("TD");
        rownerdatarowcell.className = "ROwnerDataRow";
        rownerdatarowtext = document.createTextNode(differenceRows[j][5]);
        rownerdatarowcell.appendChild(rownerdatarowtext);
        row.appendChild(rownerdatarowcell);

        rlastmodifiedcell = document.createElement("TD");
        rlastmodifiedcell.className =  "RLastModifiedDataRow";
        rlastmodifiedtext = document.createTextNode(differenceRows[j][6]);
        rlastmodifiedcell.appendChild(rlastmodifiedtext);
        row.appendChild(rlastmodifiedcell);

        mytablebody.appendChild(row);
    }
                        
    difftable.appendChild(mytablebody);

    mytablebody = document.createElement("TBODY");
    for(j=0; j < onlyInOneRows.length; j++) 
    {
            row=document.createElement("TR");

        row.index = j;
        row.onmouseover = function()
        {   
            var numDiffRows = createtable.rows.length;
            for(var i = 0; i < numDiffRows; i++)
            {
                if(createtable.rows[i] != CurrentSelectedRow)
                    createtable.rows[i].style.background="#FFFFFF";         
            }

            if(createtable.rows[this.index] != CurrentSelectedRow)
                createtable.rows[this.index].style.background="#fff9c5";
        };

        row.onmouseout = function()
        {
            var numDiffRows = createtable.rows.length;
            for(var i = 0; i < numDiffRows; i++)
            {
                if(createtable.rows[i] != CurrentSelectedRow)
                    createtable.rows[i].style.background="#FFFFFF";         
            }

        };

        row.onclick = function(){loadSQL(1, this.index);};
        row.className = "dataRow";

        typecell = document.createElement("TD");
        typecell.className = "TypeDataRow";

        typetext = getTextFromObjectID(onlyInOneRows[j][0]);

        typetextnode = document.createTextNode(typetext);
        typecell.appendChild(typetextnode);
        row.appendChild(typecell);

        typeimagecell = document.createElement("TD");
        typeimagecell.className =  "TypeImageDataRow";
        typeimageimage = document.createElement("IMG");
        setupImage(typeimageimage, getImageFromObjectID(onlyInOneRows[j][0]));
        typeimageimage.width = typeimageimage.height = 16;
        typeimagecell.appendChild(typeimageimage);
        row.appendChild(typeimagecell);

        llastmodifiedcell = document.createElement("TD");
        llastmodifiedcell.className =  "LLastModifiedDataRow";
        llastmodifiedtext = document.createTextNode(onlyInOneRows[j][1]);
        llastmodifiedcell.appendChild(llastmodifiedtext);
        row.appendChild(llastmodifiedcell);

            lownerdatarowcell = document.createElement("TD");
        lownerdatarowcell.className =  "OwnerDataRow";
        lownerdatarowtext = document.createTextNode(onlyInOneRows[j][2]);
        lownerdatarowcell.appendChild(lownerdatarowtext);
        row.appendChild(lownerdatarowcell);

        lobjnamecell = document.createElement("TD");
        lobjnamecell.className = "LObjNameDataRow";
        lobjnamecell.style["text-align"]="right";
        lobjnametext = document.createTextNode(onlyInOneRows[j][3]);
        lobjnamecell.appendChild(lobjnametext);
        row.appendChild(lobjnamecell);

        inccell = document.createElement("TD");
        inccell.className =  "IncDataRow";
        inccell.style["text-align"]="center";
        inccellimg = document.createElement("IMG");
        if(direction == "2to1")
        {
            setupImage(inccellimg, "drop.gif");
        }
        else
        {
            setupImage(inccellimg, "RightArrow16.gif");
        }
        inccell.appendChild(inccellimg);
        row.appendChild(inccell);

        robjnamecell = document.createElement("TD");
        robjnamecell.className =  "RObjNameDataRow";
        robjnametext = document.createTextNode(onlyInOneRows[j][4]);
        robjnamecell.appendChild(robjnametext);
        row.appendChild(robjnamecell);

            rownerdatarowcell = document.createElement("TD");
        rownerdatarowcell.className = "ROwnerDataRow";
        rownerdatarowtext = document.createTextNode(onlyInOneRows[j][5]);
        rownerdatarowcell.appendChild(rownerdatarowtext);
        row.appendChild(rownerdatarowcell);

        rlastmodifiedcell = document.createElement("TD");
        rlastmodifiedcell.className =  "RLastModifiedDataRow";
        rlastmodifiedtext = document.createTextNode(onlyInOneRows[j][6]);
        rlastmodifiedcell.appendChild(rlastmodifiedtext);
        row.appendChild(rlastmodifiedcell);

        mytablebody.appendChild(row);
    }

    createtable.appendChild(mytablebody);

    mytablebody = document.createElement("TBODY");
    for(j=0; j < onlyInTwoRows.length; j++) 
    {
            row=document.createElement("TR");

        row.index = j;
        row.onmouseover = function()
        {   
            var numDiffRows = droptable.rows.length;
            for(var i = 0; i < numDiffRows; i++)
            {
                if(droptable.rows[i] != CurrentSelectedRow)
                    droptable.rows[i].style.background="#FFFFFF";           
            }

            if(droptable.rows[this.index] != CurrentSelectedRow)
                droptable.rows[this.index].style.background="#fff9c5";
        };

        row.onmouseout = function()
        {
            var numDiffRows = droptable.rows.length;
            for(var i = 0; i < numDiffRows; i++)
            {
                if(droptable.rows[i] != CurrentSelectedRow)
                    droptable.rows[i].style.background="#FFFFFF";           
            }

        };

        row.onclick = function(){loadSQL(2, this.index);};
        row.className = "dataRow";

        typecell = document.createElement("TD");
        typecell.className = "TypeDataRow";

        typetext = getTextFromObjectID(onlyInTwoRows[j][0]);
        

        typetextnode = document.createTextNode(typetext);
        typecell.appendChild(typetextnode);
        row.appendChild(typecell);

        typeimagecell = document.createElement("TD");
        typeimagecell.className =  "TypeImageDataRow";
        typeimageimage = document.createElement("IMG");
        setupImage(typeimageimage, getImageFromObjectID(onlyInTwoRows[j][0]));
        typeimageimage.width = typeimageimage.height = 16;
        typeimagecell.appendChild(typeimageimage);
        row.appendChild(typeimagecell);

        llastmodifiedcell = document.createElement("TD");
        llastmodifiedcell.className =  "LLastModifiedDataRow";
        llastmodifiedtext = document.createTextNode(onlyInTwoRows[j][1]);
        llastmodifiedcell.appendChild(llastmodifiedtext);
        row.appendChild(llastmodifiedcell);

            lownerdatarowcell = document.createElement("TD");
        lownerdatarowcell.className =  "OwnerDataRow";
        lownerdatarowtext = document.createTextNode(onlyInTwoRows[j][2]);
        lownerdatarowcell.appendChild(lownerdatarowtext);
        row.appendChild(lownerdatarowcell);

        lobjnamecell = document.createElement("TD");
        lobjnamecell.className = "LObjNameDataRow";
        lobjnamecell.style["text-align"]="right";
        lobjnametext = document.createTextNode(onlyInTwoRows[j][3]);
        lobjnamecell.appendChild(lobjnametext);
        row.appendChild(lobjnamecell);

        inccell = document.createElement("TD");
        inccell.className =  "IncDataRow";
        inccell.style["text-align"]="center";
        inccellimg = document.createElement("IMG");
        if(direction == "2to1")
        {
            setupImage(inccellimg, "LeftArrow16.gif");
        }
        else
        {
            setupImage(inccellimg, "drop.gif");
        }
        
        inccell.appendChild(inccellimg);
        row.appendChild(inccell);

        robjnamecell = document.createElement("TD");
        robjnamecell.className =  "RObjNameDataRow";
        robjnametext = document.createTextNode(onlyInTwoRows[j][4]);
        robjnamecell.appendChild(robjnametext);
        row.appendChild(robjnamecell);

            rownerdatarowcell = document.createElement("TD");
        rownerdatarowcell.className = "ROwnerDataRow";
        rownerdatarowtext = document.createTextNode(onlyInTwoRows[j][5]);
        rownerdatarowcell.appendChild(rownerdatarowtext);
        row.appendChild(rownerdatarowcell);

        rlastmodifiedcell = document.createElement("TD");
        rlastmodifiedcell.className =  "RLastModifiedDataRow";
        rlastmodifiedtext = document.createTextNode(onlyInTwoRows[j][6]);
        rlastmodifiedcell.appendChild(rlastmodifiedtext);
        row.appendChild(rlastmodifiedcell);

        mytablebody.appendChild(row);
    }

    droptable.appendChild(mytablebody);

    mytablebody = document.createElement("TBODY");
    for(j=0; j < identRows.length; j++) 
    {
            row=document.createElement("TR");

        row.index = j;
        row.onmouseover = function()
        {   
            var numDiffRows = identtable.rows.length;
            for(var i = 0; i < numDiffRows; i++)
            {
                if(identtable.rows[i] != CurrentSelectedRow)
                    identtable.rows[i].style.background="#FFFFFF";          
            }

            if(identtable.rows[this.index] != CurrentSelectedRow)
                identtable.rows[this.index].style.background="#fff9c5";
        };

        row.onmouseout = function()
        {
            var numDiffRows = identtable.rows.length;
            for(var i = 0; i < numDiffRows; i++)
            {
                if(identtable.rows[i] != CurrentSelectedRow)
                    identtable.rows[i].style.background="#FFFFFF";          
            }

        };

        row.onclick = function(){loadSQL(3, this.index);};
        row.className = "dataRow";

        typecell = document.createElement("TD");
        typecell.className = "TypeDataRow";

        typetext = getTextFromObjectID(identRows[j][0]);

        typetextnode = document.createTextNode(typetext);
        typecell.appendChild(typetextnode);
        row.appendChild(typecell);

        typeimagecell = document.createElement("TD");
        typeimagecell.className =  "TypeImageDataRow";
        typeimageimage = document.createElement("IMG");
        setupImage(typeimageimage, getImageFromObjectID(identRows[j][0]));
        typeimageimage.width = typeimageimage.height = 16;
        typeimagecell.appendChild(typeimageimage);
        row.appendChild(typeimagecell);

        llastmodifiedcell = document.createElement("TD");
        llastmodifiedcell.className =  "LLastModifiedDataRow";
        llastmodifiedtext = document.createTextNode(identRows[j][1]);
        llastmodifiedcell.appendChild(llastmodifiedtext);
        row.appendChild(llastmodifiedcell);

            lownerdatarowcell = document.createElement("TD");
        lownerdatarowcell.className =  "OwnerDataRow";
        lownerdatarowtext = document.createTextNode(identRows[j][2]);
        lownerdatarowcell.appendChild(lownerdatarowtext);
        row.appendChild(lownerdatarowcell);

        lobjnamecell = document.createElement("TD");
        lobjnamecell.className = "LObjNameDataRow";
        lobjnamecell.style["text-align"]="right";
        lobjnametext = document.createTextNode(identRows[j][3]);
        lobjnamecell.appendChild(lobjnametext);
        row.appendChild(lobjnamecell);

        inccell = document.createElement("TD");
        inccell.className =  "IncDataRow";
        inccell.style["text-align"]="center";
        inccellimg = document.createElement("IMG");
        setupImage(inccellimg, "Equals.gif");
        inccell.appendChild(inccellimg);
        row.appendChild(inccell);

        robjnamecell = document.createElement("TD");
        robjnamecell.className =  "RObjNameDataRow";
        robjnametext = document.createTextNode(identRows[j][4]);
        robjnamecell.appendChild(robjnametext);
        row.appendChild(robjnamecell);

        rownerdatarowcell = document.createElement("TD");
        rownerdatarowcell.className = "ROwnerDataRow";
        rownerdatarowtext = document.createTextNode(identRows[j][5]);
        rownerdatarowcell.appendChild(rownerdatarowtext);
        row.appendChild(rownerdatarowcell);

        rlastmodifiedcell = document.createElement("TD");
        rlastmodifiedcell.className =  "RLastModifiedDataRow";
        rlastmodifiedtext = document.createTextNode(identRows[j][6]);
        rlastmodifiedcell.appendChild(rlastmodifiedtext);
        row.appendChild(rlastmodifiedcell);

        mytablebody.appendChild(row);
    }

    identtable.appendChild(mytablebody);

    setupImage(difftitleimg, "wbgrad.gif");
    setupImage(onlyheretitlebarimg, "wggrad.gif");
    setupImage(droptitlebarimg, "wpgradient.gif");
    setupImage(identtitlebarimg, "wggradient.gif");

}

function pageInit()
{
    createTables();
    doLayout();
    initPanels();
}

function initPanels() {
    var pageHeight = getPageHeight();
    var toppanelHeight = pageHeight - 350;
    var toppanelTop = parseInt(toppanel.style.top);
    var splitterTop = toppanelTop + toppanelHeight + 1;

    toppanel.style.height = toppanelHeight;

    splitter.style.top = splitterTop;

    var sqldivTop = splitterTop + parseInt(splitter.style.height) + 1

    sqldiv.style.top = sqldivTop;
    sqldiv.style.height = pageHeight - sqldivTop;

    sqlcontent.style.height = pageHeight - sqldivTop - parseInt(sqldivtitlebar.style.height);
}

function doLayout()
{
    var pageHeight = getPageHeight();
    var pageWidth = getPageWidth();
    var centrePoint = pageWidth/2;

    // Arrow Image
    arimg.style.left = centrePoint - 32;
    
    // Blue to white background
    dbbg.style.width = centrePoint-20;
    
    // white to red background
    dbrbg.style.left = centrePoint + 20;
    dbrbg.style.width = centrePoint-20;
    
    // left hand server name
    dbsvr.style.left = 0;
    dbsvr.style.width = centrePoint - 74;
    
    // left hand name
    dbname.style.left = 0;
    dbname.style.width = centrePoint - 74;
    
    // left hand server image
    dbimg.style.left = centrePoint - 74;
    
    // Right hand server name
    dbrsvr.style.left = centrePoint + 72;
    dbrsvr.style.width = centrePoint - 72;
    
    // Right hand database name
    dbrname.style.left = centrePoint + 72;
    dbrname.style.width = centrePoint - 72;
    
    // Right hand image
    dbrimg.style.left = centrePoint + 32;
    
    // Header table row
    typehdr.style.width = 136;
    llastmodifiedhdr.style.width = 180;
    lownerhdr.style.width = 180;
    lobjnamehdr.style.width = centrePoint - 530;
    inchdr.style.width = 70;
    robjnamehdr.style.width = centrePoint - 395;
    rownerhdr.style.width = 180;
    rlastmodifiedhdr.style.width = 180;

    differencetitlebar.style.top = 0;
    differenceexpandbutton.style.top = 9;
    
    // Text which appears in different header
    differenttext.style.top = 16;
    differenttext.style.left = 60;
    
    // Position of top of different table
    difftab.style.top = 50;
    
    // Used to compute offsets for other tabs
    var offset = 0;

    if(difftable.style.display == 'block')
    {
        var numDiffRows = difftable.rows.length;

        for(var i = 0; i < numDiffRows; i++)
        {
            offset = offset + difftable.rows[i].offsetHeight;

            difftable.rows[i].cells[0].style.width = 120;
            difftable.rows[i].cells[1].style.width = 16;
            difftable.rows[i].cells[2].style.width = 180;
            difftable.rows[i].cells[3].style.width = 180;

            // the magic number being subtracted = width[0] + width[1] + width[2] + width[3] + 0.5* width[5]
            difftable.rows[i].cells[4].style.width = centrePoint - 530;
            difftable.rows[i].cells[5].style.width = 70;

            // the magic number being subtracted = width[6] + width[7] + 0.5*width[5]
            difftable.rows[i].cells[6].style.width = centrePoint - 395;
            difftable.rows[i].cells[7].style.width = 180;
        }
    }

    onlyheretitlebar.style.top = 50 + offset;
    onlyhereexpandbutton.style.top = 59 + offset;
    
    // Text which appears in different header
    createtext.style.top = 66 + offset;
    createtext.style.left = 60;
    
    // Position of top of different table
    createtab.style.top = 100 + offset;
    
    // Used to compute offsets for other tabs

    if(createtable.style.display == 'block')
    {
        var numDiffRows = createtable.rows.length;

        for(var i = 0; i < numDiffRows; i++)
        {
            offset = offset + createtable.rows[i].offsetHeight;

            createtable.rows[i].cells[0].style.width = 120;
            createtable.rows[i].cells[1].style.width = 16;
            createtable.rows[i].cells[2].style.width = 180;
            createtable.rows[i].cells[3].style.width = 180;

            // the magic number being subtracted = width[0] + width[1] + width[2] + width[3] + 0.5* width[5]
            createtable.rows[i].cells[4].style.width = centrePoint - 530;
            createtable.rows[i].cells[5].style.width = 70;

            // the magic number being subtracted = width[6] + width[7] + 0.5*width[5]
            createtable.rows[i].cells[6].style.width = centrePoint - 395;
            createtable.rows[i].cells[7].style.width = 180;
        }
    }

    droptitlebar.style.top = 100 + offset;
    dropexpandbutton.style.top = 109 + offset;

    droptext.style.top = 116 + offset;
    droptext.style.left = 60;

    droptab.style.top = 150 + offset;

    if(droptable.style.display == 'block')
    {
        var numDiffRows = droptable.rows.length;

        for(var i = 0; i < numDiffRows; i++)
        {
            offset = offset + droptable.rows[i].offsetHeight;

            droptable.rows[i].cells[0].style.width = 120;
            droptable.rows[i].cells[1].style.width = 16;
            droptable.rows[i].cells[2].style.width = 180;
            droptable.rows[i].cells[3].style.width = 180;

            // the magic number being subtracted = width[0] + width[1] + width[2] + width[3] + 0.5* width[5]
            droptable.rows[i].cells[4].style.width = centrePoint - 530;
            droptable.rows[i].cells[5].style.width = 70;

            // the magic number being subtracted = width[6] + width[7] + 0.5*width[5]
            droptable.rows[i].cells[6].style.width = centrePoint - 395;
            droptable.rows[i].cells[7].style.width = 180;
        }
    }

    identtitlebar.style.top = 150 + offset;
    identexpandbutton.style.top = 159 + offset;

    identtext.style.top = 166 + offset;
    identtext.style.left = 60;
    
    identtab.style.top = 200 + offset;

    if(identtable.style.display == 'block')
    {
        var numDiffRows = identtable.rows.length;

        for(var i = 0; i < numDiffRows; i++)
        {
            identtable.rows[i].cells[0].style.width = 120;
            identtable.rows[i].cells[1].style.width = 16;
            identtable.rows[i].cells[2].style.width = 180;
            identtable.rows[i].cells[3].style.width = 180;

            // the magic number being subtracted = width[0] + width[1] + width[2] + width[3] + 0.5* width[5]
            identtable.rows[i].cells[4].style.width = centrePoint - 530;
            identtable.rows[i].cells[5].style.width = 70;

            // the magic number being subtracted = width[6] + width[7] + 0.5*width[5]
            identtable.rows[i].cells[6].style.width = centrePoint - 395;
            identtable.rows[i].cells[7].style.width = 180;
        }
    }
    
    
    for(var j = 0; j < trsql.rows.length; j++)
    {
        trsql.rows[j].cells[0].style.width = centrePoint - 10;
        trsql.rows[j].cells[1].style.width = 70;
        trsql.rows[j].cells[2].style.width = centrePoint - 35;
    }

    // IE is lazy and won't actually load a new image unless we poke it here while its visible
    updateImages();
}

function getTextFromObjectID(id)
{
    switch(id)
    {
        case 1:
            return "Table";
            break;
        case 2:
            return "Stored Procedure";
            break;
        case 3:
            return "View";
            break;
        case 4:
            return "Default";
            break;
        case 5:
            return "Full Text Catalog";
            break;
        case 6:
            return "User Defined Function";
            break;
        case 7:
            return "Role";
            break;
        case 8:
            return "Rule";
            break;
        case 9:
            return "User";
            break;
        case 10:
            return "User Defined Type";
            break;
        case 12:
            return "DDL Trigger";
            break;
        case 13:
            return "Assembly";
            break;
        case 14:
            return "Synonym";
            break;          
        case 15:
            return "XML Schema Collection";
            break;
        case 16:
            return "Message Type";
            break;
        case 17:
            return "Contract";
            break;
        case 18:
            return "Queue";
            break;
        case 19:
            return "Service";
            break;
        case 20:
            return "Route";
            break;
        case 21:
            return "Event Notification";
            break;
        case 22:
            return "Partition Scheme";
            break;
        case 23:
            return "Partition Function";
            break;
        case 26:
            return "Schema";
            break;
        case 27:
            return "Service Binding";
            break;
        case 28:
            return "Certificate";
            break;
        case 29:
            return "Symmetric Key";
            break;
        case 30:
            return "Asymmetric Key";
            break;
        case 31:
            return "Full Text Stoplist";
            break;
        case 32:
            return "Extended Property";
            break;
        case 33:
            return "Search Property List";
            break;        
        case 34:
            return "Sequence";
            break;
    }
}

function getImageFromObjectID(id)
{
    switch(id)
    {
        case 1:
            return "Tables.gif";
            break;
        case 2:
            return "StoredProcedures.gif";
            break;
        case 3:
            return "Views.gif";
            break;
        case 4:
            return "Defaults.gif";
            break;
        case 5:
            return "FullTextCatalogs.gif";
            break;
        case 6:
            return "UserDefinedFunctions.gif";
            break;
        case 7:
            return "Roles.gif";
            break;
        case 8:
            return "Rules.gif";
            break;
        case 9:
            return "Users.gif";
            break;
        case 10:
            return "UserDefinedTypes.gif";
            break;
        case 11:
            return "YukonDefault.gif";
            break;
        case 12:
            return "DdlTriggers.gif";
            break;
        case 13:
            return "Assemblies.gif";
            break;
        case 14:
            return "Synonyms.gif";
            break;          
        case 15:
            return "XmlSchemaCollections.gif";
            break;
        case 16:
            return "MessageTypes.gif";
            break;
        case 17:
            return "Contracts.gif";
            break;
        case 18:
            return "Queues.gif";
            break;
        case 19:
            return "Services.gif";
            break;
        case 20:
            return "Routes.gif";
            break;
        case 21:
            return "EventNotifications.gif";
            break;
        case 22:
            return "PartitionSchemes.gif";
            break;
        case 23:
            return "PartitionFunctions.gif";
            break;
        case 26:
            return "Schemas.gif";
            break;
        case 27:
            return "ServiceBindings.gif";
            break;
        case 28:
            return "Certificates.gif";
            break;
        case 29:
            return "SymmetricKeys.gif";
            break;
        case 30:
            return "AsymmetricKeys.gif";
            break;
        case 31:
            return "FullTextStoplists.gif";
            break;
        case 32:
            return "ExtendedProperties.gif";
            break;
        case 33:
            return "SearchPropertyLists.gif";
            break;
        case 34:
            return "Sequences.gif";
            break;
        case 99:
            return "YukonDefault.gif";
        break;
    }
}

var dragStart = -1;
var tmpOnselectstart;
var tmpOnmousedown;

function disableSelect() {
    tmpOnselectstart = document.onselectstart;
    tmpOnmousedown = document.onmousedown;
    document.onselectstart = function() { return false; } // ie
    document.onmousedown = function() { return false; } // mozilla
}

function reenableSelect() {
    	document.onselectstart = tmpOnselectstart;
    	document.onmousedown = tmpOnmousedown;
}

function startDrag(e) {
    disableSelect();
    document.body.style.cursor = 'n-resize';
    dragStart = e.screenY;
}

function stopDrag(e) {
    document.body.style.cursor = 'auto';
    dragStart = -1;
    reenableSelect();
}

function dragSqlDiv(e) {
    if (dragStart > -1) {

        var yDrag = e.screenY - dragStart;
        var toppanelTop = parseInt(toppanel.style.top);
        var splitterTop = parseInt(splitter.style.top);
        var pageHeight = getPageHeight();
        var sqldivtitlebarHeight = parseInt(sqldivtitlebar.style.height); // Use parseInt() to get rid of "px" ending
        var newSplitterTop = splitterTop + yDrag;
        var sqlDivTop = newSplitterTop + 5; // 3px (Splitter height) + 2px (Space between Splitter and SQLDiv) 

        if (newSplitterTop <= toppanelTop) {
            newSplitterTop = toppanelTop;
        }

        splitter.style.top = newSplitterTop;
        toppanel.style.height = newSplitterTop - toppanelTop - 1;
        sqldiv.style.top = sqlDivTop;
        sqldiv.style.height = pageHeight - sqlDivTop;
        sqlcontent.style.height = pageHeight - sqlDivTop - sqldivtitlebarHeight;

        dragStart = e.screenY;
    }
}

//-->
    
    
        </script><noscript><div style="position:absolute; left:0px; top:0px; width:100%; height:100%; z-index:20">Please enable javascript</div></noscript></head><body onLoad="pageInit()" onResize="doLayout()" style="padding: 0; margin: 0; overflow: hidden;" onmousemove="dragSqlDiv(event)" onmouseup="stopDrag(event)"><div id="datetime" class="DatabaseNameText" style="position:absolute; border-bottom: 1px solid #ebeadb;text-align:center; left:0px; top:0px; z-index:8; width:100%; height:24;"></div><div style="position:absolute;top:25;width:100%"><div id="arimg" class="ArrowImage"><img id="arrimg" src="images/RightArrow48.gif"></div><div id="dbbg" class="DBBack"></div><div id="dbrbg" class="DBBack"></div><div id="dbsvr" class="DatabaseNameText" style="position:absolute; top:8px; left:0px; width:44%; text-align:right"></div><div id="dbname" class="DatabaseNameText" style="position:absolute; font-weight:bold; top:30px; left:0px; width:44%; text-align:right"></div><div id="dbimg" class="DatabaseImage"><img id="dbimgimg" style="width:100%; height:100%" src="images/LeftDatabase32.gif"></div><div id="dbrsvr" class="DatabaseNameText" style="position:absolute; top:8px; left:55%; width:44%; text-align:left"></div><div id="dbrname" class="DatabaseNameText" style="position:absolute; font-weight:bold; top:30px; left:55%; width:44%; text-align:left"></div><div id="dbrimg" class="DatabaseImage"><img id="dbrimgimg" style="height:34px; width:32px" src="images/RightDatabase32.gif"></div><div id="titlebar" class="TitleBar"><table cellpadding="2" cellspacing="0" style="width:100%; height:20px;"><tr><td id="typehdr" class="TitleBarTable">Type</td><td id="llastmodifiedhdr" class="TitleBarTable">Last modified</td><td id="lownerhdr" class="TitleBarTable" style="text-align:right">Owner</td><td id="lobjnamehdr" style="text-align:right" class="TitleBarTable">Object Name</td><td id="inchdr" style="text-align:center" class="TitleBarTable">
    &nbsp;
    </td><td id="robjnamehdr" class="TitleBarTable">Object Name</td><td id="rownerhdr" class="TitleBarTable">Owner</td><td id="rlastmodifiedhdr" class="TitleBarTable">Last modified</td></tr></table></div></div><div id="toppanel" style="overflow: auto; top:95; width: 100%; position: absolute;"><div onClick="swapImage('diff')"><div id="differencetitlebar" class="DifferenceBar"><img id="difftitleimg" style="width:100%; height:100%" src="images/wbgrad.gif"></div><div id="differenceexpandbutton" class="icon"><img id="differenceexpandbuttonimage" style="width:100%;height:100%" src="images/Expand32.gif"></div><div id="differenttext" class="DifferentText">
    Different
    (133
        objects that exist in both but are different)
      </div></div><div id="difftab" class="DifferenceTable"><table class="dataTable" style="display:none;width:100%;" id="difftable" cellpadding="2" cellspacing="0"></table></div><div onClick="swapImage('create')"><div id="onlyheretitlebar" class="OnlyHereBar"><img id="onlyheretitlebarimg" style="width:100%; height:100%" src="images/wggrad.gif"></div><div id="onlyhereexpandbutton" class="OnlyHereIcon"><img style="width:100%;height:100%" id="onlyhereexpandbuttonimage" src="images/Expand32.gif"></div><div id="createtext" class="DifferentText">
    Create
    (875
        objects that exist only in
      DNN-LT14.
    DNN-9-1-1)
  </div></div><div id="createtab" class="DifferenceTable"><table class="dataTable" style="display:none;width:100%;" id="createtable" cellpadding="2" cellspacing="0"></table></div><div onClick="swapImage('drop')"><div id="droptitlebar" class="OnlyHereBar"><img id="droptitlebarimg" style="width:100%; height:100%" src="images/wpgradient.gif"></div><div id="dropexpandbutton" class="OnlyHereIcon"><img style="width:100%;height:100%" id="dropexpandbuttonimage" src="images/Expand32.gif"></div><div id="droptext" class="DifferentText">
    Drop
    (9
        objects that exist only in
      DNN-LT14.
    DNN.vNext)
  </div></div><div id="droptab" class="DifferenceTable"><table class="dataTable" style="display:none;width:100%;" id="droptable" cellpadding="2" cellspacing="0"></table></div><div onClick="swapImage('ident')"><div id="identtitlebar" class="OnlyHereBar"><img id="identtitlebarimg" style="width:100%; height:100%" src="images/wggradient.gif"></div><div id="identexpandbutton" class="OnlyHereIcon"><img style="width:100%;height:100%" id="identexpandbuttonimage" src="images/Expand32.gif"></div><div id="identtext" class="DifferentText">25 identical object
    s</div></div><div id="identtab" class="DifferenceTable"><table class="dataTable" style="display:none;width:100%;" id="identtable" cellpadding="2" cellspacing="0"></table></div></div><div id="splitter" style="position: absolute; width: 100%; height: 3; background-color: gray; cursor: n-resize;" onmousedown="startDrag(event)"></div><div id="sqldiv" style="position: absolute; width: 100%; height: 250; overflow: hidden;" class="SQLDiv"><div id="sqldivtitlebar" class="SQLViewTitleBar" style="height: 38px;"><div id="middle_aligner"></div><div id="sql_header_ltext" class="sql_header_element right_align"></div><div id="sql_header_icons" class="sql_header_element"></div><div id="sql_header_rtext" class="sql_header_element left_align"></div></div><div id="sqlcontent" style="position: relative; width: 100%; overflow: auto;"><div id="tr1sql" class="SQL" style="position:absolute; top:0; left:0;width:100%"><table id="trsql" class="SQL" width="100%"></table></div></div></div></body></html>