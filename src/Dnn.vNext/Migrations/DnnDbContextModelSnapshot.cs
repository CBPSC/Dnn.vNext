// <auto-generated />
using Dnn.vNext.Data;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage;
using Microsoft.EntityFrameworkCore.Storage.Internal;
using System;

namespace Dnn.vNext.Migrations
{
    [DbContext(typeof(DnnDbContext))]
    partial class DnnDbContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "2.0.1-rtm-125")
                .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

            modelBuilder.Entity("Dnn.vNext.Data.AnonymousUser", b =>
                {
                    b.Property<string>("UserId")
                        .HasColumnType("char(36)")
                        .HasMaxLength(36);

                    b.Property<int>("PortalId");

                    b.Property<DateTime>("CreationDate")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValueSql("getdate()");

                    b.Property<DateTime>("LastActiveDate")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValueSql("getdate()");

                    b.Property<int>("TabId");

                    b.HasKey("UserId", "PortalId");

                    b.HasIndex("PortalId");

                    b.ToTable("AnonymousUsers");
                });

            modelBuilder.Entity("Dnn.vNext.Data.aspnet_Application", b =>
                {
                    b.Property<Guid>("ApplicationId")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValueSql("newId()");

                    b.Property<string>("ApplicationName")
                        .IsRequired()
                        .HasMaxLength(256);

                    b.Property<string>("Description")
                        .HasMaxLength(256);

                    b.Property<string>("LoweredApplicationName")
                        .IsRequired()
                        .HasMaxLength(256);

                    b.HasKey("ApplicationId");

                    b.ToTable("aspnet_Applications");
                });

            modelBuilder.Entity("Dnn.vNext.Data.aspnet_Membership", b =>
                {
                    b.Property<Guid>("UserId")
                        .ValueGeneratedOnAdd();

                    b.Property<Guid>("ApplicationId");

                    b.Property<string>("Comment");

                    b.Property<DateTime>("CreateDate");

                    b.Property<string>("Email");

                    b.Property<int>("FailedPasswordAnswerAttemptCount");

                    b.Property<DateTime>("FailedPasswordAnswerAttemptWindow");

                    b.Property<int>("FailedPasswordAttemptCount");

                    b.Property<DateTime>("FailedPasswordWindowStart");

                    b.Property<bool>("IsApproved");

                    b.Property<bool>("IsLockedOut");

                    b.Property<DateTime>("LastLockoutDate");

                    b.Property<DateTime>("LastLoginDate");

                    b.Property<DateTime>("LastPasswordChangedDate");

                    b.Property<string>("LoweredEmail");

                    b.Property<string>("MobilePIN");

                    b.Property<string>("Password");

                    b.Property<string>("PasswordAnswer");

                    b.Property<int>("PasswordFormat");

                    b.Property<string>("PasswordQuestion");

                    b.Property<string>("PasswordSalt");

                    b.HasKey("UserId");

                    b.HasIndex("ApplicationId");

                    b.ToTable("aspnet_Membership");
                });

            modelBuilder.Entity("Dnn.vNext.Data.aspnet_SchemaVersion", b =>
                {
                    b.Property<string>("Feature")
                        .HasMaxLength(125);

                    b.Property<string>("CompatibleSchemaVersion")
                        .HasMaxLength(128);

                    b.Property<bool>("IsCurrentVersion");

                    b.HasKey("Feature", "CompatibleSchemaVersion");

                    b.HasAlternateKey("CompatibleSchemaVersion", "Feature");

                    b.ToTable("aspnet_SchemaVersions");
                });

            modelBuilder.Entity("Dnn.vNext.Data.aspnet_User", b =>
                {
                    b.Property<Guid>("UserId")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValueSql("newId()");

                    b.Property<Guid>("ApplicationId");

                    b.Property<bool>("IsAnonymous")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(false);

                    b.Property<DateTime>("LastActivityDate");

                    b.Property<string>("LoweredUserName")
                        .IsRequired()
                        .HasMaxLength(256);

                    b.Property<string>("MobileAlias")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValueSql("null")
                        .HasMaxLength(16);

                    b.Property<string>("UserName")
                        .IsRequired()
                        .HasMaxLength(256);

                    b.HasKey("UserId");

                    b.HasIndex("ApplicationId", "LastActivityDate")
                        .HasAnnotation("SqlServer:Clustered", false);

                    b.HasIndex("ApplicationId", "LoweredUserName")
                        .HasAnnotation("SqlServer:Clustered", true);

                    b.ToTable("aspnet_Users");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Assembly", b =>
                {
                    b.Property<int>("AssemblyId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("AssemblyName")
                        .IsRequired()
                        .HasMaxLength(250);

                    b.Property<int?>("PackageId");

                    b.Property<string>("Version")
                        .IsRequired()
                        .HasMaxLength(20);

                    b.HasKey("AssemblyId");

                    b.HasIndex("PackageId");

                    b.ToTable("Assemblies");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Authentication", b =>
                {
                    b.Property<int>("AuthenticationId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("AuthenticationType")
                        .IsRequired()
                        .HasMaxLength(100);

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<bool>("IsEnabled")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(false);

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("LoginControlSrc")
                        .IsRequired()
                        .HasMaxLength(250);

                    b.Property<string>("LogoffControlSrc")
                        .IsRequired()
                        .HasMaxLength(250);

                    b.Property<int>("PackageId")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(-1);

                    b.Property<string>("SettignsControlSrc")
                        .IsRequired()
                        .HasMaxLength(250);

                    b.HasKey("AuthenticationId");

                    b.HasIndex("PackageId");

                    b.ToTable("Authentication");
                });

            modelBuilder.Entity("Dnn.vNext.Data.CKE_Setting", b =>
                {
                    b.Property<string>("SettingName")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(300);

                    b.Property<string>("SettingValue");

                    b.HasKey("SettingName");

                    b.ToTable("CKE_Settings");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Content_Type", b =>
                {
                    b.Property<int>("ContentTypeId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("ContentType");

                    b.HasKey("ContentTypeId");

                    b.ToTable("ContentTypes");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentItem", b =>
                {
                    b.Property<int>("ContentItemId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("Content");

                    b.Property<string>("ContentKey")
                        .HasMaxLength(250);

                    b.Property<int>("ContentTypeId");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<bool>("Indexed")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(false);

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("ModuleId");

                    b.Property<int?>("StateId");

                    b.Property<int>("TabId");

                    b.HasKey("ContentItemId");

                    b.HasIndex("ContentTypeId");

                    b.HasIndex("StateId");

                    b.HasIndex("TabId")
                        .HasAnnotation("SqlServer:Clustered", false);

                    b.ToTable("ContentItems");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentItems_MetaData", b =>
                {
                    b.Property<int>("ContentItemMetaDataId")
                        .ValueGeneratedOnAdd();

                    b.Property<int>("ContentItemId");

                    b.Property<int>("MetaDataId");

                    b.Property<string>("MetaDataValue");

                    b.HasKey("ContentItemMetaDataId");

                    b.HasIndex("ContentItemId");

                    b.HasIndex("MetaDataId");

                    b.ToTable("ContentItems_MetaData");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentItems_Tag", b =>
                {
                    b.Property<int>("ContentItemTagId")
                        .ValueGeneratedOnAdd();

                    b.Property<int>("ContentItemId");

                    b.Property<int>("TermId");

                    b.HasKey("ContentItemTagId");

                    b.HasIndex("TermId");

                    b.HasIndex("ContentItemId", "TermId")
                        .IsUnique();

                    b.ToTable("ContentItems_Tags");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentWorkflow", b =>
                {
                    b.Property<int>("WorkflowId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("Content_TypeContentTypeId");

                    b.Property<string>("Description")
                        .HasMaxLength(256);

                    b.Property<bool>("DispositionEnabled")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(false);

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(false);

                    b.Property<bool>("IsSystem")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(false);

                    b.Property<int?>("PortalId");

                    b.Property<bool>("StartAfterCreating")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(true);

                    b.Property<bool>("StartAfterEditing")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(true);

                    b.Property<string>("WorkflowKey")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasDefaultValueSql("''")
                        .HasMaxLength(40);

                    b.Property<string>("WorkflowName")
                        .IsRequired()
                        .HasMaxLength(40);

                    b.HasKey("WorkflowId");

                    b.HasIndex("Content_TypeContentTypeId");

                    b.HasIndex("PortalId", "WorkflowName")
                        .IsUnique()
                        .HasFilter("[PortalId] IS NOT NULL");

                    b.ToTable("ContentWorkflows");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentWorkflowAction", b =>
                {
                    b.Property<int>("ActionId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("ActionSource");

                    b.Property<string>("ActionType");

                    b.Property<int>("ContentTypeId");

                    b.Property<int?>("ContentWorkflowActionActionId");

                    b.HasKey("ActionId");

                    b.HasIndex("ContentWorkflowActionActionId");

                    b.ToTable("ContentWorkflowActions");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentWorkflowLog", b =>
                {
                    b.Property<int>("WorkflowLogId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("Action")
                        .IsRequired()
                        .HasMaxLength(40);

                    b.Property<string>("Comment")
                        .IsRequired();

                    b.Property<int>("ContentItemId");

                    b.Property<DateTime>("Date");

                    b.Property<int>("Type")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(-1);

                    b.Property<int>("User");

                    b.Property<int>("WorkflowId");

                    b.HasKey("WorkflowLogId");

                    b.HasIndex("ContentItemId");

                    b.HasIndex("WorkflowId");

                    b.ToTable("ContentWorkflowLogs");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentWorkflowSource", b =>
                {
                    b.Property<int>("SourceId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("SourceName")
                        .IsRequired()
                        .HasMaxLength(20);

                    b.Property<string>("SourceType")
                        .IsRequired()
                        .HasMaxLength(250);

                    b.Property<int>("WorkflowId");

                    b.HasKey("SourceId");

                    b.HasIndex("WorkflowId", "SourceName")
                        .IsUnique();

                    b.ToTable("ContentWorkflowSources");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentWorkflowState", b =>
                {
                    b.Property<int>("StateId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(true);

                    b.Property<bool>("IsDisposalState")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(false);

                    b.Property<bool>("IsSystem")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(false);

                    b.Property<string>("OnCompleteMessageBody")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasDefaultValueSql("''")
                        .HasMaxLength(1024);

                    b.Property<string>("OnCompleteMessageSubject")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasDefaultValueSql("''")
                        .HasMaxLength(256);

                    b.Property<string>("OnDiscardMessageBody")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasDefaultValueSql("''")
                        .HasMaxLength(1024);

                    b.Property<string>("OnDiscardMessageSubject")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasDefaultValueSql("''")
                        .HasMaxLength(256);

                    b.Property<int>("Order");

                    b.Property<bool>("SendEmail")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(false);

                    b.Property<bool>("SendMessage")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(false);

                    b.Property<bool>("SendNotification")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(true);

                    b.Property<bool>("SendNotificationToAdministrators")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(true);

                    b.Property<string>("StateName")
                        .IsRequired()
                        .HasMaxLength(40);

                    b.Property<int>("WorkflowId");

                    b.HasKey("StateId");

                    b.HasIndex("WorkflowId", "StateName")
                        .IsUnique();

                    b.ToTable("ContentWorkflowStates");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentWorkflowStatePermission", b =>
                {
                    b.Property<int>("WorkflowStatePermissionId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("AllowAccess");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PermissionId");

                    b.Property<int?>("RoleId");

                    b.Property<int>("StateId");

                    b.Property<int?>("UserId");

                    b.HasKey("WorkflowStatePermissionId");

                    b.HasIndex("PermissionId");

                    b.HasIndex("UserId");

                    b.HasIndex("StateId", "PermissionId", "RoleId", "UserId")
                        .IsUnique()
                        .HasFilter("[RoleId] IS NOT NULL AND [UserId] IS NOT NULL");

                    b.ToTable("ContentWorkflowStatePermission");
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_Message", b =>
                {
                    b.Property<int>("MessageId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("Body");

                    b.Property<string>("Context")
                        .HasMaxLength(200);

                    b.Property<int?>("ConversationId");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<DateTime?>("ExpirationDate");

                    b.Property<string>("From")
                        .HasMaxLength(200);

                    b.Property<bool?>("IncludeDismissAction");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int?>("NotificationTypeId");

                    b.Property<int?>("PortalId");

                    b.Property<bool?>("ReplyAllAllowed");

                    b.Property<int?>("SenderUserId");

                    b.Property<string>("Subject")
                        .HasMaxLength(400);

                    b.Property<string>("To")
                        .HasMaxLength(2000);

                    b.HasKey("MessageId");

                    b.HasIndex("NotificationTypeId");

                    b.HasIndex("MessageId", "PortalId", "NotificationTypeId", "ExpirationDate")
                        .IsUnique()
                        .HasFilter("[PortalId] IS NOT NULL AND [NotificationTypeId] IS NOT NULL AND [ExpirationDate] IS NOT NULL");

                    b.ToTable("CoreMessaging_Messages");
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_MessageAttachment", b =>
                {
                    b.Property<int>("MessageAttachmentId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("FileId");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("MessageId");

                    b.HasKey("MessageAttachmentId");

                    b.HasIndex("MessageId");

                    b.ToTable("CoreMessaging_MessageAttachments");
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_MessagingRecipient", b =>
                {
                    b.Property<int>("RecipientId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("Archived");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<Guid?>("EmailSchedulerInstance");

                    b.Property<bool>("EmailSent");

                    b.Property<DateTime?>("EmailSentDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("MessageId");

                    b.Property<bool>("Read");

                    b.Property<bool>("SendToast");

                    b.Property<int>("UserId");

                    b.HasKey("RecipientId");

                    b.HasIndex("MessageId");

                    b.ToTable("CoreMessaging_MessageRecipients");
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_NotificationType", b =>
                {
                    b.Property<int>("NotificationTypeId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("Description")
                        .HasMaxLength(2000);

                    b.Property<int?>("DesktopModuleId");

                    b.Property<bool>("IsTask")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(false);

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100);

                    b.Property<int?>("TTL");

                    b.HasKey("NotificationTypeId");

                    b.HasIndex("DesktopModuleId");

                    b.HasIndex("Name")
                        .IsUnique();

                    b.ToTable("CoreMessaging_NotificationTypes");
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_NotificationTypeAction", b =>
                {
                    b.Property<int>("NotificationTypeActionId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("APICall")
                        .IsRequired()
                        .HasMaxLength(500);

                    b.Property<string>("ConfirmRescourceKey")
                        .HasMaxLength(100);

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("DescriptionResourceKey")
                        .HasMaxLength(100);

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("NameResourceKey")
                        .IsRequired()
                        .HasMaxLength(100);

                    b.Property<int>("NotificationTypeId");

                    b.Property<int>("Order");

                    b.HasKey("NotificationTypeActionId");

                    b.HasIndex("NotificationTypeId");

                    b.ToTable("CoreMessaging_NotificationTypeActions");
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_Subscription", b =>
                {
                    b.Property<int>("SubscriptionId")
                        .ValueGeneratedOnAdd();

                    b.Property<DateTime>("CreatedOnDate");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(255);

                    b.Property<int?>("ModuleId");

                    b.Property<string>("ObjectData");

                    b.Property<string>("ObjectKey")
                        .HasMaxLength(255);

                    b.Property<int?>("PortalId");

                    b.Property<int>("SubscriptionTypeId");

                    b.Property<int?>("TabId");

                    b.Property<int>("UserId");

                    b.HasKey("SubscriptionId");

                    b.HasIndex("ModuleId");

                    b.HasIndex("PortalId");

                    b.HasIndex("SubscriptionTypeId");

                    b.HasIndex("UserId");

                    b.ToTable("CoreMessaging_Subscriptions");
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_SubscriptionType", b =>
                {
                    b.Property<int>("SubscriptionTypeId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("DesktopModuleId");

                    b.Property<string>("FriendlyName")
                        .IsRequired()
                        .HasMaxLength(50);

                    b.Property<string>("SubscriptionName")
                        .IsRequired()
                        .HasMaxLength(50);

                    b.HasKey("SubscriptionTypeId");

                    b.HasIndex("SubscriptionName")
                        .IsUnique();

                    b.ToTable("CoreMessaging_SubscriptionTypes");
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_UserPreference", b =>
                {
                    b.Property<int>("UserPreferenceId")
                        .ValueGeneratedOnAdd();

                    b.Property<int>("MessagesEmailFrequency");

                    b.Property<int>("NotificationsEmailFrequency");

                    b.Property<int>("PortalId");

                    b.Property<int>("UserId");

                    b.HasKey("UserPreferenceId");

                    b.ToTable("CoreMessaging_UserPreferences");
                });

            modelBuilder.Entity("Dnn.vNext.Data.DesktopModule", b =>
                {
                    b.Property<int>("DesktopModuleId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("AdminPage")
                        .HasMaxLength(128);

                    b.Property<string>("BusinessControllerClass")
                        .HasMaxLength(200);

                    b.Property<string>("CompatibleVersions")
                        .HasMaxLength(500);

                    b.Property<int>("ContentItemId")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(-1);

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("Dependencies")
                        .HasMaxLength(400);

                    b.Property<string>("Description")
                        .HasMaxLength(2000);

                    b.Property<string>("FolderName")
                        .IsRequired()
                        .HasMaxLength(128);

                    b.Property<string>("FriendlyName")
                        .IsRequired()
                        .HasMaxLength(128);

                    b.Property<string>("HostPage")
                        .HasMaxLength(128);

                    b.Property<bool>("IsAdmin");

                    b.Property<bool>("IsPremium");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("ModuleName")
                        .IsRequired()
                        .HasMaxLength(128);

                    b.Property<int>("PackageId")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(-1);

                    b.Property<string>("Permissions")
                        .HasMaxLength(400);

                    b.Property<int>("Shareable")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(0);

                    b.Property<int>("SupportedFeatures")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(0);

                    b.Property<string>("Version")
                        .HasMaxLength(8);

                    b.HasKey("DesktopModuleId");

                    b.HasIndex("PackageId");

                    b.ToTable("DesktopModules");
                });

            modelBuilder.Entity("Dnn.vNext.Data.DesktopModulePermission", b =>
                {
                    b.Property<int>("DesktopModulePermissionId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("AllowAccess");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PermissionId");

                    b.Property<int>("PortalDesktopModuleId");

                    b.Property<int?>("RoleId");

                    b.Property<int?>("UserId");

                    b.HasKey("DesktopModulePermissionId");

                    b.HasIndex("PermissionId");

                    b.HasIndex("RoleId")
                        .IsUnique()
                        .HasFilter("[RoleId] IS NOT NULL");

                    b.HasIndex("UserId")
                        .IsUnique()
                        .HasFilter("[UserId] IS NOT NULL");

                    b.HasIndex("PortalDesktopModuleId", "PermissionId", "RoleId", "UserId")
                        .IsUnique()
                        .HasFilter("[RoleId] IS NOT NULL AND [UserId] IS NOT NULL");

                    b.ToTable("DesktopModulePermission");
                });

            modelBuilder.Entity("Dnn.vNext.Data.EventLog", b =>
                {
                    b.Property<long>("LogEventId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("EventLogConfigId");

                    b.Property<string>("ExceptionHash")
                        .HasMaxLength(100);

                    b.Property<int>("LogConfigId");

                    b.Property<long?>("LogConfigLogEventId");

                    b.Property<DateTime>("LogCreateDate");

                    b.Property<string>("LogGuid")
                        .IsRequired()
                        .HasMaxLength(36);

                    b.Property<bool?>("LogNotificationPending");

                    b.Property<int?>("LogPortalId");

                    b.Property<string>("LogPortalName")
                        .HasMaxLength(100);

                    b.Property<string>("LogProperties")
                        .HasColumnType("xml");

                    b.Property<string>("LogServerName")
                        .IsRequired()
                        .HasMaxLength(50);

                    b.Property<string>("LogTypeKey")
                        .IsRequired()
                        .HasMaxLength(35);

                    b.Property<int?>("LogUserId");

                    b.Property<string>("LogUserName")
                        .HasMaxLength(50);

                    b.HasKey("LogEventId");

                    b.HasIndex("EventLogConfigId");

                    b.HasIndex("LogConfigLogEventId");

                    b.HasIndex("LogTypeKey");

                    b.ToTable("EventLog");
                });

            modelBuilder.Entity("Dnn.vNext.Data.EventLogConfig", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("EmailNotificaitonIsActive");

                    b.Property<int>("KeepMostRecent");

                    b.Property<string>("LogTypeKey")
                        .HasMaxLength(35);

                    b.Property<int>("LogTypePortalId");

                    b.Property<bool>("LoggingIsActive");

                    b.Property<string>("MailFromAddress")
                        .IsRequired()
                        .HasMaxLength(50);

                    b.Property<string>("MailToAddress")
                        .IsRequired()
                        .HasMaxLength(50);

                    b.Property<int?>("NotificationThreshold");

                    b.Property<int?>("NotificationThresholdTime");

                    b.Property<int?>("NotificationThresholdTimeType");

                    b.HasKey("Id");

                    b.HasIndex("LogTypeKey", "LogTypePortalId")
                        .IsUnique()
                        .HasFilter("[LogTypeKey] IS NOT NULL");

                    b.ToTable("EventLogConfig");
                });

            modelBuilder.Entity("Dnn.vNext.Data.EventLogType", b =>
                {
                    b.Property<string>("LogTypeKey")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(35);

                    b.Property<string>("LogTypeCSSClass")
                        .IsRequired()
                        .HasMaxLength(40);

                    b.Property<string>("LogTypeDescription")
                        .IsRequired()
                        .HasMaxLength(128);

                    b.Property<string>("LogTypeFriendlyName")
                        .IsRequired()
                        .HasMaxLength(50);

                    b.Property<string>("LogTypeOwner")
                        .IsRequired()
                        .HasMaxLength(100);

                    b.HasKey("LogTypeKey");

                    b.ToTable("EventLogTypes");
                });

            modelBuilder.Entity("Dnn.vNext.Data.EventQueue", b =>
                {
                    b.Property<int>("EventMessageId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("Attributes");

                    b.Property<string>("AuthorizedRoles")
                        .IsRequired()
                        .HasMaxLength(250);

                    b.Property<string>("Body")
                        .IsRequired()
                        .HasMaxLength(250);

                    b.Property<string>("EventName")
                        .IsRequired()
                        .HasMaxLength(100);

                    b.Property<string>("ExceptionMessage")
                        .IsRequired()
                        .HasMaxLength(250);

                    b.Property<DateTime>("ExpirationDate");

                    b.Property<bool>("IsComplete");

                    b.Property<int>("Priority");

                    b.Property<string>("ProcessorCommand")
                        .IsRequired()
                        .HasMaxLength(250);

                    b.Property<string>("ProcessorType")
                        .IsRequired()
                        .HasMaxLength(250);

                    b.Property<string>("Sender")
                        .IsRequired()
                        .HasMaxLength(250);

                    b.Property<DateTime>("SentDate");

                    b.Property<string>("Subscriber")
                        .IsRequired()
                        .HasMaxLength(100);

                    b.HasKey("EventMessageId");

                    b.ToTable("EventQueue");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Exception", b =>
                {
                    b.Property<string>("ExceptionHash")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(100);

                    b.Property<string>("InnerMessage")
                        .HasMaxLength(500);

                    b.Property<string>("InnerStackTrace");

                    b.Property<string>("Message")
                        .IsRequired()
                        .HasMaxLength(500);

                    b.Property<string>("Source")
                        .HasMaxLength(500);

                    b.Property<string>("StackTrace");

                    b.HasKey("ExceptionHash");

                    b.ToTable("Exceptions");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ExceptionEvent", b =>
                {
                    b.Property<long>("LogEventId");

                    b.Property<string>("AssemblyVersion")
                        .IsRequired()
                        .HasMaxLength(20);

                    b.Property<int?>("PortalId");

                    b.Property<string>("RawURL")
                        .HasMaxLength(260);

                    b.Property<string>("Referrer")
                        .HasMaxLength(260);

                    b.Property<int?>("TabId");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(260);

                    b.Property<int?>("UserId");

                    b.HasKey("LogEventId");

                    b.ToTable("ExceptionEvents");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ExportImportCheckpoint", b =>
                {
                    b.Property<int>("CheckpointId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("AssemblyName")
                        .IsRequired()
                        .HasMaxLength(200);

                    b.Property<string>("Category")
                        .IsRequired()
                        .HasMaxLength(50);

                    b.Property<bool>("Completed")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(false);

                    b.Property<int>("JobId");

                    b.Property<DateTime?>("LastUpdatedDate");

                    b.Property<int>("ProcessedItems")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(0);

                    b.Property<int>("Progress");

                    b.Property<int>("Stage");

                    b.Property<string>("StageData");

                    b.Property<DateTime?>("StartDate");

                    b.Property<int>("TotalItems")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(0);

                    b.HasKey("CheckpointId");

                    b.HasIndex("Category");

                    b.HasIndex("JobId");

                    b.HasIndex("Category", "AssemblyName", "JobId")
                        .IsUnique();

                    b.ToTable("ExportImportCheckpoints");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ExportImportJob", b =>
                {
                    b.Property<int>("JobId")
                        .ValueGeneratedOnAdd();

                    b.Property<DateTime>("CompletedOnDate");

                    b.Property<int>("CreatedByUserId");

                    b.Property<DateTime>("CreatedOnDate");

                    b.Property<string>("Description");

                    b.Property<string>("Directory");

                    b.Property<bool>("IsCancelled");

                    b.Property<string>("JobObject");

                    b.Property<int>("JobStatus");

                    b.Property<int>("JobType");

                    b.Property<DateTime>("LastModifiedDate");

                    b.Property<string>("Name");

                    b.Property<int>("PortalId");

                    b.HasKey("JobId");

                    b.ToTable("ExportImportJobs");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ExportImportJobLog", b =>
                {
                    b.Property<int>("JobLogId")
                        .ValueGeneratedOnAdd();

                    b.Property<DateTime>("CreatedOnDate")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValueSql("getutcdate()");

                    b.Property<int>("JobId");

                    b.Property<int>("Level")
                        .ValueGeneratedOnAdd()
                        .HasDefaultValue(0);

                    b.Property<string>("Name")
                        .HasMaxLength(255);

                    b.Property<string>("Value")
                        .HasMaxLength(255);

                    b.HasKey("JobLogId");

                    b.HasIndex("JobId");

                    b.ToTable("ExportImportJobLogs");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ExportImportSetting", b =>
                {
                    b.Property<string>("SettingName")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<bool>("SettingIsSecure");

                    b.Property<string>("SettingValue");

                    b.HasKey("SettingName");

                    b.ToTable("ExportImportSettings");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ExtensionUrlProvIder", b =>
                {
                    b.Property<int>("ExtensionUrlProvIderId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("DekstopModuleId");

                    b.Property<bool>("IsActive");

                    b.Property<string>("ProvIderName");

                    b.Property<string>("ProvIderType");

                    b.Property<bool>("RedirectAllUrls");

                    b.Property<bool>("ReplaceAllUrls");

                    b.Property<bool>("RewriteAllUrls");

                    b.Property<string>("SettingsControlSrc");

                    b.HasKey("ExtensionUrlProvIderId");

                    b.ToTable("ExtensionUrlProvIders");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ExtensionUrlProvIderConfiguration", b =>
                {
                    b.Property<int>("ExtensionUrlProvIderId");

                    b.Property<int>("PortalId");

                    b.HasKey("ExtensionUrlProvIderId", "PortalId");

                    b.ToTable("ExtensionUrlProvIderConfiguration");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ExtensionUrlProvIderSetting", b =>
                {
                    b.Property<int>("ExtensionUrlProvIderId");

                    b.Property<int>("PortalId");

                    b.Property<string>("SettingName");

                    b.Property<string>("SettingValue");

                    b.HasKey("ExtensionUrlProvIderId", "PortalId", "SettingName");

                    b.ToTable("ExtensionUrlProvIderSetting");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ExtensionUrlProvIderTab", b =>
                {
                    b.Property<int>("ExtensionUrlProvIderId");

                    b.Property<int>("PortalId");

                    b.Property<int>("TabId");

                    b.Property<bool>("IsActive");

                    b.HasKey("ExtensionUrlProvIderId", "PortalId", "TabId");

                    b.ToTable("ExtensionUrlProvIderTab");
                });

            modelBuilder.Entity("Dnn.vNext.Data.File", b =>
                {
                    b.Property<int>("FileId")
                        .ValueGeneratedOnAdd();

                    b.Property<byte?>("Content");

                    b.Property<int?>("ContentItemId");

                    b.Property<string>("ContentType");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("Description");

                    b.Property<bool>("EnablePublishPeriod");

                    b.Property<DateTime>("EndDate");

                    b.Property<string>("Extension");

                    b.Property<string>("FileName");

                    b.Property<int>("FolderId");

                    b.Property<bool>("HasBeenPublished");

                    b.Property<int?>("Hieght");

                    b.Property<DateTime>("LastModificationTime");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int?>("PortalId");

                    b.Property<int>("PublishedVersion");

                    b.Property<string>("SHA1Hash");

                    b.Property<int>("Size");

                    b.Property<DateTime>("StartDate");

                    b.Property<string>("Title");

                    b.Property<Guid>("UniqueId");

                    b.Property<Guid>("VersionGuid");

                    b.Property<int?>("WIdth");

                    b.Property<string>("_Folder")
                        .HasColumnName("Folder");

                    b.HasKey("FileId");

                    b.HasIndex("ContentItemId");

                    b.HasIndex("FolderId");

                    b.HasIndex("PortalId");

                    b.ToTable("Files");
                });

            modelBuilder.Entity("Dnn.vNext.Data.FileVersion", b =>
                {
                    b.Property<int>("FileId");

                    b.Property<int>("Version");

                    b.Property<byte?>("Content");

                    b.Property<string>("ContentType");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("Extension");

                    b.Property<string>("FileName");

                    b.Property<int?>("Height");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("SHA1Hash");

                    b.Property<int>("Size");

                    b.Property<int?>("WIdth");

                    b.HasKey("FileId", "Version");

                    b.ToTable("FileVersions");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Folder", b =>
                {
                    b.Property<int>("FolderId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("ContentWorkflowStatePermissionWorkflowStatePermissionId");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int>("FolderMappingId");

                    b.Property<string>("FolderPath");

                    b.Property<bool>("IsCached");

                    b.Property<bool>("IsProtected");

                    b.Property<bool>("IsVersioned");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<DateTime>("LastUpdated");

                    b.Property<string>("MappedPath");

                    b.Property<int?>("ParentId");

                    b.Property<int?>("PortalId");

                    b.Property<int>("StorageLocation");

                    b.Property<Guid>("UniqueId");

                    b.Property<Guid>("VersionGuid");

                    b.Property<int?>("WorkflowId");

                    b.HasKey("FolderId");

                    b.HasIndex("ContentWorkflowStatePermissionWorkflowStatePermissionId");

                    b.HasIndex("FolderMappingId");

                    b.HasIndex("PortalId");

                    b.HasIndex("WorkflowId");

                    b.ToTable("Folders");
                });

            modelBuilder.Entity("Dnn.vNext.Data.FolderMapping", b =>
                {
                    b.Property<int>("FolderMappingId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("FolderProvIderType");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("MappingName");

                    b.Property<int?>("PortalId");

                    b.Property<int?>("Priority");

                    b.HasKey("FolderMappingId");

                    b.HasIndex("PortalId");

                    b.ToTable("FolderMappings");
                });

            modelBuilder.Entity("Dnn.vNext.Data.FolderMappingsSetting", b =>
                {
                    b.Property<int>("FolderMappingId");

                    b.Property<string>("SettingName");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("SettingValue");

                    b.HasKey("FolderMappingId", "SettingName");

                    b.ToTable("FolderMappingsSettings");
                });

            modelBuilder.Entity("Dnn.vNext.Data.FolderPermission", b =>
                {
                    b.Property<int>("FolderPermissionId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("AllowAccess");

                    b.Property<int?>("ContentWorkflowStatePermissionWorkflowStatePermissionId");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int>("FolderId");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PermissionId");

                    b.Property<int?>("RoleId");

                    b.Property<int?>("UserId");

                    b.HasKey("FolderPermissionId");

                    b.HasIndex("ContentWorkflowStatePermissionWorkflowStatePermissionId");

                    b.HasIndex("FolderId");

                    b.HasIndex("PermissionId");

                    b.HasIndex("RoleId");

                    b.HasIndex("UserId");

                    b.ToTable("FolderPermission");
                });

            modelBuilder.Entity("Dnn.vNext.Data.HostSetting", b =>
                {
                    b.Property<string>("SettingName")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<bool>("SettingIsSecure");

                    b.Property<string>("SettingValue");

                    b.HasKey("SettingName");

                    b.ToTable("HostSettings");
                });

            modelBuilder.Entity("Dnn.vNext.Data.HtmlText", b =>
                {
                    b.Property<int>("ModuleId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("Content");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<bool?>("IsPublished");

                    b.Property<int>("ItemId");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int?>("ModuleId1");

                    b.Property<int?>("StateId");

                    b.Property<string>("Summary");

                    b.Property<int?>("Version");

                    b.HasKey("ModuleId");

                    b.HasIndex("ModuleId1");

                    b.HasIndex("StateId");

                    b.ToTable("HtmlText");
                });

            modelBuilder.Entity("Dnn.vNext.Data.HtmlTextLog", b =>
                {
                    b.Property<int>("HtmlTextLogId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("Approved");

                    b.Property<string>("Comment");

                    b.Property<int>("CreatedByUserId");

                    b.Property<DateTime>("CreatedOnDate");

                    b.Property<int>("ItemId");

                    b.Property<int>("StateId");

                    b.HasKey("HtmlTextLogId");

                    b.HasIndex("ItemId");

                    b.HasIndex("StateId");

                    b.ToTable("HtmlTextLog");
                });

            modelBuilder.Entity("Dnn.vNext.Data.HtmlTextUser", b =>
                {
                    b.Property<int>("HtmlTextUserId")
                        .ValueGeneratedOnAdd();

                    b.Property<DateTime>("CreatedOnDate");

                    b.Property<int>("ItemId");

                    b.Property<int>("ModuleId");

                    b.Property<int>("StateId");

                    b.Property<int>("TabId");

                    b.Property<int>("UserId");

                    b.HasKey("HtmlTextUserId");

                    b.HasIndex("ItemId");

                    b.ToTable("HtmlTextUsers");
                });

            modelBuilder.Entity("Dnn.vNext.Data.IPFilter", b =>
                {
                    b.Property<int>("IPFilterId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("IPAddress");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int?>("RuleType");

                    b.Property<string>("SubnetMask");

                    b.HasKey("IPFilterId");

                    b.ToTable("IPFilter");
                });

            modelBuilder.Entity("Dnn.vNext.Data.JavascriptLibrary", b =>
                {
                    b.Property<int>("JavaScriptLibraryId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("CDNPath");

                    b.Property<string>("FileName");

                    b.Property<string>("LibraryName");

                    b.Property<string>("ObjectName");

                    b.Property<int>("PackageId");

                    b.Property<int>("PreferredScriptLocation");

                    b.Property<string>("Version");

                    b.HasKey("JavaScriptLibraryId");

                    b.HasIndex("PackageId");

                    b.ToTable("JavascriptLibraries");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Journal", b =>
                {
                    b.Property<int>("JournalId")
                        .ValueGeneratedOnAdd();

                    b.Property<Guid>("AccessKey");

                    b.Property<bool>("CommentsDisabled");

                    b.Property<bool>("CommentsHIdden");

                    b.Property<int?>("ContentItemId");

                    b.Property<DateTime>("DateCreated");

                    b.Property<DateTime>("DateUpdated");

                    b.Property<int>("GroupId");

                    b.Property<string>("ImageURL");

                    b.Property<bool>("IsDeleted");

                    b.Property<string>("ItemData");

                    b.Property<int>("JournalTypeId");

                    b.Property<string>("ObjectKey");

                    b.Property<int?>("PortalId");

                    b.Property<int>("ProfielId");

                    b.Property<string>("Summary");

                    b.Property<string>("Title");

                    b.Property<int?>("UserId");

                    b.HasKey("JournalId");

                    b.HasIndex("JournalTypeId");

                    b.ToTable("Journal");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Journal_Access", b =>
                {
                    b.Property<int>("JournalAccessId")
                        .ValueGeneratedOnAdd();

                    b.Property<Guid>("AccessKey");

                    b.Property<DateTime>("DateCreated");

                    b.Property<bool>("IsEnabled");

                    b.Property<int>("JournalTypeId");

                    b.Property<string>("Name");

                    b.Property<int>("PortalId");

                    b.HasKey("JournalAccessId");

                    b.ToTable("Journal_Access");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Journal_Comment", b =>
                {
                    b.Property<int>("CommentId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("Comment");

                    b.Property<string>("CommentXML")
                        .HasColumnType("xml");

                    b.Property<DateTime>("DateCreated");

                    b.Property<DateTime>("DateUpdated");

                    b.Property<int>("JournalId");

                    b.Property<int>("UserId");

                    b.HasKey("CommentId");

                    b.HasIndex("JournalId");

                    b.ToTable("Journal_Comments");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Journal_Data", b =>
                {
                    b.Property<int>("JournalDataId")
                        .ValueGeneratedOnAdd();

                    b.Property<int>("JournalId");

                    b.Property<string>("JournalXML")
                        .HasColumnType("xml");

                    b.HasKey("JournalDataId");

                    b.HasIndex("JournalId");

                    b.ToTable("Journal_Data");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Journal_Security", b =>
                {
                    b.Property<int>("JournalSecurityId")
                        .ValueGeneratedOnAdd();

                    b.Property<int>("JournalId");

                    b.Property<string>("SecurityKey");

                    b.HasKey("JournalSecurityId");

                    b.ToTable("Journal_Security");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Journal_Type", b =>
                {
                    b.Property<int>("JournalTypeId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("AppliesToGroup");

                    b.Property<bool>("AppliesToProfile");

                    b.Property<bool>("AppliesToStream");

                    b.Property<bool>("EnableComments");

                    b.Property<bool>("IsEnabled");

                    b.Property<string>("JournalType");

                    b.Property<string>("Options");

                    b.Property<int>("PortalId");

                    b.Property<bool>("SupportsNotify");

                    b.Property<string>("icon");

                    b.HasKey("JournalTypeId");

                    b.ToTable("Journal_Types");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Journal_TypeFilter", b =>
                {
                    b.Property<int>("JournalTypeFilerId")
                        .ValueGeneratedOnAdd();

                    b.Property<int>("JournalTypeId");

                    b.Property<int>("ModuleId");

                    b.Property<int>("PortalId");

                    b.HasKey("JournalTypeFilerId");

                    b.ToTable("Journal_TypeFilters");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Language", b =>
                {
                    b.Property<int>("LanguageId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("CultureCode");

                    b.Property<string>("CultureName");

                    b.Property<string>("FallbackCulture");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.HasKey("LanguageId");

                    b.ToTable("Languages");
                });

            modelBuilder.Entity("Dnn.vNext.Data.LanguagePack", b =>
                {
                    b.Property<int>("LanguagePackId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int>("DependentPackageId");

                    b.Property<int>("LanguageId");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PackageId");

                    b.HasKey("LanguagePackId");

                    b.HasIndex("PackageId");

                    b.ToTable("LanguagePacks");
                });

            modelBuilder.Entity("Dnn.vNext.Data.List", b =>
                {
                    b.Property<int>("EntryId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int>("DefinitionId");

                    b.Property<string>("Description");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("Level");

                    b.Property<string>("ListName");

                    b.Property<int>("ParentId");

                    b.Property<int>("PortalId");

                    b.Property<int>("SortOrder");

                    b.Property<bool>("SystemList");

                    b.Property<string>("Text");

                    b.Property<string>("Value");

                    b.HasKey("EntryId");

                    b.ToTable("Lists");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Messaging_Message", b =>
                {
                    b.Property<int>("MessageId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("AllowReply");

                    b.Property<string>("Body");

                    b.Property<Guid>("Conversation");

                    b.Property<DateTime>("Date");

                    b.Property<Guid?>("EmailSchedulerInstance");

                    b.Property<bool>("EmailSent");

                    b.Property<DateTime?>("EmailSentDate");

                    b.Property<int>("FromUserId");

                    b.Property<string>("FromUserName");

                    b.Property<int>("PortalId");

                    b.Property<int?>("ReplyTo");

                    b.Property<bool>("SkipPortal");

                    b.Property<int>("Status");

                    b.Property<string>("Subject");

                    b.Property<int>("ToRoleId");

                    b.Property<int>("ToUserId");

                    b.Property<string>("ToUserName");

                    b.HasKey("MessageId");

                    b.ToTable("Messaging_Messages");
                });

            modelBuilder.Entity("Dnn.vNext.Data.MetaData", b =>
                {
                    b.Property<int>("MetaDataId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("MetaDataDescription");

                    b.Property<string>("MetaDataName");

                    b.HasKey("MetaDataId");

                    b.ToTable("MetaData");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Mobile_PreviewProfile", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int>("Height");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("Name");

                    b.Property<int>("PortalId");

                    b.Property<int>("SortOrder");

                    b.Property<string>("UserAgent");

                    b.Property<int>("WIdth");

                    b.HasKey("Id");

                    b.HasIndex("PortalId");

                    b.ToTable("Mobile_PreviewProfiles");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Mobile_Redirection", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<bool>("Enabled");

                    b.Property<bool>("IncludeChildTabs");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("Name");

                    b.Property<int>("PortalId");

                    b.Property<int>("SortOrder");

                    b.Property<int>("SourceTabId");

                    b.Property<int>("TargetType");

                    b.Property<string>("TargetValue");

                    b.Property<int>("Type");

                    b.HasKey("Id");

                    b.HasIndex("PortalId");

                    b.ToTable("Mobile_Redirections");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Mobile_RedirectionRule", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("Capability");

                    b.Property<string>("Expression");

                    b.Property<int>("RedirectionId");

                    b.HasKey("Id");

                    b.HasIndex("RedirectionId");

                    b.ToTable("Mobile_RedirectionRules");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Module", b =>
                {
                    b.Property<int>("ModuleId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("AllTabs");

                    b.Property<int?>("ContentItemId");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<DateTime?>("EndDate");

                    b.Property<string>("Icon");

                    b.Property<bool?>("InheritViewPermissions");

                    b.Property<bool>("IsDeleted");

                    b.Property<bool?>("IsShareable");

                    b.Property<bool?>("IsShareableViewOnly");

                    b.Property<DateTime?>("LastContentModifiedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("ModuleDef");

                    b.Property<int>("ModuleDefId");

                    b.Property<string>("Name");

                    b.Property<string>("Path");

                    b.Property<int?>("PortalId");

                    b.Property<DateTime?>("StartDate");

                    b.HasKey("ModuleId");

                    b.HasIndex("ContentItemId");

                    b.HasIndex("ModuleDefId");

                    b.ToTable("Modules");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ModuleControl", b =>
                {
                    b.Property<int>("ModuleControlId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("ControlKey");

                    b.Property<string>("ControlSrc");

                    b.Property<string>("ControlTitle");

                    b.Property<int>("ControlType");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("HelpUrl");

                    b.Property<string>("IconFile");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("ModuleDefId");

                    b.Property<bool>("SupportPopUps");

                    b.Property<bool>("SupportsPartialRendering");

                    b.Property<int?>("ViewOrder");

                    b.HasKey("ModuleControlId");

                    b.HasIndex("ModuleDefId");

                    b.ToTable("ModuleControls");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ModuleDefinition", b =>
                {
                    b.Property<int>("ModuleDefId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int>("DefaultCacheTime");

                    b.Property<string>("DefinitionName");

                    b.Property<int>("DesktopModuleId");

                    b.Property<string>("FriendlyName");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.HasKey("ModuleDefId");

                    b.HasIndex("DesktopModuleId");

                    b.ToTable("ModuleDefinitions");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ModulePermission", b =>
                {
                    b.Property<int>("ModulePermissionId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("AllowAccess");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("ModuleId");

                    b.Property<int>("PermissionId");

                    b.Property<int>("PortalId");

                    b.Property<int?>("RoleId");

                    b.Property<int?>("UserId");

                    b.HasKey("ModulePermissionId");

                    b.HasIndex("ModuleId");

                    b.HasIndex("PermissionId");

                    b.HasIndex("RoleId");

                    b.HasIndex("UserId");

                    b.ToTable("ModulePermission");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ModuleSetting", b =>
                {
                    b.Property<int>("ModuleId");

                    b.Property<string>("SettingName");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.HasKey("ModuleId", "SettingName");

                    b.ToTable("ModuleSettings");
                });

            modelBuilder.Entity("Dnn.vNext.Data.OutputCache", b =>
                {
                    b.Property<string>("CacheKey")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("Data");

                    b.Property<DateTime>("Expiration");

                    b.Property<int>("ItemId");

                    b.HasKey("CacheKey");

                    b.ToTable("OutputCache");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Package", b =>
                {
                    b.Property<int>("PackageId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("Description");

                    b.Property<string>("Email");

                    b.Property<string>("FolderName");

                    b.Property<string>("FriendlyName");

                    b.Property<string>("IconFile");

                    b.Property<bool>("IsSystemPackage");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("License");

                    b.Property<string>("Manifest");

                    b.Property<string>("Name");

                    b.Property<string>("Organization");

                    b.Property<string>("Owner");

                    b.Property<string>("PackageType");

                    b.Property<int?>("PortalId");

                    b.Property<string>("ReleaseNotes");

                    b.Property<string>("Url");

                    b.Property<string>("Version");

                    b.HasKey("PackageId");

                    b.HasIndex("PackageType")
                        .IsUnique()
                        .HasFilter("[PackageType] IS NOT NULL");

                    b.ToTable("Packages");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Package_Type", b =>
                {
                    b.Property<string>("PackageType")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("Descrption");

                    b.Property<string>("EditorControlSrc");

                    b.Property<int>("SecurityAccessLevel");

                    b.Property<bool>("SupportsSIdeBySIdeInstallation");

                    b.HasKey("PackageType");

                    b.ToTable("PackageType");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PackageDependency", b =>
                {
                    b.Property<int>("PackageDependencyId")
                        .ValueGeneratedOnAdd();

                    b.Property<int>("PackageId");

                    b.Property<string>("PackageName");

                    b.Property<string>("Version");

                    b.HasKey("PackageDependencyId");

                    b.HasIndex("PackageId");

                    b.ToTable("PackageDependencies");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PasswordHistory", b =>
                {
                    b.Property<int>("PasswordHistoryId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("Password");

                    b.Property<string>("PasswordSalt");

                    b.Property<int>("UserId");

                    b.HasKey("PasswordHistoryId");

                    b.HasIndex("UserId");

                    b.ToTable("PasswordHistory");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Permission", b =>
                {
                    b.Property<int>("PermissionId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("ModuleDefId");

                    b.Property<string>("PermissionCode");

                    b.Property<string>("PermissionKey");

                    b.Property<string>("PermissionName");

                    b.Property<int>("ViewOrder");

                    b.HasKey("PermissionId");

                    b.ToTable("Permission");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PersonaBarExtension", b =>
                {
                    b.Property<int>("ExtensionId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("Container");

                    b.Property<string>("Controller");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<bool>("Enabled");

                    b.Property<string>("FolderName");

                    b.Property<string>("Identifier");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("MenuId");

                    b.Property<int>("Order");

                    b.Property<string>("Path");

                    b.HasKey("ExtensionId");

                    b.HasIndex("MenuId");

                    b.ToTable("PersonaBarExtensions");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PersonaBarMenu", b =>
                {
                    b.Property<int>("MenuId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("AllowHost");

                    b.Property<string>("Controller");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("CssClass");

                    b.Property<bool>("Enabled");

                    b.Property<string>("FolderName");

                    b.Property<string>("Identifier");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("Link");

                    b.Property<string>("ModuleName");

                    b.Property<int>("Order");

                    b.Property<int?>("ParentId");

                    b.Property<string>("Path");

                    b.Property<string>("ResourceKey");

                    b.HasKey("MenuId");

                    b.HasIndex("ParentId");

                    b.ToTable("PersonaBarMenu");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PersonaBarMenuDefaultPermission", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<int>("MenuId");

                    b.Property<string>("RoleNames");

                    b.HasKey("Id");

                    b.HasIndex("MenuId")
                        .IsUnique();

                    b.ToTable("PersonaBarMenuDefaultPermissions");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PersonaBarMenuPermission", b =>
                {
                    b.Property<int>("MenuPermissionId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("AllowAccess");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("MenuId");

                    b.Property<int>("PermissionId");

                    b.Property<int>("PortalId");

                    b.Property<int?>("RoleId");

                    b.Property<int?>("UserId");

                    b.HasKey("MenuPermissionId");

                    b.HasIndex("MenuId");

                    b.HasIndex("PermissionId");

                    b.HasIndex("PortalId");

                    b.HasIndex("RoleId");

                    b.HasIndex("UserId");

                    b.ToTable("PersonaBarMenuPermission");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PersonaBarPermission", b =>
                {
                    b.Property<int>("PermissionId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int?>("MenuId");

                    b.Property<string>("PermissionKey");

                    b.Property<string>("PermissionName");

                    b.Property<int>("ViewOrder");

                    b.HasKey("PermissionId");

                    b.HasIndex("MenuId");

                    b.ToTable("PersonaBarPermission");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Portal", b =>
                {
                    b.Property<int>("PortalId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("AdministratorId");

                    b.Property<int?>("AdministratorRoleId");

                    b.Property<int>("BannerAdvertising");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("Currency");

                    b.Property<string>("DefaultLanguage");

                    b.Property<DateTime?>("ExpiryDate");

                    b.Property<Guid>("Guid");

                    b.Property<string>("HomeDirectory");

                    b.Property<decimal>("HostFee");

                    b.Property<int>("HostSpace");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PageQuota");

                    b.Property<string>("PaymentProcessor");

                    b.Property<string>("ProcessorPassword");

                    b.Property<string>("ProcessorUserId");

                    b.Property<int?>("RegisteredRoleId");

                    b.Property<int?>("SiteLogHistory");

                    b.Property<int>("TimezoneOffset");

                    b.Property<int>("UserQuota");

                    b.Property<int>("UserRegistration");

                    b.HasKey("PortalId");

                    b.ToTable("Portals");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PortalAlias", b =>
                {
                    b.Property<int>("PortalAliasId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("BrowserType");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("CulturCode");

                    b.Property<string>("HTTPAlias");

                    b.Property<bool>("IsPrimary");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PortalId");

                    b.Property<string>("Skin");

                    b.HasKey("PortalAliasId");

                    b.HasIndex("PortalId");

                    b.ToTable("PortalAlias");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PortalDesktopModule", b =>
                {
                    b.Property<int>("PortalDesktopModuleId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int>("DesktopModuleId");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PortalId");

                    b.HasKey("PortalDesktopModuleId");

                    b.HasIndex("DesktopModuleId");

                    b.HasIndex("PortalId");

                    b.ToTable("PortalDesktopModules");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PortalGroup", b =>
                {
                    b.Property<int>("ProtalGroupId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("AuthenticationDomain");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int?>("MasterPortalId");

                    b.Property<string>("PortalGroupDescription");

                    b.Property<string>("PortalGroupName");

                    b.HasKey("ProtalGroupId");

                    b.ToTable("PortalGroups");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PortalLanguage", b =>
                {
                    b.Property<int>("PortalLanguageId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<bool>("IsPublished");

                    b.Property<int>("LanguageId");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PortalId");

                    b.HasKey("PortalLanguageId");

                    b.HasIndex("LanguageId");

                    b.HasIndex("PortalId");

                    b.ToTable("PortalLanguages");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PortalLocalization", b =>
                {
                    b.Property<int>("PortalId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("AdminTabId");

                    b.Property<string>("BackgroundFile");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("CultureCode");

                    b.Property<string>("Description");

                    b.Property<string>("FooterText");

                    b.Property<int?>("HomeTabId");

                    b.Property<string>("KeyWords");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int?>("LoginTabId");

                    b.Property<string>("LogoFile");

                    b.Property<int?>("PortalId1");

                    b.Property<string>("PortalName");

                    b.Property<int?>("SplashTabId");

                    b.Property<int?>("UserTabId");

                    b.HasKey("PortalId");

                    b.HasIndex("PortalId1");

                    b.ToTable("PortalLocalization");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PortalSetting", b =>
                {
                    b.Property<int>("PortalSettingId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("CultureCode");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PortalId");

                    b.Property<string>("SettingName");

                    b.Property<string>("SettingValue");

                    b.HasKey("PortalSettingId");

                    b.HasIndex("PortalId");

                    b.ToTable("PortalSettings");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Profile", b =>
                {
                    b.Property<int>("ProfileId")
                        .ValueGeneratedOnAdd();

                    b.Property<DateTime>("CreatedDate");

                    b.Property<int>("PortalId");

                    b.Property<string>("ProfileData");

                    b.Property<int>("UserId");

                    b.HasKey("ProfileId");

                    b.HasIndex("PortalId");

                    b.HasIndex("UserId");

                    b.ToTable("Profile");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ProfilePropertyDefinition", b =>
                {
                    b.Property<int>("PropertyDefinitionId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int>("DataType");

                    b.Property<string>("DefaultValue");

                    b.Property<int?>("DefaultVisibility");

                    b.Property<bool>("Deleted");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("Length");

                    b.Property<int?>("ModuleDefId");

                    b.Property<int?>("PortalId");

                    b.Property<string>("PropertyCategory");

                    b.Property<string>("PropertyName");

                    b.Property<bool>("ReadOnly");

                    b.Property<bool>("Required");

                    b.Property<string>("ValIdationExpression");

                    b.Property<int>("ViewOrder");

                    b.Property<bool>("Visible");

                    b.HasKey("PropertyDefinitionId");

                    b.HasIndex("PortalId");

                    b.ToTable("ProfilePropertyDefinition");
                });

            modelBuilder.Entity("Dnn.vNext.Data.RedirectMessage", b =>
                {
                    b.Property<Guid>("MessageId")
                        .ValueGeneratedOnAdd();

                    b.Property<DateTime>("CreatedOnDate");

                    b.Property<string>("MessageText");

                    b.Property<int?>("TabId");

                    b.Property<int?>("UserId");

                    b.HasKey("MessageId");

                    b.ToTable("RedirectMessages");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Relationship", b =>
                {
                    b.Property<int>("RelationshipId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int>("DefaultResponse");

                    b.Property<string>("Description");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("Name");

                    b.Property<int?>("PortalId");

                    b.Property<int>("RelationshipTypeId");

                    b.Property<int?>("UserId");

                    b.HasKey("RelationshipId");

                    b.HasIndex("PortalId");

                    b.HasIndex("RelationshipTypeId");

                    b.HasIndex("UserId");

                    b.ToTable("Relationships");
                });

            modelBuilder.Entity("Dnn.vNext.Data.RelationshipType", b =>
                {
                    b.Property<int>("RelationshipTypeId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("Description");

                    b.Property<int>("Direction");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("Name");

                    b.HasKey("RelationshipTypeId");

                    b.ToTable("RelationshipTypes");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Role", b =>
                {
                    b.Property<int>("RoleId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("AutoAssignment");

                    b.Property<string>("BillingFrequency");

                    b.Property<int?>("BillingPeriod");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("Description");

                    b.Property<string>("IconFile");

                    b.Property<bool>("IsPublic");

                    b.Property<bool>("IsSystemRole");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int?>("PortalId");

                    b.Property<string>("RSVPCode");

                    b.Property<int?>("RoleGroupId");

                    b.Property<string>("RoleName");

                    b.Property<int>("SecurityMode");

                    b.Property<decimal>("ServiceFee");

                    b.Property<int>("Status");

                    b.Property<decimal?>("TrialFee");

                    b.Property<string>("TrialFrequency");

                    b.Property<int?>("TrialPeriod");

                    b.HasKey("RoleId");

                    b.HasIndex("PortalId");

                    b.HasIndex("RoleGroupId");

                    b.ToTable("Roles");
                });

            modelBuilder.Entity("Dnn.vNext.Data.RoleGroup", b =>
                {
                    b.Property<int>("RoleGroupId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("Description");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PortalId");

                    b.Property<string>("RoleGroupName");

                    b.HasKey("RoleGroupId");

                    b.HasIndex("PortalId");

                    b.ToTable("RoleGroups");
                });

            modelBuilder.Entity("Dnn.vNext.Data.RoleSetting", b =>
                {
                    b.Property<int>("RoleSettingId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("RoleId");

                    b.Property<string>("SettingName");

                    b.Property<string>("SettingValue");

                    b.HasKey("RoleSettingId");

                    b.ToTable("RoleSettings");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Schedule", b =>
                {
                    b.Property<int>("ScheduleId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("AttachToEvent");

                    b.Property<bool>("CatchUpEnabled");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<bool>("Enabled");

                    b.Property<string>("FriendlyName");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("ObjectDependencies");

                    b.Property<int>("RetainHistoryNumber");

                    b.Property<int>("RetryTimeLapse");

                    b.Property<string>("RetryTimeLapseMeasurement");

                    b.Property<DateTime>("ScheduleStartDate");

                    b.Property<string>("Servers");

                    b.Property<int>("TimeLapse");

                    b.Property<string>("TimeLapseMeasurement");

                    b.Property<string>("TypeFullName");

                    b.HasKey("ScheduleId");

                    b.ToTable("Schedule");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ScheduleHistory", b =>
                {
                    b.Property<int>("ScheduleHistoryId")
                        .ValueGeneratedOnAdd();

                    b.Property<DateTime>("EndDate");

                    b.Property<string>("LogNotes");

                    b.Property<DateTime?>("NextStart");

                    b.Property<int>("ScheduleId");

                    b.Property<string>("Server");

                    b.Property<DateTime>("StartDate");

                    b.Property<bool?>("Succeeded");

                    b.HasKey("ScheduleHistoryId");

                    b.HasIndex("ScheduleId");

                    b.ToTable("ScheduleHistory");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ScheduleItemSetting", b =>
                {
                    b.Property<int>("ScheduleId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("ScheduleId1");

                    b.Property<string>("SettingName");

                    b.Property<string>("SettingValue");

                    b.HasKey("ScheduleId");

                    b.HasIndex("ScheduleId1");

                    b.ToTable("ScheduleItemSettings");
                });

            modelBuilder.Entity("Dnn.vNext.Data.SearchCommonWord", b =>
                {
                    b.Property<int>("CommonWordId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("CommonWord");

                    b.Property<string>("Locale");

                    b.HasKey("CommonWordId");

                    b.ToTable("SearchCommonWords");
                });

            modelBuilder.Entity("Dnn.vNext.Data.SearchDeletedItem", b =>
                {
                    b.Property<int>("SearchDeletedItemId")
                        .ValueGeneratedOnAdd();

                    b.Property<DateTime>("DateCreated");

                    b.Property<string>("Document");

                    b.HasKey("SearchDeletedItemId");

                    b.ToTable("SearchDeletedItems");
                });

            modelBuilder.Entity("Dnn.vNext.Data.SearchIndexer", b =>
                {
                    b.Property<int>("SearchIndexerId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("SearchIndexerAssemblyQualifiedName");

                    b.HasKey("SearchIndexerId");

                    b.ToTable("SearchIndexer");
                });

            modelBuilder.Entity("Dnn.vNext.Data.SearchStopWord", b =>
                {
                    b.Property<int>("StopWordsId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("CultureCode");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int?>("PortalId");

                    b.Property<string>("StopWords");

                    b.HasKey("StopWordsId");

                    b.ToTable("SearchStopWords");
                });

            modelBuilder.Entity("Dnn.vNext.Data.SearchType", b =>
                {
                    b.Property<int>("SearchTypeId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool?>("IsPrivate");

                    b.Property<string>("SearchResultClass");

                    b.Property<string>("SearchTypeName");

                    b.HasKey("SearchTypeId");

                    b.ToTable("SearchTypes");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Sitelog", b =>
                {
                    b.Property<int>("SiteLogId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("AffiliateId");

                    b.Property<DateTime>("DateTime");

                    b.Property<int>("PortalId");

                    b.Property<string>("Referrer");

                    b.Property<int?>("TabId");

                    b.Property<string>("Url");

                    b.Property<string>("UserAgent");

                    b.Property<string>("UserHostAddress");

                    b.Property<string>("UserHostName");

                    b.Property<int?>("UserId");

                    b.HasKey("SiteLogId");

                    b.HasIndex("PortalId");

                    b.ToTable("SiteLog");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Skin", b =>
                {
                    b.Property<int>("SkinId")
                        .ValueGeneratedOnAdd();

                    b.Property<int>("SkinPackageId");

                    b.Property<string>("SkinSrc");

                    b.HasKey("SkinId");

                    b.HasIndex("SkinPackageId");

                    b.ToTable("Skins");
                });

            modelBuilder.Entity("Dnn.vNext.Data.SkinControl", b =>
                {
                    b.Property<int>("SkinControlId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("ControlKey");

                    b.Property<string>("ControlSrc");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("HelpURL");

                    b.Property<string>("IconFile");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PackageId");

                    b.Property<bool>("SupportsPartialRendering");

                    b.HasKey("SkinControlId");

                    b.HasIndex("PackageId");

                    b.ToTable("SkinControls");
                });

            modelBuilder.Entity("Dnn.vNext.Data.SkinPackage", b =>
                {
                    b.Property<int>("SkinPackageId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PackageId");

                    b.Property<int?>("PortalId");

                    b.Property<string>("SkinName");

                    b.Property<string>("SkinType");

                    b.HasKey("SkinPackageId");

                    b.HasIndex("PackageId");

                    b.ToTable("SkinPackages");
                });

            modelBuilder.Entity("Dnn.vNext.Data.SQLQuery", b =>
                {
                    b.Property<int>("QueryId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("ConnectionStringName");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("Name");

                    b.Property<string>("Query");

                    b.HasKey("QueryId");

                    b.ToTable("SQLQueries");
                });

            modelBuilder.Entity("Dnn.vNext.Data.SynonymsGroup", b =>
                {
                    b.Property<int>("SynonymsGroupId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("CultureCode");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PortalId");

                    b.Property<string>("SynonymsTags");

                    b.HasKey("SynonymsGroupId");

                    b.ToTable("SynonymsGroups");
                });

            modelBuilder.Entity("Dnn.vNext.Data.SystemMessage", b =>
                {
                    b.Property<int>("MessageId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("MessageName");

                    b.Property<string>("MessageValue");

                    b.Property<int?>("PortalId");

                    b.HasKey("MessageId");

                    b.HasIndex("PortalId");

                    b.ToTable("SystemMessages");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Tab", b =>
                {
                    b.Property<int>("TabId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("ContainerSrc");

                    b.Property<int?>("ContentItemId");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("CultureCode");

                    b.Property<Guid>("DefaultLanguageGuid");

                    b.Property<string>("Description");

                    b.Property<bool>("DisableLink");

                    b.Property<DateTime?>("EndDate");

                    b.Property<bool>("HasBeenPublished");

                    b.Property<string>("IconFile");

                    b.Property<string>("IconFileLarge");

                    b.Property<bool>("IsDeleted");

                    b.Property<bool>("IsSecure");

                    b.Property<bool>("IsSystem");

                    b.Property<bool>("IsVisible");

                    b.Property<string>("Keywords");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("Level");

                    b.Property<Guid>("LocalizedVersionGuid");

                    b.Property<string>("Name");

                    b.Property<string>("PageHeadText");

                    b.Property<int?>("ParentId");

                    b.Property<bool>("PermanentRedirect");

                    b.Property<int?>("PortalId");

                    b.Property<int?>("RefreshInterval");

                    b.Property<float>("SiteMapPriority");

                    b.Property<string>("SkinSrc");

                    b.Property<DateTime?>("StartDate");

                    b.Property<string>("TabName");

                    b.Property<int>("TabOrder");

                    b.Property<string>("TabPath");

                    b.Property<string>("Title");

                    b.Property<Guid>("UniqueId");

                    b.Property<string>("Url");

                    b.Property<Guid>("VersionGuid");

                    b.HasKey("TabId");

                    b.HasIndex("ContentItemId");

                    b.HasIndex("ParentId");

                    b.HasIndex("PortalId");

                    b.ToTable("Tabs");
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabAliasSkin", b =>
                {
                    b.Property<int>("TabAliasSkinId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PortalAliasId");

                    b.Property<string>("SkinSrc");

                    b.Property<int>("TabId");

                    b.HasKey("TabAliasSkinId");

                    b.ToTable("TabAliasSkins");
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabModule", b =>
                {
                    b.Property<int>("TabModuleId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("Alignment");

                    b.Property<string>("Border");

                    b.Property<string>("CacheMethod");

                    b.Property<int>("CacheTime");

                    b.Property<string>("Color");

                    b.Property<string>("ContainerSrc");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("CultureCode");

                    b.Property<Guid>("DefaultLanguageGuid");

                    b.Property<int>("DisplayPrint");

                    b.Property<int>("DisplaySyndicate");

                    b.Property<int>("DisplayTitle");

                    b.Property<string>("ElementId");

                    b.Property<string>("Footer");

                    b.Property<string>("Header");

                    b.Property<string>("IconFile");

                    b.Property<int>("IsDeleted");

                    b.Property<int>("IsWebSlice");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<Guid>("LocalizedVersionGuid");

                    b.Property<int>("ModuleId");

                    b.Property<int>("ModuleOrder");

                    b.Property<string>("ModuleTitle");

                    b.Property<int>("Order");

                    b.Property<int>("PageId");

                    b.Property<string>("PaneName");

                    b.Property<int>("TabId");

                    b.Property<Guid>("UniqueId");

                    b.Property<Guid>("VersionGuid");

                    b.Property<int>("Visibility");

                    b.Property<DateTime?>("WebSliceExpiryDate");

                    b.Property<int?>("WebSliceTTL");

                    b.Property<string>("WebSliceTitle");

                    b.HasKey("TabModuleId");

                    b.HasIndex("ModuleId");

                    b.HasIndex("TabId");

                    b.ToTable("TabModules");
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabModuleSetting", b =>
                {
                    b.Property<int>("TabModuleId");

                    b.Property<string>("SettingName");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("SetttingValue");

                    b.HasKey("TabModuleId", "SettingName");

                    b.HasAlternateKey("SettingName", "TabModuleId");

                    b.ToTable("TabModuleSettings");
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabPermission", b =>
                {
                    b.Property<int>("TabPermissionId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("AllowAccess");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("PermissionId");

                    b.Property<int?>("RoleId");

                    b.Property<int>("TabId");

                    b.Property<int?>("UserId");

                    b.HasKey("TabPermissionId");

                    b.HasIndex("PermissionId");

                    b.HasIndex("RoleId");

                    b.HasIndex("TabId");

                    b.HasIndex("UserId");

                    b.ToTable("TabPermission");
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabSetting", b =>
                {
                    b.Property<int>("TabId");

                    b.Property<string>("SettingName");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("SettingValue");

                    b.HasKey("TabId", "SettingName");

                    b.HasAlternateKey("SettingName", "TabId");

                    b.ToTable("TabSettings");
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabUrl", b =>
                {
                    b.Property<int>("TabId");

                    b.Property<int>("SeqNum");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("CultureCode");

                    b.Property<string>("HttpStatus");

                    b.Property<bool>("IsSystem");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int?>("PortalAliasId");

                    b.Property<int?>("PortalAliasUsage");

                    b.Property<string>("QueryString");

                    b.Property<string>("Url");

                    b.HasKey("TabId", "SeqNum");

                    b.HasAlternateKey("SeqNum", "TabId");

                    b.ToTable("TabUrls");
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabVersion", b =>
                {
                    b.Property<int>("TabVersionId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<bool>("IsPublished");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("TabId");

                    b.Property<DateTime>("TimeStamp");

                    b.Property<int>("Version");

                    b.HasKey("TabVersionId");

                    b.HasIndex("TabId");

                    b.ToTable("TabVersions");
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabVersionDetail", b =>
                {
                    b.Property<int>("TabVersionDetailId")
                        .ValueGeneratedOnAdd();

                    b.Property<int>("Action");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("ModuleId");

                    b.Property<int>("ModuleOrder");

                    b.Property<int>("ModuleVersion");

                    b.Property<string>("PageName");

                    b.Property<int>("TabVersionId");

                    b.HasKey("TabVersionDetailId");

                    b.HasIndex("TabVersionId");

                    b.ToTable("TabVersionDetails");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Taxonomy_ScopeType", b =>
                {
                    b.Property<int>("ScopeTypeId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("ScopeType");

                    b.HasKey("ScopeTypeId");

                    b.ToTable("Taxonomy_ScopeTypes");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Taxonomy_Term", b =>
                {
                    b.Property<int>("TermId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("Description");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("Name");

                    b.Property<int>("ParentTermId");

                    b.Property<int>("TermLeft");

                    b.Property<int>("TermRight");

                    b.Property<int>("VocabularyId");

                    b.Property<int>("Weight");

                    b.HasKey("TermId");

                    b.HasIndex("ParentTermId");

                    b.HasIndex("VocabularyId");

                    b.ToTable("Taxonomy_Terms");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Taxonomy_Vocabulary", b =>
                {
                    b.Property<int>("VocabularyId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("Description");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("Name");

                    b.Property<int?>("ScopeId");

                    b.Property<int>("ScopeTypeId");

                    b.Property<int>("VocabularyTypeId");

                    b.Property<int>("Weight");

                    b.HasKey("VocabularyId");

                    b.HasIndex("ScopeTypeId");

                    b.HasIndex("VocabularyTypeId");

                    b.ToTable("Taxonomy_Vocabularies");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Taxonomy_VocabularyType", b =>
                {
                    b.Property<int>("VocabularyTypeId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("VocabularyType");

                    b.HasKey("VocabularyTypeId");

                    b.ToTable("Taxonomy_VocabularyTypes");
                });

            modelBuilder.Entity("Dnn.vNext.Data.UrlLog", b =>
                {
                    b.Property<int>("UrlLogId")
                        .ValueGeneratedOnAdd();

                    b.Property<DateTime>("ClickDate");

                    b.Property<int>("UrlTrackingId");

                    b.Property<int?>("UserId");

                    b.HasKey("UrlLogId");

                    b.HasIndex("UrlTrackingId");

                    b.ToTable("UrlLog");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Urls", b =>
                {
                    b.Property<int>("UrlId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("PortalId");

                    b.Property<string>("Url");

                    b.HasKey("UrlId");

                    b.HasIndex("PortalId");

                    b.ToTable("Urls");
                });

            modelBuilder.Entity("Dnn.vNext.Data.UrlTracking", b =>
                {
                    b.Property<int>("UrlTrackingId")
                        .ValueGeneratedOnAdd();

                    b.Property<int>("Clicks");

                    b.Property<DateTime>("CreatedDate");

                    b.Property<DateTime?>("LastClick");

                    b.Property<bool>("LogActivity");

                    b.Property<int?>("ModuleId");

                    b.Property<bool>("NewWindow");

                    b.Property<int?>("PortalId");

                    b.Property<bool>("TrackClicks");

                    b.Property<string>("Url");

                    b.Property<string>("UrlType");

                    b.HasKey("UrlTrackingId");

                    b.HasIndex("PortalId");

                    b.ToTable("UrlTracking");
                });

            modelBuilder.Entity("Dnn.vNext.Data.User", b =>
                {
                    b.Property<int>("UserId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("AffiliateId");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<string>("DisplayName");

                    b.Property<string>("Email");

                    b.Property<string>("FirstName");

                    b.Property<bool>("IsDeleted");

                    b.Property<bool>("IsSuperUser");

                    b.Property<string>("LastIPAddress");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<string>("LastName");

                    b.Property<string>("LowerEmail");

                    b.Property<DateTime?>("PasswordResetExpiration");

                    b.Property<Guid>("PasswordResetToken");

                    b.Property<bool>("UpdatePassword");

                    b.Property<string>("Username");

                    b.HasKey("UserId");

                    b.ToTable("Users");
                });

            modelBuilder.Entity("Dnn.vNext.Data.UserAuthentication", b =>
                {
                    b.Property<int>("UserAuthenticationId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("AuthenticaitonToken");

                    b.Property<string>("AuthenticationType");

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("UserId");

                    b.HasKey("UserAuthenticationId");

                    b.HasIndex("UserId");

                    b.ToTable("UserAuthentication");
                });

            modelBuilder.Entity("Dnn.vNext.Data.UserPortal", b =>
                {
                    b.Property<int>("UserId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("Authorized");

                    b.Property<DateTime>("CreatedDate");

                    b.Property<bool>("IsDeleted");

                    b.Property<int>("PortalId");

                    b.Property<bool>("RefreshRoles");

                    b.Property<int?>("UserId1");

                    b.Property<int>("UserPortalId");

                    b.Property<string>("VanityUrl");

                    b.HasKey("UserId");

                    b.HasIndex("PortalId");

                    b.HasIndex("UserId1");

                    b.ToTable("UserPortals");
                });

            modelBuilder.Entity("Dnn.vNext.Data.UserProfile", b =>
                {
                    b.Property<int>("ProfileId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("ExtendedVisibility");

                    b.Property<DateTime>("LastUpdatedDate");

                    b.Property<int>("ProfilePropertyDefinitionId");

                    b.Property<string>("PropertyText");

                    b.Property<string>("PropertyValue");

                    b.Property<int>("UserId");

                    b.Property<int>("Visibility");

                    b.HasKey("ProfileId");

                    b.HasIndex("ProfilePropertyDefinitionId");

                    b.HasIndex("UserId");

                    b.ToTable("UserProfile");
                });

            modelBuilder.Entity("Dnn.vNext.Data.UserRelationship", b =>
                {
                    b.Property<int>("UserRelationshipId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("RelatedUserId");

                    b.Property<int>("RelationshipId");

                    b.Property<int>("Status");

                    b.Property<int>("UserId");

                    b.HasKey("UserRelationshipId");

                    b.HasIndex("RelatedUserId");

                    b.HasIndex("RelationshipId");

                    b.HasIndex("UserId");

                    b.ToTable("UserRelationships");
                });

            modelBuilder.Entity("Dnn.vNext.Data.UserRelationshipPreference", b =>
                {
                    b.Property<int>("PreferenceId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<int>("DefaultResponse");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("RealtionshipId");

                    b.Property<int?>("RelationshipId");

                    b.Property<int>("UserId");

                    b.HasKey("PreferenceId");

                    b.HasIndex("RelationshipId");

                    b.HasIndex("UserId");

                    b.ToTable("UserRelationshipPreferences");
                });

            modelBuilder.Entity("Dnn.vNext.Data.UserRole", b =>
                {
                    b.Property<int>("UserRoleId")
                        .ValueGeneratedOnAdd();

                    b.Property<int?>("CreatedByUserId");

                    b.Property<DateTime?>("CreatedOnDate");

                    b.Property<DateTime?>("EffectiveDate");

                    b.Property<DateTime?>("ExpiryDate");

                    b.Property<bool>("IsOwner");

                    b.Property<bool?>("IsTrialUsed");

                    b.Property<int?>("LastModifiedByUserId");

                    b.Property<DateTime?>("LastModifiedOnDate");

                    b.Property<int>("RoleId");

                    b.Property<int>("Status");

                    b.Property<int>("UserId");

                    b.HasKey("UserRoleId");

                    b.HasIndex("RoleId");

                    b.HasIndex("UserId");

                    b.ToTable("UserRoles");
                });

            modelBuilder.Entity("Dnn.vNext.Data.UsersOnline", b =>
                {
                    b.Property<int>("UserId")
                        .ValueGeneratedOnAdd();

                    b.Property<DateTime>("CreationDate");

                    b.Property<DateTime>("LastActiveDate");

                    b.Property<int>("PortalId");

                    b.Property<int>("TabId");

                    b.Property<int?>("UserId1");

                    b.HasKey("UserId");

                    b.HasIndex("PortalId");

                    b.HasIndex("UserId1");

                    b.ToTable("UsersOnline");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Version", b =>
                {
                    b.Property<int>("VersionId")
                        .ValueGeneratedOnAdd();

                    b.Property<int>("Build");

                    b.Property<DateTime>("CreatedDate");

                    b.Property<int?>("Increment");

                    b.Property<int>("Major");

                    b.Property<int>("Minor");

                    b.Property<string>("Name");

                    b.HasKey("VersionId");

                    b.ToTable("Version");
                });

            modelBuilder.Entity("Dnn.vNext.Data.WebServer", b =>
                {
                    b.Property<int>("ServerId")
                        .ValueGeneratedOnAdd();

                    b.Property<DateTime>("CreatedDate");

                    b.Property<bool>("Enabled");

                    b.Property<string>("IISAppName");

                    b.Property<DateTime>("LastActivityDate");

                    b.Property<int>("PingFailureCount");

                    b.Property<string>("ServerGroup");

                    b.Property<string>("ServerName");

                    b.Property<string>("URL");

                    b.Property<string>("UniqueId");

                    b.HasKey("ServerId");

                    b.ToTable("WebServers");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Workflow", b =>
                {
                    b.Property<int>("WorkflowId")
                        .ValueGeneratedOnAdd();

                    b.Property<string>("Description");

                    b.Property<bool>("IsDeleted");

                    b.Property<int?>("PortalId");

                    b.Property<string>("WorkflowName");

                    b.HasKey("WorkflowId");

                    b.ToTable("Workflow");
                });

            modelBuilder.Entity("Dnn.vNext.Data.WorkflowState", b =>
                {
                    b.Property<int>("StateId")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("IsActive");

                    b.Property<bool>("Notify");

                    b.Property<bool>("Order");

                    b.Property<string>("StateName");

                    b.Property<int>("WorkflowId");

                    b.HasKey("StateId");

                    b.HasIndex("WorkflowId");

                    b.ToTable("WorkflowStates");
                });

            modelBuilder.Entity("Dnn.vNext.Data.AnonymousUser", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("AnonymousUser")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.aspnet_Membership", b =>
                {
                    b.HasOne("Dnn.vNext.Data.aspnet_Application", "Application")
                        .WithMany()
                        .HasForeignKey("ApplicationId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.aspnet_User", b =>
                {
                    b.HasOne("Dnn.vNext.Data.aspnet_Application", "Application")
                        .WithMany()
                        .HasForeignKey("ApplicationId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Assembly", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Package", "Package")
                        .WithMany("Assemblies")
                        .HasForeignKey("PackageId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Authentication", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Package", "Package")
                        .WithMany("Authentications")
                        .HasForeignKey("PackageId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentItem", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Content_Type", "ContentType")
                        .WithMany("ContentItems")
                        .HasForeignKey("ContentTypeId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.ContentWorkflowState", "State")
                        .WithMany("ContentItem")
                        .HasForeignKey("StateId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentItems_MetaData", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ContentItem", "ContentItem")
                        .WithMany("ContentItems_Meta")
                        .HasForeignKey("ContentItemId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.MetaData", "MetaData")
                        .WithMany("ContentItems_MetaData")
                        .HasForeignKey("MetaDataId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentItems_Tag", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ContentItem", "ContentItem")
                        .WithMany("ContentItems_Tag")
                        .HasForeignKey("ContentItemId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Taxonomy_Term", "Term")
                        .WithMany("ContentItems_Tag")
                        .HasForeignKey("TermId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentWorkflow", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Content_Type")
                        .WithMany("ContentWorkflows")
                        .HasForeignKey("Content_TypeContentTypeId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentWorkflowAction", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ContentWorkflowAction")
                        .WithMany("ContentType")
                        .HasForeignKey("ContentWorkflowActionActionId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentWorkflowLog", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ContentItem", "ContentItem")
                        .WithMany("GetContentWorkflowLog")
                        .HasForeignKey("ContentItemId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.ContentWorkflow", "ContentWorkflow")
                        .WithMany("ContentWorkflowLog")
                        .HasForeignKey("WorkflowId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentWorkflowSource", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ContentWorkflow", "ContentWorkflow")
                        .WithMany("ContentWorkflowSource")
                        .HasForeignKey("WorkflowId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentWorkflowState", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ContentWorkflow", "ContentWorkflow")
                        .WithMany("ContentWorkflowState")
                        .HasForeignKey("WorkflowId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ContentWorkflowStatePermission", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Permission", "Permission")
                        .WithMany("ContentWorkflowStatePermission")
                        .HasForeignKey("PermissionId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.ContentWorkflowState", "State")
                        .WithMany("ContentWorkflowStatePermission")
                        .HasForeignKey("StateId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("ContentWorkflowStatePermission")
                        .HasForeignKey("UserId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_Message", b =>
                {
                    b.HasOne("Dnn.vNext.Data.CoreMessaging_NotificationType", "NotificationType")
                        .WithMany("CoreMessaging_Message")
                        .HasForeignKey("NotificationTypeId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_MessageAttachment", b =>
                {
                    b.HasOne("Dnn.vNext.Data.CoreMessaging_Message", "Message")
                        .WithMany("CoreMessaging_MessageAttachment")
                        .HasForeignKey("MessageId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_MessagingRecipient", b =>
                {
                    b.HasOne("Dnn.vNext.Data.CoreMessaging_Message", "Message")
                        .WithMany("CoreMessaging_MessagingRecipient")
                        .HasForeignKey("MessageId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_NotificationType", b =>
                {
                    b.HasOne("Dnn.vNext.Data.DesktopModule", "DesktopModule")
                        .WithMany("CoreMessaging_NotificationType")
                        .HasForeignKey("DesktopModuleId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_NotificationTypeAction", b =>
                {
                    b.HasOne("Dnn.vNext.Data.CoreMessaging_NotificationType", "NotificationType")
                        .WithMany("CoreMessaging_NotificationTypeAction")
                        .HasForeignKey("NotificationTypeId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.CoreMessaging_Subscription", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Module", "Module")
                        .WithMany("CoreMessaging_Subscription")
                        .HasForeignKey("ModuleId");

                    b.HasOne("Dnn.vNext.Data.Portal")
                        .WithMany("CoreMessaging_Subscription")
                        .HasForeignKey("PortalId");

                    b.HasOne("Dnn.vNext.Data.CoreMessaging_SubscriptionType", "SubscriptionType")
                        .WithMany("CoreMessaging_Subscription")
                        .HasForeignKey("SubscriptionTypeId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("CoreMessaging_Subscription")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.DesktopModule", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Package", "Package")
                        .WithMany("DesktopModule")
                        .HasForeignKey("PackageId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.DesktopModulePermission", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Permission", "Permission")
                        .WithMany("DesktopModulePermission")
                        .HasForeignKey("PermissionId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.PortalDesktopModule", "PortalDesktopModule")
                        .WithMany("DesktopModulePermission")
                        .HasForeignKey("PortalDesktopModuleId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Role", "Role")
                        .WithMany("DesktopModulePermission")
                        .HasForeignKey("RoleId");

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("DesktopModulePermission")
                        .HasForeignKey("UserId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.EventLog", b =>
                {
                    b.HasOne("Dnn.vNext.Data.EventLogConfig")
                        .WithMany("EventLog")
                        .HasForeignKey("EventLogConfigId");

                    b.HasOne("Dnn.vNext.Data.EventLog", "LogConfig")
                        .WithMany()
                        .HasForeignKey("LogConfigLogEventId");

                    b.HasOne("Dnn.vNext.Data.EventLogType", "LogType")
                        .WithMany("EventLog")
                        .HasForeignKey("LogTypeKey")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.EventLogConfig", b =>
                {
                    b.HasOne("Dnn.vNext.Data.EventLogType", "LogType")
                        .WithMany("EventLogConfig")
                        .HasForeignKey("LogTypeKey");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ExceptionEvent", b =>
                {
                    b.HasOne("Dnn.vNext.Data.EventLog", "LogEvent")
                        .WithOne("LogEvent")
                        .HasForeignKey("Dnn.vNext.Data.ExceptionEvent", "LogEventId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ExportImportCheckpoint", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ExportImportJob", "Job")
                        .WithMany("ExportImportCheckpoint")
                        .HasForeignKey("JobId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ExportImportJobLog", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ExportImportJob", "Job")
                        .WithMany()
                        .HasForeignKey("JobId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.File", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ContentItem", "ContentItem")
                        .WithMany("File")
                        .HasForeignKey("ContentItemId");

                    b.HasOne("Dnn.vNext.Data.Folder", "Folder")
                        .WithMany("File")
                        .HasForeignKey("FolderId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("File")
                        .HasForeignKey("PortalId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.FileVersion", b =>
                {
                    b.HasOne("Dnn.vNext.Data.File", "File")
                        .WithMany("FileVersion")
                        .HasForeignKey("FileId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Folder", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ContentWorkflowStatePermission")
                        .WithMany("Folder")
                        .HasForeignKey("ContentWorkflowStatePermissionWorkflowStatePermissionId");

                    b.HasOne("Dnn.vNext.Data.FolderMapping", "FolderMapping")
                        .WithMany("Folder")
                        .HasForeignKey("FolderMappingId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("Folder")
                        .HasForeignKey("PortalId");

                    b.HasOne("Dnn.vNext.Data.ContentWorkflow", "Workflow")
                        .WithMany("Folder")
                        .HasForeignKey("WorkflowId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.FolderMapping", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("FolderMapping")
                        .HasForeignKey("PortalId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.FolderMappingsSetting", b =>
                {
                    b.HasOne("Dnn.vNext.Data.FolderMapping", "FolderMapping")
                        .WithMany("FolderMappingsSetting")
                        .HasForeignKey("FolderMappingId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.FolderPermission", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ContentWorkflowStatePermission")
                        .WithMany("FolderPermission")
                        .HasForeignKey("ContentWorkflowStatePermissionWorkflowStatePermissionId");

                    b.HasOne("Dnn.vNext.Data.Folder", "Folder")
                        .WithMany("FolderPermission")
                        .HasForeignKey("FolderId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Permission", "Permission")
                        .WithMany("FolderPermission")
                        .HasForeignKey("PermissionId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Role", "Role")
                        .WithMany("FolderPermission")
                        .HasForeignKey("RoleId");

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("FolderPermission")
                        .HasForeignKey("UserId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.HtmlText", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Module", "Module")
                        .WithMany("HtmlText")
                        .HasForeignKey("ModuleId1");

                    b.HasOne("Dnn.vNext.Data.WorkflowState", "State")
                        .WithMany()
                        .HasForeignKey("StateId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.HtmlTextLog", b =>
                {
                    b.HasOne("Dnn.vNext.Data.HtmlText", "Item")
                        .WithMany("HtmlTextLog")
                        .HasForeignKey("ItemId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.WorkflowState", "State")
                        .WithMany()
                        .HasForeignKey("StateId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.HtmlTextUser", b =>
                {
                    b.HasOne("Dnn.vNext.Data.HtmlText", "Item")
                        .WithMany("HtmlTextUser")
                        .HasForeignKey("ItemId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.JavascriptLibrary", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Package", "Package")
                        .WithMany("JavascriptLibrary")
                        .HasForeignKey("PackageId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Journal", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Journal_Type", "Journal_Type")
                        .WithMany("Journal")
                        .HasForeignKey("JournalTypeId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Journal_Comment", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Journal", "Journal")
                        .WithMany("Journal_Comment")
                        .HasForeignKey("JournalId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Journal_Data", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Journal", "Journal")
                        .WithMany("Journal_Data")
                        .HasForeignKey("JournalId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.LanguagePack", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Package", "Package")
                        .WithMany("LanguagePack")
                        .HasForeignKey("PackageId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Mobile_PreviewProfile", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("Mobile_PreviewProfile")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Mobile_Redirection", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("Mobile_Redirection")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Mobile_RedirectionRule", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Mobile_Redirection", "Redirection")
                        .WithMany("Mobile_RedirectionRule")
                        .HasForeignKey("RedirectionId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Module", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ContentItem", "ContentItem")
                        .WithMany("Module")
                        .HasForeignKey("ContentItemId");

                    b.HasOne("Dnn.vNext.Data.ModuleDefinition")
                        .WithMany("Module")
                        .HasForeignKey("ModuleDefId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ModuleControl", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ModuleDefinition", "ModuleDef")
                        .WithMany("ModuleControl")
                        .HasForeignKey("ModuleDefId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ModuleDefinition", b =>
                {
                    b.HasOne("Dnn.vNext.Data.DesktopModule", "DesktopModule")
                        .WithMany("ModuleDefinition")
                        .HasForeignKey("DesktopModuleId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ModulePermission", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Module", "Module")
                        .WithMany("ModulePermission")
                        .HasForeignKey("ModuleId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Permission", "Permission")
                        .WithMany("ModulePermission")
                        .HasForeignKey("PermissionId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Role", "Role")
                        .WithMany("ModulePermission")
                        .HasForeignKey("RoleId");

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("ModulePermission")
                        .HasForeignKey("UserId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.ModuleSetting", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Module", "Module")
                        .WithMany("ModuleSetting")
                        .HasForeignKey("ModuleId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Package", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Package_Type", "PackageTypeNavigation")
                        .WithOne("Package")
                        .HasForeignKey("Dnn.vNext.Data.Package", "PackageType");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PackageDependency", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Package", "Package")
                        .WithMany("PackageDependency")
                        .HasForeignKey("PackageId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.PasswordHistory", b =>
                {
                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("PasswordHistory")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.PersonaBarExtension", b =>
                {
                    b.HasOne("Dnn.vNext.Data.PersonaBarMenu", "Menu")
                        .WithMany("PersonaBarExtension")
                        .HasForeignKey("MenuId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.PersonaBarMenu", b =>
                {
                    b.HasOne("Dnn.vNext.Data.PersonaBarMenu", "Parent")
                        .WithMany()
                        .HasForeignKey("ParentId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PersonaBarMenuDefaultPermission", b =>
                {
                    b.HasOne("Dnn.vNext.Data.PersonaBarMenu", "Menu")
                        .WithOne("Menu")
                        .HasForeignKey("Dnn.vNext.Data.PersonaBarMenuDefaultPermission", "MenuId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.PersonaBarMenuPermission", b =>
                {
                    b.HasOne("Dnn.vNext.Data.PersonaBarMenu")
                        .WithMany("PersonaBarMenuPermission")
                        .HasForeignKey("MenuId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.PersonaBarPermission", "Permission")
                        .WithMany("PersonaBarMenuPermission")
                        .HasForeignKey("PermissionId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("PersonaBarMenuPermission")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Role", "Role")
                        .WithMany("PersonaBarMenuPermission")
                        .HasForeignKey("RoleId");

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("PersonaBarMenuPermission")
                        .HasForeignKey("UserId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PersonaBarPermission", b =>
                {
                    b.HasOne("Dnn.vNext.Data.PersonaBarMenu", "Menu")
                        .WithMany("PersonaBarPermission")
                        .HasForeignKey("MenuId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PortalAlias", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("PortalAlias")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.PortalDesktopModule", b =>
                {
                    b.HasOne("Dnn.vNext.Data.DesktopModule", "DesktopModule")
                        .WithMany("PortalDesktopModule")
                        .HasForeignKey("DesktopModuleId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("PortalDesktopModule")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.PortalLanguage", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Language", "Language")
                        .WithMany("PortalLanguage")
                        .HasForeignKey("LanguageId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("PortalLanguage")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.PortalLocalization", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("PortalLocalization")
                        .HasForeignKey("PortalId1");
                });

            modelBuilder.Entity("Dnn.vNext.Data.PortalSetting", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("PortalSetting")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Profile", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("Profile")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("Profile")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ProfilePropertyDefinition", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("ProfilePropertyDefinition")
                        .HasForeignKey("PortalId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Relationship", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("Relationship")
                        .HasForeignKey("PortalId");

                    b.HasOne("Dnn.vNext.Data.RelationshipType", "RelationshipType")
                        .WithMany("Relationship")
                        .HasForeignKey("RelationshipTypeId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("Relationship")
                        .HasForeignKey("UserId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Role", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("Role")
                        .HasForeignKey("PortalId");

                    b.HasOne("Dnn.vNext.Data.RoleGroup", "RoleGroup")
                        .WithMany("Role")
                        .HasForeignKey("RoleGroupId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.RoleGroup", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("RoleGroup")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ScheduleHistory", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Schedule", "Schedule")
                        .WithMany("ScheduleHistory")
                        .HasForeignKey("ScheduleId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.ScheduleItemSetting", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Schedule", "Schedule")
                        .WithMany("ScheduleItemSetting")
                        .HasForeignKey("ScheduleId1");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Sitelog", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("Sitelog")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Skin", b =>
                {
                    b.HasOne("Dnn.vNext.Data.SkinPackage", "SkinPackage")
                        .WithMany("Skin")
                        .HasForeignKey("SkinPackageId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.SkinControl", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Package", "Package")
                        .WithMany("SkinControl")
                        .HasForeignKey("PackageId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.SkinPackage", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Package", "Package")
                        .WithMany("SkinPackage")
                        .HasForeignKey("PackageId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.SystemMessage", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("SystemMessage")
                        .HasForeignKey("PortalId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.Tab", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ContentItem", "Content")
                        .WithMany("Tab")
                        .HasForeignKey("ContentItemId");

                    b.HasOne("Dnn.vNext.Data.Tab", "Parent")
                        .WithMany()
                        .HasForeignKey("ParentId");

                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("Tab")
                        .HasForeignKey("PortalId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabModule", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Module", "Module")
                        .WithMany("TabModule")
                        .HasForeignKey("ModuleId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Tab", "Tab")
                        .WithMany("TabModules")
                        .HasForeignKey("TabId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabModuleSetting", b =>
                {
                    b.HasOne("Dnn.vNext.Data.TabModule", "TabModule")
                        .WithMany("TabModuleSetting")
                        .HasForeignKey("TabModuleId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabPermission", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Permission", "Permission")
                        .WithMany("TabPermission")
                        .HasForeignKey("PermissionId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Role", "Role")
                        .WithMany("TabPermission")
                        .HasForeignKey("RoleId");

                    b.HasOne("Dnn.vNext.Data.Tab", "Tab")
                        .WithMany("TabPermission")
                        .HasForeignKey("TabId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("TabPermission")
                        .HasForeignKey("UserId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabSetting", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Tab", "Tab")
                        .WithMany("TabSetting")
                        .HasForeignKey("TabId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabUrl", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Tab", "Tab")
                        .WithMany("TabUrl")
                        .HasForeignKey("TabId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabVersion", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Tab", "Tab")
                        .WithMany("TabVersion")
                        .HasForeignKey("TabId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.TabVersionDetail", b =>
                {
                    b.HasOne("Dnn.vNext.Data.TabVersion", "TabVersion")
                        .WithMany("TabVersionDetail")
                        .HasForeignKey("TabVersionId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Taxonomy_Term", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Taxonomy_Term", "ParentTerm")
                        .WithMany()
                        .HasForeignKey("ParentTermId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Taxonomy_Vocabulary", "Vocabulary")
                        .WithMany("Taxonomy_Term")
                        .HasForeignKey("VocabularyId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Taxonomy_Vocabulary", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Taxonomy_ScopeType", "Taxonomy_ScopeType")
                        .WithMany("Taxonomy_Vocabulary")
                        .HasForeignKey("ScopeTypeId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Taxonomy_VocabularyType", "Taxonomy_VocabularyType")
                        .WithMany("Taxonomy_Vocabulary")
                        .HasForeignKey("VocabularyTypeId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.UrlLog", b =>
                {
                    b.HasOne("Dnn.vNext.Data.UrlTracking", "UrlTracking")
                        .WithMany("UrlLog")
                        .HasForeignKey("UrlTrackingId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.Urls", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("Urls")
                        .HasForeignKey("PortalId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.UrlTracking", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("UrlTracking")
                        .HasForeignKey("PortalId");
                });

            modelBuilder.Entity("Dnn.vNext.Data.UserAuthentication", b =>
                {
                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("UserAuthentication")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.UserPortal", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("UserPortal")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("UserPortal")
                        .HasForeignKey("UserId1");
                });

            modelBuilder.Entity("Dnn.vNext.Data.UserProfile", b =>
                {
                    b.HasOne("Dnn.vNext.Data.ProfilePropertyDefinition", "ProfilePropertyDefinition")
                        .WithMany("UserProfile")
                        .HasForeignKey("ProfilePropertyDefinitionId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("UserProfile")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.UserRelationship", b =>
                {
                    b.HasOne("Dnn.vNext.Data.User", "RelatedUser")
                        .WithMany()
                        .HasForeignKey("RelatedUserId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.Relationship", "Relationship")
                        .WithMany("UserRelationship")
                        .HasForeignKey("RelationshipId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.UserRelationshipPreference", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Relationship", "Relationship")
                        .WithMany("UserRelationshipPreference")
                        .HasForeignKey("RelationshipId");

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("UserRelationshipPreference")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.UserRole", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Role", "Role")
                        .WithMany("UserRole")
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("UserRole")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Dnn.vNext.Data.UsersOnline", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Portal", "Portal")
                        .WithMany("UsersOnline")
                        .HasForeignKey("PortalId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Dnn.vNext.Data.User", "User")
                        .WithMany("UsersOnline")
                        .HasForeignKey("UserId1");
                });

            modelBuilder.Entity("Dnn.vNext.Data.WorkflowState", b =>
                {
                    b.HasOne("Dnn.vNext.Data.Workflow", "Workflow")
                        .WithMany("WorkflowState")
                        .HasForeignKey("WorkflowId")
                        .OnDelete(DeleteBehavior.Cascade);
                });
#pragma warning restore 612, 618
        }
    }
}
